<!--Code may need to be minified to load into browser as data:URI-->
<html>
    
    <head>
        <meta http-equiv="X-WebKit-CSP" content="conf-src 'self' http://localhost/php/beta/../index.php" >
        <META http-equiv="Content-Type" content="text/html; charset=utf-8"
        />
        <title>Clipperz - beta</title>

        <link rel="shortcut icon" href="./clipperz.ico" />
        <meta name="description" content="Login to your web accounts with just one click. Never type a password again! Use multiple complex passwords and forget them. A password manager that enhances your online security."
        />
        <meta name="keywords" content="password manager,gestor de contraseÃ±as,gerenciador de senhas,Kennwortmanager,passwords,security,privacy,cryptography"
        />
        <script>
            Clipperz_IEisBroken = false;
            Clipperz_normalizedNewLine = '\n';
            Clipperz_dumpUrl = "/dump/";
        </script>
        <script src='shim2.js' type='text/javascript' ></script>
        <base href="http://localhost/php/beta/" target="_parent">
        <!--[if IE]>
            <script>
                Clipperz_IEisBroken = true;
                Clipperz_normalizedNewLine = '\x0d\x0a';
            </script>
        <![endif]-->
    </head>
    
<!--NOTE NO STYLE CODE HERE, B/C NO UI!-->

    <body>
        <div id="mainDiv">
            <div id="main">
                <h3 class="loading">loading ...</h3>
                <script>

                /*This child could be cleaned further of even less JS code, for even smaller child*/
                    if (typeof (dojo) != 'undefined') {
                        dojo.provide("MochiKit.Base");
                    }
                    if (typeof (MochiKit) == 'undefined') {
                        MochiKit = {};
                    }
                    if (typeof (MochiKit.Base) == 'undefined') {
                        MochiKit.Base = {};
                    }
                    if (typeof (MochiKit.__export__) == "undefined") {
                        MochiKit.__export__ = (MochiKit.__compat__ || (typeof (JSAN) == 'undefined' && typeof (dojo) == 'undefined'));
                    }
                    MochiKit.Base.VERSION = "1.4";
                    MochiKit.Base.NAME = "MochiKit.Base";
                    MochiKit.Base.update = function (self, obj) {
                        if (self === null) {
                            self = {};
                        }
                        for (var i = 1; i < arguments.length; i++) {
                            var o = arguments[i];
                            if (typeof (o) != 'undefined' && o !== null) {
                                for (var k in o) {
                                    self[k] = o[k];
                                }
                            }
                        }
                        return self;
                    };
                    MochiKit.Base.update(MochiKit.Base, {
                        __repr__: function () {
                            return "[" + this.NAME + " " + this.VERSION + "]";
                        },
                        toString: function () {
                            return this.__repr__();
                        },
                        camelize: function (selector) {
                            var arr = selector.split('-');
                            var cc = arr[0];
                            for (var i = 1; i < arr.length; i++) {
                                cc += arr[i].charAt(0).toUpperCase() + arr[i].substring(1);
                            }
                            return cc;
                        },
                        counter: function (n) {
                            if (arguments.length === 0) {
                                n = 1;
                            }
                            return function () {
                                return n++;
                            };
                        },
                        clone: function (obj) {
                            var me = arguments.callee;
                            if (arguments.length == 1) {
                                me.prototype = obj;
                                return new me();
                            }
                        },
                        _flattenArray: function (res, lst) {
                            for (var i = 0; i < lst.length; i++) {
                                var o = lst[i];
                                if (o instanceof Array) {
                                    arguments.callee(res, o);
                                } else {
                                    res.push(o);
                                }
                            }
                            return res;
                        },
                        flattenArray: function (lst) {
                            return MochiKit.Base._flattenArray([], lst);
                        },
                        flattenArguments: function (lst) {
                            var res = [];
                            var m = MochiKit.Base;
                            var args = m.extend(null, arguments);
                            while (args.length) {
                                var o = args.shift();
                                if (o && typeof (o) == "object" && typeof (o.length) == "number") {
                                    for (var i = o.length - 1; i >= 0; i--) {
                                        args.unshift(o[i]);
                                    }
                                } else {
                                    res.push(o);
                                }
                            }
                            return res;
                        },
                        extend: function (self, obj, skip) {
                            if (!skip) {
                                skip = 0;
                            }
                            if (obj) {
                                var l = obj.length;
                                if (typeof (l) != 'number') {
                                    if (typeof (MochiKit.Iter) != "undefined") {
                                        obj = MochiKit.Iter.list(obj);
                                        l = obj.length;
                                    } else {
                                        throw new TypeError("Argument not an array-like and MochiKit.Iter not present");
                                    }
                                }
                                if (!self) {
                                    self = [];
                                }
                                for (var i = skip; i < l; i++) {
                                    self.push(obj[i]);
                                }
                            }
                            return self;
                        },
                        updatetree: function (self, obj) {
                            if (self === null) {
                                self = {};
                            }
                            for (var i = 1; i < arguments.length; i++) {
                                var o = arguments[i];
                                if (typeof (o) != 'undefined' && o !== null) {
                                    for (var k in o) {
                                        var v = o[k];
                                        if (typeof (self[k]) == 'object' && typeof (v) == 'object') {
                                            arguments.callee(self[k], v);
                                        } else {
                                            self[k] = v;
                                        }
                                    }
                                }
                            }
                            return self;
                        },
                        setdefault: function (self, obj) {
                            if (self === null) {
                                self = {};
                            }
                            for (var i = 1; i < arguments.length; i++) {
                                var o = arguments[i];
                                for (var k in o) {
                                    if (!(k in self)) {
                                        self[k] = o[k];
                                    }
                                }
                            }
                            return self;
                        },
                        keys: function (obj) {
                            var rval = [];
                            for (var prop in obj) {
                                rval.push(prop);
                            }
                            return rval;
                        },
                        values: function (obj) {
                            var rval = [];
                            for (var prop in obj) {
                                rval.push(obj[prop]);
                            }
                            return rval;
                        },
                        items: function (obj) {
                            var rval = [];
                            var e;
                            for (var prop in obj) {
                                var v;
                                try {
                                    v = obj[prop];
                                } catch (e) {
                                    continue;
                                }
                                rval.push([prop, v]);
                            }
                            return rval;
                        },
                        _newNamedError: function (module, name, func) {
                            func.prototype = new MochiKit.Base.NamedError(module.NAME + "." + name);
                            module[name] = func;
                        },
                        operator: {
                            truth: function (a) {
                                return !!a;
                            },
                            lognot: function (a) {
                                return !a;
                            },
                            identity: function (a) {
                                return a;
                            },
                            not: function (a) {
                                return ~a;
                            },
                            neg: function (a) {
                                return -a;
                            },
                            add: function (a, b) {
                                return a + b;
                            },
                            sub: function (a, b) {
                                return a - b;
                            },
                            div: function (a, b) {
                                return a / b;
                            },
                            mod: function (a, b) {
                                return a % b;
                            },
                            mul: function (a, b) {
                                return a * b;
                            },
                            and: function (a, b) {
                                return a & b;
                            },
                            or: function (a, b) {
                                return a | b;
                            },
                            xor: function (a, b) {
                                return a ^ b;
                            },
                            lshift: function (a, b) {
                                return a << b;
                            },
                            rshift: function (a, b) {
                                return a >> b;
                            },
                            zrshift: function (a, b) {
                                return a >>> b;
                            },
                            eq: function (a, b) {
                                return a == b;
                            },
                            ne: function (a, b) {
                                return a != b;
                            },
                            gt: function (a, b) {
                                return a > b;
                            },
                            ge: function (a, b) {
                                return a >= b;
                            },
                            lt: function (a, b) {
                                return a < b;
                            },
                            le: function (a, b) {
                                return a <= b;
                            },
                            seq: function (a, b) {
                                return a === b;
                            },
                            sne: function (a, b) {
                                return a !== b;
                            },
                            ceq: function (a, b) {
                                return MochiKit.Base.compare(a, b) === 0;
                            },
                            cne: function (a, b) {
                                return MochiKit.Base.compare(a, b) !== 0;
                            },
                            cgt: function (a, b) {
                                return MochiKit.Base.compare(a, b) == 1;
                            },
                            cge: function (a, b) {
                                return MochiKit.Base.compare(a, b) != -1;
                            },
                            clt: function (a, b) {
                                return MochiKit.Base.compare(a, b) == -1;
                            },
                            cle: function (a, b) {
                                return MochiKit.Base.compare(a, b) != 1;
                            },
                            logand: function (a, b) {
                                return a && b;
                            },
                            logor: function (a, b) {
                                return a || b;
                            },
                            contains: function (a, b) {
                                return b in a;
                            }
                        },
                        forwardCall: function (func) {
                            return function () {
                                return this[func].apply(this, arguments);
                            };
                        },
                        itemgetter: function (func) {
                            return function (arg) {
                                return arg[func];
                            };
                        },
                        typeMatcher: function () {
                            var types = {};
                            for (var i = 0; i < arguments.length; i++) {
                                var typ = arguments[i];
                                types[typ] = typ;
                            }
                            return function () {
                                for (var i = 0; i < arguments.length; i++) {
                                    if (!(typeof (arguments[i]) in types)) {
                                        return false;
                                    }
                                }
                                return true;
                            };
                        },
                        isNull: function () {
                            for (var i = 0; i < arguments.length; i++) {
                                if (arguments[i] !== null) {
                                    return false;
                                }
                            }
                            return true;
                        },
                        isUndefinedOrNull: function () {
                            for (var i = 0; i < arguments.length; i++) {
                                var o = arguments[i];
                                if (!(typeof (o) == 'undefined' || o === null)) {
                                    return false;
                                }
                            }
                            return true;
                        },
                        isEmpty: function (obj) {
                            return !MochiKit.Base.isNotEmpty.apply(this, arguments);
                        },
                        isNotEmpty: function (obj) {
                            for (var i = 0; i < arguments.length; i++) {
                                var o = arguments[i];
                                if (!(o && o.length)) {
                                    return false;
                                }
                            }
                            return true;
                        },
                        isArrayLike: function () {
                            for (var i = 0; i < arguments.length; i++) {
                                var o = arguments[i];
                                var typ = typeof (o);
                                if ((typ != 'object' && !(typ == 'function' && typeof (o.item) == 'function')) || o === null || typeof (o.length) != 'number' || o.nodeType === 3) {
                                    return false;
                                }
                            }
                            return true;
                        },
                        isDateLike: function () {
                            for (var i = 0; i < arguments.length; i++) {
                                var o = arguments[i];
                                if (typeof (o) != "object" || o === null || typeof (o.getTime) != 'function') {
                                    return false;
                                }
                            }
                            return true;
                        },
                        xmap: function (fn) {
                            if (fn === null) {
                                return MochiKit.Base.extend(null, arguments, 1);
                            }
                            var rval = [];
                            for (var i = 1; i < arguments.length; i++) {
                                rval.push(fn(arguments[i]));
                            }
                            return rval;
                        },
                        map: function (fn, lst) {
                            var m = MochiKit.Base;
                            var itr = MochiKit.Iter;
                            var isArrayLike = m.isArrayLike;
                            if (arguments.length <= 2) {
                                if (!isArrayLike(lst)) {
                                    if (itr) {
                                        lst = itr.list(lst);
                                        if (fn === null) {
                                            return lst;
                                        }
                                    } else {
                                        throw new TypeError("Argument not an array-like and MochiKit.Iter not present");
                                    }
                                }
                                if (fn === null) {
                                    return m.extend(null, lst);
                                }
                                var rval = [];
                                for (var i = 0; i < lst.length; i++) {
                                    rval.push(fn(lst[i]));
                                }
                                return rval;
                            } else {
                                if (fn === null) {
                                    fn = Array;
                                }
                                var length = null;
                                for (i = 1; i < arguments.length; i++) {
                                    if (!isArrayLike(arguments[i])) {
                                        if (itr) {
                                            return itr.list(itr.imap.apply(null, arguments));
                                        } else {
                                            throw new TypeError("Argument not an array-like and MochiKit.Iter not present");
                                        }
                                    }
                                    var l = arguments[i].length;
                                    if (length === null || length > l) {
                                        length = l;
                                    }
                                }
                                rval = [];
                                for (i = 0; i < length; i++) {
                                    var args = [];
                                    for (var j = 1; j < arguments.length; j++) {
                                        args.push(arguments[j][i]);
                                    }
                                    rval.push(fn.apply(this, args));
                                }
                                return rval;
                            }
                        },
                        xfilter: function (fn) {
                            var rval = [];
                            if (fn === null) {
                                fn = MochiKit.Base.operator.truth;
                            }
                            for (var i = 1; i < arguments.length; i++) {
                                var o = arguments[i];
                                if (fn(o)) {
                                    rval.push(o);
                                }
                            }
                            return rval;
                        },
                        filter: function (fn, lst, self) {
                            var rval = [];
                            var m = MochiKit.Base;
                            if (!m.isArrayLike(lst)) {
                                if (MochiKit.Iter) {
                                    lst = MochiKit.Iter.list(lst);
                                } else {
                                    throw new TypeError("Argument not an array-like and MochiKit.Iter not present");
                                }
                            }
                            if (fn === null) {
                                fn = m.operator.truth;
                            }
                            if (typeof (Array.prototype.filter) == 'function') {
                                return Array.prototype.filter.call(lst, fn, self);
                            } else if (typeof (self) == 'undefined' || self === null) {
                                for (var i = 0; i < lst.length; i++) {
                                    var o = lst[i];
                                    if (fn(o)) {
                                        rval.push(o);
                                    }
                                }
                            } else {
                                for (i = 0; i < lst.length; i++) {
                                    o = lst[i];
                                    if (fn.call(self, o)) {
                                        rval.push(o);
                                    }
                                }
                            }
                            return rval;
                        },
                        _wrapDumbFunction: function (func) {
                            return function () {
                                switch (arguments.length) {
                                case 0:
                                    return func();
                                case 1:
                                    return func(arguments[0]);
                                case 2:
                                    return func(arguments[0], arguments[1]);
                                case 3:
                                    return func(arguments[0], arguments[1], arguments[2]);
                                }
                                var args = [];
                                for (var i = 0; i < arguments.length; i++) {
                                    args.push("arguments[" + i + "]");
                                }
                                return eval("(func(" + args.join(",") + "))");
                            };
                        },
                        methodcaller: function (func) {
                            var args = MochiKit.Base.extend(null, arguments, 1);
                            if (typeof (func) == "function") {
                                return function (obj) {
                                    return func.apply(obj, args);
                                };
                            } else {
                                return function (obj) {
                                    return obj[func].apply(obj, args);
                                };
                            }
                        },
                        method: function (self, func) {
                            var m = MochiKit.Base;
                            return m.bind.apply(this, m.extend([func, self], arguments, 2));
                        },
                        compose: function (f1, f2) {
                            var fnlist = [];
                            var m = MochiKit.Base;
                            if (arguments.length === 0) {
                                throw new TypeError("compose() requires at least one argument");
                            }
                            for (var i = 0; i < arguments.length; i++) {
                                var fn = arguments[i];
                                if (typeof (fn) != "function") {
                                    throw new TypeError(m.repr(fn) + " is not a function");
                                }
                                fnlist.push(fn);
                            }
                            return function () {
                                var args = arguments;
                                for (var i = fnlist.length - 1; i >= 0; i--) {
                                    args = [fnlist[i].apply(this, args)];
                                }
                                return args[0];
                            };
                        },
                        bind: function (func, self) {
                            if (typeof (func) == "string") {
                                func = self[func];
                            }
                            var im_func = func.im_func;
                            var im_preargs = func.im_preargs;
                            var im_self = func.im_self;
                            var m = MochiKit.Base;
                            if (typeof (func) == "function" && typeof (func.apply) == "undefined") {
                                func = m._wrapDumbFunction(func);
                            }
                            if (typeof (im_func) != 'function') {
                                im_func = func;
                            }
                            if (typeof (self) != 'undefined') {
                                im_self = self;
                            }
                            if (typeof (im_preargs) == 'undefined') {
                                im_preargs = [];
                            } else {
                                im_preargs = im_preargs.slice();
                            }
                            m.extend(im_preargs, arguments, 2);
                            var newfunc = function () {
                                var args = arguments;
                                var me = arguments.callee;
                                if (me.im_preargs.length > 0) {
                                    args = m.concat(me.im_preargs, args);
                                }
                                var self = me.im_self;
                                if (!self) {
                                    self = this;
                                }
                                return me.im_func.apply(self, args);
                            };
                            newfunc.im_self = im_self;
                            newfunc.im_func = im_func;
                            newfunc.im_preargs = im_preargs;
                            return newfunc;
                        },
                        bindMethods: function (self) {
                            var bind = MochiKit.Base.bind;
                            for (var k in self) {
                                var func = self[k];
                                if (typeof (func) == 'function') {
                                    self[k] = bind(func, self);
                                }
                            }
                        },
                        registerComparator: function (name, check, comparator, override) {
                            MochiKit.Base.comparatorRegistry.register(name, check, comparator, override);
                        },
                        _primitives: {
                            'boolean': true,
                            'string': true,
                            'number': true
                        },
                        compare: function (a, b) {
                            if (a == b) {
                                return 0;
                            }
                            var aIsNull = (typeof (a) == 'undefined' || a === null);
                            var bIsNull = (typeof (b) == 'undefined' || b === null);
                            if (aIsNull && bIsNull) {
                                return 0;
                            } else if (aIsNull) {
                                return -1;
                            } else if (bIsNull) {
                                return 1;
                            }
                            var m = MochiKit.Base;
                            var prim = m._primitives;
                            if (!(typeof (a) in prim && typeof (b) in prim)) {
                                try {
                                    return m.comparatorRegistry.match(a, b);
                                } catch (e) {
                                    if (e != m.NotFound) {
                                        throw e;
                                    }
                                }
                            }
                            if (a < b) {
                                return -1;
                            } else if (a > b) {
                                return 1;
                            }
                            var repr = m.repr;
                            throw new TypeError(repr(a) + " and " + repr(b) + " can not be compared");
                        },
                        compareDateLike: function (a, b) {
                            return MochiKit.Base.compare(a.getTime(), b.getTime());
                        },
                        compareArrayLike: function (a, b) {
                            var compare = MochiKit.Base.compare;
                            var count = a.length;
                            var rval = 0;
                            if (count > b.length) {
                                rval = 1;
                                count = b.length;
                            } else if (count < b.length) {
                                rval = -1;
                            }
                            for (var i = 0; i < count; i++) {
                                var cmp = compare(a[i], b[i]);
                                if (cmp) {
                                    return cmp;
                                }
                            }
                            return rval;
                        },
                        registerRepr: function (name, check, wrap, override) {
                            MochiKit.Base.reprRegistry.register(name, check, wrap, override);
                        },
                        repr: function (o) {
                            if (typeof (o) == "undefined") {
                                return "undefined";
                            } else if (o === null) {
                                return "null";
                            }
                            try {
                                if (typeof (o.__repr__) == 'function') {
                                    return o.__repr__();
                                } else if (typeof (o.repr) == 'function' && o.repr != arguments.callee) {
                                    return o.repr();
                                }
                                return MochiKit.Base.reprRegistry.match(o);
                            } catch (e) {
                                if (typeof (o.NAME) == 'string' && (o.toString == Function.prototype.toString || o.toString == Object.prototype.toString)) {
                                    return o.NAME;
                                }
                            }
                            try {
                                var ostring = (o + "");
                            } catch (e) {
                                return "[" + typeof (o) + "]";
                            }
                            if (typeof (o) == "function") {
                                o = ostring.replace(/^\s+/, "");
                                var idx = o.indexOf("{");
                                if (idx != -1) {
                                    o = o.substr(0, idx) + "{...}";
                                }
                            }
                            return ostring;
                        },
                        reprArrayLike: function (o) {
                            var m = MochiKit.Base;
                            return "[" + m.map(m.repr, o).join(", ") + "]";
                        },
                        reprString: function (o) {
                            return ('"' + o.replace(/(["\\])/g, '\\$1') + '"').replace(/[\f]/g, "\\f").replace(/[\b]/g, "\\b").replace(/[\n]/g, "\\n").replace(/[\t]/g, "\\t").replace(/[\r]/g, "\\r");
                        },
                        reprNumber: function (o) {
                            return o + "";
                        },
                        registerJSON: function (name, check, wrap, override) {
                            MochiKit.Base.jsonRegistry.register(name, check, wrap, override);
                        },
                        evalJSON: function () {
                            return eval("(" + arguments[0] + ")");
                        },
                        serializeJSON: function (o) {
                            var objtype = typeof (o);
                            if (objtype == "number" || objtype == "boolean") {
                                return o + "";
                            } else if (o === null) {
                                return "null";
                            }
                            var m = MochiKit.Base;
                            var reprString = m.reprString;
                            if (objtype == "string") {
                                return reprString(o);
                            }
                            var me = arguments.callee;
                            var newObj;
                            if (typeof (o.__json__) == "function") {
                                newObj = o.__json__();
                                if (o !== newObj) {
                                    return me(newObj);
                                }
                            }
                            if (typeof (o.json) == "function") {
                                newObj = o.json();
                                if (o !== newObj) {
                                    return me(newObj);
                                }
                            }
                            if (objtype != "function" && typeof (o.length) == "number") {
                                var res = [];
                                for (var i = 0; i < o.length; i++) {
                                    var val = me(o[i]);
                                    if (typeof (val) != "string") {
                                        val = "undefined";
                                    }
                                    res.push(val);
                                }
                                return "[" + res.join(", ") + "]";
                            }
                            try {
                                newObj = m.jsonRegistry.match(o);
                                if (o !== newObj) {
                                    return me(newObj);
                                }
                            } catch (e) {
                                if (e != m.NotFound) {
                                    throw e;
                                }
                            }
                            if (objtype == "undefined") {
                                throw new TypeError("undefined can not be serialized as JSON");
                            }
                            if (objtype == "function") {
                                return null;
                            }
                            res = [];
                            for (var k in o) {
                                var useKey;
                                if (typeof (k) == "number") {
                                    useKey = '"' + k + '"';
                                } else if (typeof (k) == "string") {
                                    useKey = reprString(k);
                                } else {
                                    continue;
                                }
                                val = me(o[k]);
                                if (typeof (val) != "string") {
                                    continue;
                                }
                                res.push(useKey + ":" + val);
                            }
                            return "{" + res.join(", ") + "}";
                        },
                        objEqual: function (a, b) {
                            return (MochiKit.Base.compare(a, b) === 0);
                        },
                        arrayEqual: function (self, arr) {
                            if (self.length != arr.length) {
                                return false;
                            }
                            return (MochiKit.Base.compare(self, arr) === 0);
                        },
                        concat: function () {
                            var rval = [];
                            var extend = MochiKit.Base.extend;
                            for (var i = 0; i < arguments.length; i++) {
                                extend(rval, arguments[i]);
                            }
                            return rval;
                        },
                        keyComparator: function (key) {
                            var m = MochiKit.Base;
                            var compare = m.compare;
                            if (arguments.length == 1) {
                                return function (a, b) {
                                    return compare(a[key], b[key]);
                                };
                            }
                            var compareKeys = m.extend(null, arguments);
                            return function (a, b) {
                                var rval = 0;
                                for (var i = 0;
                                (rval === 0) && (i < compareKeys.length); i++) {
                                    var key = compareKeys[i];
                                    rval = compare(a[key], b[key]);
                                }
                                return rval;
                            };
                        },
                        reverseKeyComparator: function (key) {
                            var comparator = MochiKit.Base.keyComparator.apply(this, arguments);
                            return function (a, b) {
                                return comparator(b, a);
                            };
                        },
                        partial: function (func) {
                            var m = MochiKit.Base;
                            return m.bind.apply(this, m.extend([func, undefined], arguments, 1));
                        },
                        listMinMax: function (which, lst) {
                            if (lst.length === 0) {
                                return null;
                            }
                            var cur = lst[0];
                            var compare = MochiKit.Base.compare;
                            for (var i = 1; i < lst.length; i++) {
                                var o = lst[i];
                                if (compare(o, cur) == which) {
                                    cur = o;
                                }
                            }
                            return cur;
                        },
                        objMax: function () {
                            return MochiKit.Base.listMinMax(1, arguments);
                        },
                        objMin: function () {
                            return MochiKit.Base.listMinMax(-1, arguments);
                        },
                        findIdentical: function (lst, value, start, end) {
                            if (typeof (end) == "undefined" || end === null) {
                                end = lst.length;
                            }
                            if (typeof (start) == "undefined" || start === null) {
                                start = 0;
                            }
                            for (var i = start; i < end; i++) {
                                if (lst[i] === value) {
                                    return i;
                                }
                            }
                            return -1;
                        },
                        mean: function () {
                            var sum = 0;
                            var m = MochiKit.Base;
                            var args = m.extend(null, arguments);
                            var count = args.length;
                            while (args.length) {
                                var o = args.shift();
                                if (o && typeof (o) == "object" && typeof (o.length) == "number") {
                                    count += o.length - 1;
                                    for (var i = o.length - 1; i >= 0; i--) {
                                        sum += o[i];
                                    }
                                } else {
                                    sum += o;
                                }
                            }
                            if (count <= 0) {
                                throw new TypeError('mean() requires at least one argument');
                            }
                            return sum / count;
                        },
                        median: function () {
                            var data = MochiKit.Base.flattenArguments(arguments);
                            if (data.length === 0) {
                                throw new TypeError('median() requires at least one argument');
                            }
                            data.sort(compare);
                            if (data.length % 2 == 0) {
                                var upper = data.length / 2;
                                return (data[upper] + data[upper - 1]) / 2;
                            } else {
                                return data[(data.length - 1) / 2];
                            }
                        },
                        findValue: function (lst, value, start, end) {
                            if (typeof (end) == "undefined" || end === null) {
                                end = lst.length;
                            }
                            if (typeof (start) == "undefined" || start === null) {
                                start = 0;
                            }
                            var cmp = MochiKit.Base.compare;
                            for (var i = start; i < end; i++) {
                                if (cmp(lst[i], value) === 0) {
                                    return i;
                                }
                            }
                            return -1;
                        },
                        nodeWalk: function (node, visitor) {
                            var nodes = [node];
                            var extend = MochiKit.Base.extend;
                            while (nodes.length) {
                                var res = visitor(nodes.shift());
                                if (res) {
                                    extend(nodes, res);
                                }
                            }
                        },
                        nameFunctions: function (namespace) {
                            var base = namespace.NAME;
                            if (typeof (base) == 'undefined') {
                                base = '';
                            } else {
                                base = base + '.';
                            }
                            for (var name in namespace) {
                                var o = namespace[name];
                                if (typeof (o) == 'function' && typeof (o.NAME) == 'undefined') {
                                    try {
                                        o.NAME = base + name;
                                    } catch (e) {}
                                }
                            }
                        },
                        queryString: function (names, values) {
                            if (typeof (MochiKit.DOM) != "undefined" && arguments.length == 1 && (typeof (names) == "string" || (typeof (names.nodeType) != "undefined" && names.nodeType > 0))) {
                                var kv = MochiKit.DOM.formContents(names);
                                names = kv[0];
                                values = kv[1];
                            } else if (arguments.length == 1) {
                                if (typeof (names.length) == "number" && names.length == 2) {
                                    return arguments.callee(names[0], names[1]);
                                }
                                var o = names;
                                names = [];
                                values = [];
                                for (var k in o) {
                                    var v = o[k];
                                    if (typeof (v) == "function") {
                                        continue;
                                    } else if (typeof (v) != "string" && typeof (v.length) == "number") {
                                        for (var i = 0; i < v.length; i++) {
                                            names.push(k);
                                            values.push(v[i]);
                                        }
                                    } else {
                                        names.push(k);
                                        values.push(v);
                                    }
                                }
                            }
                            var rval = [];
                            var len = Math.min(names.length, values.length);
                            var urlEncode = MochiKit.Base.urlEncode;
                            for (var i = 0; i < len; i++) {
                                v = values[i];
                                if (typeof (v) != 'undefined' && v !== null) {
                                    rval.push(urlEncode(names[i]) + "=" + urlEncode(v));
                                }
                            }
                            return rval.join("&");
                        },
                        parseQueryString: function (encodedString, useArrays) {
                            var qstr = (encodedString.charAt(0) == "?") ? encodedString.substring(1) : encodedString;
                            var pairs = qstr.replace(/\+/g, "%20").split(/(\&amp\;|\&\#38\;|\&#x26;|\&)/);
                            var o = {};
                            var decode;
                            if (typeof (decodeURIComponent) != "undefined") {
                                decode = decodeURIComponent;
                            } else {
                                decode = unescape;
                            }
                            if (useArrays) {
                                for (var i = 0; i < pairs.length; i++) {
                                    var pair = pairs[i].split("=");
                                    if (pair.length !== 2) {
                                        continue;
                                    }
                                    var name = decode(pair[0]);
                                    var arr = o[name];
                                    if (!(arr instanceof Array)) {
                                        arr = [];
                                        o[name] = arr;
                                    }
                                    arr.push(decode(pair[1]));
                                }
                            } else {
                                for (i = 0; i < pairs.length; i++) {
                                    pair = pairs[i].split("=");
                                    if (pair.length !== 2) {
                                        continue;
                                    }
                                    o[decode(pair[0])] = decode(pair[1]);
                                }
                            }
                            return o;
                        }
                    });
                    MochiKit.Base.AdapterRegistry = function () {
                        this.pairs = [];
                    };
                    MochiKit.Base.AdapterRegistry.prototype = {
                        register: function (name, check, wrap, override) {
                            if (override) {
                                this.pairs.unshift([name, check, wrap]);
                            } else {
                                this.pairs.push([name, check, wrap]);
                            }
                        },
                        match: function () {
                            for (var i = 0; i < this.pairs.length; i++) {
                                var pair = this.pairs[i];
                                if (pair[1].apply(this, arguments)) {
                                    return pair[2].apply(this, arguments);
                                }
                            }
                            throw MochiKit.Base.NotFound;
                        },
                        unregister: function (name) {
                            for (var i = 0; i < this.pairs.length; i++) {
                                var pair = this.pairs[i];
                                if (pair[0] == name) {
                                    this.pairs.splice(i, 1);
                                    return true;
                                }
                            }
                            return false;
                        }
                    };
                    MochiKit.Base.EXPORT = ["flattenArray", "noop", "camelize", "counter", "clone", "extend", "update", "updatetree", "setdefault", "keys", "values", "items", "NamedError", "operator", "forwardCall", "itemgetter", "typeMatcher", "isCallable", "isUndefined", "isUndefinedOrNull", "isNull", "isEmpty", "isNotEmpty", "isArrayLike", "isDateLike", "xmap", "map", "xfilter", "filter", "methodcaller", "compose", "bind", "bindMethods", "NotFound", "AdapterRegistry", "registerComparator", "compare", "registerRepr", "repr", "objEqual", "arrayEqual", "concat", "keyComparator", "reverseKeyComparator", "partial", "merge", "listMinMax", "listMax", "listMin", "objMax", "objMin", "nodeWalk", "zip", "urlEncode", "queryString", "serializeJSON", "registerJSON", "evalJSON", "parseQueryString", "findValue", "findIdentical", "flattenArguments", "method", "average", "mean", "median"];
                    MochiKit.Base.EXPORT_OK = ["nameFunctions", "comparatorRegistry", "reprRegistry", "jsonRegistry", "compareDateLike", "compareArrayLike", "reprArrayLike", "reprString", "reprNumber"];
                    MochiKit.Base._exportSymbols = function (globals, module) {
                        if (!MochiKit.__export__) {
                            return;
                        }
                        var all = module.EXPORT_TAGS[":all"];
                        for (var i = 0; i < all.length; i++) {
                            globals[all[i]] = module[all[i]];
                        }
                    };
                    MochiKit.Base.__new__ = function () {
                        var m = this;
                        m.noop = m.operator.identity;
                        m.forward = m.forwardCall;
                        m.find = m.findValue;
                        if (typeof (encodeURIComponent) != "undefined") {
                            m.urlEncode = function (unencoded) {
                                return encodeURIComponent(unencoded).replace(/\'/g, '%27');
                            };
                        } else {
                            m.urlEncode = function (unencoded) {
                                return escape(unencoded).replace(/\+/g, '%2B').replace(/\"/g, '%22').rval.replace(/\'/g, '%27');
                            };
                        }
                        m.NamedError = function (name) {
                            this.message = name;
                            this.name = name;
                        };
                        m.NamedError.prototype = new Error();
                        m.update(m.NamedError.prototype, {
                            repr: function () {
                                if (this.message && this.message != this.name) {
                                    return this.name + "(" + m.repr(this.message) + ")";
                                } else {
                                    return this.name + "()";
                                }
                            },
                            toString: m.forwardCall("repr")
                        });
                        m.NotFound = new m.NamedError("MochiKit.Base.NotFound");
                        m.listMax = m.partial(m.listMinMax, 1);
                        m.listMin = m.partial(m.listMinMax, - 1);
                        m.isCallable = m.typeMatcher('function');
                        m.isUndefined = m.typeMatcher('undefined');
                        m.merge = m.partial(m.update, null);
                        m.zip = m.partial(m.map, null);
                        m.average = m.mean;
                        m.comparatorRegistry = new m.AdapterRegistry();
                        m.registerComparator("dateLike", m.isDateLike, m.compareDateLike);
                        m.registerComparator("arrayLike", m.isArrayLike, m.compareArrayLike);
                        m.reprRegistry = new m.AdapterRegistry();
                        m.registerRepr("arrayLike", m.isArrayLike, m.reprArrayLike);
                        m.registerRepr("string", m.typeMatcher("string"), m.reprString);
                        m.registerRepr("numbers", m.typeMatcher("number", "boolean"), m.reprNumber);
                        m.jsonRegistry = new m.AdapterRegistry();
                        var all = m.concat(m.EXPORT, m.EXPORT_OK);
                        m.EXPORT_TAGS = {
                            ":common": m.concat(m.EXPORT_OK),
                            ":all": all
                        };
                        m.nameFunctions(this);
                    };
                    MochiKit.Base.__new__();
                    if (MochiKit.__export__) {
                        compare = MochiKit.Base.compare;
                        compose = MochiKit.Base.compose;
                        serializeJSON = MochiKit.Base.serializeJSON;
                    }
                    MochiKit.Base._exportSymbols(this, MochiKit.Base);
                    if (typeof (dojo) != 'undefined') {
                        dojo.provide('MochiKit.Iter');
                        dojo.require('MochiKit.Base');
                    }
                    if (typeof (JSAN) != 'undefined') {
                        JSAN.use("MochiKit.Base", []);
                    }
                    try {
                        if (typeof (MochiKit.Base) == 'undefined') {
                            throw "";
                        }
                    } catch (e) {
                        throw "MochiKit.Iter depends on MochiKit.Base!";
                    }
                    if (typeof (MochiKit.Iter) == 'undefined') {
                        MochiKit.Iter = {};
                    }
                    MochiKit.Iter.NAME = "MochiKit.Iter";
                    MochiKit.Iter.VERSION = "1.4";
                    MochiKit.Base.update(MochiKit.Iter, {
                        __repr__: function () {
                            return "[" + this.NAME + " " + this.VERSION + "]";
                        },
                        toString: function () {
                            return this.__repr__();
                        },
                        registerIteratorFactory: function (name, check, iterfactory, override) {
                            MochiKit.Iter.iteratorRegistry.register(name, check, iterfactory, override);
                        },
                        iter: function (iterable, sentinel) {
                            var self = MochiKit.Iter;
                            if (arguments.length == 2) {
                                return self.takewhile(function (a) {
                                    return a != sentinel;
                                }, iterable);
                            }
                            if (typeof (iterable.next) == 'function') {
                                return iterable;
                            } else if (typeof (iterable.iter) == 'function') {
                                return iterable.iter();
                            }
                            try {
                                return self.iteratorRegistry.match(iterable);
                            } catch (e) {
                                var m = MochiKit.Base;
                                if (e == m.NotFound) {
                                    e = new TypeError(typeof (iterable) + ": " + m.repr(iterable) + " is not iterable");
                                }
                                throw e;
                            }
                        },
                        count: function (n) {
                            if (!n) {
                                n = 0;
                            }
                            var m = MochiKit.Base;
                            return {
                                repr: function () {
                                    return "count(" + n + ")";
                                },
                                toString: m.forwardCall("repr"),
                                next: m.counter(n)
                            };
                        },
                        cycle: function (p) {
                            var self = MochiKit.Iter;
                            var m = MochiKit.Base;
                            var lst = [];
                            var iterator = self.iter(p);
                            return {
                                repr: function () {
                                    return "cycle(...)";
                                },
                                toString: m.forwardCall("repr"),
                                next: function () {
                                    try {
                                        var rval = iterator.next();
                                        lst.push(rval);
                                        return rval;
                                    } catch (e) {
                                        if (e != self.StopIteration) {
                                            throw e;
                                        }
                                        if (lst.length === 0) {
                                            this.next = function () {
                                                throw self.StopIteration;
                                            };
                                        } else {
                                            var i = -1;
                                            this.next = function () {
                                                i = (i + 1) % lst.length;
                                                return lst[i];
                                            };
                                        }
                                        return this.next();
                                    }
                                }
                            };
                        },
                        repeat: function (elem, n) {
                            var m = MochiKit.Base;
                            if (typeof (n) == 'undefined') {
                                return {
                                    repr: function () {
                                        return "repeat(" + m.repr(elem) + ")";
                                    },
                                    toString: m.forwardCall("repr"),
                                    next: function () {
                                        return elem;
                                    }
                                };
                            }
                            return {
                                repr: function () {
                                    return "repeat(" + m.repr(elem) + ", " + n + ")";
                                },
                                toString: m.forwardCall("repr"),
                                next: function () {
                                    if (n <= 0) {
                                        throw MochiKit.Iter.StopIteration;
                                    }
                                    n -= 1;
                                    return elem;
                                }
                            };
                        },
                        next: function (iterator) {
                            return iterator.next();
                        },
                        izip: function (p, q) {
                            var m = MochiKit.Base;
                            var self = MochiKit.Iter;
                            var next = self.next;
                            var iterables = m.map(self.iter, arguments);
                            return {
                                repr: function () {
                                    return "izip(...)";
                                },
                                toString: m.forwardCall("repr"),
                                next: function () {
                                    return m.map(next, iterables);
                                }
                            };
                        },
                        ifilter: function (pred, seq) {
                            var m = MochiKit.Base;
                            seq = MochiKit.Iter.iter(seq);
                            if (pred === null) {
                                pred = m.operator.truth;
                            }
                            return {
                                repr: function () {
                                    return "ifilter(...)";
                                },
                                toString: m.forwardCall("repr"),
                                next: function () {
                                    while (true) {
                                        var rval = seq.next();
                                        if (pred(rval)) {
                                            return rval;
                                        }
                                    }
                                    return undefined;
                                }
                            };
                        },
                        ifilterfalse: function (pred, seq) {
                            var m = MochiKit.Base;
                            seq = MochiKit.Iter.iter(seq);
                            if (pred === null) {
                                pred = m.operator.truth;
                            }
                            return {
                                repr: function () {
                                    return "ifilterfalse(...)";
                                },
                                toString: m.forwardCall("repr"),
                                next: function () {
                                    while (true) {
                                        var rval = seq.next();
                                        if (!pred(rval)) {
                                            return rval;
                                        }
                                    }
                                    return undefined;
                                }
                            };
                        },
                        islice: function (seq) {
                            var self = MochiKit.Iter;
                            var m = MochiKit.Base;
                            seq = self.iter(seq);
                            var start = 0;
                            var stop = 0;
                            var step = 1;
                            var i = -1;
                            if (arguments.length == 2) {
                                stop = arguments[1];
                            } else if (arguments.length == 3) {
                                start = arguments[1];
                                stop = arguments[2];
                            } else {
                                start = arguments[1];
                                stop = arguments[2];
                                step = arguments[3];
                            }
                            return {
                                repr: function () {
                                    return "islice(" + ["...", start, stop, step].join(", ") + ")";
                                },
                                toString: m.forwardCall("repr"),
                                next: function () {
                                    var rval;
                                    while (i < start) {
                                        rval = seq.next();
                                        i++;
                                    }
                                    if (start >= stop) {
                                        throw self.StopIteration;
                                    }
                                    start += step;
                                    return rval;
                                }
                            };
                        },
                        imap: function (fun, p, q) {
                            var m = MochiKit.Base;
                            var self = MochiKit.Iter;
                            var iterables = m.map(self.iter, m.extend(null, arguments, 1));
                            var map = m.map;
                            var next = self.next;
                            return {
                                repr: function () {
                                    return "imap(...)";
                                },
                                toString: m.forwardCall("repr"),
                                next: function () {
                                    return fun.apply(this, map(next, iterables));
                                }
                            };
                        },
                        applymap: function (fun, seq, self) {
                            seq = MochiKit.Iter.iter(seq);
                            var m = MochiKit.Base;
                            return {
                                repr: function () {
                                    return "applymap(...)";
                                },
                                toString: m.forwardCall("repr"),
                                next: function () {
                                    return fun.apply(self, seq.next());
                                }
                            };
                        },
                        chain: function (p, q) {
                            var self = MochiKit.Iter;
                            var m = MochiKit.Base;
                            if (arguments.length == 1) {
                                return self.iter(arguments[0]);
                            }
                            var argiter = m.map(self.iter, arguments);
                            return {
                                repr: function () {
                                    return "chain(...)";
                                },
                                toString: m.forwardCall("repr"),
                                next: function () {
                                    while (argiter.length > 1) {
                                        try {
                                            return argiter[0].next();
                                        } catch (e) {
                                            if (e != self.StopIteration) {
                                                throw e;
                                            }
                                            argiter.shift();
                                        }
                                    }
                                    if (argiter.length == 1) {
                                        var arg = argiter.shift();
                                        this.next = m.bind("next", arg);
                                        return this.next();
                                    }
                                    throw self.StopIteration;
                                }
                            };
                        },
                        takewhile: function (pred, seq) {
                            var self = MochiKit.Iter;
                            seq = self.iter(seq);
                            return {
                                repr: function () {
                                    return "takewhile(...)";
                                },
                                toString: MochiKit.Base.forwardCall("repr"),
                                next: function () {
                                    var rval = seq.next();
                                    if (!pred(rval)) {
                                        this.next = function () {
                                            throw self.StopIteration;
                                        };
                                        this.next();
                                    }
                                    return rval;
                                }
                            };
                        },
                        dropwhile: function (pred, seq) {
                            seq = MochiKit.Iter.iter(seq);
                            var m = MochiKit.Base;
                            var bind = m.bind;
                            return {
                                "repr": function () {
                                    return "dropwhile(...)";
                                },
                                "toString": m.forwardCall("repr"),
                                "next": function () {
                                    while (true) {
                                        var rval = seq.next();
                                        if (!pred(rval)) {
                                            break;
                                        }
                                    }
                                    this.next = bind("next", seq);
                                    return rval;
                                }
                            };
                        },
                        _tee: function (ident, sync, iterable) {
                            sync.pos[ident] = -1;
                            var m = MochiKit.Base;
                            var listMin = m.listMin;
                            return {
                                repr: function () {
                                    return "tee(" + ident + ", ...)";
                                },
                                toString: m.forwardCall("repr"),
                                next: function () {
                                    var rval;
                                    var i = sync.pos[ident];
                                    if (i == sync.max) {
                                        rval = iterable.next();
                                        sync.deque.push(rval);
                                        sync.max += 1;
                                        sync.pos[ident] += 1;
                                    } else {
                                        rval = sync.deque[i - sync.min];
                                        sync.pos[ident] += 1;
                                        if (i == sync.min && listMin(sync.pos) != sync.min) {
                                            sync.min += 1;
                                            sync.deque.shift();
                                        }
                                    }
                                    return rval;
                                }
                            };
                        },
                        tee: function (iterable, n) {
                            var rval = [];
                            var sync = {
                                "pos": [],
                                "deque": [],
                                "max": -1,
                                "min": -1
                            };
                            if (arguments.length == 1 || typeof (n) == "undefined" || n === null) {
                                n = 2;
                            }
                            var self = MochiKit.Iter;
                            iterable = self.iter(iterable);
                            var _tee = self._tee;
                            for (var i = 0; i < n; i++) {
                                rval.push(_tee(i, sync, iterable));
                            }
                            return rval;
                        },
                        list: function (iterable) {
                            var m = MochiKit.Base;
                            if (typeof (iterable.slice) == 'function') {
                                return iterable.slice();
                            } else if (m.isArrayLike(iterable)) {
                                return m.concat(iterable);
                            }
                            var self = MochiKit.Iter;
                            iterable = self.iter(iterable);
                            var rval = [];
                            try {
                                while (true) {
                                    rval.push(iterable.next());
                                }
                            } catch (e) {
                                if (e != self.StopIteration) {
                                    throw e;
                                }
                                return rval;
                            }
                            return undefined;
                        },
                        reduce: function (fn, iterable, initial) {
                            var i = 0;
                            var x = initial;
                            var self = MochiKit.Iter;
                            iterable = self.iter(iterable);
                            if (arguments.length < 3) {
                                try {
                                    x = iterable.next();
                                } catch (e) {
                                    if (e == self.StopIteration) {
                                        e = new TypeError("reduce() of empty sequence with no initial value");
                                    }
                                    throw e;
                                }
                                i++;
                            }
                            try {
                                while (true) {
                                    x = fn(x, iterable.next());
                                }
                            } catch (e) {
                                if (e != self.StopIteration) {
                                    throw e;
                                }
                            }
                            return x;
                        },
                        range: function () {
                            var start = 0;
                            var stop = 0;
                            var step = 1;
                            if (arguments.length == 1) {
                                stop = arguments[0];
                            } else if (arguments.length == 2) {
                                start = arguments[0];
                                stop = arguments[1];
                            } else if (arguments.length == 3) {
                                start = arguments[0];
                                stop = arguments[1];
                                step = arguments[2];
                            } else {
                                throw new TypeError("range() takes 1, 2, or 3 arguments!");
                            }
                            if (step === 0) {
                                throw new TypeError("range() step must not be 0");
                            }
                            return {
                                next: function () {
                                    if ((step > 0 && start >= stop) || (step < 0 && start <= stop)) {
                                        throw MochiKit.Iter.StopIteration;
                                    }
                                    var rval = start;
                                    start += step;
                                    return rval;
                                },
                                repr: function () {
                                    return "range(" + [start, stop, step].join(", ") + ")";
                                },
                                toString: MochiKit.Base.forwardCall("repr")
                            };
                        },
                        sum: function (iterable, start) {
                            if (typeof (start) == "undefined" || start === null) {
                                start = 0;
                            }
                            var x = start;
                            var self = MochiKit.Iter;
                            iterable = self.iter(iterable);
                            try {
                                while (true) {
                                    x += iterable.next();
                                }
                            } catch (e) {
                                if (e != self.StopIteration) {
                                    throw e;
                                }
                            }
                            return x;
                        },
                        exhaust: function (iterable) {
                            var self = MochiKit.Iter;
                            iterable = self.iter(iterable);
                            try {
                                while (true) {
                                    iterable.next();
                                }
                            } catch (e) {
                                if (e != self.StopIteration) {
                                    throw e;
                                }
                            }
                        },
                        forEach: function (iterable, func, self) {
                            var m = MochiKit.Base;
                            if (arguments.length > 2) {
                                func = m.bind(func, self);
                            }
                            if (m.isArrayLike(iterable)) {
                                try {
                                    for (var i = 0; i < iterable.length; i++) {
                                        func(iterable[i]);
                                    }
                                } catch (e) {
                                    if (e != MochiKit.Iter.StopIteration) {
                                        throw e;
                                    }
                                }
                            } else {
                                self = MochiKit.Iter;
                                self.exhaust(self.imap(func, iterable));
                            }
                        },
                        every: function (iterable, func) {
                            var self = MochiKit.Iter;
                            try {
                                self.ifilterfalse(func, iterable).next();
                                return false;
                            } catch (e) {
                                if (e != self.StopIteration) {
                                    throw e;
                                }
                                return true;
                            }
                        },
                        sorted: function (iterable, cmp) {
                            var rval = MochiKit.Iter.list(iterable);
                            if (arguments.length == 1) {
                                cmp = MochiKit.Base.compare;
                            }
                            rval.sort(cmp);
                            return rval;
                        },
                        reversed: function (iterable) {
                            var rval = MochiKit.Iter.list(iterable);
                            rval.reverse();
                            return rval;
                        },
                        some: function (iterable, func) {
                            var self = MochiKit.Iter;
                            try {
                                self.ifilter(func, iterable).next();
                                return true;
                            } catch (e) {
                                if (e != self.StopIteration) {
                                    throw e;
                                }
                                return false;
                            }
                        },
                        iextend: function (lst, iterable) {
                            if (MochiKit.Base.isArrayLike(iterable)) {
                                for (var i = 0; i < iterable.length; i++) {
                                    lst.push(iterable[i]);
                                }
                            } else {
                                var self = MochiKit.Iter;
                                iterable = self.iter(iterable);
                                try {
                                    while (true) {
                                        lst.push(iterable.next());
                                    }
                                } catch (e) {
                                    if (e != self.StopIteration) {
                                        throw e;
                                    }
                                }
                            }
                            return lst;
                        },
                        groupby: function (iterable, keyfunc) {
                            var m = MochiKit.Base;
                            var self = MochiKit.Iter;
                            if (arguments.length < 2) {
                                keyfunc = m.operator.identity;
                            }
                            iterable = self.iter(iterable);
                            var pk = undefined;
                            var k = undefined;
                            var v;

                            function fetch() {
                                v = iterable.next();
                                k = keyfunc(v);
                            };

                            function eat() {
                                var ret = v;
                                v = undefined;
                                return ret;
                            };
                            var first = true;
                            var compare = m.compare;
                            return {
                                repr: function () {
                                    return "groupby(...)";
                                },
                                next: function () {
                                    while (compare(k, pk) === 0) {
                                        fetch();
                                        if (first) {
                                            first = false;
                                            break;
                                        }
                                    }
                                    pk = k;
                                    return [k, {
                                        next: function () {
                                            if (v == undefined) {
                                                fetch();
                                            }
                                            if (compare(k, pk) !== 0) {
                                                throw self.StopIteration;
                                            }
                                            return eat();
                                        }
                                    }];
                                }
                            };
                        },
                        groupby_as_array: function (iterable, keyfunc) {
                            var m = MochiKit.Base;
                            var self = MochiKit.Iter;
                            if (arguments.length < 2) {
                                keyfunc = m.operator.identity;
                            }
                            iterable = self.iter(iterable);
                            var result = [];
                            var first = true;
                            var prev_key;
                            var compare = m.compare;
                            while (true) {
                                try {
                                    var value = iterable.next();
                                    var key = keyfunc(value);
                                } catch (e) {
                                    if (e == self.StopIteration) {
                                        break;
                                    }
                                    throw e;
                                }
                                if (first || compare(key, prev_key) !== 0) {
                                    var values = [];
                                    result.push([key, values]);
                                }
                                values.push(value);
                                first = false;
                                prev_key = key;
                            }
                            return result;
                        },
                        arrayLikeIter: function (iterable) {
                            var i = 0;
                            return {
                                repr: function () {
                                    return "arrayLikeIter(...)";
                                },
                                toString: MochiKit.Base.forwardCall("repr"),
                                next: function () {
                                    if (i >= iterable.length) {
                                        throw MochiKit.Iter.StopIteration;
                                    }
                                    return iterable[i++];
                                }
                            };
                        },
                        hasIterateNext: function (iterable) {
                            return (iterable && typeof (iterable.iterateNext) == "function");
                        },
                        iterateNextIter: function (iterable) {
                            return {
                                repr: function () {
                                    return "iterateNextIter(...)";
                                },
                                toString: MochiKit.Base.forwardCall("repr"),
                                next: function () {
                                    var rval = iterable.iterateNext();
                                    if (rval === null || rval === undefined) {
                                        throw MochiKit.Iter.StopIteration;
                                    }
                                    return rval;
                                }
                            };
                        }
                    });
                    MochiKit.Iter.EXPORT_OK = ["iteratorRegistry", "arrayLikeIter", "hasIterateNext", "iterateNextIter", ];
                    MochiKit.Iter.EXPORT = ["StopIteration", "registerIteratorFactory", "iter", "count", "cycle", "repeat", "next", "izip", "ifilter", "ifilterfalse", "islice", "imap", "applymap", "chain", "takewhile", "dropwhile", "tee", "list", "reduce", "range", "sum", "exhaust", "forEach", "every", "sorted", "reversed", "some", "iextend", "groupby", "groupby_as_array"];
                    MochiKit.Iter.__new__ = function () {
                        var m = MochiKit.Base;
                        if (typeof (StopIteration) != "undefined") {
                            this.StopIteration = StopIteration;
                        } else {
                            this.StopIteration = new m.NamedError("StopIteration");
                        }
                        this.iteratorRegistry = new m.AdapterRegistry();
                        this.registerIteratorFactory("arrayLike", m.isArrayLike, this.arrayLikeIter);
                        this.registerIteratorFactory("iterateNext", this.hasIterateNext, this.iterateNextIter);
                        this.EXPORT_TAGS = {
                            ":common": this.EXPORT,
                            ":all": m.concat(this.EXPORT, this.EXPORT_OK)
                        };
                        m.nameFunctions(this);
                    };
                    MochiKit.Iter.__new__();
                    if (MochiKit.__export__) {
                        reduce = MochiKit.Iter.reduce;
                    }
                    MochiKit.Base._exportSymbols(this, MochiKit.Iter);
                    if (typeof (dojo) != 'undefined') {
                        dojo.provide("MochiKit.DOM");
                        dojo.require("MochiKit.Base");
                    }
                    if (typeof (JSAN) != 'undefined') {
                        JSAN.use("MochiKit.Base", []);
                    }
                    try {
                        if (typeof (MochiKit.Base) == 'undefined') {
                            throw "";
                        }
                    } catch (e) {
                        throw "MochiKit.DOM depends on MochiKit.Base!";
                    }
                    if (typeof (MochiKit.DOM) == 'undefined') {
                        MochiKit.DOM = {};
                    }
                    MochiKit.DOM.NAME = "MochiKit.DOM";
                    MochiKit.DOM.VERSION = "1.4";
                    MochiKit.DOM.__repr__ = function () {
                        return "[" + this.NAME + " " + this.VERSION + "]";
                    };
                    MochiKit.DOM.toString = function () {
                        return this.__repr__();
                    };
                    MochiKit.DOM.EXPORT = ["removeEmptyTextNodes", "formContents", "currentWindow", "currentDocument", "withWindow", "withDocument", "registerDOMConverter", "coerceToDOM", "createDOM", "createDOMFunc", "isChildNode", "getNodeAttribute", "removeNodeAttribute", "setNodeAttribute", "updateNodeAttributes", "appendChildNodes", "insertSiblingNodesAfter", "insertSiblingNodesBefore", "replaceChildNodes", "removeElement", "swapDOM", "BUTTON", "TT", "PRE", "H1", "H2", "H3", "BR", "CANVAS", "HR", "LABEL", "TEXTAREA", "FORM", "STRONG", "SELECT", "OPTION", "OPTGROUP", "LEGEND", "FIELDSET", "P", "UL", "OL", "LI", "TD", "TR", "THEAD", "TBODY", "TFOOT", "TABLE", "TH", "INPUT", "SPAN", "A", "DIV", "IMG", "getElement", "$", "getElementsByTagAndClassName", "addToCallStack", "addLoadEvent", "focusOnLoad", "setElementClass", "toggleElementClass", "addElementClass", "removeElementClass", "swapElementClass", "hasElementClass", "escapeHTML", "toHTML", "emitHTML", "scrapeText", "isParent", "getFirstParentByTagAndClassName", "makeClipping", "undoClipping", "makePositioned", "undoPositioned", "getFirstElementByTagAndClassName"];
                    MochiKit.DOM.EXPORT_OK = ["domConverters"];
                    MochiKit.DOM.DEPRECATED = [
                        ['computedStyle', 'MochiKit.Style.getStyle', '1.4'],
                        ['elementDimensions', 'MochiKit.Style.getElementDimensions', '1.4'],
                        ['elementPosition', 'MochiKit.Style.getElementPosition', '1.4'],
                        ['hideElement', 'MochiKit.Style.hideElement', '1.4'],
                        ['setElementDimensions', 'MochiKit.Style.setElementDimensions', '1.4'],
                        ['setElementPosition', 'MochiKit.Style.setElementPosition', '1.4'],
                        ['setDisplayForElement', 'MochiKit.Style.setDisplayForElement', '1.4'],
                        ['setOpacity', 'MochiKit.Style.setOpacity', '1.4'],
                        ['showElement', 'MochiKit.Style.showElement', '1.4'],
                        ['Coordinates', 'MochiKit.Style.Coordinates', '1.4'],
                        ['Dimensions', 'MochiKit.Style.Dimensions', '1.4']
                    ];
                    MochiKit.DOM.getViewportDimensions = new Function('' + 'if (!MochiKit["Style"]) {' + '    throw new Error("This function has been deprecated and depends on MochiKit.Style.");' + '}' + 'return MochiKit.Style.getViewportDimensions.apply(this, arguments);');
                    MochiKit.Base.update(MochiKit.DOM, {
                        currentWindow: function () {
                            return MochiKit.DOM._window;
                        },
                        currentDocument: function () {
                            return MochiKit.DOM._document;
                        },
                        withWindow: function (win, func) {
                            var self = MochiKit.DOM;
                            var oldDoc = self._document;
                            var oldWin = self._window;
                            var rval;
                            try {
                                self._window = win;
                                self._document = win.document;
                                rval = func();
                            } catch (e) {
                                self._window = oldWin;
                                self._document = oldDoc;
                                throw e;
                            }
                            self._window = oldWin;
                            self._document = oldDoc;
                            return rval;
                        },
                        formContents: function (elem) {
                            var names = [];
                            var values = [];
                            var m = MochiKit.Base;
                            var self = MochiKit.DOM;
                            if (typeof (elem) == "undefined" || elem === null) {
                                elem = self._document.body;
                            } else {
                                elem = self.getElement(elem);
                            }
                            m.nodeWalk(elem, function (elem) {
                                var name = elem.name;
                                if (m.isNotEmpty(name)) {
                                    var tagName = elem.tagName.toUpperCase();
                                    if (tagName === "INPUT" && (elem.type == "radio" || elem.type == "checkbox") && !elem.checked) {
                                        return null;
                                    }
                                    if (tagName === "SELECT") {
                                        if (elem.type == "select-one") {
                                            if (elem.selectedIndex >= 0) {
                                                var opt = elem.options[elem.selectedIndex];
                                                var v = opt.value;
                                                if (!v) {
                                                    var h = opt.outerHTML;
                                                    if (h && !h.match(/^[^>]+\svalue\s*=/i)) {
                                                        v = opt.text;
                                                    }
                                                }
                                                names.push(name);
                                                values.push(v);
                                                return null;
                                            }
                                            names.push(name);
                                            values.push("");
                                            return null;
                                        } else {
                                            var opts = elem.options;
                                            if (!opts.length) {
                                                names.push(name);
                                                values.push("");
                                                return null;
                                            }
                                            for (var i = 0; i < opts.length; i++) {
                                                var opt = opts[i];
                                                if (!opt.selected) {
                                                    continue;
                                                }
                                                var v = opt.value;
                                                if (!v) {
                                                    var h = opt.outerHTML;
                                                    if (h && !h.match(/^[^>]+\svalue\s*=/i)) {
                                                        v = opt.text;
                                                    }
                                                }
                                                names.push(name);
                                                values.push(v);
                                            }
                                            return null;
                                        }
                                    }
                                    if (tagName === "FORM" || tagName === "P" || tagName === "SPAN" || tagName === "DIV") {
                                        return elem.childNodes;
                                    }
                                    names.push(name);
                                    values.push(elem.value || '');
                                    return null;
                                }
                                return elem.childNodes;
                            });
                            return [names, values];
                        },
                        withDocument: function (doc, func) {
                            var self = MochiKit.DOM;
                            var oldDoc = self._document;
                            var rval;
                            try {
                                self._document = doc;
                                rval = func();
                            } catch (e) {
                                self._document = oldDoc;
                                throw e;
                            }
                            self._document = oldDoc;
                            return rval;
                        },
                        registerDOMConverter: function (name, check, wrap, override) {
                            MochiKit.DOM.domConverters.register(name, check, wrap, override);
                        },
                        coerceToDOM: function (node, ctx) {
                            var m = MochiKit.Base;
                            var im = MochiKit.Iter;
                            var self = MochiKit.DOM;
                            if (im) {
                                var iter = im.iter;
                                var repeat = im.repeat;
                                var map = m.map;
                            }
                            var domConverters = self.domConverters;
                            var coerceToDOM = arguments.callee;
                            var NotFound = m.NotFound;
                            while (true) {
                                if (typeof (node) == 'undefined' || node === null) {
                                    return null;
                                }
                                if (typeof (node.nodeType) != 'undefined' && node.nodeType > 0) {
                                    return node;
                                }
                                if (typeof (node) == 'number' || typeof (node) == 'boolean') {
                                    node = node.toString();
                                }
                                if (typeof (node) == 'string') {
                                    return self._document.createTextNode(node);
                                }
                                if (typeof (node.__dom__) == 'function') {
                                    node = node.__dom__(ctx);
                                    continue;
                                }
                                if (typeof (node.dom) == 'function') {
                                    node = node.dom(ctx);
                                    continue;
                                }
                                if (typeof (node) == 'function') {
                                    node = node.apply(ctx, [ctx]);
                                    continue;
                                }
                                if (im) {
                                    var iterNodes = null;
                                    try {
                                        iterNodes = iter(node);
                                    } catch (e) {}
                                    if (iterNodes) {
                                        return map(coerceToDOM, iterNodes, repeat(ctx));
                                    }
                                }
                                try {
                                    node = domConverters.match(node, ctx);
                                    continue;
                                } catch (e) {
                                    if (e != NotFound) {
                                        throw e;
                                    }
                                }
                                return self._document.createTextNode(node.toString());
                            }
                            return undefined;
                        },
                        isChildNode: function (node, maybeparent) {
                            var self = MochiKit.DOM;
                            if (typeof (node) == "string") {
                                node = self.getElement(node);
                            }
                            if (typeof (maybeparent) == "string") {
                                maybeparent = self.getElement(maybeparent);
                            }
                            if (node === maybeparent) {
                                return true;
                            }
                            while (node && node.tagName.toUpperCase() != "BODY") {
                                node = node.parentNode;
                                if (node === maybeparent) {
                                    return true;
                                }
                            }
                            return false;
                        },
                        setNodeAttribute: function (node, attr, value) {
                            var o = {};
                            o[attr] = value;
                            try {
                                return MochiKit.DOM.updateNodeAttributes(node, o);
                            } catch (e) {}
                            return null;
                        },
                        getNodeAttribute: function (node, attr) {
                            var self = MochiKit.DOM;
                            var rename = self.attributeArray.renames[attr];
                            node = self.getElement(node);
                            try {
                                if (rename) {
                                    return node[rename];
                                }
                                return node.getAttribute(attr);
                            } catch (e) {}
                            return null;
                        },
                        removeNodeAttribute: function (node, attr) {
                            var self = MochiKit.DOM;
                            var rename = self.attributeArray.renames[attr];
                            node = self.getElement(node);
                            try {
                                if (rename) {
                                    return node[rename];
                                }
                                return node.removeAttribute(attr);
                            } catch (e) {}
                            return null;
                        },
                        updateNodeAttributes: function (node, attrs) {
                            var elem = node;
                            var self = MochiKit.DOM;
                            if (typeof (node) == 'string') {
                                elem = self.getElement(node);
                            }
                            if (attrs) {
                                var updatetree = MochiKit.Base.updatetree;
                                if (self.attributeArray.compliant) {
                                    for (var k in attrs) {
                                        var v = attrs[k];
                                        if (typeof (v) == 'object' && typeof (elem[k]) == 'object') {
                                            if (k == "style" && MochiKit.Style) {
                                                MochiKit.Style.setStyle(elem, v);
                                            } else {
                                                updatetree(elem[k], v);
                                            }
                                        } else if (k.substring(0, 2) == "on") {
                                            if (typeof (v) == "string") {
                                                v = new Function(v);
                                            }
                                            elem[k] = v;
                                        } else {
                                            elem.setAttribute(k, v);
                                        }
                                    }
                                } else {
                                    var renames = self.attributeArray.renames;
                                    for (k in attrs) {
                                        v = attrs[k];
                                        var renamed = renames[k];
                                        if (k == "style" && typeof (v) == "string") {
                                            elem.style.cssText = v;
                                        } else if (typeof (renamed) == "string") {
                                            elem[renamed] = v;
                                        } else if (typeof (elem[k]) == 'object' && typeof (v) == 'object') {
                                            if (k == "style" && MochiKit.Style) {
                                                MochiKit.Style.setStyle(elem, v);
                                            } else {
                                                updatetree(elem[k], v);
                                            }
                                        } else if (k.substring(0, 2) == "on") {
                                            if (typeof (v) == "string") {
                                                v = new Function(v);
                                            }
                                            elem[k] = v;
                                        } else {
                                            elem.setAttribute(k, v);
                                        }
                                    }
                                }
                            }
                            return elem;
                        },
                        appendChildNodes: function (node) {
                            var elem = node;
                            var self = MochiKit.DOM;
                            if (typeof (node) == 'string') {
                                elem = self.getElement(node);
                            }
                            var nodeStack = [self.coerceToDOM(MochiKit.Base.extend(null, arguments, 1), elem)];
                            var concat = MochiKit.Base.concat;
                            while (nodeStack.length) {
                                var n = nodeStack.shift();
                                if (typeof (n) == 'undefined' || n === null) {} else if (typeof (n.nodeType) == 'number') {
                                    elem.appendChild(n);
                                } else {
                                    nodeStack = concat(n, nodeStack);
                                }
                            }
                            return elem;
                        },
                        insertSiblingNodesBefore: function (node) {
                            var elem = node;
                            var self = MochiKit.DOM;
                            if (typeof (node) == 'string') {
                                elem = self.getElement(node);
                            }
                            var nodeStack = [self.coerceToDOM(MochiKit.Base.extend(null, arguments, 1), elem)];
                            var parentnode = elem.parentNode;
                            var concat = MochiKit.Base.concat;
                            while (nodeStack.length) {
                                var n = nodeStack.shift();
                                if (typeof (n) == 'undefined' || n === null) {} else if (typeof (n.nodeType) == 'number') {
                                    parentnode.insertBefore(n, elem);
                                } else {
                                    nodeStack = concat(n, nodeStack);
                                }
                            }
                            return parentnode;
                        },
                        insertSiblingNodesAfter: function (node) {
                            var elem = node;
                            var self = MochiKit.DOM;
                            if (typeof (node) == 'string') {
                                elem = self.getElement(node);
                            }
                            var nodeStack = [self.coerceToDOM(MochiKit.Base.extend(null, arguments, 1), elem)];
                            if (elem.nextSibling) {
                                return self.insertSiblingNodesBefore(elem.nextSibling, nodeStack);
                            } else {
                                return self.appendChildNodes(elem.parentNode, nodeStack);
                            }
                        },
                        replaceChildNodes: function (node) {
                            var elem = node;
                            var self = MochiKit.DOM;
                            if (typeof (node) == 'string') {
                                elem = self.getElement(node);
                                arguments[0] = elem;
                            }
                            var child;
                            while ((child = elem.firstChild)) {
                                elem.removeChild(child);
                            }
                            if (arguments.length < 2) {
                                return elem;
                            } else {
                                return self.appendChildNodes.apply(this, arguments);
                            }
                        },
                        createDOM: function (name, attrs) {
                            var elem;
                            var self = MochiKit.DOM;
                            var m = MochiKit.Base;
                            if (typeof (attrs) == "string" || typeof (attrs) == "number") {
                                var args = m.extend([name, null], arguments, 1);
                                return arguments.callee.apply(this, args);
                            }
                            if (typeof (name) == 'string') {
                                var xhtml = self._xhtml;
                                if (attrs && !self.attributeArray.compliant) {
                                    var contents = "";
                                    if ('name' in attrs) {
                                        contents += ' name="' + self.escapeHTML(attrs.name) + '"';
                                    }
                                    if (name == 'input' && 'type' in attrs) {
                                        contents += ' type="' + self.escapeHTML(attrs.type) + '"';
                                    }
                                    if (contents) {
                                        name = "<" + name + contents + ">";
                                        xhtml = false;
                                    }
                                }
                                var d = self._document;
                                if (xhtml && d === document) {
                                    elem = d.createElementNS("http://www.w3.org/1999/xhtml", name);
                                } else {
                                    elem = d.createElement(name);
                                }
                            } else {
                                elem = name;
                            }
                            if (attrs) {
                                self.updateNodeAttributes(elem, attrs);
                            }
                            if (arguments.length <= 2) {
                                return elem;
                            } else {
                                var args = m.extend([elem], arguments, 2);
                                return self.appendChildNodes.apply(this, args);
                            }
                        },
                        createDOMFunc: function () {
                            var m = MochiKit.Base;
                            return m.partial.apply(this, m.extend([MochiKit.DOM.createDOM], arguments));
                        },
                        removeElement: function (elem) {
                            var e = MochiKit.DOM.getElement(elem);
                            e.parentNode.removeChild(e);
                            return e;
                        },
                        swapDOM: function (dest, src) {
                            var self = MochiKit.DOM;
                            dest = self.getElement(dest);
                            var parent = dest.parentNode;
                            if (src) {
                                src = self.getElement(src);
                                parent.replaceChild(src, dest);
                            } else {
                                parent.removeChild(dest);
                            }
                            return src;
                        },
                        getElement: function (id) {
                            var self = MochiKit.DOM;
                            if (arguments.length == 1) {
                                return ((typeof (id) == "string") ? self._document.getElementById(id) : id);
                            } else {
                                return MochiKit.Base.map(self.getElement, arguments);
                            }
                        },
                        getElementsByTagAndClassName: function (tagName, className, parent) {
                            var self = MochiKit.DOM;
                            if (typeof (tagName) == 'undefined' || tagName === null) {
                                tagName = '*';
                            }
                            if (typeof (parent) == 'undefined' || parent === null) {
                                parent = self._document;
                            }
                            parent = self.getElement(parent);
                            var children = (parent.getElementsByTagName(tagName) || self._document.all);
                            if (typeof (className) == 'undefined' || className === null) {
                                return MochiKit.Base.extend(null, children);
                            }
                            var elements = [];
                            for (var i = 0; i < children.length; i++) {
                                var child = children[i];
                                var cls = child.className;
                                if (!cls) {
                                    continue;
                                }
                                var classNames = cls.split(' ');
                                for (var j = 0; j < classNames.length; j++) {
                                    if (classNames[j] == className) {
                                        elements.push(child);
                                        break;
                                    }
                                }
                            }
                            return elements;
                        },
                        _newCallStack: function (path, once) {
                            var rval = function () {
                                var callStack = arguments.callee.callStack;
                                for (var i = 0; i < callStack.length; i++) {
                                    if (callStack[i].apply(this, arguments) === false) {
                                        break;
                                    }
                                }
                                if (once) {
                                    try {
                                        this[path] = null;
                                    } catch (e) {}
                                }
                            };
                            rval.callStack = [];
                            return rval;
                        },
                        addToCallStack: function (target, path, func, once) {
                            var self = MochiKit.DOM;
                            var existing = target[path];
                            var regfunc = existing;
                            if (!(typeof (existing) == 'function' && typeof (existing.callStack) == "object" && existing.callStack !== null)) {
                                regfunc = self._newCallStack(path, once);
                                if (typeof (existing) == 'function') {
                                    regfunc.callStack.push(existing);
                                }
                                target[path] = regfunc;
                            }
                            regfunc.callStack.push(func);
                        },
                        addLoadEvent: function (func) {
                            var self = MochiKit.DOM;
                            self.addToCallStack(self._window, "onload", func, true);
                        },
                        focusOnLoad: function (element) {
                            var self = MochiKit.DOM;
                            self.addLoadEvent(function () {
                                element = self.getElement(element);
                                if (element) {
                                    element.focus();
                                }
                            });
                        },
                        setElementClass: function (element, className) {
                            var self = MochiKit.DOM;
                            var obj = self.getElement(element);
                            if (self.attributeArray.compliant) {
                                obj.setAttribute("class", className);
                            } else {
                                obj.setAttribute("className", className);
                            }
                        },
                        toggleElementClass: function (className) {
                            var self = MochiKit.DOM;
                            for (var i = 1; i < arguments.length; i++) {
                                var obj = self.getElement(arguments[i]);
                                if (!self.addElementClass(obj, className)) {
                                    self.removeElementClass(obj, className);
                                }
                            }
                        },
                        addElementClass: function (element, className) {
                            var self = MochiKit.DOM;
                            var obj = self.getElement(element);
                            var cls = obj.className;
                            if (cls == undefined || cls.length === 0) {
                                self.setElementClass(obj, className);
                                return true;
                            }
                            if (cls == className) {
                                return false;
                            }
                            var classes = cls.split(" ");
                            for (var i = 0; i < classes.length; i++) {
                                if (classes[i] == className) {
                                    return false;
                                }
                            }
                            self.setElementClass(obj, cls + " " + className);
                            return true;
                        },
                        removeElementClass: function (element, className) {
                            var self = MochiKit.DOM;
                            var obj = self.getElement(element);
                            var cls = obj.className;
                            if (cls == undefined || cls.length === 0) {
                                return false;
                            }
                            if (cls == className) {
                                self.setElementClass(obj, "");
                                return true;
                            }
                            var classes = cls.split(" ");
                            for (var i = 0; i < classes.length; i++) {
                                if (classes[i] == className) {
                                    classes.splice(i, 1);
                                    self.setElementClass(obj, classes.join(" "));
                                    return true;
                                }
                            }
                            return false;
                        },
                        swapElementClass: function (element, fromClass, toClass) {
                            var obj = MochiKit.DOM.getElement(element);
                            var res = MochiKit.DOM.removeElementClass(obj, fromClass);
                            if (res) {
                                MochiKit.DOM.addElementClass(obj, toClass);
                            }
                            return res;
                        },
                        hasElementClass: function (element, className) {
                            var obj = MochiKit.DOM.getElement(element);
                            var cls = obj.className;
                            if (!cls) {
                                return false;
                            }
                            var classes = cls.split(" ");
                            for (var i = 1; i < arguments.length; i++) {
                                var good = false;
                                for (var j = 0; j < classes.length; j++) {
                                    if (classes[j] == arguments[i]) {
                                        good = true;
                                        break;
                                    }
                                }
                                if (!good) {
                                    return false;
                                }
                            }
                            return true;
                        },
                        escapeHTML: function (s) {
                            return s.replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/</g, "&lt;").replace(/>/g, "&gt;");
                        },
                        toHTML: function (dom) {
                            return MochiKit.DOM.emitHTML(dom).join("");
                        },
                        emitHTML: function (dom, lst) {
                            if (typeof (lst) == 'undefined' || lst === null) {
                                lst = [];
                            }
                            var queue = [dom];
                            var self = MochiKit.DOM;
                            var escapeHTML = self.escapeHTML;
                            var attributeArray = self.attributeArray;
                            while (queue.length) {
                                dom = queue.pop();
                                if (typeof (dom) == 'string') {
                                    lst.push(dom);
                                } else if (dom.nodeType == 1) {
                                    lst.push('<' + dom.tagName.toLowerCase());
                                    var attributes = [];
                                    var domAttr = attributeArray(dom);
                                    for (var i = 0; i < domAttr.length; i++) {
                                        var a = domAttr[i];
                                        attributes.push([" ", a.name, '="', escapeHTML(a.value), '"']);
                                    }
                                    attributes.sort();
                                    for (i = 0; i < attributes.length; i++) {
                                        var attrs = attributes[i];
                                        for (var j = 0; j < attrs.length; j++) {
                                            lst.push(attrs[j]);
                                        }
                                    }
                                    if (dom.hasChildNodes()) {
                                        lst.push(">");
                                        queue.push("</" + dom.tagName.toLowerCase() + ">");
                                        var cnodes = dom.childNodes;
                                        for (i = cnodes.length - 1; i >= 0; i--) {
                                            queue.push(cnodes[i]);
                                        }
                                    } else {
                                        lst.push('/>');
                                    }
                                } else if (dom.nodeType == 3) {
                                    lst.push(escapeHTML(dom.nodeValue));
                                }
                            }
                            return lst;
                        },
                        scrapeText: function (node, asArray) {
                            var rval = [];
                            (function (node) {
                                var cn = node.childNodes;
                                if (cn) {
                                    for (var i = 0; i < cn.length; i++) {
                                        arguments.callee.call(this, cn[i]);
                                    }
                                }
                                var nodeValue = node.nodeValue;
                                if (typeof (nodeValue) == 'string') {
                                    rval.push(nodeValue);
                                }
                            })(MochiKit.DOM.getElement(node));
                            if (asArray) {
                                return rval;
                            } else {
                                return rval.join("");
                            }
                        },
                        removeEmptyTextNodes: function (element) {
                            element = MochiKit.DOM.getElement(element);
                            for (var i = 0; i < element.childNodes.length; i++) {
                                var node = element.childNodes[i];
                                if (node.nodeType == 3 && !/\S/.test(node.nodeValue)) {
                                    node.parentNode.removeChild(node);
                                }
                            }
                        },
                        makeClipping: function (element) {
                            element = MochiKit.DOM.getElement(element);
                            var oldOverflow = element.style.overflow;
                            if ((MochiKit.Style.getStyle(element, 'overflow') || 'visible') != 'hidden') {
                                element.style.overflow = 'hidden';
                            }
                            return oldOverflow;
                        },
                        undoClipping: function (element, overflow) {
                            element = MochiKit.DOM.getElement(element);
                            if (!overflow) {
                                return;
                            }
                            element.style.overflow = overflow;
                        },
                        makePositioned: function (element) {
                            element = MochiKit.DOM.getElement(element);
                            var pos = MochiKit.Style.getStyle(element, 'position');
                            if (pos == 'static' || !pos) {
                                element.style.position = 'relative';
                                if (/Opera/.test(navigator.userAgent)) {
                                    element.style.top = 0;
                                    element.style.left = 0;
                                }
                            }
                        },
                        undoPositioned: function (element) {
                            element = MochiKit.DOM.getElement(element);
                            if (element.style.position == 'relative') {
                                element.style.position = element.style.top = element.style.left = element.style.bottom = element.style.right = '';
                            }
                        },
                        getFirstElementByTagAndClassName: function (tagName, className, parent) {
                            var self = MochiKit.DOM;
                            if (typeof (tagName) == 'undefined' || tagName === null) {
                                tagName = '*';
                            }
                            if (typeof (parent) == 'undefined' || parent === null) {
                                parent = self._document;
                            }
                            parent = self.getElement(parent);
                            var children = (parent.getElementsByTagName(tagName) || self._document.all);
                            if (typeof (className) == 'undefined' || className === null) {
                                return children[0];
                            }
                            for (var i = 0; i < children.length; i++) {
                                var child = children[i];
                                var classNames = child.className.split(' ');
                                for (var j = 0; j < classNames.length; j++) {
                                    if (classNames[j] == className) {
                                        return child;
                                    }
                                }
                            }
                        },
                        getFirstParentByTagAndClassName: function (elem, tagName, className) {
                            var self = MochiKit.DOM;
                            elem = self.getElement(elem);
                            if (typeof (tagName) == 'undefined' || tagName === null) {
                                tagName = '*';
                            } else {
                                tagName = tagName.toUpperCase();
                            }
                            if (typeof (className) == 'undefined' || className === null) {
                                className = null;
                            }
                            var classList = '';
                            var curTagName = '';
                            while (elem && elem.tagName) {
                                elem = elem.parentNode;
                                if (tagName == '*' && className === null) {
                                    return elem;
                                }
                                classList = elem.className.split(' ');
                                curTagName = elem.tagName.toUpperCase();
                                if (className === null && tagName == curTagName) {
                                    return elem;
                                } else if (className !== null) {
                                    for (var i = 0; i < classList.length; i++) {
                                        if (tagName == '*' && classList[i] == className) {
                                            return elem;
                                        } else if (tagName == curTagName && classList[i] == className) {
                                            return elem;
                                        }
                                    }
                                }
                            }
                            return elem;
                        },
                        isParent: function (child, element) {
                            if (!child.parentNode || child == element) {
                                return false;
                            }
                            if (child.parentNode == element) {
                                return true;
                            }
                            return MochiKit.DOM.isParent(child.parentNode, element);
                        },
                        __new__: function (win) {
                            var m = MochiKit.Base;
                            if (typeof (document) != "undefined") {
                                this._document = document;
                                var kXULNSURI = "http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul";
                                this._xhtml = (document.documentElement && document.createElementNS && document.documentElement.namespaceURI === kXULNSURI);
                            } else if (MochiKit.MockDOM) {
                                this._document = MochiKit.MockDOM.document;
                            }
                            this._window = win;
                            this.domConverters = new m.AdapterRegistry();
                            var __tmpElement = this._document.createElement("span");
                            var attributeArray;
                            if (__tmpElement && __tmpElement.attributes && __tmpElement.attributes.length > 0) {
                                var filter = m.filter;
                                attributeArray = function (node) {
                                    return filter(attributeArray.ignoreAttrFilter, node.attributes);
                                };
                                attributeArray.ignoreAttr = {};
                                var attrs = __tmpElement.attributes;
                                var ignoreAttr = attributeArray.ignoreAttr;
                                for (var i = 0; i < attrs.length; i++) {
                                    var a = attrs[i];
                                    ignoreAttr[a.name] = a.value;
                                }
                                attributeArray.ignoreAttrFilter = function (a) {
                                    return (attributeArray.ignoreAttr[a.name] != a.value);
                                };
                                attributeArray.compliant = false;
                                attributeArray.renames = {
                                    "class": "className",
                                    "checked": "defaultChecked",
                                    "usemap": "useMap",
                                    "for": "htmlFor",
                                    "readonly": "readOnly",
                                    "colspan": "colSpan",
                                    "bgcolor": "bgColor"
                                };
                            } else {
                                attributeArray = function (node) {
                                    return node.attributes;
                                };
                                attributeArray.compliant = true;
                                attributeArray.renames = {};
                            }
                            this.attributeArray = attributeArray;
                            var _deprecated = function (fromModule, arr) {
                                var modules = arr[1].split('.');
                                var str = '';
                                var obj = {};
                                str += 'if (!MochiKit.' + modules[1] + ') { throw new Error("';
                                str += 'This function has been deprecated and depends on MochiKit.';
                                str += modules[1] + '.");}';
                                str += 'return MochiKit.' + modules[1] + '.' + arr[0];
                                str += '.apply(this, arguments);';
                                obj[modules[2]] = new Function(str);
                                MochiKit.Base.update(MochiKit[fromModule], obj);
                            }
                            for (var i; i < MochiKit.DOM.DEPRECATED.length; i++) {
                                _deprecated('DOM', MochiKit.DOM.DEPRECATED[i]);
                            }
                            var createDOMFunc = this.createDOMFunc;
                            this.UL = createDOMFunc("ul");
                            this.OL = createDOMFunc("ol");
                            this.LI = createDOMFunc("li");
                            this.TD = createDOMFunc("td");
                            this.TR = createDOMFunc("tr");
                            this.TBODY = createDOMFunc("tbody");
                            this.THEAD = createDOMFunc("thead");
                            this.TFOOT = createDOMFunc("tfoot");
                            this.TABLE = createDOMFunc("table");
                            this.TH = createDOMFunc("th");
                            this.INPUT = createDOMFunc("input");
                            this.SPAN = createDOMFunc("span");
                            this.A = createDOMFunc("a");
                            this.DIV = createDOMFunc("div");
                            this.IMG = createDOMFunc("img");
                            this.BUTTON = createDOMFunc("button");
                            this.TT = createDOMFunc("tt");
                            this.PRE = createDOMFunc("pre");
                            this.H1 = createDOMFunc("h1");
                            this.H2 = createDOMFunc("h2");
                            this.H3 = createDOMFunc("h3");
                            this.BR = createDOMFunc("br");
                            this.HR = createDOMFunc("hr");
                            this.LABEL = createDOMFunc("label");
                            this.TEXTAREA = createDOMFunc("textarea");
                            this.FORM = createDOMFunc("form");
                            this.P = createDOMFunc("p");
                            this.SELECT = createDOMFunc("select");
                            this.OPTION = createDOMFunc("option");
                            this.OPTGROUP = createDOMFunc("optgroup");
                            this.LEGEND = createDOMFunc("legend");
                            this.FIELDSET = createDOMFunc("fieldset");
                            this.STRONG = createDOMFunc("strong");
                            this.CANVAS = createDOMFunc("canvas");
                            this.$ = this.getElement;
                            this.EXPORT_TAGS = {
                                ":common": this.EXPORT,
                                ":all": m.concat(this.EXPORT, this.EXPORT_OK)
                            };
                            m.nameFunctions(this);
                        }
                    });
                    MochiKit.DOM.__new__(((typeof (window) == "undefined") ? this : window));
                    if (MochiKit.__export__) {
                        withWindow = MochiKit.DOM.withWindow;
                        withDocument = MochiKit.DOM.withDocument;
                    }
                    MochiKit.Base._exportSymbols(this, MochiKit.DOM);
                    if (typeof (dojo) != 'undefined') {
                        dojo.provide('MochiKit.Style');
                        dojo.require('MochiKit.Base');
                        dojo.require('MochiKit.DOM');
                    }
                    if (typeof (JSAN) != 'undefined') {
                        JSAN.use('MochiKit.Base', []);
                    }
                    try {
                        if (typeof (MochiKit.Base) == 'undefined') {
                            throw '';
                        }
                    } catch (e) {
                        throw 'MochiKit.Style depends on MochiKit.Base!';
                    }
                    try {
                        if (typeof (MochiKit.DOM) == 'undefined') {
                            throw '';
                        }
                    } catch (e) {
                        throw 'MochiKit.Style depends on MochiKit.DOM!';
                    }
                    if (typeof (MochiKit.Style) == 'undefined') {
                        MochiKit.Style = {};
                    }
                    MochiKit.Style.NAME = 'MochiKit.Style';
                    MochiKit.Style.VERSION = '1.4';
                    MochiKit.Style.__repr__ = function () {
                        return '[' + this.NAME + ' ' + this.VERSION + ']';
                    };
                    MochiKit.Style.toString = function () {
                        return this.__repr__();
                    };
                    MochiKit.Style.EXPORT_OK = [];
                    MochiKit.Style.EXPORT = ['setStyle', 'setOpacity', 'getStyle', 'getElementDimensions', 'elementDimensions', 'setElementDimensions', 'getElementPosition', 'elementPosition', 'setElementPosition', 'setDisplayForElement', 'hideElement', 'showElement', 'getViewportDimensions', 'getViewportPosition', 'Dimensions', 'Coordinates'];
                    MochiKit.Style.Dimensions = function (w, h) {
                        this.w = w;
                        this.h = h;
                    };
                    MochiKit.Style.Dimensions.prototype.__repr__ = function () {
                        var repr = MochiKit.Base.repr;
                        return '{w: ' + repr(this.w) + ', h: ' + repr(this.h) + '}';
                    };
                    MochiKit.Style.Dimensions.prototype.toString = function () {
                        return this.__repr__();
                    };
                    MochiKit.Style.Coordinates = function (x, y) {
                        this.x = x;
                        this.y = y;
                    };
                    MochiKit.Style.Coordinates.prototype.__repr__ = function () {
                        var repr = MochiKit.Base.repr;
                        return '{x: ' + repr(this.x) + ', y: ' + repr(this.y) + '}';
                    };
                    MochiKit.Style.Coordinates.prototype.toString = function () {
                        return this.__repr__();
                    };
                    MochiKit.Base.update(MochiKit.Style, {
                        getStyle: function (elem, cssProperty) {
                            var dom = MochiKit.DOM;
                            var d = dom._document;
                            elem = dom.getElement(elem);
                            cssProperty = MochiKit.Base.camelize(cssProperty);
                            if (!elem || elem == d) {
                                return undefined;
                            }
                            if (cssProperty == 'opacity' && elem.filters) {
                                var opacity = (MochiKit.Style.getStyle(elem, 'filter') || '').match(/alpha\(opacity=(.*)\)/);
                                if (opacity && opacity[1]) {
                                    return parseFloat(opacity[1]) / 100;
                                }
                                return 1.0;
                            }
                            var value = elem.style ? elem.style[cssProperty] : null;
                            if (!value) {
                                if (d.defaultView && d.defaultView.getComputedStyle) {
                                    var css = d.defaultView.getComputedStyle(elem, null);
                                    cssProperty = cssProperty.replace(/([A-Z])/g, '-$1').toLowerCase();
                                    value = css ? css.getPropertyValue(cssProperty) : null;
                                } else if (elem.currentStyle) {
                                    value = elem.currentStyle[cssProperty];
                                }
                            }
                            if (cssProperty == 'opacity') {
                                value = parseFloat(value);
                            }
                            if (/Opera/.test(navigator.userAgent) && (MochiKit.Base.find(['left', 'top', 'right', 'bottom'], cssProperty) != -1)) {
                                if (MochiKit.Style.getStyle(elem, 'position') == 'static') {
                                    value = 'auto';
                                }
                            }
                            return value == 'auto' ? null : value;
                        },
                        setStyle: function (elem, style) {
                            elem = MochiKit.DOM.getElement(elem);
                            for (name in style) {
                                if (name == 'opacity') {
                                    MochiKit.Style.setOpacity(elem, style[name]);
                                } else {
                                    elem.style[MochiKit.Base.camelize(name)] = style[name];
                                }
                            }
                        },
                        setOpacity: function (elem, o) {
                            elem = MochiKit.DOM.getElement(elem);
                            var self = MochiKit.Style;
                            if (o == 1) {
                                var toSet = /Gecko/.test(navigator.userAgent) && !(/Konqueror|AppleWebKit|KHTML/.test(navigator.userAgent));
                                elem.style["opacity"] = toSet ? 0.999999 : 1.0;
                                if (/MSIE/.test(navigator.userAgent)) {
                                    elem.style['filter'] = self.getStyle(elem, 'filter').replace(/alpha\([^\)]*\)/gi, '');
                                }
                            } else {
                                if (o < 0.00001) {
                                    o = 0;
                                }
                                elem.style["opacity"] = o;
                                if (/MSIE/.test(navigator.userAgent)) {
                                    elem.style['filter'] = self.getStyle(elem, 'filter').replace(/alpha\([^\)]*\)/gi, '') + 'alpha(opacity=' + o * 100 + ')';
                                }
                            }
                        },
                        getElementPosition: function (elem, relativeTo) {
                            var self = MochiKit.Style;
                            var dom = MochiKit.DOM;
                            elem = dom.getElement(elem);
                            if (!elem || (!(elem.x && elem.y) && (!elem.parentNode === null || self.getStyle(elem, 'display') == 'none'))) {
                                return undefined;
                            }
                            var c = new self.Coordinates(0, 0);
                            var box = null;
                            var parent = null;
                            var d = MochiKit.DOM._document;
                            var de = d.documentElement;
                            var b = d.body;
                            if (!elem.parentNode && elem.x && elem.y) {
                                c.x += elem.x || 0;
                                c.y += elem.y || 0;
                            } else if (elem.getBoundingClientRect) {
                                box = elem.getBoundingClientRect();
                                c.x += box.left + (de.scrollLeft || b.scrollLeft) - (de.clientLeft || 0);
                                c.y += box.top + (de.scrollTop || b.scrollTop) - (de.clientTop || 0);
                            } else if (elem.offsetParent) {
                                c.x += elem.offsetLeft;
                                c.y += elem.offsetTop;
                                parent = elem.offsetParent;
                                if (parent != elem) {
                                    while (parent) {
                                        c.x += parent.offsetLeft;
                                        c.y += parent.offsetTop;
                                        parent = parent.offsetParent;
                                    }
                                }
                                var ua = navigator.userAgent.toLowerCase();
                                if ((typeof (opera) != 'undefined' && parseFloat(opera.version()) < 9) || (ua.indexOf('AppleWebKit') != -1 && self.getStyle(elem, 'position') == 'absolute')) {
                                    c.x -= b.offsetLeft;
                                    c.y -= b.offsetTop;
                                }
                            }
                            if (typeof (relativeTo) != 'undefined') {
                                relativeTo = arguments.callee(relativeTo);
                                if (relativeTo) {
                                    c.x -= (relativeTo.x || 0);
                                    c.y -= (relativeTo.y || 0);
                                }
                            }
                            if (elem.parentNode) {
                                parent = elem.parentNode;
                            } else {
                                parent = null;
                            }
                            while (parent) {
                                var tagName = parent.tagName.toUpperCase();
                                if (tagName === 'BODY' || tagName === 'HTML') {
                                    break;
                                }
                                var disp = self.getStyle(parent, 'display');
                                if (disp != 'inline' && disp != 'table-row') {
                                    c.x -= parent.scrollLeft;
                                    c.y -= parent.scrollTop;
                                }
                                if (parent.parentNode) {
                                    parent = parent.parentNode;
                                } else {
                                    parent = null;
                                }
                            }
                            return c;
                        },
                        setElementPosition: function (elem, newPos, units) {
                            elem = MochiKit.DOM.getElement(elem);
                            if (typeof (units) == 'undefined') {
                                units = 'px';
                            }
                            var newStyle = {};
                            var isUndefNull = MochiKit.Base.isUndefinedOrNull;
                            if (!isUndefNull(newPos.x)) {
                                newStyle['left'] = newPos.x + units;
                            }
                            if (!isUndefNull(newPos.y)) {
                                newStyle['top'] = newPos.y + units;
                            }
                            MochiKit.DOM.updateNodeAttributes(elem, {
                                'style': newStyle
                            });
                        },
                        getElementDimensions: function (elem) {
                            var self = MochiKit.Style;
                            var dom = MochiKit.DOM;
                            if (typeof (elem.w) == 'number' || typeof (elem.h) == 'number') {
                                return new self.Dimensions(elem.w || 0, elem.h || 0);
                            }
                            elem = dom.getElement(elem);
                            if (!elem) {
                                return undefined;
                            }
                            var disp = self.getStyle(elem, 'display');
                            if (disp != 'none' && disp !== '' && typeof (disp) != 'undefined') {
                                return new self.Dimensions(elem.offsetWidth || 0, elem.offsetHeight || 0);
                            }
                            var s = elem.style;
                            var originalVisibility = s.visibility;
                            var originalPosition = s.position;
                            s.visibility = 'hidden';
                            s.position = 'absolute';
                            s.display = '';
                            var originalWidth = elem.offsetWidth;
                            var originalHeight = elem.offsetHeight;
                            s.display = 'none';
                            s.position = originalPosition;
                            s.visibility = originalVisibility;
                            return new self.Dimensions(originalWidth, originalHeight);
                        },
                        setElementDimensions: function (elem, newSize, units) {
                            elem = MochiKit.DOM.getElement(elem);
                            if (typeof (units) == 'undefined') {
                                units = 'px';
                            }
                            var newStyle = {};
                            var isUndefNull = MochiKit.Base.isUndefinedOrNull;
                            if (!isUndefNull(newSize.w)) {
                                newStyle['width'] = newSize.w + units;
                            }
                            if (!isUndefNull(newSize.h)) {
                                newStyle['height'] = newSize.h + units;
                            }
                            MochiKit.DOM.updateNodeAttributes(elem, {
                                'style': newStyle
                            });
                        },
                        setDisplayForElement: function (display, element) {
                            var elements = MochiKit.Base.extend(null, arguments, 1);
                            var getElement = MochiKit.DOM.getElement;
                            for (var i = 0; i < elements.length; i++) {
                                element = getElement(elements[i]);
                                if (element) {
                                    element.style.display = display;
                                }
                            }
                        },
                        getViewportDimensions: function () {
                            var d = new MochiKit.Style.Dimensions();
                            var w = MochiKit.DOM._window;
                            var b = MochiKit.DOM._document.body;
                            if (w.innerWidth) {
                                d.w = w.innerWidth;
                                d.h = w.innerHeight;
                            } else if (b.parentElement.clientWidth) {
                                d.w = b.parentElement.clientWidth;
                                d.h = b.parentElement.clientHeight;
                            } else if (b && b.clientWidth) {
                                d.w = b.clientWidth;
                                d.h = b.clientHeight;
                            }
                            return d;
                        },
                        getViewportPosition: function () {
                            var c = new MochiKit.Style.Coordinates(0, 0);
                            var d = MochiKit.DOM._document;
                            var de = d.documentElement;
                            var db = d.body;
                            if (de && (de.scrollTop || de.scrollLeft)) {
                                c.x = de.scrollLeft;
                                c.y = de.scrollTop;
                            } else if (db) {
                                c.x = db.scrollLeft;
                                c.y = db.scrollTop;
                            }
                            return c;
                        },
                        __new__: function () {
                            var m = MochiKit.Base;
                            this.elementPosition = this.getElementPosition;
                            this.elementDimensions = this.getElementDimensions;
                            this.hideElement = m.partial(this.setDisplayForElement, 'none');
                            this.showElement = m.partial(this.setDisplayForElement, 'block');
                            this.EXPORT_TAGS = {
                                ':common': this.EXPORT,
                                ':all': m.concat(this.EXPORT, this.EXPORT_OK)
                            };
                            m.nameFunctions(this);
                        }
                    });
                    MochiKit.Style.__new__();
                    MochiKit.Base._exportSymbols(this, MochiKit.Style);
                    if (typeof (dojo) != 'undefined') {
                        dojo.provide('MochiKit.Signal');
                        dojo.require('MochiKit.Base');
                        dojo.require('MochiKit.DOM');
                        dojo.require('MochiKit.Style');
                    }
                    if (typeof (JSAN) != 'undefined') {
                        JSAN.use('MochiKit.Base', []);
                        JSAN.use('MochiKit.DOM', []);
                        JSAN.use('MochiKit.Style', []);
                    }
                    try {
                        if (typeof (MochiKit.Base) == 'undefined') {
                            throw '';
                        }
                    } catch (e) {
                        throw 'MochiKit.Signal depends on MochiKit.Base!';
                    }
                    try {
                        if (typeof (MochiKit.DOM) == 'undefined') {
                            throw '';
                        }
                    } catch (e) {
                        throw 'MochiKit.Signal depends on MochiKit.DOM!';
                    }
                    try {
                        if (typeof (MochiKit.Style) == 'undefined') {
                            throw '';
                        }
                    } catch (e) {
                        throw 'MochiKit.Signal depends on MochiKit.Style!';
                    }
                    if (typeof (MochiKit.Signal) == 'undefined') {
                        MochiKit.Signal = {};
                    }
                    MochiKit.Signal.NAME = 'MochiKit.Signal';
                    MochiKit.Signal.VERSION = '1.4';
                    MochiKit.Signal._observers = [];
                    MochiKit.Signal.Event = function (src, e) {
                        this._event = e || window.event;
                        this._src = src;
                    };
                    MochiKit.Base.update(MochiKit.Signal.Event.prototype, {
                        __repr__: function () {
                            var repr = MochiKit.Base.repr;
                            var str = '{event(): ' + repr(this.event()) + ', src(): ' + repr(this.src()) + ', type(): ' + repr(this.type()) + ', target(): ' + repr(this.target());
                            if (this.type() && this.type().indexOf('key') === 0 || this.type().indexOf('mouse') === 0 || this.type().indexOf('click') != -1 || this.type() == 'contextmenu') {
                                str += ', modifier(): ' + '{alt: ' + repr(this.modifier().alt) + ', ctrl: ' + repr(this.modifier().ctrl) + ', meta: ' + repr(this.modifier().meta) + ', shift: ' + repr(this.modifier().shift) + ', any: ' + repr(this.modifier().any) + '}';
                            }
                            if (this.type() && this.type().indexOf('key') === 0) {
                                str += ', key(): {code: ' + repr(this.key().code) + ', string: ' + repr(this.key().string) + '}';
                            }
                            if (this.type() && (this.type().indexOf('mouse') === 0 || this.type().indexOf('click') != -1 || this.type() == 'contextmenu')) {
                                str += ', mouse(): {page: ' + repr(this.mouse().page) + ', client: ' + repr(this.mouse().client);
                                if (this.type() != 'mousemove') {
                                    str += ', button: {left: ' + repr(this.mouse().button.left) + ', middle: ' + repr(this.mouse().button.middle) + ', right: ' + repr(this.mouse().button.right) + '}}';
                                } else {
                                    str += '}';
                                }
                            }
                            if (this.type() == 'mouseover' || this.type() == 'mouseout') {
                                str += ', relatedTarget(): ' + repr(this.relatedTarget());
                            }
                            str += '}';
                            return str;
                        },
                        toString: function () {
                            return this.__repr__();
                        },
                        src: function () {
                            return this._src;
                        },
                        event: function () {
                            return this._event;
                        },
                        type: function () {
                            return this._event.type || undefined;
                        },
                        target: function () {
                            return this._event.target || this._event.srcElement;
                        },
                        _relatedTarget: null,
                        relatedTarget: function () {
                            if (this._relatedTarget !== null) {
                                return this._relatedTarget;
                            }
                            var elem = null;
                            if (this.type() == 'mouseover') {
                                elem = (this._event.relatedTarget || this._event.fromElement);
                            } else if (this.type() == 'mouseout') {
                                elem = (this._event.relatedTarget || this._event.toElement);
                            }
                            if (elem !== null) {
                                this._relatedTarget = elem;
                                return elem;
                            }
                            return undefined;
                        },
                        _modifier: null,
                        modifier: function () {
                            if (this._modifier !== null) {
                                return this._modifier;
                            }
                            var m = {};
                            m.alt = this._event.altKey;
                            m.ctrl = this._event.ctrlKey;
                            m.meta = this._event.metaKey || false;
                            m.shift = this._event.shiftKey;
                            m.any = m.alt || m.ctrl || m.shift || m.meta;
                            this._modifier = m;
                            return m;
                        },
                        _key: null,
                        key: function () {
                            if (this._key !== null) {
                                return this._key;
                            }
                            var k = {};
                            if (this.type() && this.type().indexOf('key') === 0) {
                                if (this.type() == 'keydown' || this.type() == 'keyup') {
                                    k.code = this._event.keyCode;
                                    k.string = (MochiKit.Signal._specialKeys[k.code] || 'KEY_UNKNOWN');
                                    this._key = k;
                                    return k;
                                } else if (this.type() == 'keypress') {
                                    k.code = 0;
                                    k.string = '';
                                    if (typeof (this._event.charCode) != 'undefined' && this._event.charCode !== 0 && !MochiKit.Signal._specialMacKeys[this._event.charCode]) {
                                        k.code = this._event.charCode;
                                        k.string = String.fromCharCode(k.code);
                                    } else if (this._event.keyCode && typeof (this._event.charCode) == 'undefined') {
                                        k.code = this._event.keyCode;
                                        k.string = String.fromCharCode(k.code);
                                    }
                                    this._key = k;
                                    return k;
                                }
                            }
                            return undefined;
                        },
                        _mouse: null,
                        mouse: function () {
                            if (this._mouse !== null) {
                                return this._mouse;
                            }
                            var m = {};
                            var e = this._event;
                            if (this.type() && (this.type().indexOf('mouse') === 0 || this.type().indexOf('click') != -1 || this.type() == 'contextmenu')) {
                                m.client = new MochiKit.Style.Coordinates(0, 0);
                                if (e.clientX || e.clientY) {
                                    m.client.x = (!e.clientX || e.clientX < 0) ? 0 : e.clientX;
                                    m.client.y = (!e.clientY || e.clientY < 0) ? 0 : e.clientY;
                                }
                                m.page = new MochiKit.Style.Coordinates(0, 0);
                                if (e.pageX || e.pageY) {
                                    m.page.x = (!e.pageX || e.pageX < 0) ? 0 : e.pageX;
                                    m.page.y = (!e.pageY || e.pageY < 0) ? 0 : e.pageY;
                                } else {
                                    var de = MochiKit.DOM._document.documentElement;
                                    var b = MochiKit.DOM._document.body;
                                    m.page.x = e.clientX + (de.scrollLeft || b.scrollLeft) - (de.clientLeft || 0);
                                    m.page.y = e.clientY + (de.scrollTop || b.scrollTop) - (de.clientTop || 0);
                                }
                                if (this.type() != 'mousemove') {
                                    m.button = {};
                                    m.button.left = false;
                                    m.button.right = false;
                                    m.button.middle = false;
                                    if (e.which) {
                                        m.button.left = (e.which == 1);
                                        m.button.middle = (e.which == 2);
                                        m.button.right = (e.which == 3);
                                    } else {
                                        m.button.left = !! (e.button & 1);
                                        m.button.right = !! (e.button & 2);
                                        m.button.middle = !! (e.button & 4);
                                    }
                                }
                                this._mouse = m;
                                return m;
                            }
                            return undefined;
                        },
                        stop: function () {
                            this.stopPropagation();
                            this.preventDefault();
                        },
                        stopPropagation: function () {
                            if (this._event.stopPropagation) {
                                this._event.stopPropagation();
                            } else {
                                this._event.cancelBubble = true;
                            }
                        },
                        preventDefault: function () {
                            if (this._event.preventDefault) {
                                this._event.preventDefault();
                            } else if (this._confirmUnload === null) {
                                this._event.returnValue = false;
                            }
                        },
                        _confirmUnload: null,
                        confirmUnload: function (msg) {
                            if (this.type() == 'beforeunload') {
                                this._confirmUnload = msg;
                                this._event.returnValue = msg;
                            }
                        }
                    });
                    MochiKit.Signal._specialMacKeys = {
                        3: 'KEY_ENTER',
                        63289: 'KEY_NUM_PAD_CLEAR',
                        63276: 'KEY_PAGE_UP',
                        63277: 'KEY_PAGE_DOWN',
                        63275: 'KEY_END',
                        63273: 'KEY_HOME',
                        63234: 'KEY_ARROW_LEFT',
                        63232: 'KEY_ARROW_UP',
                        63235: 'KEY_ARROW_RIGHT',
                        63233: 'KEY_ARROW_DOWN',
                        63302: 'KEY_INSERT',
                        63272: 'KEY_DELETE'
                    };
                    (function () {
                        var _specialMacKeys = MochiKit.Signal._specialMacKeys;
                        for (i = 63236; i <= 63242; i++) {
                            _specialMacKeys[i] = 'KEY_F' + (i - 63236 + 1);
                        }
                    })();
                    MochiKit.Signal._specialKeys = {
                        8: 'KEY_BACKSPACE',
                        9: 'KEY_TAB',
                        12: 'KEY_NUM_PAD_CLEAR',
                        13: 'KEY_ENTER',
                        16: 'KEY_SHIFT',
                        17: 'KEY_CTRL',
                        18: 'KEY_ALT',
                        19: 'KEY_PAUSE',
                        20: 'KEY_CAPS_LOCK',
                        27: 'KEY_ESCAPE',
                        32: 'KEY_SPACEBAR',
                        33: 'KEY_PAGE_UP',
                        34: 'KEY_PAGE_DOWN',
                        35: 'KEY_END',
                        36: 'KEY_HOME',
                        37: 'KEY_ARROW_LEFT',
                        38: 'KEY_ARROW_UP',
                        39: 'KEY_ARROW_RIGHT',
                        40: 'KEY_ARROW_DOWN',
                        44: 'KEY_PRINT_SCREEN',
                        45: 'KEY_INSERT',
                        46: 'KEY_DELETE',
                        59: 'KEY_SEMICOLON',
                        91: 'KEY_WINDOWS_LEFT',
                        92: 'KEY_WINDOWS_RIGHT',
                        93: 'KEY_SELECT',
                        106: 'KEY_NUM_PAD_ASTERISK',
                        107: 'KEY_NUM_PAD_PLUS_SIGN',
                        109: 'KEY_NUM_PAD_HYPHEN-MINUS',
                        110: 'KEY_NUM_PAD_FULL_STOP',
                        111: 'KEY_NUM_PAD_SOLIDUS',
                        144: 'KEY_NUM_LOCK',
                        145: 'KEY_SCROLL_LOCK',
                        186: 'KEY_SEMICOLON',
                        187: 'KEY_EQUALS_SIGN',
                        188: 'KEY_COMMA',
                        189: 'KEY_HYPHEN-MINUS',
                        190: 'KEY_FULL_STOP',
                        191: 'KEY_SOLIDUS',
                        192: 'KEY_GRAVE_ACCENT',
                        219: 'KEY_LEFT_SQUARE_BRACKET',
                        220: 'KEY_REVERSE_SOLIDUS',
                        221: 'KEY_RIGHT_SQUARE_BRACKET',
                        222: 'KEY_APOSTROPHE'
                    };
                    (function () {
                        var _specialKeys = MochiKit.Signal._specialKeys;
                        for (var i = 48; i <= 57; i++) {
                            _specialKeys[i] = 'KEY_' + (i - 48);
                        }
                        for (i = 65; i <= 90; i++) {
                            _specialKeys[i] = 'KEY_' + String.fromCharCode(i);
                        }
                        for (i = 96; i <= 105; i++) {
                            _specialKeys[i] = 'KEY_NUM_PAD_' + (i - 96);
                        }
                        for (i = 112; i <= 123; i++) {
                            _specialKeys[i] = 'KEY_F' + (i - 112 + 1);
                        }
                    })();
                    MochiKit.Base.update(MochiKit.Signal, {
                        __repr__: function () {
                            return '[' + this.NAME + ' ' + this.VERSION + ']';
                        },
                        toString: function () {
                            return this.__repr__();
                        },
                        _unloadCache: function () {
                            var self = MochiKit.Signal;
                            var observers = self._observers;
                            for (var i = 0; i < observers.length; i++) {
                                self._disconnect(observers[i]);
                            }
                            delete self._observers;
                            try {
                                window.onload = undefined;
                            } catch (e) {}
                            try {
                                window.onunload = undefined;
                            } catch (e) {}
                        },
                        _listener: function (src, func, obj, isDOM) {
                            var self = MochiKit.Signal;
                            var E = self.Event;
                            if (!isDOM) {
                                return MochiKit.Base.bind(func, obj);
                            }
                            obj = obj || src;
                            if (typeof (func) == "string") {
                                return function (nativeEvent) {
                                    obj[func].apply(obj, [new E(src, nativeEvent)]);
                                };
                            } else {
                                return function (nativeEvent) {
                                    func.apply(obj, [new E(src, nativeEvent)]);
                                };
                            }
                        },
                        _browserAlreadyHasMouseEnterAndLeave: function () {
                            return /MSIE/.test(navigator.userAgent);
                        },
                        _mouseEnterListener: function (src, sig, func, obj) {
                            var E = MochiKit.Signal.Event;
                            return function (nativeEvent) {
                                var e = new E(src, nativeEvent);
                                try {
                                    e.relatedTarget().nodeName;
                                } catch (err) {
                                    return;
                                }
                                e.stop();
                                if (MochiKit.DOM.isChildNode(e.relatedTarget(), src)) {
                                    return;
                                }
                                e.type = function () {
                                    return sig;
                                };
                                if (typeof (func) == "string") {
                                    return obj[func].apply(obj, [e]);
                                } else {
                                    return func.apply(obj, [e]);
                                }
                            };
                        },
                        _getDestPair: function (objOrFunc, funcOrStr) {
                            var obj = null;
                            var func = null;
                            if (typeof (funcOrStr) != 'undefined') {
                                obj = objOrFunc;
                                func = funcOrStr;
                                if (typeof (funcOrStr) == 'string') {
                                    if (typeof (objOrFunc[funcOrStr]) != "function") {
                                        throw new Error("'funcOrStr' must be a function on 'objOrFunc'");
                                    }
                                } else if (typeof (funcOrStr) != 'function') {
                                    throw new Error("'funcOrStr' must be a function or string");
                                }
                            } else if (typeof (objOrFunc) != "function") {
                                throw new Error("'objOrFunc' must be a function if 'funcOrStr' is not given");
                            } else {
                                func = objOrFunc;
                            }
                            return [obj, func];
                        },
                        connect: function (src, sig, objOrFunc, funcOrStr) {
                            src = MochiKit.DOM.getElement(src);
                            var self = MochiKit.Signal;
                            if (typeof (sig) != 'string') {
                                throw new Error("'sig' must be a string");
                            }
                            var destPair = self._getDestPair(objOrFunc, funcOrStr);
                            var obj = destPair[0];
                            var func = destPair[1];
                            if (typeof (obj) == 'undefined' || obj === null) {
                                obj = src;
                            }
                            var isDOM = !! (src.addEventListener || src.attachEvent);
                            if (isDOM && (sig === "onmouseenter" || sig === "onmouseleave") && !self._browserAlreadyHasMouseEnterAndLeave()) {
                                var listener = self._mouseEnterListener(src, sig.substr(2), func, obj);
                                if (sig === "onmouseenter") {
                                    sig = "onmouseover";
                                } else {
                                    sig = "onmouseout";
                                }
                            } else {
                                var listener = self._listener(src, func, obj, isDOM);
                            }
                            if (src.addEventListener) {
                                src.addEventListener(sig.substr(2), listener, false);
                            } else if (src.attachEvent) {
                                src.attachEvent(sig, listener);
                            }
                            var ident = [src, sig, listener, isDOM, objOrFunc, funcOrStr, true];
                            self._observers.push(ident);
                            if (!isDOM && typeof (src.__connect__) == 'function') {
                                var args = MochiKit.Base.extend([ident], arguments, 1);
                                src.__connect__.apply(src, args);
                            }
                            return ident;
                        },
                        _disconnect: function (ident) {
                            if (!ident[6]) {
                                return;
                            }
                            ident[6] = false;
                            if (!ident[3]) {
                                return;
                            }
                            var src = ident[0];
                            var sig = ident[1];
                            var listener = ident[2];
                            if (src.removeEventListener) {
                                src.removeEventListener(sig.substr(2), listener, false);
                            } else if (src.detachEvent) {
                                src.detachEvent(sig, listener);
                            } else {
                                throw new Error("'src' must be a DOM element");
                            }
                        },
                        disconnect: function (ident) {
                            var self = MochiKit.Signal;
                            var observers = self._observers;
                            var m = MochiKit.Base;
                            if (arguments.length > 1) {
                                var src = MochiKit.DOM.getElement(arguments[0]);
                                var sig = arguments[1];
                                var obj = arguments[2];
                                var func = arguments[3];
                                for (var i = observers.length - 1; i >= 0; i--) {
                                    var o = observers[i];
                                    if (o[0] === src && o[1] === sig && o[4] === obj && o[5] === func) {
                                        self._disconnect(o);
                                        if (!self._lock) {
                                            observers.splice(i, 1);
                                        } else {
                                            self._dirty = true;
                                        }
                                        return true;
                                    }
                                }
                            } else {
                                var idx = m.findIdentical(observers, ident);
                                if (idx >= 0) {
                                    self._disconnect(ident);
                                    if (!self._lock) {
                                        observers.splice(idx, 1);
                                    } else {
                                        self._dirty = true;
                                    }
                                    return true;
                                }
                            }
                            return false;
                        },
                        disconnectAllTo: function (objOrFunc, funcOrStr) {
                            var self = MochiKit.Signal;
                            var observers = self._observers;
                            var disconnect = self._disconnect;
                            var locked = self._lock;
                            var dirty = self._dirty;
                            if (typeof (funcOrStr) === 'undefined') {
                                funcOrStr = null;
                            }
                            for (var i = observers.length - 1; i >= 0; i--) {
                                var ident = observers[i];
                                if (ident[4] === objOrFunc && (funcOrStr === null || ident[5] === funcOrStr)) {
                                    disconnect(ident);
                                    if (locked) {
                                        dirty = true;
                                    } else {
                                        observers.splice(i, 1);
                                    }
                                }
                            }
                            self._dirty = dirty;
                        },
                        disconnectAll: function (src, sig) {
                            src = MochiKit.DOM.getElement(src);
                            var m = MochiKit.Base;
                            var signals = m.flattenArguments(m.extend(null, arguments, 1));
                            var self = MochiKit.Signal;
                            var disconnect = self._disconnect;
                            var observers = self._observers;
                            var i, ident;
                            var locked = self._lock;
                            var dirty = self._dirty;
                            if (signals.length === 0) {
                                for (i = observers.length - 1; i >= 0; i--) {
                                    ident = observers[i];
                                    if (ident[0] === src) {
                                        disconnect(ident);
                                        if (!locked) {
                                            observers.splice(i, 1);
                                        } else {
                                            dirty = true;
                                        }
                                    }
                                }
                            } else {
                                var sigs = {};
                                for (i = 0; i < signals.length; i++) {
                                    sigs[signals[i]] = true;
                                }
                                for (i = observers.length - 1; i >= 0; i--) {
                                    ident = observers[i];
                                    if (ident[0] === src && ident[1] in sigs) {
                                        disconnect(ident);
                                        if (!locked) {
                                            observers.splice(i, 1);
                                        } else {
                                            dirty = true;
                                        }
                                    }
                                }
                            }
                            self._dirty = dirty;
                        },
                        signal: function (src, sig) {
                            var self = MochiKit.Signal;
                            var observers = self._observers;
                            src = MochiKit.DOM.getElement(src);
                            var args = MochiKit.Base.extend(null, arguments, 2);
                            var errors = [];
                            self._lock = true;
                            for (var i = 0; i < observers.length; i++) {
                                var ident = observers[i];
                                if (ident[0] === src && ident[1] === sig) {
                                    try {
                                        ident[2].apply(src, args);
                                    } catch (e) {
                                        errors.push(e);
                                    }
                                }
                            }
                            self._lock = false;
                            if (self._dirty) {
                                self._dirty = false;
                                for (var i = observers.length - 1; i >= 0; i--) {
                                    if (!observers[i][6]) {
                                        observers.splice(i, 1);
                                    }
                                }
                            }
                            if (errors.length == 1) {
                                throw errors[0];
                            } else if (errors.length > 1) {
                                var e = new Error("Multiple errors thrown in handling 'sig', see errors property");
                                e.errors = errors;
                                throw e;
                            }
                        }
                    });
                    MochiKit.Signal.EXPORT_OK = [];
                    MochiKit.Signal.EXPORT = ['connect', 'disconnect', 'signal', 'disconnectAll', 'disconnectAllTo'];
                    MochiKit.Signal.__new__ = function (win) {
                        var m = MochiKit.Base;
                        this._document = document;
                        this._window = win;
                        this._lock = false;
                        this._dirty = false;
                        try {
                            this.connect(window, 'onunload', this._unloadCache);
                        } catch (e) {}
                        this.EXPORT_TAGS = {
                            ':common': this.EXPORT,
                            ':all': m.concat(this.EXPORT, this.EXPORT_OK)
                        };
                        m.nameFunctions(this);
                    };
                    MochiKit.Signal.__new__(this);
                    if (MochiKit.__export__) {
                        connect = MochiKit.Signal.connect;
                        disconnect = MochiKit.Signal.disconnect;
                        disconnectAll = MochiKit.Signal.disconnectAll;
                        signal = MochiKit.Signal.signal;
                    }
                    MochiKit.Base._exportSymbols(this, MochiKit.Signal);
                    if (typeof (dojo) != 'undefined') {
                        dojo.provide('MochiKit.Format');
                    }
                    if (typeof (MochiKit) == 'undefined') {
                        MochiKit = {};
                    }
                    if (typeof (MochiKit.Format) == 'undefined') {
                        MochiKit.Format = {};
                    }
                    MochiKit.Format.NAME = "MochiKit.Format";
                    MochiKit.Format.VERSION = "1.4";
                    MochiKit.Format.__repr__ = function () {
                        return "[" + this.NAME + " " + this.VERSION + "]";
                    };
                    MochiKit.Format.toString = function () {
                        return this.__repr__();
                    };
                    MochiKit.Format._numberFormatter = function (placeholder, header, footer, locale, isPercent, precision, leadingZeros, separatorAt, trailingZeros) {
                        return function (num) {
                            num = parseFloat(num);
                            if (typeof (num) == "undefined" || num === null || isNaN(num)) {
                                return placeholder;
                            }
                            var curheader = header;
                            var curfooter = footer;
                            if (num < 0) {
                                num = -num;
                            } else {
                                curheader = curheader.replace(/-/, "");
                            }
                            var me = arguments.callee;
                            var fmt = MochiKit.Format.formatLocale(locale);
                            if (isPercent) {
                                num = num * 100.0;
                                curfooter = fmt.percent + curfooter;
                            }
                            num = MochiKit.Format.roundToFixed(num, precision);
                            var parts = num.split(/\./);
                            var whole = parts[0];
                            var frac = (parts.length == 1) ? "" : parts[1];
                            var res = "";
                            while (whole.length < leadingZeros) {
                                whole = "0" + whole;
                            }
                            if (separatorAt) {
                                while (whole.length > separatorAt) {
                                    var i = whole.length - separatorAt;
                                    res = fmt.separator + whole.substring(i, whole.length) + res;
                                    whole = whole.substring(0, i);
                                }
                            }
                            res = whole + res;
                            if (precision > 0) {
                                while (frac.length < trailingZeros) {
                                    frac = frac + "0";
                                }
                                res = res + fmt.decimal + frac;
                            }
                            return curheader + res + curfooter;
                        };
                    };
                    MochiKit.Format.numberFormatter = function (pattern, placeholder, locale) {
                        if (typeof (placeholder) == "undefined") {
                            placeholder = "";
                        }
                        var match = pattern.match(/((?:[0#]+,)?[0#]+)(?:\.([0#]+))?(%)?/);
                        if (!match) {
                            throw TypeError("Invalid pattern");
                        }
                        var header = pattern.substr(0, match.index);
                        var footer = pattern.substr(match.index + match[0].length);
                        if (header.search(/-/) == -1) {
                            header = header + "-";
                        }
                        var whole = match[1];
                        var frac = (typeof (match[2]) == "string" && match[2] != "") ? match[2] : "";
                        var isPercent = (typeof (match[3]) == "string" && match[3] != "");
                        var tmp = whole.split(/,/);
                        var separatorAt;
                        if (typeof (locale) == "undefined") {
                            locale = "default";
                        }
                        if (tmp.length == 1) {
                            separatorAt = null;
                        } else {
                            separatorAt = tmp[1].length;
                        }
                        var leadingZeros = whole.length - whole.replace(/0/g, "").length;
                        var trailingZeros = frac.length - frac.replace(/0/g, "").length;
                        var precision = frac.length;
                        var rval = MochiKit.Format._numberFormatter(placeholder, header, footer, locale, isPercent, precision, leadingZeros, separatorAt, trailingZeros);
                        var m = MochiKit.Base;
                        if (m) {
                            var fn = arguments.callee;
                            var args = m.concat(arguments);
                            rval.repr = function () {
                                return [self.NAME, "(", map(m.repr, args).join(", "), ")"].join("");
                            };
                        }
                        return rval;
                    };
                    MochiKit.Format.formatLocale = function (locale) {
                        if (typeof (locale) == "undefined" || locale === null) {
                            locale = "default";
                        }
                        if (typeof (locale) == "string") {
                            var rval = MochiKit.Format.LOCALE[locale];
                            if (typeof (rval) == "string") {
                                rval = arguments.callee(rval);
                                MochiKit.Format.LOCALE[locale] = rval;
                            }
                            return rval;
                        } else {
                            return locale;
                        }
                    };
                    MochiKit.Format.twoDigitAverage = function (numerator, denominator) {
                        if (denominator) {
                            var res = numerator / denominator;
                            if (!isNaN(res)) {
                                return MochiKit.Format.twoDigitFloat(numerator / denominator);
                            }
                        }
                        return "0";
                    };
                    MochiKit.Format.twoDigitFloat = function (someFloat) {
                        var sign = (someFloat < 0 ? '-' : '');
                        var s = Math.floor(Math.abs(someFloat) * 100).toString();
                        if (s == '0') {
                            return s;
                        }
                        if (s.length < 3) {
                            while (s.charAt(s.length - 1) == '0') {
                                s = s.substring(0, s.length - 1);
                            }
                            return sign + '0.' + s;
                        }
                        var head = sign + s.substring(0, s.length - 2);
                        var tail = s.substring(s.length - 2, s.length);
                        if (tail == '00') {
                            return head;
                        } else if (tail.charAt(1) == '0') {
                            return head + '.' + tail.charAt(0);
                        } else {
                            return head + '.' + tail;
                        }
                    };
                    MochiKit.Format.lstrip = function (str, chars) {
                        str = str + "";
                        if (typeof (str) != "string") {
                            return null;
                        }
                        if (!chars) {
                            return str.replace(/^\s+/, "");
                        } else {
                            return str.replace(new RegExp("^[" + chars + "]+"), "");
                        }
                    };
                    MochiKit.Format.rstrip = function (str, chars) {
                        str = str + "";
                        if (typeof (str) != "string") {
                            return null;
                        }
                        if (!chars) {
                            return str.replace(/\s+$/, "");
                        } else {
                            return str.replace(new RegExp("[" + chars + "]+$"), "");
                        }
                    };
                    MochiKit.Format.strip = function (str, chars) {
                        var self = MochiKit.Format;
                        return self.rstrip(self.lstrip(str, chars), chars);
                    };
                    MochiKit.Format.truncToFixed = function (aNumber, precision) {
                        aNumber = Math.floor(aNumber * Math.pow(10, precision));
                        var res = (aNumber * Math.pow(10, - precision)).toFixed(precision);
                        if (res.charAt(0) == ".") {
                            res = "0" + res;
                        }
                        return res;
                    };
                    MochiKit.Format.roundToFixed = function (aNumber, precision) {
                        return MochiKit.Format.truncToFixed(aNumber + 0.5 * Math.pow(10, - precision), precision);
                    };
                    MochiKit.Format.percentFormat = function (someFloat) {
                        return MochiKit.Format.twoDigitFloat(100 * someFloat) + '%';
                    };
                    MochiKit.Format.EXPORT = ["truncToFixed", "roundToFixed", "numberFormatter", "formatLocale", "twoDigitAverage", "twoDigitFloat", "percentFormat", "lstrip", "rstrip", "strip"];
                    MochiKit.Format.LOCALE = {
                        en_US: {
                            separator: ",",
                            decimal: ".",
                            percent: "%"
                        },
                        de_DE: {
                            separator: ".",
                            decimal: ",",
                            percent: "%"
                        },
                        fr_FR: {
                            separator: " ",
                            decimal: ",",
                            percent: "%"
                        },
                        "default": "en_US"
                    };
                    MochiKit.Format.EXPORT_OK = [];
                    MochiKit.Format.EXPORT_TAGS = {
                        ':all': MochiKit.Format.EXPORT,
                        ':common': MochiKit.Format.EXPORT
                    };
                    MochiKit.Format.__new__ = function () {
                        var base = this.NAME + ".";
                        var k, v, o;
                        for (k in this.LOCALE) {
                            o = this.LOCALE[k];
                            if (typeof (o) == "object") {
                                o.repr = function () {
                                    return this.NAME;
                                };
                                o.NAME = base + "LOCALE." + k;
                            }
                        }
                        for (k in this) {
                            o = this[k];
                            if (typeof (o) == 'function' && typeof (o.NAME) == 'undefined') {
                                try {
                                    o.NAME = base + k;
                                } catch (e) {}
                            }
                        }
                    };
                    MochiKit.Format.__new__();
                    if (typeof (MochiKit.Base) != "undefined") {
                        MochiKit.Base._exportSymbols(this, MochiKit.Format);
                    } else {
                        (function (globals, module) {
                            if ((typeof (JSAN) == 'undefined' && typeof (dojo) == 'undefined') || (MochiKit.__export__ === false)) {
                                var all = module.EXPORT_TAGS[":all"];
                                for (var i = 0; i < all.length; i++) {
                                    globals[all[i]] = module[all[i]];
                                }
                            }
                        })(this, MochiKit.Format);
                    }
                    if (typeof (dojo) != 'undefined') {
                        dojo.provide("MochiKit.Async");
                        dojo.require("MochiKit.Base");
                    }
                    if (typeof (JSAN) != 'undefined') {
                        JSAN.use("MochiKit.Base", []);
                    }
                    try {
                        if (typeof (MochiKit.Base) == 'undefined') {
                            throw "";
                        }
                    } catch (e) {
                        throw "MochiKit.Async depends on MochiKit.Base!";
                    }
                    if (typeof (MochiKit.Async) == 'undefined') {
                        MochiKit.Async = {};
                    }
                    MochiKit.Async.NAME = "MochiKit.Async";
                    MochiKit.Async.VERSION = "1.4";
                    MochiKit.Async.__repr__ = function () {
                        return "[" + this.NAME + " " + this.VERSION + "]";
                    };
                    MochiKit.Async.toString = function () {
                        return this.__repr__();
                    };
                    MochiKit.Async.Deferred = function (canceller) {
                        this.chain = [];
                        this.id = this._nextId();
                        this.fired = -1;
                        this.paused = 0;
                        this.results = [null, null];
                        this.canceller = canceller;
                        this.silentlyCancelled = false;
                        this.chained = false;
                    };
                    MochiKit.Async.Deferred.prototype = {
                        repr: function () {
                            var state;
                            if (this.fired == -1) {
                                state = 'unfired';
                            } else if (this.fired === 0) {
                                state = 'success';
                            } else {
                                state = 'error';
                            }
                            return 'Deferred(' + this.id + ', ' + state + ')';
                        },
                        toString: MochiKit.Base.forwardCall("repr"),
                        _nextId: MochiKit.Base.counter(),
                        cancel: function () {
                            var self = MochiKit.Async;
                            if (this.fired == -1) {
                                if (this.canceller) {
                                    this.canceller(this);
                                } else {
                                    this.silentlyCancelled = true;
                                }
                                if (this.fired == -1) {
                                    this.errback(new self.CancelledError(this));
                                }
                            } else if ((this.fired === 0) && (this.results[0] instanceof self.Deferred)) {
                                this.results[0].cancel();
                            }
                        },
                        _resback: function (res) {
                            this.fired = ((res instanceof Error) ? 1 : 0);
                            this.results[this.fired] = res;
                            this._fire();
                        },
                        _check: function () {
                            if (this.fired != -1) {
                                if (!this.silentlyCancelled) {
                                    throw new MochiKit.Async.AlreadyCalledError(this);
                                }
                                this.silentlyCancelled = false;
                                return;
                            }
                        },
                        callback: function (res) {
                            this._check();
                            if (res instanceof MochiKit.Async.Deferred) {
                                throw new Error("Deferred instances can only be chained if they are the result of a callback");
                            }
                            this._resback(res);
                        },
                        errback: function (res) {
                            this._check();
                            var self = MochiKit.Async;
                            if (res instanceof self.Deferred) {
                                throw new Error("Deferred instances can only be chained if they are the result of a callback");
                            }
                            if (!(res instanceof Error)) {
                                res = new self.GenericError(res);
                            }
                            this._resback(res);
                        },
                        addBoth: function (fn) {
                            if (arguments.length > 1) {
                                fn = MochiKit.Base.partial.apply(null, arguments);
                            }
                            return this.addCallbacks(fn, fn);
                        },
                        addCallback: function (fn) {
                            if (arguments.length > 1) {
                                fn = MochiKit.Base.partial.apply(null, arguments);
                            }
                            return this.addCallbacks(fn, null);
                        },
                        addErrback: function (fn) {
                            if (arguments.length > 1) {
                                fn = MochiKit.Base.partial.apply(null, arguments);
                            }
                            return this.addCallbacks(null, fn);
                        },
                        addCallbacks: function (cb, eb) {
                            if (this.chained) {
                                throw new Error("Chained Deferreds can not be re-used");
                            }
                            this.chain.push([cb, eb]);
                            if (this.fired >= 0) {
                                this._fire();
                            }
                            return this;
                        },
                        _fire: function () {
                            var chain = this.chain;
                            var fired = this.fired;
                            var res = this.results[fired];
                            var self = this;
                            var cb = null;
                            while (chain.length > 0 && this.paused === 0) {
                                var pair = chain.shift();
                                var f = pair[fired];
                                if (f === null) {
                                    continue;
                                }
                                try {
                                    res = f(res);
                                    fired = ((res instanceof Error) ? 1 : 0);
                                    if (res instanceof MochiKit.Async.Deferred) {
                                        cb = function (res) {
                                            self._resback(res);
                                            self.paused--;
                                            if ((self.paused === 0) && (self.fired >= 0)) {
                                                self._fire();
                                            }
                                        };
                                        this.paused++;
                                    }
                                } catch (err) {
                                    fired = 1;
                                    if (!(err instanceof Error)) {
                                        err = new MochiKit.Async.GenericError(err);
                                    }
                                    res = err;
                                }
                            }
                            this.fired = fired;
                            this.results[fired] = res;
                            if (cb && this.paused) {
                                res.addBoth(cb);
                                res.chained = true;
                            }
                        }
                    };
                    MochiKit.Base.update(MochiKit.Async, {
                        evalJSONRequest: function () {
                            return eval('(' + arguments[0].responseText + ')');
                        },
                        succeed: function (result) {
                            var d = new MochiKit.Async.Deferred();
                            d.callback.apply(d, arguments);
                            return d;
                        },
                        fail: function (result) {
                            var d = new MochiKit.Async.Deferred();
                            d.errback.apply(d, arguments);
                            return d;
                        },
                        getXMLHttpRequest: function () {
                            var self = arguments.callee;
                            if (!self.XMLHttpRequest) {
                                var tryThese = [function () {
                                    return new XMLHttpRequest();
                                }, function () {
                                    return new ActiveXObject('Msxml2.XMLHTTP');
                                }, function () {
                                    return new ActiveXObject('Microsoft.XMLHTTP');
                                }, function () {
                                    return new ActiveXObject('Msxml2.XMLHTTP.4.0');
                                }, function () {
                                    throw new MochiKit.Async.BrowserComplianceError("Browser does not support XMLHttpRequest");
                                }];
                                for (var i = 0; i < tryThese.length; i++) {
                                    var func = tryThese[i];
                                    try {
                                        self.XMLHttpRequest = func;
                                        return func();
                                    } catch (e) {}
                                }
                            }
                            return self.XMLHttpRequest();
                        },
                        _xhr_onreadystatechange: function (d) {
                            var m = MochiKit.Base;
                            if (this.readyState == 4) {
                                try {
                                    this.onreadystatechange = null;
                                } catch (e) {
                                    try {
                                        this.onreadystatechange = m.noop;
                                    } catch (e) {}
                                }
                                var status = null;
                                try {
                                    status = this.status;
                                    if (!status && m.isNotEmpty(this.responseText)) {
                                        status = 304;
                                    }
                                } catch (e) {}
                                if (status == 200 || status == 201 || status == 204 || status == 304 || status == 1223) {
                                    d.callback(this);
                                } else {
                                    var err = new MochiKit.Async.XMLHttpRequestError(this, "Request failed");
                                    if (err.number) {
                                        d.errback(err);
                                    } else {
                                        d.errback(err);
                                    }
                                }
                            }
                        },
                        _xhr_canceller: function (req) {
                            try {
                                req.onreadystatechange = null;
                            } catch (e) {
                                try {
                                    req.onreadystatechange = MochiKit.Base.noop;
                                } catch (e) {}
                            }
                            req.abort();
                        },
                        sendXMLHttpRequest: function (req, sendContent) {
                            if (typeof (sendContent) == "undefined" || sendContent === null) {
                                sendContent = "";
                            }
                            var m = MochiKit.Base;
                            var self = MochiKit.Async;
                            var d = new self.Deferred(m.partial(self._xhr_canceller, req));
                            try {
                                req.onreadystatechange = m.bind(self._xhr_onreadystatechange, req, d);
                                req.send(sendContent);
                            } catch (e) {
                                try {
                                    req.onreadystatechange = null;
                                } catch (ignore) {}
                                d.errback(e);
                            }
                            return d;
                        },
                        doXHR: function (url, opts) {
                            var m = MochiKit.Base;
                            opts = m.update({
                                method: 'GET',
                                sendContent: ''
                            }, opts);
                            var self = MochiKit.Async;
                            var req = self.getXMLHttpRequest();
                            if (opts.queryString) {
                                var qs = m.queryString(opts.queryString);
                                if (qs) {
                                    url += "?" + qs;
                                }
                            }
                            req.open(opts.method, url, true, opts.username, opts.password);
                            if (req.overrideMimeType && opts.mimeType) {
                                req.overrideMimeType(opts.mimeType);
                            }
                            if (opts.headers) {
                                var headers = opts.headers;
                                if (!m.isArrayLike(headers)) {
                                    headers = m.items(headers);
                                }
                                for (var i = 0; i < headers.length; i++) {
                                    var header = headers[i];
                                    var name = header[0];
                                    var value = header[1];
                                    req.setRequestHeader(name, value);
                                }
                            }
                            return self.sendXMLHttpRequest(req, opts.sendContent);
                        },
                        _buildURL: function (url) {
                            if (arguments.length > 1) {
                                var m = MochiKit.Base;
                                var qs = m.queryString.apply(null, m.extend(null, arguments, 1));
                                if (qs) {
                                    return url + "?" + qs;
                                }
                            }
                            return url;
                        },
                        doSimpleXMLHttpRequest: function (url) {
                            var self = MochiKit.Async;
                            url = self._buildURL.apply(self, arguments);
                            return self.doXHR(url);
                        },
                        loadJSONDoc: function (url) {
                            var self = MochiKit.Async;
                            url = self._buildURL.apply(self, arguments);
                            var d = self.doXHR(url, {
                                'mimeType': 'text/plain',
                                'headers': [
                                    ['Accept', 'application/json']
                                ]
                            });
                            d = d.addCallback(self.evalJSONRequest);
                            return d;
                        },
                        wait: function (seconds, value) {
                            var d = new MochiKit.Async.Deferred();
                            var m = MochiKit.Base;
                            if (typeof (value) != 'undefined') {
                                d.addCallback(function () {
                                    return value;
                                });
                            }
                            var timeout = setTimeout(m.bind("callback", d), Math.floor(seconds * 1000));
                            d.canceller = function () {
                                try {
                                    clearTimeout(timeout);
                                } catch (e) {}
                            };
                            return d;
                        },
                        callLater: function (seconds, func) {
                            var m = MochiKit.Base;
                            var pfunc = m.partial.apply(m, m.extend(null, arguments, 1));
                            return MochiKit.Async.wait(seconds).addCallback(function (res) {
                                return pfunc();
                            });
                        }
                    });
                    MochiKit.Async.DeferredLock = function () {
                        this.waiting = [];
                        this.locked = false;
                        this.id = this._nextId();
                    };
                    MochiKit.Async.DeferredLock.prototype = {
                        __class__: MochiKit.Async.DeferredLock,
                        acquire: function () {
                            var d = new MochiKit.Async.Deferred();
                            if (this.locked) {
                                this.waiting.push(d);
                            } else {
                                this.locked = true;
                                d.callback(this);
                            }
                            return d;
                        },
                        release: function () {
                            if (!this.locked) {
                                throw TypeError("Tried to release an unlocked DeferredLock");
                            }
                            this.locked = false;
                            if (this.waiting.length > 0) {
                                this.locked = true;
                                this.waiting.shift().callback(this);
                            }
                        },
                        _nextId: MochiKit.Base.counter(),
                        repr: function () {
                            var state;
                            if (this.locked) {
                                state = 'locked, ' + this.waiting.length + ' waiting';
                            } else {
                                state = 'unlocked';
                            }
                            return 'DeferredLock(' + this.id + ', ' + state + ')';
                        },
                        toString: MochiKit.Base.forwardCall("repr")
                    };
                    MochiKit.Async.DeferredList = function (list, fireOnOneCallback, fireOnOneErrback, consumeErrors, canceller) {
                        MochiKit.Async.Deferred.apply(this, [canceller]);
                        this.list = list;
                        var resultList = [];
                        this.resultList = resultList;
                        this.finishedCount = 0;
                        this.fireOnOneCallback = fireOnOneCallback;
                        this.fireOnOneErrback = fireOnOneErrback;
                        this.consumeErrors = consumeErrors;
                        var cb = MochiKit.Base.bind(this._cbDeferred, this);
                        for (var i = 0; i < list.length; i++) {
                            var d = list[i];
                            resultList.push(undefined);
                            d.addCallback(cb, i, true);
                            d.addErrback(cb, i, false);
                        }
                        if (list.length === 0 && !fireOnOneCallback) {
                            this.callback(this.resultList);
                        }
                    };
                    MochiKit.Async.DeferredList.prototype = new MochiKit.Async.Deferred();
                    MochiKit.Async.DeferredList.prototype._cbDeferred = function (index, succeeded, result) {
                        this.resultList[index] = [succeeded, result];
                        this.finishedCount += 1;
                        if (this.fired == -1) {
                            if (succeeded && this.fireOnOneCallback) {
                                this.callback([index, result]);
                            } else if (!succeeded && this.fireOnOneErrback) {
                                this.errback(result);
                            } else if (this.finishedCount == this.list.length) {
                                this.callback(this.resultList);
                            }
                        }
                        if (!succeeded && this.consumeErrors) {
                            result = null;
                        }
                        return result;
                    };
                    MochiKit.Async.gatherResults = function (deferredList) {
                        var d = new MochiKit.Async.DeferredList(deferredList, false, true, false);
                        d.addCallback(function (results) {
                            var ret = [];
                            for (var i = 0; i < results.length; i++) {
                                ret.push(results[i][1]);
                            }
                            return ret;
                        });
                        return d;
                    };
                    MochiKit.Async.maybeDeferred = function (func) {
                        var self = MochiKit.Async;
                        var result;
                        try {
                            var r = func.apply(null, MochiKit.Base.extend([], arguments, 1));
                            if (r instanceof self.Deferred) {
                                result = r;
                            } else if (r instanceof Error) {
                                result = self.fail(r);
                            } else {
                                result = self.succeed(r);
                            }
                        } catch (e) {
                            result = self.fail(e);
                        }
                        return result;
                    };
                    MochiKit.Async.EXPORT = ["AlreadyCalledError", "CancelledError", "BrowserComplianceError", "GenericError", "XMLHttpRequestError", "Deferred", "succeed", "fail", "getXMLHttpRequest", "doSimpleXMLHttpRequest", "loadJSONDoc", "wait", "callLater", "sendXMLHttpRequest", "DeferredLock", "DeferredList", "gatherResults", "maybeDeferred", "doXHR"];
                    MochiKit.Async.EXPORT_OK = ["evalJSONRequest"];
                    MochiKit.Async.__new__ = function () {
                        var m = MochiKit.Base;
                        var ne = m.partial(m._newNamedError, this);
                        ne("AlreadyCalledError", function (deferred) {
                            this.deferred = deferred;
                        });
                        ne("CancelledError", function (deferred) {
                            this.deferred = deferred;
                        });
                        ne("BrowserComplianceError", function (msg) {
                            this.message = msg;
                        });
                        ne("GenericError", function (msg) {
                            this.message = msg;
                        });
                        ne("XMLHttpRequestError", function (req, msg) {
                            this.req = req;
                            this.message = msg;
                            try {
                                this.number = req.status;
                            } catch (e) {}
                        });
                        this.EXPORT_TAGS = {
                            ":common": this.EXPORT,
                            ":all": m.concat(this.EXPORT, this.EXPORT_OK)
                        };
                        m.nameFunctions(this);
                    };
                    MochiKit.Async.__new__();
                    MochiKit.Base._exportSymbols(this, MochiKit.Async);
                    if (typeof (dojo) != 'undefined') {
                        dojo.provide('MochiKit.Selector');
                        dojo.require('MochiKit.Base');
                        dojo.require('MochiKit.DOM');
                        dojo.require('MochiKit.Iter');
                    }
                    if (typeof (JSAN) != 'undefined') {
                        JSAN.use("MochiKit.Base", []);
                        JSAN.use("MochiKit.DOM", []);
                        JSAN.use("MochiKit.Iter", []);
                    }
                    try {
                        if (typeof (MochiKit.Base) === 'undefined' || typeof (MochiKit.DOM) === 'undefined' || typeof (MochiKit.Iter) === 'undefined') {
                            throw "";
                        }
                    } catch (e) {
                        throw "MochiKit.Selector depends on MochiKit.Base, MochiKit.DOM and MochiKit.Iter!";
                    }
                    if (typeof (MochiKit.Selector) == 'undefined') {
                        MochiKit.Selector = {};
                    }
                    MochiKit.Selector.NAME = "MochiKit.Selector";
                    MochiKit.Selector.VERSION = "1.4";
                    MochiKit.Selector.__repr__ = function () {
                        return "[" + this.NAME + " " + this.VERSION + "]";
                    };
                    MochiKit.Selector.toString = function () {
                        return this.__repr__();
                    };
                    MochiKit.Selector.EXPORT = ["Selector", "findChildElements", "findDocElements", "$$"];
                    MochiKit.Selector.EXPORT_OK = [];
                    MochiKit.Selector.Selector = function (expression) {
                        this.params = {
                            classNames: [],
                            pseudoClassNames: []
                        };
                        this.expression = expression.toString().replace(/(^\s+|\s+$)/g, '');
                        this.parseExpression();
                        this.compileMatcher();
                    };
                    MochiKit.Selector.Selector.prototype = {
                        __class__: MochiKit.Selector.Selector,
                        parseExpression: function () {
                            function abort(message) {
                                throw 'Parse error in selector: ' + message;
                            }
                            if (this.expression == '') {
                                abort('empty expression');
                            }
                            var repr = MochiKit.Base.repr;
                            var params = this.params;
                            var expr = this.expression;
                            var match, modifier, clause, rest;
                            while (match = expr.match(/^(.*)\[([a-z0-9_:-]+?)(?:([~\|!^$*]?=)(?:"([^"]*)"|([^\]\s]*)))?\]$/i)) {
                                params.attributes = params.attributes || [];
                                params.attributes.push({
                                    name: match[2],
                                    operator: match[3],
                                    value: match[4] || match[5] || ''
                                });
                                expr = match[1];
                            }
                            if (expr == '*') {
                                return this.params.wildcard = true;
                            }
                            while (match = expr.match(/^([^a-z0-9_-])?([a-z0-9_-]+(?:\([^)]*\))?)(.*)/i)) {
                                modifier = match[1];
                                clause = match[2];
                                rest = match[3];
                                switch (modifier) {
                                case '#':
                                    params.id = clause;
                                    break;
                                case '.':
                                    params.classNames.push(clause);
                                    break;
                                case ':':
                                    params.pseudoClassNames.push(clause);
                                    break;
                                case '':
                                case undefined:
                                    params.tagName = clause.toUpperCase();
                                    break;
                                default:
                                    abort(repr(expr));
                                }
                                expr = rest;
                            }
                            if (expr.length > 0) {
                                abort(repr(expr));
                            }
                        },
                        buildMatchExpression: function () {
                            var repr = MochiKit.Base.repr;
                            var params = this.params;
                            var conditions = [];
                            var clause, i;

                            function childElements(element) {
                                return "MochiKit.Base.filter(function (node) { return node.nodeType == 1; }, " + element + ".childNodes)";
                            }
                            if (params.wildcard) {
                                conditions.push('true');
                            }
                            if (clause = params.id) {
                                conditions.push('element.id == ' + repr(clause));
                            }
                            if (clause = params.tagName) {
                                conditions.push('element.tagName.toUpperCase() == ' + repr(clause));
                            }
                            if ((clause = params.classNames).length > 0) {
                                for (i = 0; i < clause.length; i++) {
                                    conditions.push('MochiKit.DOM.hasElementClass(element, ' + repr(clause[i]) + ')');
                                }
                            }
                            if ((clause = params.pseudoClassNames).length > 0) {
                                for (i = 0; i < clause.length; i++) {
                                    var match = clause[i].match(/^([^(]+)(?:\((.*)\))?$/);
                                    var pseudoClass = match[1];
                                    var pseudoClassArgument = match[2];
                                    switch (pseudoClass) {
                                    case 'root':
                                        conditions.push('element.nodeType == 9 || element === element.ownerDocument.documentElement');
                                        break;
                                    case 'nth-child':
                                    case 'nth-last-child':
                                    case 'nth-of-type':
                                    case 'nth-last-of-type':
                                        match = pseudoClassArgument.match(/^((?:(\d+)n\+)?(\d+)|odd|even)$/);
                                        if (!match) {
                                            throw "Invalid argument to pseudo element nth-child: " + pseudoClassArgument;
                                        }
                                        var a, b;
                                        if (match[0] == 'odd') {
                                            a = 2;
                                            b = 1;
                                        } else if (match[0] == 'even') {
                                            a = 2;
                                            b = 0;
                                        } else {
                                            a = match[2] && parseInt(match) || null;
                                            b = parseInt(match[3]);
                                        }
                                        conditions.push('this.nthChild(element,' + a + ',' + b + ',' + !! pseudoClass.match('^nth-last') + ',' + !! pseudoClass.match('of-type$') + ')');
                                        break;
                                    case 'first-child':
                                        conditions.push('this.nthChild(element, null, 1)');
                                        break;
                                    case 'last-child':
                                        conditions.push('this.nthChild(element, null, 1, true)');
                                        break;
                                    case 'first-of-type':
                                        conditions.push('this.nthChild(element, null, 1, false, true)');
                                        break;
                                    case 'last-of-type':
                                        conditions.push('this.nthChild(element, null, 1, true, true)');
                                        break;
                                    case 'only-child':
                                        conditions.push(childElements('element.parentNode') + '.length == 1');
                                        break;
                                    case 'only-of-type':
                                        conditions.push('MochiKit.Base.filter(function (node) { return node.tagName == element.tagName; }, ' + childElements('element.parentNode') + ').length == 1');
                                        break;
                                    case 'empty':
                                        conditions.push('element.childNodes.length == 0');
                                        break;
                                    case 'enabled':
                                        conditions.push('(this.isUIElement(element) && element.disabled === false)');
                                        break;
                                    case 'disabled':
                                        conditions.push('(this.isUIElement(element) && element.disabled === true)');
                                        break;
                                    case 'checked':
                                        conditions.push('(this.isUIElement(element) && element.checked === true)');
                                        break;
                                    case 'not':
                                        var subselector = new MochiKit.Selector.Selector(pseudoClassArgument);
                                        conditions.push('!( ' + subselector.buildMatchExpression() + ')')
                                        break;
                                    }
                                }
                            }
                            if (clause = params.attributes) {
                                MochiKit.Base.map(function (attribute) {
                                    var value = 'MochiKit.DOM.getNodeAttribute(element, ' + repr(attribute.name) + ')';
                                    var splitValueBy = function (delimiter) {
                                        return value + ' && ' + value + '.split(' + repr(delimiter) + ')';
                                    }
                                    switch (attribute.operator) {
                                    case '=':
                                        conditions.push(value + ' == ' + repr(attribute.value));
                                        break;
                                    case '~=':
                                        conditions.push('MochiKit.Base.findValue(' + splitValueBy(' ') + ', ' + repr(attribute.value) + ') > -1');
                                        break;
                                    case '^=':
                                        conditions.push(value + '.substring(0, ' + attribute.value.length + ') == ' + repr(attribute.value));
                                        break;
                                    case '$=':
                                        conditions.push(value + '.substring(' + value + '.length - ' + attribute.value.length + ') == ' + repr(attribute.value));
                                        break;
                                    case '*=':
                                        conditions.push(value + '.match(' + repr(attribute.value) + ')');
                                        break;
                                    case '|=':
                                        conditions.push(splitValueBy('-') + '[0].toUpperCase() == ' + repr(attribute.value.toUpperCase()));
                                        break;
                                    case '!=':
                                        conditions.push(value + ' != ' + repr(attribute.value));
                                        break;
                                    case '':
                                    case undefined:
                                        conditions.push(value + ' != null');
                                        break;
                                    default:
                                        throw 'Unknown operator ' + attribute.operator + ' in selector';
                                    }
                                }, clause);
                            }
                            return conditions.join(' && ');
                        },
                        compileMatcher: function () {
                            this.match = new Function('element', 'if (!element.tagName) return false; \
                return ' + this.buildMatchExpression());
                        },
                        nthChild: function (element, a, b, reverse, sametag) {
                            var siblings = MochiKit.Base.filter(function (node) {
                                return node.nodeType == 1;
                            }, element.parentNode.childNodes);
                            if (sametag) {
                                siblings = MochiKit.Base.filter(function (node) {
                                    return node.tagName == element.tagName;
                                }, siblings);
                            }
                            if (reverse) {
                                siblings = MochiKit.Iter.reversed(siblings);
                            }
                            if (a) {
                                var actualIndex = MochiKit.Base.findIdentical(siblings, element);
                                return ((actualIndex + 1 - b) / a) % 1 == 0;
                            } else {
                                return b == MochiKit.Base.findIdentical(siblings, element) + 1;
                            }
                        },
                        isUIElement: function (element) {
                            return findValue(['input', 'button', 'select', 'option', 'textarea', 'object'], element.tagName.toLowerCase()) > -1;
                        },
                        findElements: function (scope, axis) {
                            var element;
                            if (axis == undefined) {
                                axis = "";
                            }

                            function inScope(element, scope) {
                                if (axis == "") {
                                    return MochiKit.DOM.isChildNode(element, scope);
                                } else if (axis == ">") {
                                    return element.parentNode == scope;
                                } else if (axis == "+") {
                                    return element == nextSiblingElement(scope);
                                } else if (axis == "~") {
                                    var sibling = scope;
                                    while (sibling = nextSiblingElement(sibling)) {
                                        if (element == sibling) {
                                            return true;
                                        }
                                    }
                                    return false;
                                } else {
                                    throw "Invalid axis: " + axis;
                                }
                            }
                            if (element = MochiKit.DOM.getElement(this.params.id)) {
                                if (this.match(element)) {
                                    if (!scope || inScope(element, scope)) {
                                        return [element];
                                    }
                                }
                            }

                            function nextSiblingElement(node) {
                                node = node.nextSibling;
                                while (node && node.nodeType != 1) {
                                    node = node.nextSibling;
                                }
                                return node;
                            }
                            if (axis == "") {
                                scope = (scope || currentDocument()).getElementsByTagName(this.params.tagName || '*');
                            } else if (axis == ">") {
                                if (!scope) {
                                    throw "> combinator not allowed without preceeding expression";
                                }
                                scope = MochiKit.Base.filter(function (node) {
                                    return node.nodeType == 1;
                                }, scope.childNodes);
                            } else if (axis == "+") {
                                if (!scope) {
                                    throw "+ combinator not allowed without preceeding expression";
                                }
                                scope = nextSiblingElement(scope) && [nextSiblingElement(scope)];
                            } else if (axis == "~") {
                                if (!scope) {
                                    throw "~ combinator not allowed without preceeding expression";
                                }
                                var newscope = [];
                                while (nextSiblingElement(scope)) {
                                    scope = nextSiblingElement(scope);
                                    newscope.push(scope);
                                }
                                scope = newscope;
                            }
                            if (!scope) {
                                return [];
                            }
                            var results = MochiKit.Base.filter(MochiKit.Base.bind(function (scopeElt) {
                                return this.match(scopeElt);
                            }, this), scope);
                            return results;
                        },
                        repr: function () {
                            return 'Selector(' + this.expression + ')';
                        },
                        toString: MochiKit.Base.forwardCall("repr")
                    };
                    MochiKit.Base.update(MochiKit.Selector, {
                        findChildElements: function (element, expressions) {
                            return MochiKit.Base.flattenArray(MochiKit.Base.map(function (expression) {
                                var nextScope = "";
                                return MochiKit.Iter.reduce(function (results, expr) {
                                    if (match = expr.match(/^[>+~]$/)) {
                                        nextScope = match[0];
                                        return results;
                                    } else {
                                        var selector = new MochiKit.Selector.Selector(expr);
                                        var elements = MochiKit.Iter.reduce(function (elements, result) {
                                            return MochiKit.Base.extend(elements, selector.findElements(result || element, nextScope));
                                        }, results, []);
                                        nextScope = "";
                                        return elements;
                                    }
                                }, expression.replace(/(^\s+|\s+$)/g, '').split(/\s+/), [null]);
                            }, expressions));
                        },
                        findDocElements: function () {
                            return MochiKit.Selector.findChildElements(MochiKit.DOM.currentDocument(), arguments);
                        },
                        __new__: function () {
                            var m = MochiKit.Base;
                            this.$$ = this.findDocElements;
                            this.EXPORT_TAGS = {
                                ":common": this.EXPORT,
                                ":all": m.concat(this.EXPORT, this.EXPORT_OK)
                            };
                            m.nameFunctions(this);
                        }
                    });
                    MochiKit.Selector.__new__();
                    MochiKit.Base._exportSymbols(this, MochiKit.Selector);
                    if (typeof (dojo) != 'undefined') {
                        dojo.provide('MochiKit.Logging');
                        dojo.require('MochiKit.Base');
                    }
                    if (typeof (JSAN) != 'undefined') {
                        JSAN.use("MochiKit.Base", []);
                    }
                    try {
                        if (typeof (MochiKit.Base) == 'undefined') {
                            throw "";
                        }
                    } catch (e) {
                        throw "MochiKit.Logging depends on MochiKit.Base!";
                    }
                    if (typeof (MochiKit.Logging) == 'undefined') {
                        MochiKit.Logging = {};
                    }
                    MochiKit.Logging.NAME = "MochiKit.Logging";
                    MochiKit.Logging.VERSION = "1.4";
                    MochiKit.Logging.__repr__ = function () {
                        return "[" + this.NAME + " " + this.VERSION + "]";
                    };
                    MochiKit.Logging.toString = function () {
                        return this.__repr__();
                    };
                    MochiKit.Logging.EXPORT = ["LogLevel", "LogMessage", "Logger", "alertListener", "logger", "log", "logError", "logDebug", "logFatal", "logWarning"];
                    MochiKit.Logging.EXPORT_OK = ["logLevelAtLeast", "isLogMessage", "compareLogMessage"];
                    MochiKit.Logging.LogMessage = function (num, level, info) {
                        this.num = num;
                        this.level = level;
                        this.info = info;
                        this.timestamp = new Date();
                    };
                    MochiKit.Logging.LogMessage.prototype = {
                        repr: function () {
                            var m = MochiKit.Base;
                            return 'LogMessage(' + m.map(m.repr, [this.num, this.level, this.info]).join(', ') + ')';
                        },
                        toString: MochiKit.Base.forwardCall("repr")
                    };
                    MochiKit.Base.update(MochiKit.Logging, {
                        logLevelAtLeast: function (minLevel) {
                            var self = MochiKit.Logging;
                            if (typeof (minLevel) == 'string') {
                                minLevel = self.LogLevel[minLevel];
                            }
                            return function (msg) {
                                var msgLevel = msg.level;
                                if (typeof (msgLevel) == 'string') {
                                    msgLevel = self.LogLevel[msgLevel];
                                }
                                return msgLevel >= minLevel;
                            };
                        },
                        isLogMessage: function () {
                            var LogMessage = MochiKit.Logging.LogMessage;
                            for (var i = 0; i < arguments.length; i++) {
                                if (!(arguments[i] instanceof LogMessage)) {
                                    return false;
                                }
                            }
                            return true;
                        },
                        compareLogMessage: function (a, b) {
                            return MochiKit.Base.compare([a.level, a.info], [b.level, b.info]);
                        },
                        alertListener: function (msg) {
                            alert("num: " + msg.num + "\nlevel: " + msg.level + "\ninfo: " + msg.info.join(" "));
                        }
                    });
                    MochiKit.Logging.Logger = function (maxSize) {
                        this.counter = 0;
                        if (typeof (maxSize) == 'undefined' || maxSize === null) {
                            maxSize = -1;
                        }
                        this.maxSize = maxSize;
                        this._messages = [];
                        this.listeners = {};
                        this.useNativeConsole = false;
                    };
                    MochiKit.Logging.Logger.prototype = {
                        clear: function () {
                            this._messages.splice(0, this._messages.length);
                        },
                        logToConsole: function (msg) {
                            if (typeof (window) != "undefined" && window.console && window.console.log) {
                                window.console.log(msg.replace(/%/g, '\uFF05'));
                            } else if (typeof (opera) != "undefined" && opera.postError) {
                                opera.postError(msg);
                            } else if (typeof (printfire) == "function") {
                                printfire(msg);
                            } else if (typeof (Debug) != "undefined" && Debug.writeln) {
                                Debug.writeln(msg);
                            } else if (typeof (debug) != "undefined" && debug.trace) {
                                debug.trace(msg);
                            }
                        },
                        dispatchListeners: function (msg) {
                            for (var k in this.listeners) {
                                var pair = this.listeners[k];
                                if (pair.ident != k || (pair[0] && !pair[0](msg))) {
                                    continue;
                                }
                                pair[1](msg);
                            }
                        },
                        addListener: function (ident, filter, listener) {
                            if (typeof (filter) == 'string') {
                                filter = MochiKit.Logging.logLevelAtLeast(filter);
                            }
                            var entry = [filter, listener];
                            entry.ident = ident;
                            this.listeners[ident] = entry;
                        },
                        removeListener: function (ident) {
                            delete this.listeners[ident];
                        },
                        baseLog: function (level, message) {
                            var msg = new MochiKit.Logging.LogMessage(this.counter, level, MochiKit.Base.extend(null, arguments, 1));
                            this._messages.push(msg);
                            this.dispatchListeners(msg);
                            if (this.useNativeConsole) {
                                this.logToConsole(msg.level + ": " + msg.info.join(" "));
                            }
                            this.counter += 1;
                            while (this.maxSize >= 0 && this._messages.length > this.maxSize) {
                                this._messages.shift();
                            }
                        },
                        getMessages: function (howMany) {
                            var firstMsg = 0;
                            if (!(typeof (howMany) == 'undefined' || howMany === null)) {
                                firstMsg = Math.max(0, this._messages.length - howMany);
                            }
                            return this._messages.slice(firstMsg);
                        },
                        getMessageText: function (howMany) {
                            if (typeof (howMany) == 'undefined' || howMany === null) {
                                howMany = 30;
                            }
                            var messages = this.getMessages(howMany);
                            if (messages.length) {
                                var lst = map(function (m) {
                                    return '\n  [' + m.num + '] ' + m.level + ': ' + m.info.join(' ');
                                }, messages);
                                lst.unshift('LAST ' + messages.length + ' MESSAGES:');
                                return lst.join('');
                            }
                            return '';
                        },
                        debuggingBookmarklet: function (inline) {
                            if (typeof (MochiKit.LoggingPane) == "undefined") {
                                alert(this.getMessageText());
                            } else {
                                MochiKit.LoggingPane.createLoggingPane(inline || false);
                            }
                        }
                    };
                    MochiKit.Logging.__new__ = function () {
                        this.LogLevel = {
                            ERROR: 40,
                            FATAL: 50,
                            WARNING: 30,
                            INFO: 20,
                            DEBUG: 10
                        };
                        var m = MochiKit.Base;
                        m.registerComparator("LogMessage", this.isLogMessage, this.compareLogMessage);
                        var partial = m.partial;
                        var Logger = this.Logger;
                        var baseLog = Logger.prototype.baseLog;
                        m.update(this.Logger.prototype, {
                            debug: partial(baseLog, 'DEBUG'),
                            log: partial(baseLog, 'INFO'),
                            error: partial(baseLog, 'ERROR'),
                            fatal: partial(baseLog, 'FATAL'),
                            warning: partial(baseLog, 'WARNING')
                        });
                        var self = this;
                        var connectLog = function (name) {
                            return function () {
                                self.logger[name].apply(self.logger, arguments);
                            };
                        };
                        this.log = connectLog('log');
                        this.logError = connectLog('error');
                        this.logDebug = connectLog('debug');
                        this.logFatal = connectLog('fatal');
                        this.logWarning = connectLog('warning');
                        this.logger = new Logger();
                        this.logger.useNativeConsole = true;
                        this.EXPORT_TAGS = {
                            ":common": this.EXPORT,
                            ":all": m.concat(this.EXPORT, this.EXPORT_OK)
                        };
                        m.nameFunctions(this);
                    };
                    if (typeof (printfire) == "undefined" && typeof (document) != "undefined" && document.createEvent && typeof (dispatchEvent) != "undefined") {
                        printfire = function () {
                            printfire.args = arguments;
                            var ev = document.createEvent("Events");
                            ev.initEvent("printfire", false, true);
                            dispatchEvent(ev);
                        };
                    }
                    MochiKit.Logging.__new__();
                    MochiKit.Base._exportSymbols(this, MochiKit.Logging);
                    if (typeof (dojo) != 'undefined') {
                        dojo.provide('MochiKit.LoggingPane');
                        dojo.require('MochiKit.Logging');
                        dojo.require('MochiKit.Base');
                    }
                    if (typeof (JSAN) != 'undefined') {
                        JSAN.use("MochiKit.Logging", []);
                        JSAN.use("MochiKit.Base", []);
                    }
                    try {
                        if (typeof (MochiKit.Base) == 'undefined' || typeof (MochiKit.Logging) == 'undefined') {
                            throw "";
                        }
                    } catch (e) {
                        throw "MochiKit.LoggingPane depends on MochiKit.Base and MochiKit.Logging!";
                    }
                    if (typeof (MochiKit.LoggingPane) == 'undefined') {
                        MochiKit.LoggingPane = {};
                    }
                    MochiKit.LoggingPane.NAME = "MochiKit.LoggingPane";
                    MochiKit.LoggingPane.VERSION = "1.4";
                    MochiKit.LoggingPane.__repr__ = function () {
                        return "[" + this.NAME + " " + this.VERSION + "]";
                    };
                    MochiKit.LoggingPane.toString = function () {
                        return this.__repr__();
                    };
                    MochiKit.LoggingPane.createLoggingPane = function (inline) {
                        var m = MochiKit.LoggingPane;
                        inline = !(!inline);
                        if (m._loggingPane && m._loggingPane.inline != inline) {
                            m._loggingPane.closePane();
                            m._loggingPane = null;
                        }
                        if (!m._loggingPane || m._loggingPane.closed) {
                            m._loggingPane = new m.LoggingPane(inline, MochiKit.Logging.logger);
                        }
                        return m._loggingPane;
                    };
                    MochiKit.LoggingPane.LoggingPane = function (inline, logger) {
                        if (typeof (logger) == "undefined" || logger === null) {
                            logger = MochiKit.Logging.logger;
                        }
                        this.logger = logger;
                        var update = MochiKit.Base.update;
                        var updatetree = MochiKit.Base.updatetree;
                        var bind = MochiKit.Base.bind;
                        var clone = MochiKit.Base.clone;
                        var win = window;
                        var uid = "_MochiKit_LoggingPane";
                        if (typeof (MochiKit.DOM) != "undefined") {
                            win = MochiKit.DOM.currentWindow();
                        }
                        if (!inline) {
                            var url = win.location.href.split("?")[0].replace(/[#:\/.><&-]/g, "_");
                            var name = uid + "_" + url;
                            var nwin = win.open("", name, "dependent,resizable,height=200");
                            if (!nwin) {
                                alert("Not able to open debugging window due to pop-up blocking.");
                                return undefined;
                            }
                            nwin.document.write('<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" ' + '"http://www.w3.org/TR/html4/loose.dtd">' + '<html><head><title>[MochiKit.LoggingPane]</title></head>' + '<body></body></html>');
                            nwin.document.close();
                            nwin.document.title += ' ' + win.document.title;
                            win = nwin;
                        }
                        var doc = win.document;
                        this.doc = doc;
                        var debugPane = doc.getElementById(uid);
                        var existing_pane = !! debugPane;
                        if (debugPane && typeof (debugPane.loggingPane) != "undefined") {
                            debugPane.loggingPane.logger = this.logger;
                            debugPane.loggingPane.buildAndApplyFilter();
                            return debugPane.loggingPane;
                        }
                        if (existing_pane) {
                            var child;
                            while ((child = debugPane.firstChild)) {
                                debugPane.removeChild(child);
                            }
                        } else {
                            debugPane = doc.createElement("div");
                            debugPane.id = uid;
                        }
                        debugPane.loggingPane = this;
                        var levelFilterField = doc.createElement("input");
                        var infoFilterField = doc.createElement("input");
                        var filterButton = doc.createElement("button");
                        var loadButton = doc.createElement("button");
                        var clearButton = doc.createElement("button");
                        var closeButton = doc.createElement("button");
                        var logPaneArea = doc.createElement("div");
                        var logPane = doc.createElement("div");
                        var listenerId = uid + "_Listener";
                        this.colorTable = clone(this.colorTable);
                        var messages = [];
                        var messageFilter = null;
                        var messageLevel = function (msg) {
                            var level = msg.level;
                            if (typeof (level) == "number") {
                                level = MochiKit.Logging.LogLevel[level];
                            }
                            return level;
                        };
                        var messageText = function (msg) {
                            return msg.info.join(" ");
                        };
                        var addMessageText = bind(function (msg) {
                            var level = messageLevel(msg);
                            var text = messageText(msg);
                            var c = this.colorTable[level];
                            var p = doc.createElement("span");
                            p.className = "MochiKit-LogMessage MochiKit-LogLevel-" + level;
                            p.style.cssText = "margin: 0px; white-space: -moz-pre-wrap; white-space: -o-pre-wrap; white-space: pre-wrap; white-space: pre-line; word-wrap: break-word; wrap-option: emergency; color: " + c;
                            p.appendChild(doc.createTextNode(level + ": " + text));
                            logPane.appendChild(p);
                            logPane.appendChild(doc.createElement("br"));
                            if (logPaneArea.offsetHeight > logPaneArea.scrollHeight) {
                                logPaneArea.scrollTop = 0;
                            } else {
                                logPaneArea.scrollTop = logPaneArea.scrollHeight;
                            }
                        }, this);
                        var addMessage = function (msg) {
                            messages[messages.length] = msg;
                            addMessageText(msg);
                        };
                        var buildMessageFilter = function () {
                            var levelre, infore;
                            try {
                                levelre = new RegExp(levelFilterField.value);
                                infore = new RegExp(infoFilterField.value);
                            } catch (e) {
                                logDebug("Error in filter regex: " + e.message);
                                return null;
                            }
                            return function (msg) {
                                return (levelre.test(messageLevel(msg)) && infore.test(messageText(msg)));
                            };
                        };
                        var clearMessagePane = function () {
                            while (logPane.firstChild) {
                                logPane.removeChild(logPane.firstChild);
                            }
                        };
                        var clearMessages = function () {
                            messages = [];
                            clearMessagePane();
                        };
                        var closePane = bind(function () {
                            if (this.closed) {
                                return;
                            }
                            this.closed = true;
                            if (MochiKit.LoggingPane._loggingPane == this) {
                                MochiKit.LoggingPane._loggingPane = null;
                            }
                            this.logger.removeListener(listenerId);
                            try {
                                try {
                                    debugPane.loggingPane = null;
                                } catch (e) {
                                    logFatal("Bookmarklet was closed incorrectly.");
                                }
                                if (inline) {
                                    debugPane.parentNode.removeChild(debugPane);
                                } else {
                                    this.win.close();
                                }
                            } catch (e) {}
                        }, this);
                        var filterMessages = function () {
                            clearMessagePane();
                            for (var i = 0; i < messages.length; i++) {
                                var msg = messages[i];
                                if (messageFilter === null || messageFilter(msg)) {
                                    addMessageText(msg);
                                }
                            }
                        };
                        this.buildAndApplyFilter = function () {
                            messageFilter = buildMessageFilter();
                            filterMessages();
                            this.logger.removeListener(listenerId);
                            this.logger.addListener(listenerId, messageFilter, addMessage);
                        };
                        var loadMessages = bind(function () {
                            messages = this.logger.getMessages();
                            filterMessages();
                        }, this);
                        var filterOnEnter = bind(function (event) {
                            event = event || window.event;
                            key = event.which || event.keyCode;
                            if (key == 13) {
                                this.buildAndApplyFilter();
                            }
                        }, this);
                        var style = "display: block; z-index: 1000; left: 0px; bottom: 0px; position: fixed; width: 100%; background-color: white; font: " + this.logFont;
                        if (inline) {
                            style += "; height: 10em; border-top: 2px solid black";
                        } else {
                            style += "; height: 100%;";
                        }
                        debugPane.style.cssText = style;
                        if (!existing_pane) {
                            doc.body.appendChild(debugPane);
                        }
                        style = {
                            "cssText": "width: 33%; display: inline; font: " + this.logFont
                        };
                        updatetree(levelFilterField, {
                            "value": "FATAL|ERROR|WARNING|INFO|DEBUG",
                            "onkeypress": filterOnEnter,
                            "style": style
                        });
                        debugPane.appendChild(levelFilterField);
                        updatetree(infoFilterField, {
                            "value": ".*",
                            "onkeypress": filterOnEnter,
                            "style": style
                        });
                        debugPane.appendChild(infoFilterField);
                        style = "width: 8%; display:inline; font: " + this.logFont;
                        filterButton.appendChild(doc.createTextNode("Filter"));
                        filterButton.onclick = bind("buildAndApplyFilter", this);
                        filterButton.style.cssText = style;
                        debugPane.appendChild(filterButton);
                        loadButton.appendChild(doc.createTextNode("Load"));
                        loadButton.onclick = loadMessages;
                        loadButton.style.cssText = style;
                        debugPane.appendChild(loadButton);
                        clearButton.appendChild(doc.createTextNode("Clear"));
                        clearButton.onclick = clearMessages;
                        clearButton.style.cssText = style;
                        debugPane.appendChild(clearButton);
                        closeButton.appendChild(doc.createTextNode("Close"));
                        closeButton.onclick = closePane;
                        closeButton.style.cssText = style;
                        debugPane.appendChild(closeButton);
                        logPaneArea.style.cssText = "overflow: auto; width: 100%";
                        logPane.style.cssText = "width: 100%; height: " + (inline ? "8em" : "100%");
                        logPaneArea.appendChild(logPane);
                        debugPane.appendChild(logPaneArea);
                        this.buildAndApplyFilter();
                        loadMessages();
                        if (inline) {
                            this.win = undefined;
                        } else {
                            this.win = win;
                        }
                        this.inline = inline;
                        this.closePane = closePane;
                        this.closed = false;
                        return this;
                    };
                    MochiKit.LoggingPane.LoggingPane.prototype = {
                        "logFont": "8pt Verdana,sans-serif",
                        "colorTable": {
                            "ERROR": "red",
                            "FATAL": "darkred",
                            "WARNING": "blue",
                            "INFO": "black",
                            "DEBUG": "green"
                        }
                    };
                    MochiKit.LoggingPane.EXPORT_OK = ["LoggingPane"];
                    MochiKit.LoggingPane.EXPORT = ["createLoggingPane"];
                    MochiKit.LoggingPane.__new__ = function () {
                        this.EXPORT_TAGS = {
                            ":common": this.EXPORT,
                            ":all": MochiKit.Base.concat(this.EXPORT, this.EXPORT_OK)
                        };
                        MochiKit.Base.nameFunctions(this);
                        MochiKit.LoggingPane._loggingPane = null;
                    };
                    MochiKit.LoggingPane.__new__();
                    MochiKit.Base._exportSymbols(this, MochiKit.LoggingPane);
                    if (typeof YAHOO == "undefined") {
                        var YAHOO = {};
                    }
                    YAHOO.namespace = function () {
                        var a = arguments,
                            o = null,
                            i, j, d;
                        for (i = 0; i < a.length; ++i) {
                            d = a[i].split(".");
                            o = YAHOO;
                            for (j = (d[0] == "YAHOO") ? 1 : 0; j < d.length; ++j) {
                                o[d[j]] = o[d[j]] || {};
                                o = o[d[j]];
                            }
                        }
                        return o;
                    };
                    YAHOO.log = function (msg, cat, src) {
                        var l = YAHOO.widget.Logger;
                        if (l && l.log) {
                            return l.log(msg, cat, src);
                        } else {
                            return false;
                        }
                    };
                    YAHOO.extend = function (subc, superc, overrides) {
                        var F = function () {};
                        F.prototype = superc.prototype;
                        subc.prototype = new F();
                        subc.prototype.constructor = subc;
                        subc.superclass = superc.prototype;
                        if (superc.prototype.constructor == Object.prototype.constructor) {
                            superc.prototype.constructor = superc;
                        }
                        if (overrides) {
                            for (var i in overrides) {
                                subc.prototype[i] = overrides[i];
                            }
                        }
                    };
                    YAHOO.augment = function (r, s) {
                        var rp = r.prototype,
                            sp = s.prototype,
                            a = arguments,
                            i, p;
                        if (a[2]) {
                            for (i = 2; i < a.length; ++i) {
                                rp[a[i]] = sp[a[i]];
                            }
                        } else {
                            for (p in sp) {
                                if (!rp[p]) {
                                    rp[p] = sp[p];
                                }
                            }
                        }
                    };
                    YAHOO.namespace("util", "widget", "example");
                    YAHOO.util.Anim = function (el, attributes, duration, method) {
                        if (el) {
                            this.init(el, attributes, duration, method);
                        }
                    };
                    YAHOO.util.Anim.prototype = {
                        toString: function () {
                            var el = this.getEl();
                            var id = el.id || el.tagName;
                            return ("Anim " + id);
                        },
                        patterns: {
                            noNegatives: /width|height|opacity|padding/i,
                            offsetAttribute: /^((width|height)|(top|left))$/,
                            defaultUnit: /width|height|top$|bottom$|left$|right$/i,
                            offsetUnit: /\d+(em|%|en|ex|pt|in|cm|mm|pc)$/i
                        },
                        doMethod: function (attr, start, end) {
                            return this.method(this.currentFrame, start, end - start, this.totalFrames);
                        },
                        setAttribute: function (attr, val, unit) {
                            if (this.patterns.noNegatives.test(attr)) {
                                val = (val > 0) ? val : 0;
                            }
                            YAHOO.util.Dom.setStyle(this.getEl(), attr, val + unit);
                        },
                        getAttribute: function (attr) {
                            var el = this.getEl();
                            var val = YAHOO.util.Dom.getStyle(el, attr);
                            if (val !== 'auto' && !this.patterns.offsetUnit.test(val)) {
                                return parseFloat(val);
                            }
                            var a = this.patterns.offsetAttribute.exec(attr) || [];
                            var pos = !! (a[3]);
                            var box = !! (a[2]);
                            if (box || (YAHOO.util.Dom.getStyle(el, 'position') == 'absolute' && pos)) {
                                val = el['offset' + a[0].charAt(0).toUpperCase() + a[0].substr(1)];
                            } else {
                                val = 0;
                            }
                            return val;
                        },
                        getDefaultUnit: function (attr) {
                            if (this.patterns.defaultUnit.test(attr)) {
                                return 'px';
                            }
                            return '';
                        },
                        setRuntimeAttribute: function (attr) {
                            var start;
                            var end;
                            var attributes = this.attributes;
                            this.runtimeAttributes[attr] = {};
                            var isset = function (prop) {
                                return (typeof prop !== 'undefined');
                            };
                            if (!isset(attributes[attr]['to']) && !isset(attributes[attr]['by'])) {
                                return false;
                            }
                            start = (isset(attributes[attr]['from'])) ? attributes[attr]['from'] : this.getAttribute(attr);
                            if (isset(attributes[attr]['to'])) {
                                end = attributes[attr]['to'];
                            } else if (isset(attributes[attr]['by'])) {
                                if (start.constructor == Array) {
                                    end = [];
                                    for (var i = 0, len = start.length; i < len; ++i) {
                                        end[i] = start[i] + attributes[attr]['by'][i];
                                    }
                                } else {
                                    end = start + attributes[attr]['by'];
                                }
                            }
                            this.runtimeAttributes[attr].start = start;
                            this.runtimeAttributes[attr].end = end;
                            this.runtimeAttributes[attr].unit = (isset(attributes[attr].unit)) ? attributes[attr]['unit'] : this.getDefaultUnit(attr);
                        },
                        init: function (el, attributes, duration, method) {
                            var isAnimated = false;
                            var startTime = null;
                            var actualFrames = 0;
                            el = YAHOO.util.Dom.get(el);
                            this.attributes = attributes || {};
                            this.duration = duration || 1;
                            this.method = method || YAHOO.util.Easing.easeNone;
                            this.useSeconds = true;
                            this.currentFrame = 0;
                            this.totalFrames = YAHOO.util.AnimMgr.fps;
                            this.getEl = function () {
                                return el;
                            };
                            this.isAnimated = function () {
                                return isAnimated;
                            };
                            this.getStartTime = function () {
                                return startTime;
                            };
                            this.runtimeAttributes = {};
                            this.animate = function () {
                                if (this.isAnimated()) {
                                    return false;
                                }
                                this.currentFrame = 0;
                                this.totalFrames = (this.useSeconds) ? Math.ceil(YAHOO.util.AnimMgr.fps * this.duration) : this.duration;
                                YAHOO.util.AnimMgr.registerElement(this);
                            };
                            this.stop = function (finish) {
                                if (finish) {
                                    this.currentFrame = this.totalFrames;
                                    this._onTween.fire();
                                }
                                YAHOO.util.AnimMgr.stop(this);
                            };
                            var onStart = function () {
                                this.onStart.fire();
                                this.runtimeAttributes = {};
                                for (var attr in this.attributes) {
                                    this.setRuntimeAttribute(attr);
                                }
                                isAnimated = true;
                                actualFrames = 0;
                                startTime = new Date();
                            };
                            var onTween = function () {
                                var data = {
                                    duration: new Date() - this.getStartTime(),
                                    currentFrame: this.currentFrame
                                };
                                data.toString = function () {
                                    return ('duration: ' + data.duration + ', currentFrame: ' + data.currentFrame);
                                };
                                this.onTween.fire(data);
                                var runtimeAttributes = this.runtimeAttributes;
                                for (var attr in runtimeAttributes) {
                                    this.setAttribute(attr, this.doMethod(attr, runtimeAttributes[attr].start, runtimeAttributes[attr].end), runtimeAttributes[attr].unit);
                                }
                                actualFrames += 1;
                            };
                            var onComplete = function () {
                                var actual_duration = (new Date() - startTime) / 1000;
                                var data = {
                                    duration: actual_duration,
                                    frames: actualFrames,
                                    fps: actualFrames / actual_duration
                                };
                                data.toString = function () {
                                    return ('duration: ' + data.duration + ', frames: ' + data.frames + ', fps: ' + data.fps);
                                };
                                isAnimated = false;
                                actualFrames = 0;
                                this.onComplete.fire(data);
                            };
                            this._onStart = new YAHOO.util.CustomEvent('_start', this, true);
                            this.onStart = new YAHOO.util.CustomEvent('start', this);
                            this.onTween = new YAHOO.util.CustomEvent('tween', this);
                            this._onTween = new YAHOO.util.CustomEvent('_tween', this, true);
                            this.onComplete = new YAHOO.util.CustomEvent('complete', this);
                            this._onComplete = new YAHOO.util.CustomEvent('_complete', this, true);
                            this._onStart.subscribe(onStart);
                            this._onTween.subscribe(onTween);
                            this._onComplete.subscribe(onComplete);
                        }
                    };
                    YAHOO.util.AnimMgr = new function () {
                        var thread = null;
                        var queue = [];
                        var tweenCount = 0;
                        this.fps = 200;
                        this.delay = 1;
                        this.registerElement = function (tween) {
                            queue[queue.length] = tween;
                            tweenCount += 1;
                            tween._onStart.fire();
                            this.start();
                        };
                        this.unRegister = function (tween, index) {
                            tween._onComplete.fire();
                            index = index || getIndex(tween);
                            if (index != -1) {
                                queue.splice(index, 1);
                            }
                            tweenCount -= 1;
                            if (tweenCount <= 0) {
                                this.stop();
                            }
                        };
                        this.start = function () {
                            if (thread === null) {
                                thread = setInterval(this.run, this.delay);
                            }
                        };
                        this.stop = function (tween) {
                            if (!tween) {
                                clearInterval(thread);
                                for (var i = 0, len = queue.length; i < len; ++i) {
                                    if (queue[i].isAnimated()) {
                                        this.unRegister(tween, i);
                                    }
                                }
                                queue = [];
                                thread = null;
                                tweenCount = 0;
                            } else {
                                this.unRegister(tween);
                            }
                        };
                        this.run = function () {
                            for (var i = 0, len = queue.length; i < len; ++i) {
                                var tween = queue[i];
                                if (!tween || !tween.isAnimated()) {
                                    continue;
                                }
                                if (tween.currentFrame < tween.totalFrames || tween.totalFrames === null) {
                                    tween.currentFrame += 1;
                                    if (tween.useSeconds) {
                                        correctFrame(tween);
                                    }
                                    tween._onTween.fire();
                                } else {
                                    YAHOO.util.AnimMgr.stop(tween, i);
                                }
                            }
                        };
                        var getIndex = function (anim) {
                            for (var i = 0, len = queue.length; i < len; ++i) {
                                if (queue[i] == anim) {
                                    return i;
                                }
                            }
                            return -1;
                        };
                        var correctFrame = function (tween) {
                            var frames = tween.totalFrames;
                            var frame = tween.currentFrame;
                            var expected = (tween.currentFrame * tween.duration * 1000 / tween.totalFrames);
                            var elapsed = (new Date() - tween.getStartTime());
                            var tweak = 0;
                            if (elapsed < tween.duration * 1000) {
                                tweak = Math.round((elapsed / expected - 1) * tween.currentFrame);
                            } else {
                                tweak = frames - (frame + 1);
                            }
                            if (tweak > 0 && isFinite(tweak)) {
                                if (tween.currentFrame + tweak >= frames) {
                                    tweak = frames - (frame + 1);
                                }
                                tween.currentFrame += tweak;
                            }
                        };
                    };
                    YAHOO.util.Bezier = new function () {
                        this.getPosition = function (points, t) {
                            var n = points.length;
                            var tmp = [];
                            for (var i = 0; i < n; ++i) {
                                tmp[i] = [points[i][0], points[i][1]];
                            }
                            for (var j = 1; j < n; ++j) {
                                for (i = 0; i < n - j; ++i) {
                                    tmp[i][0] = (1 - t) * tmp[i][0] + t * tmp[parseInt(i + 1, 10)][0];
                                    tmp[i][1] = (1 - t) * tmp[i][1] + t * tmp[parseInt(i + 1, 10)][1];
                                }
                            }
                            return [tmp[0][0], tmp[0][1]];
                        };
                    };
                    (function () {
                        YAHOO.util.ColorAnim = function (el, attributes, duration, method) {
                            YAHOO.util.ColorAnim.superclass.constructor.call(this, el, attributes, duration, method);
                        };
                        YAHOO.extend(YAHOO.util.ColorAnim, YAHOO.util.Anim);
                        var Y = YAHOO.util;
                        var superclass = Y.ColorAnim.superclass;
                        var proto = Y.ColorAnim.prototype;
                        proto.toString = function () {
                            var el = this.getEl();
                            var id = el.id || el.tagName;
                            return ("ColorAnim " + id);
                        };
                        proto.patterns.color = /color$/i;
                        proto.patterns.rgb = /^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i;
                        proto.patterns.hex = /^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i;
                        proto.patterns.hex3 = /^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i;
                        proto.patterns.transparent = /^transparent|rgba\(0, 0, 0, 0\)$/;
                        proto.parseColor = function (s) {
                            if (s.length == 3) {
                                return s;
                            }
                            var c = this.patterns.hex.exec(s);
                            if (c && c.length == 4) {
                                return [parseInt(c[1], 16), parseInt(c[2], 16), parseInt(c[3], 16)];
                            }
                            c = this.patterns.rgb.exec(s);
                            if (c && c.length == 4) {
                                return [parseInt(c[1], 10), parseInt(c[2], 10), parseInt(c[3], 10)];
                            }
                            c = this.patterns.hex3.exec(s);
                            if (c && c.length == 4) {
                                return [parseInt(c[1] + c[1], 16), parseInt(c[2] + c[2], 16), parseInt(c[3] + c[3], 16)];
                            }
                            return null;
                        };
                        proto.getAttribute = function (attr) {
                            var el = this.getEl();
                            if (this.patterns.color.test(attr)) {
                                var val = YAHOO.util.Dom.getStyle(el, attr);
                                if (this.patterns.transparent.test(val)) {
                                    var parent = el.parentNode;
                                    val = Y.Dom.getStyle(parent, attr);
                                    while (parent && this.patterns.transparent.test(val)) {
                                        parent = parent.parentNode;
                                        val = Y.Dom.getStyle(parent, attr);
                                        if (parent.tagName.toUpperCase() == 'HTML') {
                                            val = '#fff';
                                        }
                                    }
                                }
                            } else {
                                val = superclass.getAttribute.call(this, attr);
                            }
                            return val;
                        };
                        proto.doMethod = function (attr, start, end) {
                            var val;
                            if (this.patterns.color.test(attr)) {
                                val = [];
                                for (var i = 0, len = start.length; i < len; ++i) {
                                    val[i] = superclass.doMethod.call(this, attr, start[i], end[i]);
                                }
                                val = 'rgb(' + Math.floor(val[0]) + ',' + Math.floor(val[1]) + ',' + Math.floor(val[2]) + ')';
                            } else {
                                val = superclass.doMethod.call(this, attr, start, end);
                            }
                            return val;
                        };
                        proto.setRuntimeAttribute = function (attr) {
                            superclass.setRuntimeAttribute.call(this, attr);
                            if (this.patterns.color.test(attr)) {
                                var attributes = this.attributes;
                                var start = this.parseColor(this.runtimeAttributes[attr].start);
                                var end = this.parseColor(this.runtimeAttributes[attr].end);
                                if (typeof attributes[attr]['to'] === 'undefined' && typeof attributes[attr]['by'] !== 'undefined') {
                                    end = this.parseColor(attributes[attr].by);
                                    for (var i = 0, len = start.length; i < len; ++i) {
                                        end[i] = start[i] + end[i];
                                    }
                                }
                                this.runtimeAttributes[attr].start = start;
                                this.runtimeAttributes[attr].end = end;
                            }
                        };
                    })();
                    YAHOO.util.Easing = {
                        easeNone: function (t, b, c, d) {
                            return c * t / d + b;
                        },
                        easeIn: function (t, b, c, d) {
                            return c * (t /= d) * t + b;
                        },
                        easeOut: function (t, b, c, d) {
                            return -c * (t /= d) * (t - 2) + b;
                        },
                        easeBoth: function (t, b, c, d) {
                            if ((t /= d / 2) < 1) return c / 2 * t * t + b;
                            return -c / 2 * ((--t) * (t - 2) - 1) + b;
                        },
                        easeInStrong: function (t, b, c, d) {
                            return c * (t /= d) * t * t * t + b;
                        },
                        easeOutStrong: function (t, b, c, d) {
                            return -c * ((t = t / d - 1) * t * t * t - 1) + b;
                        },
                        easeBothStrong: function (t, b, c, d) {
                            if ((t /= d / 2) < 1) return c / 2 * t * t * t * t + b;
                            return -c / 2 * ((t -= 2) * t * t * t - 2) + b;
                        },
                        elasticIn: function (t, b, c, d, a, p) {
                            if (t == 0) return b;
                            if ((t /= d) == 1) return b + c;
                            if (!p) p = d * .3;
                            if (!a || a < Math.abs(c)) {
                                a = c;
                                var s = p / 4;
                            } else var s = p / (2 * Math.PI) * Math.asin(c / a);
                            return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;
                        },
                        elasticOut: function (t, b, c, d, a, p) {
                            if (t == 0) return b;
                            if ((t /= d) == 1) return b + c;
                            if (!p) p = d * .3;
                            if (!a || a < Math.abs(c)) {
                                a = c;
                                var s = p / 4;
                            } else var s = p / (2 * Math.PI) * Math.asin(c / a);
                            return a * Math.pow(2, - 10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;
                        },
                        elasticBoth: function (t, b, c, d, a, p) {
                            if (t == 0) return b;
                            if ((t /= d / 2) == 2) return b + c;
                            if (!p) p = d * (.3 * 1.5);
                            if (!a || a < Math.abs(c)) {
                                a = c;
                                var s = p / 4;
                            } else var s = p / (2 * Math.PI) * Math.asin(c / a);
                            if (t < 1) return -.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;
                            return a * Math.pow(2, - 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * .5 + c + b;
                        },
                        backIn: function (t, b, c, d, s) {
                            if (typeof s == 'undefined') s = 1.70158;
                            return c * (t /= d) * t * ((s + 1) * t - s) + b;
                        },
                        backOut: function (t, b, c, d, s) {
                            if (typeof s == 'undefined') s = 1.70158;
                            return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;
                        },
                        backBoth: function (t, b, c, d, s) {
                            if (typeof s == 'undefined') s = 1.70158;
                            if ((t /= d / 2) < 1) return c / 2 * (t * t * (((s *= (1.525)) + 1) * t - s)) + b;
                            return c / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2) + b;
                        },
                        bounceIn: function (t, b, c, d) {
                            return c - YAHOO.util.Easing.bounceOut(d - t, 0, c, d) + b;
                        },
                        bounceOut: function (t, b, c, d) {
                            if ((t /= d) < (1 / 2.75)) {
                                return c * (7.5625 * t * t) + b;
                            } else if (t < (2 / 2.75)) {
                                return c * (7.5625 * (t -= (1.5 / 2.75)) * t + .75) + b;
                            } else if (t < (2.5 / 2.75)) {
                                return c * (7.5625 * (t -= (2.25 / 2.75)) * t + .9375) + b;
                            } else {
                                return c * (7.5625 * (t -= (2.625 / 2.75)) * t + .984375) + b;
                            }
                        },
                        bounceBoth: function (t, b, c, d) {
                            if (t < d / 2) return YAHOO.util.Easing.bounceIn(t * 2, 0, c, d) * .5 + b;
                            return YAHOO.util.Easing.bounceOut(t * 2 - d, 0, c, d) * .5 + c * .5 + b;
                        }
                    };
                    (function () {
                        YAHOO.util.Motion = function (el, attributes, duration, method) {
                            if (el) {
                                YAHOO.util.Motion.superclass.constructor.call(this, el, attributes, duration, method);
                            }
                        };
                        YAHOO.extend(YAHOO.util.Motion, YAHOO.util.ColorAnim);
                        var Y = YAHOO.util;
                        var superclass = Y.Motion.superclass;
                        var proto = Y.Motion.prototype;
                        proto.toString = function () {
                            var el = this.getEl();
                            var id = el.id || el.tagName;
                            return ("Motion " + id);
                        };
                        proto.patterns.points = /^points$/i;
                        proto.setAttribute = function (attr, val, unit) {
                            if (this.patterns.points.test(attr)) {
                                unit = unit || 'px';
                                superclass.setAttribute.call(this, 'left', val[0], unit);
                                superclass.setAttribute.call(this, 'top', val[1], unit);
                            } else {
                                superclass.setAttribute.call(this, attr, val, unit);
                            }
                        };
                        proto.getAttribute = function (attr) {
                            if (this.patterns.points.test(attr)) {
                                var val = [superclass.getAttribute.call(this, 'left'), superclass.getAttribute.call(this, 'top')];
                            } else {
                                val = superclass.getAttribute.call(this, attr);
                            }
                            return val;
                        };
                        proto.doMethod = function (attr, start, end) {
                            var val = null;
                            if (this.patterns.points.test(attr)) {
                                var t = this.method(this.currentFrame, 0, 100, this.totalFrames) / 100;
                                val = Y.Bezier.getPosition(this.runtimeAttributes[attr], t);
                            } else {
                                val = superclass.doMethod.call(this, attr, start, end);
                            }
                            return val;
                        };
                        proto.setRuntimeAttribute = function (attr) {
                            if (this.patterns.points.test(attr)) {
                                var el = this.getEl();
                                var attributes = this.attributes;
                                var start;
                                var control = attributes['points']['control'] || [];
                                var end;
                                var i, len;
                                if (control.length > 0 && !(control[0] instanceof Array)) {
                                    control = [control];
                                } else {
                                    var tmp = [];
                                    for (i = 0, len = control.length; i < len; ++i) {
                                        tmp[i] = control[i];
                                    }
                                    control = tmp;
                                }
                                if (Y.Dom.getStyle(el, 'position') == 'static') {
                                    Y.Dom.setStyle(el, 'position', 'relative');
                                }
                                if (isset(attributes['points']['from'])) {
                                    Y.Dom.setXY(el, attributes['points']['from']);
                                } else {
                                    Y.Dom.setXY(el, Y.Dom.getXY(el));
                                }
                                start = this.getAttribute('points');
                                if (isset(attributes['points']['to'])) {
                                    end = translateValues.call(this, attributes['points']['to'], start);
                                    var pageXY = Y.Dom.getXY(this.getEl());
                                    for (i = 0, len = control.length; i < len; ++i) {
                                        control[i] = translateValues.call(this, control[i], start);
                                    }
                                } else if (isset(attributes['points']['by'])) {
                                    end = [start[0] + attributes['points']['by'][0], start[1] + attributes['points']['by'][1]];
                                    for (i = 0, len = control.length; i < len; ++i) {
                                        control[i] = [start[0] + control[i][0], start[1] + control[i][1]];
                                    }
                                }
                                this.runtimeAttributes[attr] = [start];
                                if (control.length > 0) {
                                    this.runtimeAttributes[attr] = this.runtimeAttributes[attr].concat(control);
                                }
                                this.runtimeAttributes[attr][this.runtimeAttributes[attr].length] = end;
                            } else {
                                superclass.setRuntimeAttribute.call(this, attr);
                            }
                        };
                        var translateValues = function (val, start) {
                            var pageXY = Y.Dom.getXY(this.getEl());
                            val = [val[0] - pageXY[0] + start[0], val[1] - pageXY[1] + start[1]];
                            return val;
                        };
                        var isset = function (prop) {
                            return (typeof prop !== 'undefined');
                        };
                    })();
                    (function () {
                        YAHOO.util.Scroll = function (el, attributes, duration, method) {
                            if (el) {
                                YAHOO.util.Scroll.superclass.constructor.call(this, el, attributes, duration, method);
                            }
                        };
                        YAHOO.extend(YAHOO.util.Scroll, YAHOO.util.ColorAnim);
                        var Y = YAHOO.util;
                        var superclass = Y.Scroll.superclass;
                        var proto = Y.Scroll.prototype;
                        proto.toString = function () {
                            var el = this.getEl();
                            var id = el.id || el.tagName;
                            return ("Scroll " + id);
                        };
                        proto.doMethod = function (attr, start, end) {
                            var val = null;
                            if (attr == 'scroll') {
                                val = [this.method(this.currentFrame, start[0], end[0] - start[0], this.totalFrames), this.method(this.currentFrame, start[1], end[1] - start[1], this.totalFrames)];
                            } else {
                                val = superclass.doMethod.call(this, attr, start, end);
                            }
                            return val;
                        };
                        proto.getAttribute = function (attr) {
                            var val = null;
                            var el = this.getEl();
                            if (attr == 'scroll') {
                                val = [el.scrollLeft, el.scrollTop];
                            } else {
                                val = superclass.getAttribute.call(this, attr);
                            }
                            return val;
                        };
                        proto.setAttribute = function (attr, val, unit) {
                            var el = this.getEl();
                            if (attr == 'scroll') {
                                el.scrollLeft = val[0];
                                el.scrollTop = val[1];
                            } else {
                                superclass.setAttribute.call(this, attr, val, unit);
                            }
                        };
                    })();
                    YAHOO.util.CustomEvent = function (type, oScope, silent, signature) {
                        this.type = type;
                        this.scope = oScope || window;
                        this.silent = silent;
                        this.signature = signature || YAHOO.util.CustomEvent.LIST;
                        this.subscribers = [];
                        if (!this.silent) {}
                        var onsubscribeType = "_YUICEOnSubscribe";
                        if (type !== onsubscribeType) {
                            this.subscribeEvent = new YAHOO.util.CustomEvent(onsubscribeType, this, true);
                        }
                    };
                    YAHOO.util.CustomEvent.LIST = 0;
                    YAHOO.util.CustomEvent.FLAT = 1;
                    YAHOO.util.CustomEvent.prototype = {
                        subscribe: function (fn, obj, override) {
                            if (this.subscribeEvent) {
                                this.subscribeEvent.fire(fn, obj, override);
                            }
                            this.subscribers.push(new YAHOO.util.Subscriber(fn, obj, override));
                        },
                        unsubscribe: function (fn, obj) {
                            var found = false;
                            for (var i = 0, len = this.subscribers.length; i < len; ++i) {
                                var s = this.subscribers[i];
                                if (s && s.contains(fn, obj)) {
                                    this._delete(i);
                                    found = true;
                                }
                            }
                            return found;
                        },
                        fire: function () {
                            var len = this.subscribers.length;
                            if (!len && this.silent) {
                                return true;
                            }
                            var args = [],
                                ret = true,
                                i;
                            for (i = 0; i < arguments.length; ++i) {
                                args.push(arguments[i]);
                            }
                            var argslength = args.length;
                            if (!this.silent) {}
                            for (i = 0; i < len; ++i) {
                                var s = this.subscribers[i];
                                if (s) {
                                    if (!this.silent) {}
                                    var scope = s.getScope(this.scope);
                                    if (this.signature == YAHOO.util.CustomEvent.FLAT) {
                                        var param = null;
                                        if (args.length > 0) {
                                            param = args[0];
                                        }
                                        ret = s.fn.call(scope, param, s.obj);
                                    } else {
                                        ret = s.fn.call(scope, this.type, args, s.obj);
                                    }
                                    if (false === ret) {
                                        if (!this.silent) {}
                                        return false;
                                    }
                                }
                            }
                            return true;
                        },
                        unsubscribeAll: function () {
                            for (var i = 0, len = this.subscribers.length; i < len; ++i) {
                                this._delete(len - 1 - i);
                            }
                        },
                        _delete: function (index) {
                            var s = this.subscribers[index];
                            if (s) {
                                delete s.fn;
                                delete s.obj;
                            }
                            this.subscribers.splice(index, 1);
                        },
                        toString: function () {
                            return "CustomEvent: " + "'" + this.type + "', " + "scope: " + this.scope;
                        }
                    };
                    YAHOO.util.Subscriber = function (fn, obj, override) {
                        this.fn = fn;
                        this.obj = obj || null;
                        this.override = override;
                    };
                    YAHOO.util.Subscriber.prototype.getScope = function (defaultScope) {
                        if (this.override) {
                            if (this.override === true) {
                                return this.obj;
                            } else {
                                return this.override;
                            }
                        }
                        return defaultScope;
                    };
                    YAHOO.util.Subscriber.prototype.contains = function (fn, obj) {
                        if (obj) {
                            return (this.fn == fn && this.obj == obj);
                        } else {
                            return (this.fn == fn);
                        }
                    };
                    YAHOO.util.Subscriber.prototype.toString = function () {
                        return "Subscriber { obj: " + (this.obj || "") + ", override: " + (this.override || "no") + " }";
                    };
                    if (!YAHOO.util.Event) {
                        YAHOO.util.Event = function () {
                            var loadComplete = false;
                            var listeners = [];
                            var unloadListeners = [];
                            var legacyEvents = [];
                            var legacyHandlers = [];
                            var retryCount = 0;
                            var onAvailStack = [];
                            var legacyMap = [];
                            var counter = 0;
                            return {
                                POLL_RETRYS: 200,
                                POLL_INTERVAL: 20,
                                EL: 0,
                                TYPE: 1,
                                FN: 2,
                                WFN: 3,
                                OBJ: 3,
                                ADJ_SCOPE: 4,
                                isSafari: (/Safari|Konqueror|KHTML/gi).test(navigator.userAgent),
                                isIE: (!this.isSafari && !navigator.userAgent.match(/opera/gi) && navigator.userAgent.match(/msie/gi)),
                                _interval: null,
                                startInterval: function () {
                                    if (!this._interval) {
                                        var self = this;
                                        var callback = function () {
                                            self._tryPreloadAttach();
                                        };
                                        this._interval = setInterval(callback, this.POLL_INTERVAL);
                                    }
                                },
                                onAvailable: function (p_id, p_fn, p_obj, p_override) {
                                    onAvailStack.push({
                                        id: p_id,
                                        fn: p_fn,
                                        obj: p_obj,
                                        override: p_override,
                                        checkReady: false
                                    });
                                    retryCount = this.POLL_RETRYS;
                                    this.startInterval();
                                },
                                onContentReady: function (p_id, p_fn, p_obj, p_override) {
                                    onAvailStack.push({
                                        id: p_id,
                                        fn: p_fn,
                                        obj: p_obj,
                                        override: p_override,
                                        checkReady: true
                                    });
                                    retryCount = this.POLL_RETRYS;
                                    this.startInterval();
                                },
                                addListener: function (el, sType, fn, obj, override) {
                                    if (!fn || !fn.call) {
                                        return false;
                                    }
                                    if (this._isValidCollection(el)) {
                                        var ok = true;
                                        for (var i = 0, len = el.length; i < len; ++i) {
                                            ok = this.on(el[i], sType, fn, obj, override) && ok;
                                        }
                                        return ok;
                                    } else if (typeof el == "string") {
                                        var oEl = this.getEl(el);
                                        if (oEl) {
                                            el = oEl;
                                        } else {
                                            this.onAvailable(el, function () {
                                                YAHOO.util.Event.on(el, sType, fn, obj, override);
                                            });
                                            return true;
                                        }
                                    }
                                    if (!el) {
                                        return false;
                                    }
                                    if ("unload" == sType && obj !== this) {
                                        unloadListeners[unloadListeners.length] = [el, sType, fn, obj, override];
                                        return true;
                                    }
                                    var scope = el;
                                    if (override) {
                                        if (override === true) {
                                            scope = obj;
                                        } else {
                                            scope = override;
                                        }
                                    }
                                    var wrappedFn = function (e) {
                                        return fn.call(scope, YAHOO.util.Event.getEvent(e), obj);
                                    };
                                    var li = [el, sType, fn, wrappedFn, scope];
                                    var index = listeners.length;
                                    listeners[index] = li;
                                    if (this.useLegacyEvent(el, sType)) {
                                        var legacyIndex = this.getLegacyIndex(el, sType);
                                        if (legacyIndex == -1 || el != legacyEvents[legacyIndex][0]) {
                                            legacyIndex = legacyEvents.length;
                                            legacyMap[el.id + sType] = legacyIndex;
                                            legacyEvents[legacyIndex] = [el, sType, el["on" + sType]];
                                            legacyHandlers[legacyIndex] = [];
                                            el["on" + sType] = function (e) {
                                                YAHOO.util.Event.fireLegacyEvent(YAHOO.util.Event.getEvent(e), legacyIndex);
                                            };
                                        }
                                        legacyHandlers[legacyIndex].push(li);
                                    } else {
                                        this._simpleAdd(el, sType, wrappedFn, false);
                                    }
                                    return true;
                                },
                                fireLegacyEvent: function (e, legacyIndex) {
                                    var ok = true;
                                    var le = legacyHandlers[legacyIndex];
                                    for (var i = 0, len = le.length; i < len; ++i) {
                                        var li = le[i];
                                        if (li && li[this.WFN]) {
                                            var scope = li[this.ADJ_SCOPE];
                                            var ret = li[this.WFN].call(scope, e);
                                            ok = (ok && ret);
                                        }
                                    }
                                    return ok;
                                },
                                getLegacyIndex: function (el, sType) {
                                    var key = this.generateId(el) + sType;
                                    if (typeof legacyMap[key] == "undefined") {
                                        return -1;
                                    } else {
                                        return legacyMap[key];
                                    }
                                },
                                useLegacyEvent: function (el, sType) {
                                    if (!el.addEventListener && !el.attachEvent) {
                                        return true;
                                    } else if (this.isSafari) {
                                        if ("click" == sType || "dblclick" == sType) {
                                            return true;
                                        }
                                    }
                                    return false;
                                },
                                removeListener: function (el, sType, fn) {
                                    var i, len;
                                    if (typeof el == "string") {
                                        el = this.getEl(el);
                                    } else if (this._isValidCollection(el)) {
                                        var ok = true;
                                        for (i = 0, len = el.length; i < len; ++i) {
                                            ok = (this.removeListener(el[i], sType, fn) && ok);
                                        }
                                        return ok;
                                    }
                                    if (!fn || !fn.call) {
                                        return this.purgeElement(el, false, sType);
                                    }
                                    if ("unload" == sType) {
                                        for (i = 0, len = unloadListeners.length; i < len; i++) {
                                            var li = unloadListeners[i];
                                            if (li && li[0] == el && li[1] == sType && li[2] == fn) {
                                                unloadListeners.splice(i, 1);
                                                return true;
                                            }
                                        }
                                        return false;
                                    }
                                    var cacheItem = null;
                                    var index = arguments[3];
                                    if ("undefined" == typeof index) {
                                        index = this._getCacheIndex(el, sType, fn);
                                    }
                                    if (index >= 0) {
                                        cacheItem = listeners[index];
                                    }
                                    if (!el || !cacheItem) {
                                        return false;
                                    }
                                    if (this.useLegacyEvent(el, sType)) {
                                        var legacyIndex = this.getLegacyIndex(el, sType);
                                        var llist = legacyHandlers[legacyIndex];
                                        if (llist) {
                                            for (i = 0, len = llist.length; i < len; ++i) {
                                                li = llist[i];
                                                if (li && li[this.EL] == el && li[this.TYPE] == sType && li[this.FN] == fn) {
                                                    llist.splice(i, 1);
                                                    break;
                                                }
                                            }
                                        }
                                    } else {
                                        this._simpleRemove(el, sType, cacheItem[this.WFN], false);
                                    }
                                    delete listeners[index][this.WFN];
                                    delete listeners[index][this.FN];
                                    listeners.splice(index, 1);
                                    return true;
                                },
                                getTarget: function (ev, resolveTextNode) {
                                    var t = ev.target || ev.srcElement;
                                    return this.resolveTextNode(t);
                                },
                                resolveTextNode: function (node) {
                                    if (node && 3 == node.nodeType) {
                                        return node.parentNode;
                                    } else {
                                        return node;
                                    }
                                },
                                getPageX: function (ev) {
                                    var x = ev.pageX;
                                    if (!x && 0 !== x) {
                                        x = ev.clientX || 0;
                                        if (this.isIE) {
                                            x += this._getScrollLeft();
                                        }
                                    }
                                    return x;
                                },
                                getPageY: function (ev) {
                                    var y = ev.pageY;
                                    if (!y && 0 !== y) {
                                        y = ev.clientY || 0;
                                        if (this.isIE) {
                                            y += this._getScrollTop();
                                        }
                                    }
                                    return y;
                                },
                                getXY: function (ev) {
                                    return [this.getPageX(ev), this.getPageY(ev)];
                                },
                                getRelatedTarget: function (ev) {
                                    var t = ev.relatedTarget;
                                    if (!t) {
                                        if (ev.type == "mouseout") {
                                            t = ev.toElement;
                                        } else if (ev.type == "mouseover") {
                                            t = ev.fromElement;
                                        }
                                    }
                                    return this.resolveTextNode(t);
                                },
                                getTime: function (ev) {
                                    if (!ev.time) {
                                        var t = new Date().getTime();
                                        try {
                                            ev.time = t;
                                        } catch (e) {
                                            return t;
                                        }
                                    }
                                    return ev.time;
                                },
                                stopEvent: function (ev) {
                                    this.stopPropagation(ev);
                                    this.preventDefault(ev);
                                },
                                stopPropagation: function (ev) {
                                    if (ev.stopPropagation) {
                                        ev.stopPropagation();
                                    } else {
                                        ev.cancelBubble = true;
                                    }
                                },
                                preventDefault: function (ev) {
                                    if (ev.preventDefault) {
                                        ev.preventDefault();
                                    } else {
                                        ev.returnValue = false;
                                    }
                                },
                                getEvent: function (e) {
                                    var ev = e || window.event;
                                    if (!ev) {
                                        var c = this.getEvent.caller;
                                        while (c) {
                                            ev = c.arguments[0];
                                            if (ev && Event == ev.constructor) {
                                                break;
                                            }
                                            c = c.caller;
                                        }
                                    }
                                    return ev;
                                },
                                getCharCode: function (ev) {
                                    return ev.charCode || ev.keyCode || 0;
                                },
                                _getCacheIndex: function (el, sType, fn) {
                                    for (var i = 0, len = listeners.length; i < len; ++i) {
                                        var li = listeners[i];
                                        if (li && li[this.FN] == fn && li[this.EL] == el && li[this.TYPE] == sType) {
                                            return i;
                                        }
                                    }
                                    return -1;
                                },
                                generateId: function (el) {
                                    var id = el.id;
                                    if (!id) {
                                        id = "yuievtautoid-" + counter;
                                        ++counter;
                                        el.id = id;
                                    }
                                    return id;
                                },
                                _isValidCollection: function (o) {
                                    return (o && o.length && typeof o != "string" && !o.tagName && !o.alert && typeof o[0] != "undefined");
                                },
                                elCache: {},
                                getEl: function (id) {
                                    return document.getElementById(id);
                                },
                                clearCache: function () {},
                                _load: function (e) {
                                    loadComplete = true;
                                    var EU = YAHOO.util.Event;
                                    if (this.isIE) {
                                        EU._simpleRemove(window, "load", EU._load);
                                    }
                                },
                                _tryPreloadAttach: function () {
                                    if (this.locked) {
                                        return false;
                                    }
                                    this.locked = true;
                                    var tryAgain = !loadComplete;
                                    if (!tryAgain) {
                                        tryAgain = (retryCount > 0);
                                    }
                                    var notAvail = [];
                                    for (var i = 0, len = onAvailStack.length; i < len; ++i) {
                                        var item = onAvailStack[i];
                                        if (item) {
                                            var el = this.getEl(item.id);
                                            if (el) {
                                                if (!item.checkReady || loadComplete || el.nextSibling || (document && document.body)) {
                                                    var scope = el;
                                                    if (item.override) {
                                                        if (item.override === true) {
                                                            scope = item.obj;
                                                        } else {
                                                            scope = item.override;
                                                        }
                                                    }
                                                    item.fn.call(scope, item.obj);
                                                    delete onAvailStack[i];
                                                }
                                            } else {
                                                notAvail.push(item);
                                            }
                                        }
                                    }
                                    retryCount = (notAvail.length === 0) ? 0 : retryCount - 1;
                                    if (tryAgain) {
                                        this.startInterval();
                                    } else {
                                        clearInterval(this._interval);
                                        this._interval = null;
                                    }
                                    this.locked = false;
                                    return true;
                                },
                                purgeElement: function (el, recurse, sType) {
                                    var elListeners = this.getListeners(el, sType);
                                    if (elListeners) {
                                        for (var i = 0, len = elListeners.length; i < len; ++i) {
                                            var l = elListeners[i];
                                            this.removeListener(el, l.type, l.fn);
                                        }
                                    }
                                    if (recurse && el && el.childNodes) {
                                        for (i = 0, len = el.childNodes.length; i < len; ++i) {
                                            this.purgeElement(el.childNodes[i], recurse, sType);
                                        }
                                    }
                                },
                                getListeners: function (el, sType) {
                                    var elListeners = [];
                                    if (listeners && listeners.length > 0) {
                                        for (var i = 0, len = listeners.length; i < len; ++i) {
                                            var l = listeners[i];
                                            if (l && l[this.EL] === el && (!sType || sType === l[this.TYPE])) {
                                                elListeners.push({
                                                    type: l[this.TYPE],
                                                    fn: l[this.FN],
                                                    obj: l[this.OBJ],
                                                    adjust: l[this.ADJ_SCOPE],
                                                    index: i
                                                });
                                            }
                                        }
                                    }
                                    return (elListeners.length) ? elListeners : null;
                                },
                                _unload: function (e) {
                                    var EU = YAHOO.util.Event,
                                        i, j, l, len, index;
                                    for (i = 0, len = unloadListeners.length; i < len; ++i) {
                                        l = unloadListeners[i];
                                        if (l) {
                                            var scope = window;
                                            if (l[EU.ADJ_SCOPE]) {
                                                if (l[EU.ADJ_SCOPE] === true) {
                                                    scope = l[EU.OBJ];
                                                } else {
                                                    scope = l[EU.ADJ_SCOPE];
                                                }
                                            }
                                            l[EU.FN].call(scope, EU.getEvent(e), l[EU.OBJ]);
                                            delete unloadListeners[i];
                                            l = null;
                                            scope = null;
                                        }
                                    }
                                    if (listeners && listeners.length > 0) {
                                        j = listeners.length;
                                        while (j) {
                                            index = j - 1;
                                            l = listeners[index];
                                            if (l) {
                                                EU.removeListener(l[EU.EL], l[EU.TYPE], l[EU.FN], index);
                                            }
                                            j = j - 1;
                                        }
                                        l = null;
                                        EU.clearCache();
                                    }
                                    for (i = 0, len = legacyEvents.length; i < len; ++i) {
                                        delete legacyEvents[i][0];
                                        delete legacyEvents[i];
                                    }
                                    EU._simpleRemove(window, "unload", EU._unload);
                                },
                                _getScrollLeft: function () {
                                    return this._getScroll()[1];
                                },
                                _getScrollTop: function () {
                                    return this._getScroll()[0];
                                },
                                _getScroll: function () {
                                    var dd = document.documentElement,
                                        db = document.body;
                                    if (dd && (dd.scrollTop || dd.scrollLeft)) {
                                        return [dd.scrollTop, dd.scrollLeft];
                                    } else if (db) {
                                        return [db.scrollTop, db.scrollLeft];
                                    } else {
                                        return [0, 0];
                                    }
                                },
                                _simpleAdd: function () {
                                    if (window.addEventListener) {
                                        return function (el, sType, fn, capture) {
                                            el.addEventListener(sType, fn, (capture));
                                        };
                                    } else if (window.attachEvent) {
                                        return function (el, sType, fn, capture) {
                                            el.attachEvent("on" + sType, fn);
                                        };
                                    } else {
                                        return function () {};
                                    }
                                }(),
                                _simpleRemove: function () {
                                    if (window.removeEventListener) {
                                        return function (el, sType, fn, capture) {
                                            el.removeEventListener(sType, fn, (capture));
                                        };
                                    } else if (window.detachEvent) {
                                        return function (el, sType, fn) {
                                            el.detachEvent("on" + sType, fn);
                                        };
                                    } else {
                                        return function () {};
                                    }
                                }()
                            };
                        }();
                        (function () {
                            var EU = YAHOO.util.Event;
                            EU.on = EU.addListener;
                            if (document && document.body) {
                                EU._load();
                            } else {
                                EU._simpleAdd(window, "load", EU._load);
                            }
                            EU._simpleAdd(window, "unload", EU._unload);
                            EU._tryPreloadAttach();
                        })();
                    }
                    YAHOO.util.EventProvider = function () {};
                    YAHOO.util.EventProvider.prototype = {
                        __yui_events: null,
                        __yui_subscribers: null,
                        subscribe: function (p_type, p_fn, p_obj, p_override) {
                            this.__yui_events = this.__yui_events || {};
                            var ce = this.__yui_events[p_type];
                            if (ce) {
                                ce.subscribe(p_fn, p_obj, p_override);
                            } else {
                                this.__yui_subscribers = this.__yui_subscribers || {};
                                var subs = this.__yui_subscribers;
                                if (!subs[p_type]) {
                                    subs[p_type] = [];
                                }
                                subs[p_type].push({
                                    fn: p_fn,
                                    obj: p_obj,
                                    override: p_override
                                });
                            }
                        },
                        unsubscribe: function (p_type, p_fn, p_obj) {
                            this.__yui_events = this.__yui_events || {};
                            var ce = this.__yui_events[p_type];
                            if (ce) {
                                return ce.unsubscribe(p_fn, p_obj);
                            } else {
                                return false;
                            }
                        },
                        createEvent: function (p_type, p_config) {
                            this.__yui_events = this.__yui_events || {};
                            var opts = p_config || {};
                            var events = this.__yui_events;
                            if (events[p_type]) {} else {
                                var scope = opts.scope || this;
                                var silent = opts.silent || null;
                                var ce = new YAHOO.util.CustomEvent(p_type, scope, silent, YAHOO.util.CustomEvent.FLAT);
                                events[p_type] = ce;
                                if (opts.onSubscribeCallback) {
                                    ce.subscribeEvent.subscribe(opts.onSubscribeCallback);
                                }
                                this.__yui_subscribers = this.__yui_subscribers || {};
                                var qs = this.__yui_subscribers[p_type];
                                if (qs) {
                                    for (var i = 0; i < qs.length; ++i) {
                                        ce.subscribe(qs[i].fn, qs[i].obj, qs[i].override);
                                    }
                                }
                            }
                            return events[p_type];
                        },
                        fireEvent: function (p_type, arg1, arg2, etc) {
                            this.__yui_events = this.__yui_events || {};
                            var ce = this.__yui_events[p_type];
                            if (ce) {
                                var args = [];
                                for (var i = 1; i < arguments.length; ++i) {
                                    args.push(arguments[i]);
                                }
                                return ce.fire.apply(ce, args);
                            } else {
                                return null;
                            }
                        },
                        hasEvent: function (type) {
                            if (this.__yui_events) {
                                if (this.__yui_events[type]) {
                                    return true;
                                }
                            }
                            return false;
                        }
                    };
                    (function () {
                        var Y = YAHOO.util,
                            getStyle, setStyle, id_counter = 0,
                            propertyCache = {};
                        var ua = navigator.userAgent.toLowerCase(),
                            isOpera = (ua.indexOf('opera') > -1),
                            isSafari = (ua.indexOf('safari') > -1),
                            isGecko = (!isOpera && !isSafari && ua.indexOf('gecko') > -1),
                            isIE = (!isOpera && ua.indexOf('msie') > -1);
                        var patterns = {
                            HYPHEN: /(-[a-z])/i
                        };
                        var toCamel = function (property) {
                            if (!patterns.HYPHEN.test(property)) {
                                return property;
                            }
                            if (propertyCache[property]) {
                                return propertyCache[property];
                            }
                            while (patterns.HYPHEN.exec(property)) {
                                property = property.replace(RegExp.$1, RegExp.$1.substr(1).toUpperCase());
                            }
                            propertyCache[property] = property;
                            return property;
                        };
                        if (document.defaultView && document.defaultView.getComputedStyle) {
                            getStyle = function (el, property) {
                                var value = null;
                                var computed = document.defaultView.getComputedStyle(el, '');
                                if (computed) {
                                    value = computed[toCamel(property)];
                                }
                                return el.style[property] || value;
                            };
                        } else if (document.documentElement.currentStyle && isIE) {
                            getStyle = function (el, property) {
                                switch (toCamel(property)) {
                                case 'opacity':
                                    var val = 100;
                                    try {
                                        val = el.filters['DXImageTransform.Microsoft.Alpha'].opacity;
                                    } catch (e) {
                                        try {
                                            val = el.filters('alpha').opacity;
                                        } catch (e) {}
                                    }
                                    return val / 100;
                                    break;
                                default:
                                    var value = el.currentStyle ? el.currentStyle[property] : null;
                                    return (el.style[property] || value);
                                }
                            };
                        } else {
                            getStyle = function (el, property) {
                                return el.style[property];
                            };
                        }
                        if (isIE) {
                            setStyle = function (el, property, val) {
                                switch (property) {
                                case 'opacity':
                                    if (typeof el.style.filter == 'string') {
                                        el.style.filter = 'alpha(opacity=' + val * 100 + ')';
                                        if (!el.currentStyle || !el.currentStyle.hasLayout) {
                                            el.style.zoom = 1;
                                        }
                                    }
                                    break;
                                default:
                                    el.style[property] = val;
                                }
                            };
                        } else {
                            setStyle = function (el, property, val) {
                                el.style[property] = val;
                            };
                        }
                        YAHOO.util.Dom = {
                            get: function (el) {
                                if (!el) {
                                    return null;
                                }
                                if (typeof el != 'string' && !(el instanceof Array)) {
                                    return el;
                                }
                                if (typeof el == 'string') {
                                    return document.getElementById(el);
                                } else {
                                    var collection = [];
                                    for (var i = 0, len = el.length; i < len; ++i) {
                                        collection[collection.length] = Y.Dom.get(el[i]);
                                    }
                                    return collection;
                                }
                                return null;
                            },
                            getStyle: function (el, property) {
                                property = toCamel(property);
                                var f = function (element) {
                                    return getStyle(element, property);
                                };
                                return Y.Dom.batch(el, f, Y.Dom, true);
                            },
                            setStyle: function (el, property, val) {
                                property = toCamel(property);
                                var f = function (element) {
                                    setStyle(element, property, val);
                                };
                                Y.Dom.batch(el, f, Y.Dom, true);
                            },
                            getXY: function (el) {
                                var f = function (el) {
                                    if (el.parentNode === null || el.offsetParent === null || this.getStyle(el, 'display') == 'none') {
                                        return false;
                                    }
                                    var parentNode = null;
                                    var pos = [];
                                    var box;
                                    if (el.getBoundingClientRect) {
                                        box = el.getBoundingClientRect();
                                        var doc = document;
                                        if (!this.inDocument(el) && parent.document != document) {
                                            doc = parent.document;
                                            if (!this.isAncestor(doc.documentElement, el)) {
                                                return false;
                                            }
                                        }
                                        var scrollTop = Math.max(doc.documentElement.scrollTop, doc.body.scrollTop);
                                        var scrollLeft = Math.max(doc.documentElement.scrollLeft, doc.body.scrollLeft);
                                        return [box.left + scrollLeft, box.top + scrollTop];
                                    } else {
                                        pos = [el.offsetLeft, el.offsetTop];
                                        parentNode = el.offsetParent;
                                        if (parentNode != el) {
                                            while (parentNode) {
                                                pos[0] += parentNode.offsetLeft;
                                                pos[1] += parentNode.offsetTop;
                                                parentNode = parentNode.offsetParent;
                                            }
                                        }
                                        if (isSafari && this.getStyle(el, 'position') == 'absolute') {
                                            pos[0] -= document.body.offsetLeft;
                                            pos[1] -= document.body.offsetTop;
                                        }
                                    }
                                    if (el.parentNode) {
                                        parentNode = el.parentNode;
                                    } else {
                                        parentNode = null;
                                    }
                                    while (parentNode && parentNode.tagName.toUpperCase() != 'BODY' && parentNode.tagName.toUpperCase() != 'HTML') {
                                        if (Y.Dom.getStyle(parentNode, 'display') != 'inline') {
                                            pos[0] -= parentNode.scrollLeft;
                                            pos[1] -= parentNode.scrollTop;
                                        }
                                        if (parentNode.parentNode) {
                                            parentNode = parentNode.parentNode;
                                        } else {
                                            parentNode = null;
                                        }
                                    }
                                    return pos;
                                };
                                return Y.Dom.batch(el, f, Y.Dom, true);
                            },
                            getX: function (el) {
                                var f = function (el) {
                                    return Y.Dom.getXY(el)[0];
                                };
                                return Y.Dom.batch(el, f, Y.Dom, true);
                            },
                            getY: function (el) {
                                var f = function (el) {
                                    return Y.Dom.getXY(el)[1];
                                };
                                return Y.Dom.batch(el, f, Y.Dom, true);
                            },
                            setXY: function (el, pos, noRetry) {
                                var f = function (el) {
                                    var style_pos = this.getStyle(el, 'position');
                                    if (style_pos == 'static') {
                                        this.setStyle(el, 'position', 'relative');
                                        style_pos = 'relative';
                                    }
                                    var pageXY = this.getXY(el);
                                    if (pageXY === false) {
                                        return false;
                                    }
                                    var delta = [parseInt(this.getStyle(el, 'left'), 10), parseInt(this.getStyle(el, 'top'), 10)];
                                    if (isNaN(delta[0])) {
                                        delta[0] = (style_pos == 'relative') ? 0 : el.offsetLeft;
                                    }
                                    if (isNaN(delta[1])) {
                                        delta[1] = (style_pos == 'relative') ? 0 : el.offsetTop;
                                    }
                                    if (pos[0] !== null) {
                                        el.style.left = pos[0] - pageXY[0] + delta[0] + 'px';
                                    }
                                    if (pos[1] !== null) {
                                        el.style.top = pos[1] - pageXY[1] + delta[1] + 'px';
                                    }
                                    var newXY = this.getXY(el);
                                    if (!noRetry && (newXY[0] != pos[0] || newXY[1] != pos[1])) {
                                        this.setXY(el, pos, true);
                                    }
                                };
                                Y.Dom.batch(el, f, Y.Dom, true);
                            },
                            setX: function (el, x) {
                                Y.Dom.setXY(el, [x, null]);
                            },
                            setY: function (el, y) {
                                Y.Dom.setXY(el, [null, y]);
                            },
                            getRegion: function (el) {
                                var f = function (el) {
                                    var region = new Y.Region.getRegion(el);
                                    return region;
                                };
                                return Y.Dom.batch(el, f, Y.Dom, true);
                            },
                            getClientWidth: function () {
                                return Y.Dom.getViewportWidth();
                            },
                            getClientHeight: function () {
                                return Y.Dom.getViewportHeight();
                            },
                            getElementsByClassName: function (className, tag, root) {
                                var method = function (el) {
                                    return Y.Dom.hasClass(el, className);
                                };
                                return Y.Dom.getElementsBy(method, tag, root);
                            },
                            hasClass: function (el, className) {
                                var re = new RegExp('(?:^|\\s+)' + className + '(?:\\s+|$)');
                                var f = function (el) {
                                    return re.test(el['className']);
                                };
                                return Y.Dom.batch(el, f, Y.Dom, true);
                            },
                            addClass: function (el, className) {
                                var f = function (el) {
                                    if (this.hasClass(el, className)) {
                                        return;
                                    }
                                    el['className'] = [el['className'], className].join(' ');
                                };
                                Y.Dom.batch(el, f, Y.Dom, true);
                            },
                            removeClass: function (el, className) {
                                var re = new RegExp('(?:^|\\s+)' + className + '(?:\\s+|$)', 'g');
                                var f = function (el) {
                                    if (!this.hasClass(el, className)) {
                                        return;
                                    }
                                    var c = el['className'];
                                    el['className'] = c.replace(re, ' ');
                                    if (this.hasClass(el, className)) {
                                        this.removeClass(el, className);
                                    }
                                };
                                Y.Dom.batch(el, f, Y.Dom, true);
                            },
                            replaceClass: function (el, oldClassName, newClassName) {
                                if (oldClassName === newClassName) {
                                    return false;
                                }
                                var re = new RegExp('(?:^|\\s+)' + oldClassName + '(?:\\s+|$)', 'g');
                                var f = function (el) {
                                    if (!this.hasClass(el, oldClassName)) {
                                        this.addClass(el, newClassName);
                                        return;
                                    }
                                    el['className'] = el['className'].replace(re, ' ' + newClassName + ' ');
                                    if (this.hasClass(el, oldClassName)) {
                                        this.replaceClass(el, oldClassName, newClassName);
                                    }
                                };
                                Y.Dom.batch(el, f, Y.Dom, true);
                            },
                            generateId: function (el, prefix) {
                                prefix = prefix || 'yui-gen';
                                el = el || {};
                                var f = function (el) {
                                    if (el) {
                                        el = Y.Dom.get(el);
                                    } else {
                                        el = {};
                                    }
                                    if (!el.id) {
                                        el.id = prefix + id_counter++;
                                    }
                                    return el.id;
                                };
                                return Y.Dom.batch(el, f, Y.Dom, true);
                            },
                            isAncestor: function (haystack, needle) {
                                haystack = Y.Dom.get(haystack);
                                if (!haystack || !needle) {
                                    return false;
                                }
                                var f = function (needle) {
                                    if (haystack.contains && !isSafari) {
                                        return haystack.contains(needle);
                                    } else if (haystack.compareDocumentPosition) {
                                        return !!(haystack.compareDocumentPosition(needle) & 16);
                                    } else {
                                        var parent = needle.parentNode;
                                        while (parent) {
                                            if (parent == haystack) {
                                                return true;
                                            } else if (!parent.tagName || parent.tagName.toUpperCase() == 'HTML') {
                                                return false;
                                            }
                                            parent = parent.parentNode;
                                        }
                                        return false;
                                    }
                                };
                                return Y.Dom.batch(needle, f, Y.Dom, true);
                            },
                            inDocument: function (el) {
                                var f = function (el) {
                                    return this.isAncestor(document.documentElement, el);
                                };
                                return Y.Dom.batch(el, f, Y.Dom, true);
                            },
                            getElementsBy: function (method, tag, root) {
                                tag = tag || '*';
                                root = Y.Dom.get(root) || document;
                                var nodes = [];
                                var elements = root.getElementsByTagName(tag);
                                if (!elements.length && (tag == '*' && root.all)) {
                                    elements = root.all;
                                }
                                for (var i = 0, len = elements.length; i < len; ++i) {
                                    if (method(elements[i])) {
                                        nodes[nodes.length] = elements[i];
                                    }
                                }
                                return nodes;
                            },
                            batch: function (el, method, o, override) {
                                var id = el;
                                el = Y.Dom.get(el);
                                var scope = (override) ? o : window;
                                if (!el || el.tagName || !el.length) {
                                    if (!el) {
                                        return false;
                                    }
                                    return method.call(scope, el, o);
                                }
                                var collection = [];
                                for (var i = 0, len = el.length; i < len; ++i) {
                                    if (!el[i]) {
                                        id = el[i];
                                    }
                                    collection[collection.length] = method.call(scope, el[i], o);
                                }
                                return collection;
                            },
                            getDocumentHeight: function () {
                                var scrollHeight = (document.compatMode != 'CSS1Compat') ? document.body.scrollHeight : document.documentElement.scrollHeight;
                                var h = Math.max(scrollHeight, Y.Dom.getViewportHeight());
                                return h;
                            },
                            getDocumentWidth: function () {
                                var scrollWidth = (document.compatMode != 'CSS1Compat') ? document.body.scrollWidth : document.documentElement.scrollWidth;
                                var w = Math.max(scrollWidth, Y.Dom.getViewportWidth());
                                return w;
                            },
                            getViewportHeight: function () {
                                var height = self.innerHeight;
                                var mode = document.compatMode;
                                if ((mode || isIE) && !isOpera) {
                                    height = (mode == 'CSS1Compat') ? document.documentElement.clientHeight : document.body.clientHeight;
                                }
                                return height;
                            },
                            getViewportWidth: function () {
                                var width = self.innerWidth;
                                var mode = document.compatMode;
                                if (mode || isIE) {
                                    width = (mode == 'CSS1Compat') ? document.documentElement.clientWidth : document.body.clientWidth;
                                }
                                return width;
                            }
                        };
                    })();
                    YAHOO.util.Region = function (t, r, b, l) {
                        this.top = t;
                        this[1] = t;
                        this.right = r;
                        this.bottom = b;
                        this.left = l;
                        this[0] = l;
                    };
                    YAHOO.util.Region.prototype.contains = function (region) {
                        return (region.left >= this.left && region.right <= this.right && region.top >= this.top && region.bottom <= this.bottom);
                    };
                    YAHOO.util.Region.prototype.getArea = function () {
                        return ((this.bottom - this.top) * (this.right - this.left));
                    };
                    YAHOO.util.Region.prototype.intersect = function (region) {
                        var t = Math.max(this.top, region.top);
                        var r = Math.min(this.right, region.right);
                        var b = Math.min(this.bottom, region.bottom);
                        var l = Math.max(this.left, region.left);
                        if (b >= t && r >= l) {
                            return new YAHOO.util.Region(t, r, b, l);
                        } else {
                            return null;
                        }
                    };
                    YAHOO.util.Region.prototype.union = function (region) {
                        var t = Math.min(this.top, region.top);
                        var r = Math.max(this.right, region.right);
                        var b = Math.max(this.bottom, region.bottom);
                        var l = Math.min(this.left, region.left);
                        return new YAHOO.util.Region(t, r, b, l);
                    };
                    YAHOO.util.Region.prototype.toString = function () {
                        return ("Region {" + "top: " + this.top + ", right: " + this.right + ", bottom: " + this.bottom + ", left: " + this.left + "}");
                    };
                    YAHOO.util.Region.getRegion = function (el) {
                        var p = YAHOO.util.Dom.getXY(el);
                        var t = p[1];
                        var r = p[0] + el.offsetWidth;
                        var b = p[1] + el.offsetHeight;
                        var l = p[0];
                        return new YAHOO.util.Region(t, r, b, l);
                    };
                    YAHOO.util.Point = function (x, y) {
                        if (x instanceof Array) {
                            y = x[1];
                            x = x[0];
                        }
                        this.x = this.right = this.left = this[0] = x;
                        this.y = this.top = this.bottom = this[1] = y;
                    };
                    YAHOO.util.Point.prototype = new YAHOO.util.Region();
                    (function () {
                        var Event = YAHOO.util.Event;
                        var Dom = YAHOO.util.Dom;
                        YAHOO.util.DragDrop = function (id, sGroup, config) {
                            if (id) {
                                this.init(id, sGroup, config);
                            }
                        };
                        YAHOO.util.DragDrop.prototype = {
                            id: null,
                            config: null,
                            dragElId: null,
                            handleElId: null,
                            invalidHandleTypes: null,
                            invalidHandleIds: null,
                            invalidHandleClasses: null,
                            startPageX: 0,
                            startPageY: 0,
                            groups: null,
                            locked: false,
                            lock: function () {
                                this.locked = true;
                            },
                            unlock: function () {
                                this.locked = false;
                            },
                            isTarget: true,
                            padding: null,
                            _domRef: null,
                            __ygDragDrop: true,
                            constrainX: false,
                            constrainY: false,
                            minX: 0,
                            maxX: 0,
                            minY: 0,
                            maxY: 0,
                            maintainOffset: false,
                            xTicks: null,
                            yTicks: null,
                            primaryButtonOnly: true,
                            available: false,
                            hasOuterHandles: false,
                            b4StartDrag: function (x, y) {},
                            startDrag: function (x, y) {},
                            b4Drag: function (e) {},
                            onDrag: function (e) {},
                            onDragEnter: function (e, id) {},
                            b4DragOver: function (e) {},
                            onDragOver: function (e, id) {},
                            b4DragOut: function (e) {},
                            onDragOut: function (e, id) {},
                            b4DragDrop: function (e) {},
                            onDragDrop: function (e, id) {},
                            onInvalidDrop: function (e) {},
                            b4EndDrag: function (e) {},
                            endDrag: function (e) {},
                            b4MouseDown: function (e) {},
                            onMouseDown: function (e) {},
                            onMouseUp: function (e) {},
                            onAvailable: function () {},
                            getEl: function () {
                                if (!this._domRef) {
                                    this._domRef = Dom.get(this.id);
                                }
                                return this._domRef;
                            },
                            getDragEl: function () {
                                return Dom.get(this.dragElId);
                            },
                            init: function (id, sGroup, config) {
                                this.initTarget(id, sGroup, config);
                                Event.on(this.id, "mousedown", this.handleMouseDown, this, true);
                            },
                            initTarget: function (id, sGroup, config) {
                                this.config = config || {};
                                this.DDM = YAHOO.util.DDM;
                                this.groups = {};
                                if (typeof id !== "string") {
                                    YAHOO.log("id is not a string, assuming it is an HTMLElement");
                                    id = Dom.generateId(id);
                                }
                                this.id = id;
                                this.addToGroup((sGroup) ? sGroup : "default");
                                this.handleElId = id;
                                Event.onAvailable(id, this.handleOnAvailable, this, true);
                                this.setDragElId(id);
                                this.invalidHandleTypes = {
                                    A: "A"
                                };
                                this.invalidHandleIds = {};
                                this.invalidHandleClasses = [];
                                this.applyConfig();
                            },
                            applyConfig: function () {
                                this.padding = this.config.padding || [0, 0, 0, 0];
                                this.isTarget = (this.config.isTarget !== false);
                                this.maintainOffset = (this.config.maintainOffset);
                                this.primaryButtonOnly = (this.config.primaryButtonOnly !== false);
                            },
                            handleOnAvailable: function () {
                                this.available = true;
                                this.resetConstraints();
                                this.onAvailable();
                            },
                            setPadding: function (iTop, iRight, iBot, iLeft) {
                                if (!iRight && 0 !== iRight) {
                                    this.padding = [iTop, iTop, iTop, iTop];
                                } else if (!iBot && 0 !== iBot) {
                                    this.padding = [iTop, iRight, iTop, iRight];
                                } else {
                                    this.padding = [iTop, iRight, iBot, iLeft];
                                }
                            },
                            setInitPosition: function (diffX, diffY) {
                                var el = this.getEl();
                                if (!this.DDM.verifyEl(el)) {
                                    return;
                                }
                                var dx = diffX || 0;
                                var dy = diffY || 0;
                                var p = Dom.getXY(el);
                                this.initPageX = p[0] - dx;
                                this.initPageY = p[1] - dy;
                                this.lastPageX = p[0];
                                this.lastPageY = p[1];
                                this.setStartPosition(p);
                            },
                            setStartPosition: function (pos) {
                                var p = pos || Dom.getXY(this.getEl());
                                this.deltaSetXY = null;
                                this.startPageX = p[0];
                                this.startPageY = p[1];
                            },
                            addToGroup: function (sGroup) {
                                this.groups[sGroup] = true;
                                this.DDM.regDragDrop(this, sGroup);
                            },
                            removeFromGroup: function (sGroup) {
                                if (this.groups[sGroup]) {
                                    delete this.groups[sGroup];
                                }
                                this.DDM.removeDDFromGroup(this, sGroup);
                            },
                            setDragElId: function (id) {
                                this.dragElId = id;
                            },
                            setHandleElId: function (id) {
                                if (typeof id !== "string") {
                                    YAHOO.log("id is not a string, assuming it is an HTMLElement");
                                    id = Dom.generateId(id);
                                }
                                this.handleElId = id;
                                this.DDM.regHandle(this.id, id);
                            },
                            setOuterHandleElId: function (id) {
                                if (typeof id !== "string") {
                                    YAHOO.log("id is not a string, assuming it is an HTMLElement");
                                    id = Dom.generateId(id);
                                }
                                Event.on(id, "mousedown", this.handleMouseDown, this, true);
                                this.setHandleElId(id);
                                this.hasOuterHandles = true;
                            },
                            unreg: function () {
                                Event.removeListener(this.id, "mousedown", this.handleMouseDown);
                                this._domRef = null;
                                this.DDM._remove(this);
                            },
                            isLocked: function () {
                                return (this.DDM.isLocked() || this.locked);
                            },
                            handleMouseDown: function (e, oDD) {
                                var button = e.which || e.button;
                                if (this.primaryButtonOnly && button > 1) {
                                    return;
                                }
                                if (this.isLocked()) {
                                    return;
                                }
                                this.DDM.refreshCache(this.groups);
                                var pt = new YAHOO.util.Point(Event.getPageX(e), Event.getPageY(e));
                                if (!this.hasOuterHandles && !this.DDM.isOverTarget(pt, this)) {} else {
                                    if (this.clickValidator(e)) {
                                        this.setStartPosition();
                                        this.b4MouseDown(e);
                                        this.onMouseDown(e);
                                        this.DDM.handleMouseDown(e, this);
                                        this.DDM.stopEvent(e);
                                    } else {}
                                }
                            },
                            clickValidator: function (e) {
                                var target = Event.getTarget(e);
                                return (this.isValidHandleChild(target) && (this.id == this.handleElId || this.DDM.handleWasClicked(target, this.id)));
                            },
                            addInvalidHandleType: function (tagName) {
                                var type = tagName.toUpperCase();
                                this.invalidHandleTypes[type] = type;
                            },
                            addInvalidHandleId: function (id) {
                                if (typeof id !== "string") {
                                    YAHOO.log("id is not a string, assuming it is an HTMLElement");
                                    id = Dom.generateId(id);
                                }
                                this.invalidHandleIds[id] = id;
                            },
                            addInvalidHandleClass: function (cssClass) {
                                this.invalidHandleClasses.push(cssClass);
                            },
                            removeInvalidHandleType: function (tagName) {
                                var type = tagName.toUpperCase();
                                delete this.invalidHandleTypes[type];
                            },
                            removeInvalidHandleId: function (id) {
                                if (typeof id !== "string") {
                                    YAHOO.log("id is not a string, assuming it is an HTMLElement");
                                    id = Dom.generateId(id);
                                }
                                delete this.invalidHandleIds[id];
                            },
                            removeInvalidHandleClass: function (cssClass) {
                                for (var i = 0, len = this.invalidHandleClasses.length; i < len; ++i) {
                                    if (this.invalidHandleClasses[i] == cssClass) {
                                        delete this.invalidHandleClasses[i];
                                    }
                                }
                            },
                            isValidHandleChild: function (node) {
                                var valid = true;
                                var nodeName;
                                try {
                                    nodeName = node.nodeName.toUpperCase();
                                } catch (e) {
                                    nodeName = node.nodeName;
                                }
                                valid = valid && !this.invalidHandleTypes[nodeName];
                                valid = valid && !this.invalidHandleIds[node.id];
                                for (var i = 0, len = this.invalidHandleClasses.length; valid && i < len; ++i) {
                                    valid = !Dom.hasClass(node, this.invalidHandleClasses[i]);
                                }
                                return valid;
                            },
                            setXTicks: function (iStartX, iTickSize) {
                                this.xTicks = [];
                                this.xTickSize = iTickSize;
                                var tickMap = {};
                                for (var i = this.initPageX; i >= this.minX; i = i - iTickSize) {
                                    if (!tickMap[i]) {
                                        this.xTicks[this.xTicks.length] = i;
                                        tickMap[i] = true;
                                    }
                                }
                                for (i = this.initPageX; i <= this.maxX; i = i + iTickSize) {
                                    if (!tickMap[i]) {
                                        this.xTicks[this.xTicks.length] = i;
                                        tickMap[i] = true;
                                    }
                                }
                                this.xTicks.sort(this.DDM.numericSort);
                            },
                            setYTicks: function (iStartY, iTickSize) {
                                this.yTicks = [];
                                this.yTickSize = iTickSize;
                                var tickMap = {};
                                for (var i = this.initPageY; i >= this.minY; i = i - iTickSize) {
                                    if (!tickMap[i]) {
                                        this.yTicks[this.yTicks.length] = i;
                                        tickMap[i] = true;
                                    }
                                }
                                for (i = this.initPageY; i <= this.maxY; i = i + iTickSize) {
                                    if (!tickMap[i]) {
                                        this.yTicks[this.yTicks.length] = i;
                                        tickMap[i] = true;
                                    }
                                }
                                this.yTicks.sort(this.DDM.numericSort);
                            },
                            setXConstraint: function (iLeft, iRight, iTickSize) {
                                this.leftConstraint = iLeft;
                                this.rightConstraint = iRight;
                                this.minX = this.initPageX - iLeft;
                                this.maxX = this.initPageX + iRight;
                                if (iTickSize) {
                                    this.setXTicks(this.initPageX, iTickSize);
                                }
                                this.constrainX = true;
                            },
                            clearConstraints: function () {
                                this.constrainX = false;
                                this.constrainY = false;
                                this.clearTicks();
                            },
                            clearTicks: function () {
                                this.xTicks = null;
                                this.yTicks = null;
                                this.xTickSize = 0;
                                this.yTickSize = 0;
                            },
                            setYConstraint: function (iUp, iDown, iTickSize) {
                                this.topConstraint = iUp;
                                this.bottomConstraint = iDown;
                                this.minY = this.initPageY - iUp;
                                this.maxY = this.initPageY + iDown;
                                if (iTickSize) {
                                    this.setYTicks(this.initPageY, iTickSize);
                                }
                                this.constrainY = true;
                            },
                            resetConstraints: function () {
                                if (this.initPageX || this.initPageX === 0) {
                                    var dx = (this.maintainOffset) ? this.lastPageX - this.initPageX : 0;
                                    var dy = (this.maintainOffset) ? this.lastPageY - this.initPageY : 0;
                                    this.setInitPosition(dx, dy);
                                } else {
                                    this.setInitPosition();
                                }
                                if (this.constrainX) {
                                    this.setXConstraint(this.leftConstraint, this.rightConstraint, this.xTickSize);
                                }
                                if (this.constrainY) {
                                    this.setYConstraint(this.topConstraint, this.bottomConstraint, this.yTickSize);
                                }
                            },
                            getTick: function (val, tickArray) {
                                if (!tickArray) {
                                    return val;
                                } else if (tickArray[0] >= val) {
                                    return tickArray[0];
                                } else {
                                    for (var i = 0, len = tickArray.length; i < len; ++i) {
                                        var next = i + 1;
                                        if (tickArray[next] && tickArray[next] >= val) {
                                            var diff1 = val - tickArray[i];
                                            var diff2 = tickArray[next] - val;
                                            return (diff2 > diff1) ? tickArray[i] : tickArray[next];
                                        }
                                    }
                                    return tickArray[tickArray.length - 1];
                                }
                            },
                            toString: function () {
                                return ("DragDrop " + this.id);
                            }
                        };
                    })();
                    if (!YAHOO.util.DragDropMgr) {
                        YAHOO.util.DragDropMgr = function () {
                            var Event = YAHOO.util.Event;
                            return {
                                ids: {},
                                handleIds: {},
                                dragCurrent: null,
                                dragOvers: {},
                                deltaX: 0,
                                deltaY: 0,
                                preventDefault: true,
                                stopPropagation: true,
                                initalized: false,
                                locked: false,
                                init: function () {
                                    this.initialized = true;
                                },
                                POINT: 0,
                                INTERSECT: 1,
                                mode: 0,
                                _execOnAll: function (sMethod, args) {
                                    for (var i in this.ids) {
                                        for (var j in this.ids[i]) {
                                            var oDD = this.ids[i][j];
                                            if (!this.isTypeOfDD(oDD)) {
                                                continue;
                                            }
                                            oDD[sMethod].apply(oDD, args);
                                        }
                                    }
                                },
                                _onLoad: function () {
                                    this.init();
                                    Event.on(document, "mouseup", this.handleMouseUp, this, true);
                                    Event.on(document, "mousemove", this.handleMouseMove, this, true);
                                    Event.on(window, "unload", this._onUnload, this, true);
                                    Event.on(window, "resize", this._onResize, this, true);
                                },
                                _onResize: function (e) {
                                    this._execOnAll("resetConstraints", []);
                                },
                                lock: function () {
                                    this.locked = true;
                                },
                                unlock: function () {
                                    this.locked = false;
                                },
                                isLocked: function () {
                                    return this.locked;
                                },
                                locationCache: {},
                                useCache: true,
                                clickPixelThresh: 3,
                                clickTimeThresh: 1000,
                                dragThreshMet: false,
                                clickTimeout: null,
                                startX: 0,
                                startY: 0,
                                regDragDrop: function (oDD, sGroup) {
                                    if (!this.initialized) {
                                        this.init();
                                    }
                                    if (!this.ids[sGroup]) {
                                        this.ids[sGroup] = {};
                                    }
                                    this.ids[sGroup][oDD.id] = oDD;
                                },
                                removeDDFromGroup: function (oDD, sGroup) {
                                    if (!this.ids[sGroup]) {
                                        this.ids[sGroup] = {};
                                    }
                                    var obj = this.ids[sGroup];
                                    if (obj && obj[oDD.id]) {
                                        delete obj[oDD.id];
                                    }
                                },
                                _remove: function (oDD) {
                                    for (var g in oDD.groups) {
                                        if (g && this.ids[g][oDD.id]) {
                                            delete this.ids[g][oDD.id];
                                        }
                                    }
                                    delete this.handleIds[oDD.id];
                                },
                                regHandle: function (sDDId, sHandleId) {
                                    if (!this.handleIds[sDDId]) {
                                        this.handleIds[sDDId] = {};
                                    }
                                    this.handleIds[sDDId][sHandleId] = sHandleId;
                                },
                                isDragDrop: function (id) {
                                    return (this.getDDById(id)) ? true : false;
                                },
                                getRelated: function (p_oDD, bTargetsOnly) {
                                    var oDDs = [];
                                    for (var i in p_oDD.groups) {
                                        for (j in this.ids[i]) {
                                            var dd = this.ids[i][j];
                                            if (!this.isTypeOfDD(dd)) {
                                                continue;
                                            }
                                            if (!bTargetsOnly || dd.isTarget) {
                                                oDDs[oDDs.length] = dd;
                                            }
                                        }
                                    }
                                    return oDDs;
                                },
                                isLegalTarget: function (oDD, oTargetDD) {
                                    var targets = this.getRelated(oDD, true);
                                    for (var i = 0, len = targets.length; i < len; ++i) {
                                        if (targets[i].id == oTargetDD.id) {
                                            return true;
                                        }
                                    }
                                    return false;
                                },
                                isTypeOfDD: function (oDD) {
                                    return (oDD && oDD.__ygDragDrop);
                                },
                                isHandle: function (sDDId, sHandleId) {
                                    return (this.handleIds[sDDId] && this.handleIds[sDDId][sHandleId]);
                                },
                                getDDById: function (id) {
                                    for (var i in this.ids) {
                                        if (this.ids[i][id]) {
                                            return this.ids[i][id];
                                        }
                                    }
                                    return null;
                                },
                                handleMouseDown: function (e, oDD) {
                                    this.currentTarget = YAHOO.util.Event.getTarget(e);
                                    this.dragCurrent = oDD;
                                    var el = oDD.getEl();
                                    this.startX = YAHOO.util.Event.getPageX(e);
                                    this.startY = YAHOO.util.Event.getPageY(e);
                                    this.deltaX = this.startX - el.offsetLeft;
                                    this.deltaY = this.startY - el.offsetTop;
                                    this.dragThreshMet = false;
                                    this.clickTimeout = setTimeout(function () {
                                        var DDM = YAHOO.util.DDM;
                                        DDM.startDrag(DDM.startX, DDM.startY);
                                    }, this.clickTimeThresh);
                                },
                                startDrag: function (x, y) {
                                    clearTimeout(this.clickTimeout);
                                    if (this.dragCurrent) {
                                        this.dragCurrent.b4StartDrag(x, y);
                                        this.dragCurrent.startDrag(x, y);
                                    }
                                    this.dragThreshMet = true;
                                },
                                handleMouseUp: function (e) {
                                    if (!this.dragCurrent) {
                                        return;
                                    }
                                    clearTimeout(this.clickTimeout);
                                    if (this.dragThreshMet) {
                                        this.fireEvents(e, true);
                                    } else {}
                                    this.stopDrag(e);
                                    this.stopEvent(e);
                                },
                                stopEvent: function (e) {
                                    if (this.stopPropagation) {
                                        YAHOO.util.Event.stopPropagation(e);
                                    }
                                    if (this.preventDefault) {
                                        YAHOO.util.Event.preventDefault(e);
                                    }
                                },
                                stopDrag: function (e) {
                                    if (this.dragCurrent) {
                                        if (this.dragThreshMet) {
                                            this.dragCurrent.b4EndDrag(e);
                                            this.dragCurrent.endDrag(e);
                                        }
                                        this.dragCurrent.onMouseUp(e);
                                    }
                                    this.dragCurrent = null;
                                    this.dragOvers = {};
                                },
                                handleMouseMove: function (e) {
                                    if (!this.dragCurrent) {
                                        return true;
                                    }
                                    if (YAHOO.util.Event.isIE && !e.button) {
                                        this.stopEvent(e);
                                        return this.handleMouseUp(e);
                                    }
                                    if (!this.dragThreshMet) {
                                        var diffX = Math.abs(this.startX - YAHOO.util.Event.getPageX(e));
                                        var diffY = Math.abs(this.startY - YAHOO.util.Event.getPageY(e));
                                        if (diffX > this.clickPixelThresh || diffY > this.clickPixelThresh) {
                                            this.startDrag(this.startX, this.startY);
                                        }
                                    }
                                    if (this.dragThreshMet) {
                                        this.dragCurrent.b4Drag(e);
                                        this.dragCurrent.onDrag(e);
                                        this.fireEvents(e, false);
                                    }
                                    this.stopEvent(e);
                                    return true;
                                },
                                fireEvents: function (e, isDrop) {
                                    var dc = this.dragCurrent;
                                    if (!dc || dc.isLocked()) {
                                        return;
                                    }
                                    var x = YAHOO.util.Event.getPageX(e);
                                    var y = YAHOO.util.Event.getPageY(e);
                                    var pt = new YAHOO.util.Point(x, y);
                                    var oldOvers = [];
                                    var outEvts = [];
                                    var overEvts = [];
                                    var dropEvts = [];
                                    var enterEvts = [];
                                    for (var i in this.dragOvers) {
                                        var ddo = this.dragOvers[i];
                                        if (!this.isTypeOfDD(ddo)) {
                                            continue;
                                        }
                                        if (!this.isOverTarget(pt, ddo, this.mode)) {
                                            outEvts.push(ddo);
                                        }
                                        oldOvers[i] = true;
                                        delete this.dragOvers[i];
                                    }
                                    for (var sGroup in dc.groups) {
                                        if ("string" != typeof sGroup) {
                                            continue;
                                        }
                                        for (i in this.ids[sGroup]) {
                                            var oDD = this.ids[sGroup][i];
                                            if (!this.isTypeOfDD(oDD)) {
                                                continue;
                                            }
                                            if (oDD.isTarget && !oDD.isLocked() && oDD != dc) {
                                                if (this.isOverTarget(pt, oDD, this.mode)) {
                                                    if (isDrop) {
                                                        dropEvts.push(oDD);
                                                    } else {
                                                        if (!oldOvers[oDD.id]) {
                                                            enterEvts.push(oDD);
                                                        } else {
                                                            overEvts.push(oDD);
                                                        }
                                                        this.dragOvers[oDD.id] = oDD;
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    if (this.mode) {
                                        if (outEvts.length) {
                                            dc.b4DragOut(e, outEvts);
                                            dc.onDragOut(e, outEvts);
                                        }
                                        if (enterEvts.length) {
                                            dc.onDragEnter(e, enterEvts);
                                        }
                                        if (overEvts.length) {
                                            dc.b4DragOver(e, overEvts);
                                            dc.onDragOver(e, overEvts);
                                        }
                                        if (dropEvts.length) {
                                            dc.b4DragDrop(e, dropEvts);
                                            dc.onDragDrop(e, dropEvts);
                                        }
                                    } else {
                                        var len = 0;
                                        for (i = 0, len = outEvts.length; i < len; ++i) {
                                            dc.b4DragOut(e, outEvts[i].id);
                                            dc.onDragOut(e, outEvts[i].id);
                                        }
                                        for (i = 0, len = enterEvts.length; i < len; ++i) {
                                            dc.onDragEnter(e, enterEvts[i].id);
                                        }
                                        for (i = 0, len = overEvts.length; i < len; ++i) {
                                            dc.b4DragOver(e, overEvts[i].id);
                                            dc.onDragOver(e, overEvts[i].id);
                                        }
                                        for (i = 0, len = dropEvts.length; i < len; ++i) {
                                            dc.b4DragDrop(e, dropEvts[i].id);
                                            dc.onDragDrop(e, dropEvts[i].id);
                                        }
                                    }
                                    if (isDrop && !dropEvts.length) {
                                        dc.onInvalidDrop(e);
                                    }
                                },
                                getBestMatch: function (dds) {
                                    var winner = null;
                                    var len = dds.length;
                                    if (len == 1) {
                                        winner = dds[0];
                                    } else {
                                        for (var i = 0; i < len; ++i) {
                                            var dd = dds[i];
                                            if (dd.cursorIsOver) {
                                                winner = dd;
                                                break;
                                            } else {
                                                if (!winner || winner.overlap.getArea() < dd.overlap.getArea()) {
                                                    winner = dd;
                                                }
                                            }
                                        }
                                    }
                                    return winner;
                                },
                                refreshCache: function (groups) {
                                    for (var sGroup in groups) {
                                        if ("string" != typeof sGroup) {
                                            continue;
                                        }
                                        for (var i in this.ids[sGroup]) {
                                            var oDD = this.ids[sGroup][i];
                                            if (this.isTypeOfDD(oDD)) {
                                                var loc = this.getLocation(oDD);
                                                if (loc) {
                                                    this.locationCache[oDD.id] = loc;
                                                } else {
                                                    delete this.locationCache[oDD.id];
                                                }
                                            }
                                        }
                                    }
                                },
                                verifyEl: function (el) {
                                    try {
                                        if (el) {
                                            var parent = el.offsetParent;
                                            if (parent) {
                                                return true;
                                            }
                                        }
                                    } catch (e) {}
                                    return false;
                                },
                                getLocation: function (oDD) {
                                    if (!this.isTypeOfDD(oDD)) {
                                        return null;
                                    }
                                    var el = oDD.getEl(),
                                        pos, x1, x2, y1, y2, t, r, b, l;
                                    try {
                                        pos = YAHOO.util.Dom.getXY(el);
                                    } catch (e) {}
                                    if (!pos) {
                                        return null;
                                    }
                                    x1 = pos[0];
                                    x2 = x1 + el.offsetWidth;
                                    y1 = pos[1];
                                    y2 = y1 + el.offsetHeight;
                                    t = y1 - oDD.padding[0];
                                    r = x2 + oDD.padding[1];
                                    b = y2 + oDD.padding[2];
                                    l = x1 - oDD.padding[3];
                                    return new YAHOO.util.Region(t, r, b, l);
                                },
                                isOverTarget: function (pt, oTarget, intersect) {
                                    var loc = this.locationCache[oTarget.id];
                                    if (!loc || !this.useCache) {
                                        loc = this.getLocation(oTarget);
                                        this.locationCache[oTarget.id] = loc;
                                    }
                                    if (!loc) {
                                        return false;
                                    }
                                    oTarget.cursorIsOver = loc.contains(pt);
                                    var dc = this.dragCurrent;
                                    if (!dc || !dc.getTargetCoord || (!intersect && !dc.constrainX && !dc.constrainY)) {
                                        return oTarget.cursorIsOver;
                                    }
                                    oTarget.overlap = null;
                                    var pos = dc.getTargetCoord(pt.x, pt.y);
                                    var el = dc.getDragEl();
                                    var curRegion = new YAHOO.util.Region(pos.y, pos.x + el.offsetWidth, pos.y + el.offsetHeight, pos.x);
                                    var overlap = curRegion.intersect(loc);
                                    if (overlap) {
                                        oTarget.overlap = overlap;
                                        return (intersect) ? true : oTarget.cursorIsOver;
                                    } else {
                                        return false;
                                    }
                                },
                                _onUnload: function (e, me) {
                                    this.unregAll();
                                },
                                unregAll: function () {
                                    if (this.dragCurrent) {
                                        this.stopDrag();
                                        this.dragCurrent = null;
                                    }
                                    this._execOnAll("unreg", []);
                                    for (i in this.elementCache) {
                                        delete this.elementCache[i];
                                    }
                                    this.elementCache = {};
                                    this.ids = {};
                                },
                                elementCache: {},
                                getElWrapper: function (id) {
                                    var oWrapper = this.elementCache[id];
                                    if (!oWrapper || !oWrapper.el) {
                                        oWrapper = this.elementCache[id] = new this.ElementWrapper(YAHOO.util.Dom.get(id));
                                    }
                                    return oWrapper;
                                },
                                getElement: function (id) {
                                    return YAHOO.util.Dom.get(id);
                                },
                                getCss: function (id) {
                                    var el = YAHOO.util.Dom.get(id);
                                    return (el) ? el.style : null;
                                },
                                ElementWrapper: function (el) {
                                    this.el = el || null;
                                    this.id = this.el && el.id;
                                    this.css = this.el && el.style;
                                },
                                getPosX: function (el) {
                                    return YAHOO.util.Dom.getX(el);
                                },
                                getPosY: function (el) {
                                    return YAHOO.util.Dom.getY(el);
                                },
                                swapNode: function (n1, n2) {
                                    if (n1.swapNode) {
                                        n1.swapNode(n2);
                                    } else {
                                        var p = n2.parentNode;
                                        var s = n2.nextSibling;
                                        if (s == n1) {
                                            p.insertBefore(n1, n2);
                                        } else if (n2 == n1.nextSibling) {
                                            p.insertBefore(n2, n1);
                                        } else {
                                            n1.parentNode.replaceChild(n2, n1);
                                            p.insertBefore(n1, s);
                                        }
                                    }
                                },
                                getScroll: function () {
                                    var t, l, dde = document.documentElement,
                                        db = document.body;
                                    if (dde && (dde.scrollTop || dde.scrollLeft)) {
                                        t = dde.scrollTop;
                                        l = dde.scrollLeft;
                                    } else if (db) {
                                        t = db.scrollTop;
                                        l = db.scrollLeft;
                                    } else {
                                        YAHOO.log("could not get scroll property");
                                    }
                                    return {
                                        top: t,
                                        left: l
                                    };
                                },
                                getStyle: function (el, styleProp) {
                                    return YAHOO.util.Dom.getStyle(el, styleProp);
                                },
                                getScrollTop: function () {
                                    return this.getScroll().top;
                                },
                                getScrollLeft: function () {
                                    return this.getScroll().left;
                                },
                                moveToEl: function (moveEl, targetEl) {
                                    var aCoord = YAHOO.util.Dom.getXY(targetEl);
                                    YAHOO.util.Dom.setXY(moveEl, aCoord);
                                },
                                getClientHeight: function () {
                                    return YAHOO.util.Dom.getViewportHeight();
                                },
                                getClientWidth: function () {
                                    return YAHOO.util.Dom.getViewportWidth();
                                },
                                numericSort: function (a, b) {
                                    return (a - b);
                                },
                                _timeoutCount: 0,
                                _addListeners: function () {
                                    var DDM = YAHOO.util.DDM;
                                    if (YAHOO.util.Event && document) {
                                        DDM._onLoad();
                                    } else {
                                        if (DDM._timeoutCount > 2000) {} else {
                                            setTimeout(DDM._addListeners, 10);
                                            if (document && document.body) {
                                                DDM._timeoutCount += 1;
                                            }
                                        }
                                    }
                                },
                                handleWasClicked: function (node, id) {
                                    if (this.isHandle(id, node.id)) {
                                        return true;
                                    } else {
                                        var p = node.parentNode;
                                        while (p) {
                                            if (this.isHandle(id, p.id)) {
                                                return true;
                                            } else {
                                                p = p.parentNode;
                                            }
                                        }
                                    }
                                    return false;
                                }
                            };
                        }();
                        YAHOO.util.DDM = YAHOO.util.DragDropMgr;
                        YAHOO.util.DDM._addListeners();
                    }
                    YAHOO.util.DD = function (id, sGroup, config) {
                        if (id) {
                            this.init(id, sGroup, config);
                        }
                    };
                    YAHOO.extend(YAHOO.util.DD, YAHOO.util.DragDrop, {
                        scroll: true,
                        autoOffset: function (iPageX, iPageY) {
                            var x = iPageX - this.startPageX;
                            var y = iPageY - this.startPageY;
                            this.setDelta(x, y);
                        },
                        setDelta: function (iDeltaX, iDeltaY) {
                            this.deltaX = iDeltaX;
                            this.deltaY = iDeltaY;
                        },
                        setDragElPos: function (iPageX, iPageY) {
                            var el = this.getDragEl();
                            this.alignElWithMouse(el, iPageX, iPageY);
                        },
                        alignElWithMouse: function (el, iPageX, iPageY) {
                            var oCoord = this.getTargetCoord(iPageX, iPageY);
                            if (!this.deltaSetXY) {
                                var aCoord = [oCoord.x, oCoord.y];
                                YAHOO.util.Dom.setXY(el, aCoord);
                                var newLeft = parseInt(YAHOO.util.Dom.getStyle(el, "left"), 10);
                                var newTop = parseInt(YAHOO.util.Dom.getStyle(el, "top"), 10);
                                this.deltaSetXY = [newLeft - oCoord.x, newTop - oCoord.y];
                            } else {
                                YAHOO.util.Dom.setStyle(el, "left", (oCoord.x + this.deltaSetXY[0]) + "px");
                                YAHOO.util.Dom.setStyle(el, "top", (oCoord.y + this.deltaSetXY[1]) + "px");
                            }
                            this.cachePosition(oCoord.x, oCoord.y);
                            this.autoScroll(oCoord.x, oCoord.y, el.offsetHeight, el.offsetWidth);
                        },
                        cachePosition: function (iPageX, iPageY) {
                            if (iPageX) {
                                this.lastPageX = iPageX;
                                this.lastPageY = iPageY;
                            } else {
                                var aCoord = YAHOO.util.Dom.getXY(this.getEl());
                                this.lastPageX = aCoord[0];
                                this.lastPageY = aCoord[1];
                            }
                        },
                        autoScroll: function (x, y, h, w) {
                            if (this.scroll) {
                                var clientH = this.DDM.getClientHeight();
                                var clientW = this.DDM.getClientWidth();
                                var st = this.DDM.getScrollTop();
                                var sl = this.DDM.getScrollLeft();
                                var bot = h + y;
                                var right = w + x;
                                var toBot = (clientH + st - y - this.deltaY);
                                var toRight = (clientW + sl - x - this.deltaX);
                                var thresh = 40;
                                var scrAmt = (document.all) ? 80 : 30;
                                if (bot > clientH && toBot < thresh) {
                                    window.scrollTo(sl, st + scrAmt);
                                }
                                if (y < st && st > 0 && y - st < thresh) {
                                    window.scrollTo(sl, st - scrAmt);
                                }
                                if (right > clientW && toRight < thresh) {
                                    window.scrollTo(sl + scrAmt, st);
                                }
                                if (x < sl && sl > 0 && x - sl < thresh) {
                                    window.scrollTo(sl - scrAmt, st);
                                }
                            }
                        },
                        getTargetCoord: function (iPageX, iPageY) {
                            var x = iPageX - this.deltaX;
                            var y = iPageY - this.deltaY;
                            if (this.constrainX) {
                                if (x < this.minX) {
                                    x = this.minX;
                                }
                                if (x > this.maxX) {
                                    x = this.maxX;
                                }
                            }
                            if (this.constrainY) {
                                if (y < this.minY) {
                                    y = this.minY;
                                }
                                if (y > this.maxY) {
                                    y = this.maxY;
                                }
                            }
                            x = this.getTick(x, this.xTicks);
                            y = this.getTick(y, this.yTicks);
                            return {
                                x: x,
                                y: y
                            };
                        },
                        applyConfig: function () {
                            YAHOO.util.DD.superclass.applyConfig.call(this);
                            this.scroll = (this.config.scroll !== false);
                        },
                        b4MouseDown: function (e) {
                            this.autoOffset(YAHOO.util.Event.getPageX(e), YAHOO.util.Event.getPageY(e));
                        },
                        b4Drag: function (e) {
                            this.setDragElPos(YAHOO.util.Event.getPageX(e), YAHOO.util.Event.getPageY(e));
                        },
                        toString: function () {
                            return ("DD " + this.id);
                        }
                    });
                    YAHOO.util.DDProxy = function (id, sGroup, config) {
                        if (id) {
                            this.init(id, sGroup, config);
                            this.initFrame();
                        }
                    };
                    YAHOO.util.DDProxy.dragElId = "ygddfdiv";
                    YAHOO.extend(YAHOO.util.DDProxy, YAHOO.util.DD, {
                        resizeFrame: true,
                        centerFrame: false,
                        createFrame: function () {
                            var self = this;
                            var body = document.body;
                            if (!body || !body.firstChild) {
                                setTimeout(function () {
                                    self.createFrame();
                                }, 50);
                                return;
                            }
                            var div = this.getDragEl();
                            if (!div) {
                                div = document.createElement("div");
                                div.id = this.dragElId;
                                var s = div.style;
                                s.position = "absolute";
                                s.visibility = "hidden";
                                s.cursor = "move";
                                s.border = "2px solid #aaa";
                                s.zIndex = 999;
                                body.insertBefore(div, body.firstChild);
                            }
                        },
                        initFrame: function () {
                            this.createFrame();
                        },
                        applyConfig: function () {
                            YAHOO.util.DDProxy.superclass.applyConfig.call(this);
                            this.resizeFrame = (this.config.resizeFrame !== false);
                            this.centerFrame = (this.config.centerFrame);
                            this.setDragElId(this.config.dragElId || YAHOO.util.DDProxy.dragElId);
                        },
                        showFrame: function (iPageX, iPageY) {
                            var el = this.getEl();
                            var dragEl = this.getDragEl();
                            var s = dragEl.style;
                            this._resizeProxy();
                            if (this.centerFrame) {
                                this.setDelta(Math.round(parseInt(s.width, 10) / 2), Math.round(parseInt(s.height, 10) / 2));
                            }
                            this.setDragElPos(iPageX, iPageY);
                            YAHOO.util.Dom.setStyle(dragEl, "visibility", "visible");
                        },
                        _resizeProxy: function () {
                            if (this.resizeFrame) {
                                var DOM = YAHOO.util.Dom;
                                var el = this.getEl();
                                var dragEl = this.getDragEl();
                                var bt = parseInt(DOM.getStyle(dragEl, "borderTopWidth"), 10);
                                var br = parseInt(DOM.getStyle(dragEl, "borderRightWidth"), 10);
                                var bb = parseInt(DOM.getStyle(dragEl, "borderBottomWidth"), 10);
                                var bl = parseInt(DOM.getStyle(dragEl, "borderLeftWidth"), 10);
                                if (isNaN(bt)) {
                                    bt = 0;
                                }
                                if (isNaN(br)) {
                                    br = 0;
                                }
                                if (isNaN(bb)) {
                                    bb = 0;
                                }
                                if (isNaN(bl)) {
                                    bl = 0;
                                }
                                var newWidth = Math.max(0, el.offsetWidth - br - bl);
                                var newHeight = Math.max(0, el.offsetHeight - bt - bb);
                                DOM.setStyle(dragEl, "width", newWidth + "px");
                                DOM.setStyle(dragEl, "height", newHeight + "px");
                            }
                        },
                        b4MouseDown: function (e) {
                            var x = YAHOO.util.Event.getPageX(e);
                            var y = YAHOO.util.Event.getPageY(e);
                            this.autoOffset(x, y);
                            this.setDragElPos(x, y);
                        },
                        b4StartDrag: function (x, y) {
                            this.showFrame(x, y);
                        },
                        b4EndDrag: function (e) {
                            YAHOO.util.Dom.setStyle(this.getDragEl(), "visibility", "hidden");
                        },
                        endDrag: function (e) {
                            var DOM = YAHOO.util.Dom;
                            var lel = this.getEl();
                            var del = this.getDragEl();
                            DOM.setStyle(del, "visibility", "");
                            DOM.setStyle(lel, "visibility", "hidden");
                            YAHOO.util.DDM.moveToEl(lel, del);
                            DOM.setStyle(del, "visibility", "hidden");
                            DOM.setStyle(lel, "visibility", "");
                        },
                        toString: function () {
                            return ("DDProxy " + this.id);
                        }
                    });
                    YAHOO.util.DDTarget = function (id, sGroup, config) {
                        if (id) {
                            this.initTarget(id, sGroup, config);
                        }
                    };
                    YAHOO.extend(YAHOO.util.DDTarget, YAHOO.util.DragDrop, {
                        toString: function () {
                            return ("DDTarget " + this.id);
                        }
                    });
                    YAHOO.widget.LogMsg = function (oConfigs) {
                        if (typeof oConfigs == "object") {
                            for (var param in oConfigs) {
                                this[param] = oConfigs[param];
                            }
                        }
                    };
                    YAHOO.widget.LogMsg.prototype.msg = null;
                    YAHOO.widget.LogMsg.prototype.time = null;
                    YAHOO.widget.LogMsg.prototype.category = null;
                    YAHOO.widget.LogMsg.prototype.source = null;
                    YAHOO.widget.LogMsg.prototype.sourceDetail = null;
                    YAHOO.widget.LogWriter = function (sSource) {
                        if (!sSource) {
                            YAHOO.log("Could not instantiate LogWriter due to invalid source.", "error", "LogWriter");
                            return;
                        }
                        this._source = sSource;
                    };
                    YAHOO.widget.LogWriter.prototype.toString = function () {
                        return "LogWriter " + this._sSource;
                    };
                    YAHOO.widget.LogWriter.prototype.log = function (sMsg, sCategory) {
                        YAHOO.widget.Logger.log(sMsg, sCategory, this._source);
                    };
                    YAHOO.widget.LogWriter.prototype.getSource = function () {
                        return this._sSource;
                    };
                    YAHOO.widget.LogWriter.prototype.setSource = function (sSource) {
                        if (!sSource) {
                            YAHOO.log("Could not set source due to invalid source.", "error", this.toString());
                            return;
                        } else {
                            this._sSource = sSource;
                        }
                    };
                    YAHOO.widget.LogWriter.prototype._source = null;
                    YAHOO.widget.LogReader = function (elContainer, oConfigs) {
                        var oSelf = this;
                        this._sName = YAHOO.widget.LogReader._index;
                        YAHOO.widget.LogReader._index++;
                        if (typeof oConfigs == "object") {
                            for (var param in oConfigs) {
                                this[param] = oConfigs[param];
                            }
                        }
                        if (elContainer) {
                            if (typeof elContainer == "string") {
                                this._elContainer = document.getElementById(elContainer);
                            } else if (elContainer.tagName) {
                                this._elContainer = elContainer;
                            }
                            this._elContainer.className = "yui-log";
                        }
                        if (!this._elContainer) {
                            if (YAHOO.widget.LogReader._elDefaultContainer) {
                                this._elContainer = YAHOO.widget.LogReader._elDefaultContainer;
                            } else {
                                this._elContainer = document.body.appendChild(document.createElement("div"));
                                this._elContainer.id = "yui-log";
                                this._elContainer.className = "yui-log";
                                YAHOO.widget.LogReader._elDefaultContainer = this._elContainer;
                            }
                            var containerStyle = this._elContainer.style;
                            if (this.width) {
                                containerStyle.width = this.width;
                            }
                            if (this.left) {
                                containerStyle.left = this.left;
                            }
                            if (this.right) {
                                containerStyle.right = this.right;
                            }
                            if (this.bottom) {
                                containerStyle.bottom = this.bottom;
                            }
                            if (this.top) {
                                containerStyle.top = this.top;
                            }
                            if (this.fontSize) {
                                containerStyle.fontSize = this.fontSize;
                            }
                        }
                        if (this._elContainer) {
                            if (!this._elHd) {
                                this._elHd = this._elContainer.appendChild(document.createElement("div"));
                                this._elHd.id = "yui-log-hd" + this._sName;
                                this._elHd.className = "yui-log-hd";
                                this._elCollapse = this._elHd.appendChild(document.createElement("div"));
                                this._elCollapse.className = "yui-log-btns";
                                this._btnCollapse = document.createElement("input");
                                this._btnCollapse.type = "button";
                                this._btnCollapse.style.fontSize = YAHOO.util.Dom.getStyle(this._elContainer, "fontSize");
                                this._btnCollapse.className = "yui-log-button";
                                this._btnCollapse.value = "Collapse";
                                this._btnCollapse = this._elCollapse.appendChild(this._btnCollapse);
                                YAHOO.util.Event.addListener(oSelf._btnCollapse, 'click', oSelf._onClickCollapseBtn, oSelf);
                                this._title = this._elHd.appendChild(document.createElement("h4"));
                                this._title.innerHTML = "Logger Console";
                                if (YAHOO.util.DD && (YAHOO.widget.LogReader._elDefaultContainer == this._elContainer)) {
                                    var ylog_dd = new YAHOO.util.DD(this._elContainer.id);
                                    ylog_dd.setHandleElId(this._elHd.id);
                                    this._elHd.style.cursor = "move";
                                }
                            }
                            if (!this._elConsole) {
                                this._elConsole = this._elContainer.appendChild(document.createElement("div"));
                                this._elConsole.className = "yui-log-bd";
                                if (this.height) {
                                    this._elConsole.style.height = this.height;
                                }
                            }
                            if (!this._elFt && this.footerEnabled) {
                                this._elFt = this._elContainer.appendChild(document.createElement("div"));
                                this._elFt.className = "yui-log-ft";
                                this._elBtns = this._elFt.appendChild(document.createElement("div"));
                                this._elBtns.className = "yui-log-btns";
                                this._btnPause = document.createElement("input");
                                this._btnPause.type = "button";
                                this._btnPause.style.fontSize = YAHOO.util.Dom.getStyle(this._elContainer, "fontSize");
                                this._btnPause.className = "yui-log-button";
                                this._btnPause.value = "Pause";
                                this._btnPause = this._elBtns.appendChild(this._btnPause);
                                YAHOO.util.Event.addListener(oSelf._btnPause, 'click', oSelf._onClickPauseBtn, oSelf);
                                this._btnClear = document.createElement("input");
                                this._btnClear.type = "button";
                                this._btnClear.style.fontSize = YAHOO.util.Dom.getStyle(this._elContainer, "fontSize");
                                this._btnClear.className = "yui-log-button";
                                this._btnClear.value = "Clear";
                                this._btnClear = this._elBtns.appendChild(this._btnClear);
                                YAHOO.util.Event.addListener(oSelf._btnClear, 'click', oSelf._onClickClearBtn, oSelf);
                                this._elCategoryFilters = this._elFt.appendChild(document.createElement("div"));
                                this._elCategoryFilters.className = "yui-log-categoryfilters";
                                this._elSourceFilters = this._elFt.appendChild(document.createElement("div"));
                                this._elSourceFilters.className = "yui-log-sourcefilters";
                            }
                        }
                        if (!this._buffer) {
                            this._buffer = [];
                        }
                        this._lastTime = YAHOO.widget.Logger.getStartTime();
                        YAHOO.widget.Logger.newLogEvent.subscribe(this._onNewLog, this);
                        YAHOO.widget.Logger.logResetEvent.subscribe(this._onReset, this);
                        this._categoryFilters = [];
                        var catsLen = YAHOO.widget.Logger.categories.length;
                        if (this._elCategoryFilters) {
                            for (var i = 0; i < catsLen; i++) {
                                this._createCategoryCheckbox(YAHOO.widget.Logger.categories[i]);
                            }
                        }
                        this._sourceFilters = [];
                        var sourcesLen = YAHOO.widget.Logger.sources.length;
                        if (this._elSourceFilters) {
                            for (var j = 0; j < sourcesLen; j++) {
                                this._createSourceCheckbox(YAHOO.widget.Logger.sources[j]);
                            }
                        }
                        YAHOO.widget.Logger.categoryCreateEvent.subscribe(this._onCategoryCreate, this);
                        YAHOO.widget.Logger.sourceCreateEvent.subscribe(this._onSourceCreate, this);
                        this._filterLogs();
                        YAHOO.log("LogReader initialized", null, this.toString());
                    };
                    YAHOO.widget.LogReader.prototype.logReaderEnabled = true;
                    YAHOO.widget.LogReader.prototype.width = null;
                    YAHOO.widget.LogReader.prototype.height = null;
                    YAHOO.widget.LogReader.prototype.top = null;
                    YAHOO.widget.LogReader.prototype.left = null;
                    YAHOO.widget.LogReader.prototype.right = null;
                    YAHOO.widget.LogReader.prototype.bottom = null;
                    YAHOO.widget.LogReader.prototype.fontSize = null;
                    YAHOO.widget.LogReader.prototype.footerEnabled = true;
                    YAHOO.widget.LogReader.prototype.verboseOutput = true;
                    YAHOO.widget.LogReader.prototype.newestOnTop = true;
                    YAHOO.widget.LogReader.prototype.thresholdMax = 500;
                    YAHOO.widget.LogReader.prototype.thresholdMin = 100;
                    YAHOO.widget.LogReader.prototype.toString = function () {
                        return "LogReader instance" + this._sName;
                    };
                    YAHOO.widget.LogReader.prototype.pause = function () {
                        this._timeout = null;
                        this.logReaderEnabled = false;
                    };
                    YAHOO.widget.LogReader.prototype.resume = function () {
                        this.logReaderEnabled = true;
                        this._printBuffer();
                    };
                    YAHOO.widget.LogReader.prototype.hide = function () {
                        this._elContainer.style.display = "none";
                    };
                    YAHOO.widget.LogReader.prototype.show = function () {
                        this._elContainer.style.display = "block";
                    };
                    YAHOO.widget.LogReader.prototype.setTitle = function (sTitle) {
                        this._title.innerHTML = this.html2Text(sTitle);
                    };
                    YAHOO.widget.LogReader.prototype.getLastTime = function () {
                        return this._lastTime;
                    };
                    YAHOO.widget.LogReader.prototype.formatMsg = function (oLogMsg) {
                        var category = oLogMsg.category;
                        var label = category.substring(0, 4).toUpperCase();
                        var time = oLogMsg.time;
                        if (time.toLocaleTimeString) {
                            var localTime = time.toLocaleTimeString();
                        } else {
                            localTime = time.toString();
                        }
                        var msecs = time.getTime();
                        var startTime = YAHOO.widget.Logger.getStartTime();
                        var totalTime = msecs - startTime;
                        var elapsedTime = msecs - this.getLastTime();
                        var source = oLogMsg.source;
                        var sourceDetail = oLogMsg.sourceDetail;
                        var sourceAndDetail = (sourceDetail) ? source + " " + sourceDetail : source;
                        var msg = this.html2Text(oLogMsg.msg);
                        var output = (this.verboseOutput) ? ["<p><span class='", category, "'>", label, "</span> ", totalTime, "ms (+", elapsedTime, ") ", localTime, ": ", "</p><p>", sourceAndDetail, ": </p><p>", msg, "</p>"] : ["<p><span class='", category, "'>", label, "</span> ", totalTime, "ms (+", elapsedTime, ") ", localTime, ": ", sourceAndDetail, ": ", msg, "</p>"];
                        return output.join("");
                    };
                    YAHOO.widget.LogReader.prototype.html2Text = function (sHtml) {
                        if (sHtml) {
                            sHtml += "";
                            return sHtml.replace(/&/g, "&#38;").replace(/</g, "&#60;").replace(/>/g, "&#62;");
                        }
                        return "";
                    };
                    YAHOO.widget.LogReader._index = 0;
                    YAHOO.widget.LogReader.prototype._sName = null;
                    YAHOO.widget.LogReader._elDefaultContainer = null;
                    YAHOO.widget.LogReader.prototype._buffer = null;
                    YAHOO.widget.LogReader.prototype._consoleMsgCount = 0;
                    YAHOO.widget.LogReader.prototype._lastTime = null;
                    YAHOO.widget.LogReader.prototype._timeout = null;
                    YAHOO.widget.LogReader.prototype._categoryFilters = null;
                    YAHOO.widget.LogReader.prototype._sourceFilters = null;
                    YAHOO.widget.LogReader.prototype._elContainer = null;
                    YAHOO.widget.LogReader.prototype._elHd = null;
                    YAHOO.widget.LogReader.prototype._elCollapse = null;
                    YAHOO.widget.LogReader.prototype._btnCollapse = null;
                    YAHOO.widget.LogReader.prototype._title = null;
                    YAHOO.widget.LogReader.prototype._elConsole = null;
                    YAHOO.widget.LogReader.prototype._elFt = null;
                    YAHOO.widget.LogReader.prototype._elBtns = null;
                    YAHOO.widget.LogReader.prototype._elCategoryFilters = null;
                    YAHOO.widget.LogReader.prototype._elSourceFilters = null;
                    YAHOO.widget.LogReader.prototype._btnPause = null;
                    YAHOO.widget.LogReader.prototype._btnClear = null;
                    YAHOO.widget.LogReader.prototype._createCategoryCheckbox = function (sCategory) {
                        var oSelf = this;
                        if (this._elFt) {
                            var elParent = this._elCategoryFilters;
                            var filters = this._categoryFilters;
                            var elFilter = elParent.appendChild(document.createElement("span"));
                            elFilter.className = "yui-log-filtergrp";
                            var chkCategory = document.createElement("input");
                            chkCategory.id = "yui-log-filter-" + sCategory + this._sName;
                            chkCategory.className = "yui-log-filter-" + sCategory;
                            chkCategory.type = "checkbox";
                            chkCategory.category = sCategory;
                            chkCategory = elFilter.appendChild(chkCategory);
                            chkCategory.checked = true;
                            filters.push(sCategory);
                            YAHOO.util.Event.addListener(chkCategory, 'click', oSelf._onCheckCategory, oSelf);
                            var lblCategory = elFilter.appendChild(document.createElement("label"));
                            lblCategory.htmlFor = chkCategory.id;
                            lblCategory.className = sCategory;
                            lblCategory.innerHTML = sCategory;
                        }
                    };
                    YAHOO.widget.LogReader.prototype._createSourceCheckbox = function (sSource) {
                        var oSelf = this;
                        if (this._elFt) {
                            var elParent = this._elSourceFilters;
                            var filters = this._sourceFilters;
                            var elFilter = elParent.appendChild(document.createElement("span"));
                            elFilter.className = "yui-log-filtergrp";
                            var chkSource = document.createElement("input");
                            chkSource.id = "yui-log-filter" + sSource + this._sName;
                            chkSource.className = "yui-log-filter" + sSource;
                            chkSource.type = "checkbox";
                            chkSource.source = sSource;
                            chkSource = elFilter.appendChild(chkSource);
                            chkSource.checked = true;
                            filters.push(sSource);
                            YAHOO.util.Event.addListener(chkSource, 'click', oSelf._onCheckSource, oSelf);
                            var lblSource = elFilter.appendChild(document.createElement("label"));
                            lblSource.htmlFor = chkSource.id;
                            lblSource.className = sSource;
                            lblSource.innerHTML = sSource;
                        }
                    };
                    YAHOO.widget.LogReader.prototype._filterLogs = function () {
                        if (this._elConsole !== null) {
                            this._clearConsole();
                            this._printToConsole(YAHOO.widget.Logger.getStack());
                        }
                    };
                    YAHOO.widget.LogReader.prototype._clearConsole = function () {
                        this._timeout = null;
                        this._buffer = [];
                        this._consoleMsgCount = 0;
                        this._lastTime = YAHOO.widget.Logger.getStartTime();
                        var elConsole = this._elConsole;
                        while (elConsole.hasChildNodes()) {
                            elConsole.removeChild(elConsole.firstChild);
                        }
                    };
                    YAHOO.widget.LogReader.prototype._printBuffer = function () {
                        this._timeout = null;
                        if (this._elConsole !== null) {
                            var thresholdMax = this.thresholdMax;
                            thresholdMax = (thresholdMax && !isNaN(thresholdMax)) ? thresholdMax : 500;
                            if (this._consoleMsgCount < thresholdMax) {
                                var entries = [];
                                for (var i = 0; i < this._buffer.length; i++) {
                                    entries[i] = this._buffer[i];
                                }
                                this._buffer = [];
                                this._printToConsole(entries);
                            } else {
                                this._filterLogs();
                            }
                            if (!this.newestOnTop) {
                                this._elConsole.scrollTop = this._elConsole.scrollHeight;
                            }
                        }
                    };
                    YAHOO.widget.LogReader.prototype._printToConsole = function (aEntries) {
                        var entriesLen = aEntries.length;
                        var thresholdMin = this.thresholdMin;
                        if (isNaN(thresholdMin) || (thresholdMin > this.thresholdMax)) {
                            thresholdMin = 0;
                        }
                        var entriesStartIndex = (entriesLen > thresholdMin) ? (entriesLen - thresholdMin) : 0;
                        var sourceFiltersLen = this._sourceFilters.length;
                        var categoryFiltersLen = this._categoryFilters.length;
                        for (var i = entriesStartIndex; i < entriesLen; i++) {
                            var okToPrint = false;
                            var okToFilterCats = false;
                            var entry = aEntries[i];
                            var source = entry.source;
                            var category = entry.category;
                            for (var j = 0; j < sourceFiltersLen; j++) {
                                if (source == this._sourceFilters[j]) {
                                    okToFilterCats = true;
                                    break;
                                }
                            }
                            if (okToFilterCats) {
                                for (var k = 0; k < categoryFiltersLen; k++) {
                                    if (category == this._categoryFilters[k]) {
                                        okToPrint = true;
                                        break;
                                    }
                                }
                            }
                            if (okToPrint) {
                                var output = this.formatMsg(entry);
                                var container = (this.verboseOutput) ? "CODE" : "PRE";
                                var oNewElement = (this.newestOnTop) ? this._elConsole.insertBefore(document.createElement(container), this._elConsole.firstChild) : this._elConsole.appendChild(document.createElement(container));
                                oNewElement.innerHTML = output;
                                this._consoleMsgCount++;
                                this._lastTime = entry.time.getTime();
                            }
                        }
                    };
                    YAHOO.widget.LogReader.prototype._onCategoryCreate = function (sType, aArgs, oSelf) {
                        var category = aArgs[0];
                        if (oSelf._elFt) {
                            oSelf._createCategoryCheckbox(category);
                        }
                    };
                    YAHOO.widget.LogReader.prototype._onSourceCreate = function (sType, aArgs, oSelf) {
                        var source = aArgs[0];
                        if (oSelf._elFt) {
                            oSelf._createSourceCheckbox(source);
                        }
                    };
                    YAHOO.widget.LogReader.prototype._onCheckCategory = function (v, oSelf) {
                        var newFilter = this.category;
                        var filtersArray = oSelf._categoryFilters;
                        if (!this.checked) {
                            for (var i = 0; i < filtersArray.length; i++) {
                                if (newFilter == filtersArray[i]) {
                                    filtersArray.splice(i, 1);
                                    break;
                                }
                            }
                        } else {
                            filtersArray.push(newFilter);
                        }
                        oSelf._filterLogs();
                    };
                    YAHOO.widget.LogReader.prototype._onCheckSource = function (v, oSelf) {
                        var newFilter = this.source;
                        var filtersArray = oSelf._sourceFilters;
                        if (!this.checked) {
                            for (var i = 0; i < filtersArray.length; i++) {
                                if (newFilter == filtersArray[i]) {
                                    filtersArray.splice(i, 1);
                                    break;
                                }
                            }
                        } else {
                            filtersArray.push(newFilter);
                        }
                        oSelf._filterLogs();
                    };
                    YAHOO.widget.LogReader.prototype._onClickCollapseBtn = function (v, oSelf) {
                        var btn = oSelf._btnCollapse;
                        if (btn.value == "Expand") {
                            oSelf._elConsole.style.display = "block";
                            if (oSelf._elFt) {
                                oSelf._elFt.style.display = "block";
                            }
                            btn.value = "Collapse";
                        } else {
                            oSelf._elConsole.style.display = "none";
                            if (oSelf._elFt) {
                                oSelf._elFt.style.display = "none";
                            }
                            btn.value = "Expand";
                        }
                    };
                    YAHOO.widget.LogReader.prototype._onClickPauseBtn = function (v, oSelf) {
                        var btn = oSelf._btnPause;
                        if (btn.value == "Resume") {
                            oSelf.resume();
                            btn.value = "Pause";
                        } else {
                            oSelf.pause();
                            btn.value = "Resume";
                        }
                    };
                    YAHOO.widget.LogReader.prototype._onClickClearBtn = function (v, oSelf) {
                        oSelf._clearConsole();
                    };
                    YAHOO.widget.LogReader.prototype._onNewLog = function (sType, aArgs, oSelf) {
                        var logEntry = aArgs[0];
                        oSelf._buffer.push(logEntry);
                        if (oSelf.logReaderEnabled === true && oSelf._timeout === null) {
                            oSelf._timeout = setTimeout(function () {
                                oSelf._printBuffer();
                            }, 100);
                        }
                    };
                    YAHOO.widget.LogReader.prototype._onReset = function (sType, aArgs, oSelf) {
                        oSelf._filterLogs();
                    };
                    YAHOO.widget.Logger = {
                        loggerEnabled: true,
                        _browserConsoleEnabled: false,
                        categories: ["info", "warn", "error", "time", "window"],
                        sources: ["global"],
                        _stack: [],
                        maxStackEntries: 2500,
                        _startTime: new Date().getTime(),
                        _lastTime: null
                    };
                    YAHOO.widget.Logger.log = function (sMsg, sCategory, sSource) {
                        if (this.loggerEnabled) {
                            if (!sCategory) {
                                sCategory = "info";
                            } else {
                                sCategory = sCategory.toLocaleLowerCase();
                                if (this._isNewCategory(sCategory)) {
                                    this._createNewCategory(sCategory);
                                }
                            }
                            var sClass = "global";
                            var sDetail = null;
                            if (sSource) {
                                var spaceIndex = sSource.indexOf(" ");
                                if (spaceIndex > 0) {
                                    sClass = sSource.substring(0, spaceIndex);
                                    sDetail = sSource.substring(spaceIndex, sSource.length);
                                } else {
                                    sClass = sSource;
                                }
                                if (this._isNewSource(sClass)) {
                                    this._createNewSource(sClass);
                                }
                            }
                            var timestamp = new Date();
                            var logEntry = new YAHOO.widget.LogMsg({
                                msg: sMsg,
                                time: timestamp,
                                category: sCategory,
                                source: sClass,
                                sourceDetail: sDetail
                            });
                            var stack = this._stack;
                            var maxStackEntries = this.maxStackEntries;
                            if (maxStackEntries && !isNaN(maxStackEntries) && (stack.length >= maxStackEntries)) {
                                stack.shift();
                            }
                            stack.push(logEntry);
                            this.newLogEvent.fire(logEntry);
                            if (this._browserConsoleEnabled) {
                                this._printToBrowserConsole(logEntry);
                            }
                            return true;
                        } else {
                            return false;
                        }
                    };
                    YAHOO.widget.Logger.reset = function () {
                        this._stack = [];
                        this._startTime = new Date().getTime();
                        this.loggerEnabled = true;
                        this.log("Logger reset");
                        this.logResetEvent.fire();
                    };
                    YAHOO.widget.Logger.getStack = function () {
                        return this._stack;
                    };
                    YAHOO.widget.Logger.getStartTime = function () {
                        return this._startTime;
                    };
                    YAHOO.widget.Logger.disableBrowserConsole = function () {
                        YAHOO.log("Logger output to the function console.log() has been disabled.");
                        this._browserConsoleEnabled = false;
                    };
                    YAHOO.widget.Logger.enableBrowserConsole = function () {
                        this._browserConsoleEnabled = true;
                        YAHOO.log("Logger output to the function console.log() has been enabled.");
                    };
                    YAHOO.widget.Logger.categoryCreateEvent = new YAHOO.util.CustomEvent("categoryCreate", this, true);
                    YAHOO.widget.Logger.sourceCreateEvent = new YAHOO.util.CustomEvent("sourceCreate", this, true);
                    YAHOO.widget.Logger.newLogEvent = new YAHOO.util.CustomEvent("newLog", this, true);
                    YAHOO.widget.Logger.logResetEvent = new YAHOO.util.CustomEvent("logReset", this, true);
                    YAHOO.widget.Logger._createNewCategory = function (sCategory) {
                        this.categories.push(sCategory);
                        this.categoryCreateEvent.fire(sCategory);
                    };
                    YAHOO.widget.Logger._isNewCategory = function (sCategory) {
                        for (var i = 0; i < this.categories.length; i++) {
                            if (sCategory == this.categories[i]) {
                                return false;
                            }
                        }
                        return true;
                    };
                    YAHOO.widget.Logger._createNewSource = function (sSource) {
                        this.sources.push(sSource);
                        this.sourceCreateEvent.fire(sSource);
                    };
                    YAHOO.widget.Logger._isNewSource = function (sSource) {
                        if (sSource) {
                            for (var i = 0; i < this.sources.length; i++) {
                                if (sSource == this.sources[i]) {
                                    return false;
                                }
                            }
                            return true;
                        }
                    };
                    YAHOO.widget.Logger._printToBrowserConsole = function (oEntry) {
                        if (window.console && console.log) {
                            var category = oEntry.category;
                            var label = oEntry.category.substring(0, 4).toUpperCase();
                            var time = oEntry.time;
                            if (time.toLocaleTimeString) {
                                var localTime = time.toLocaleTimeString();
                            } else {
                                localTime = time.toString();
                            }
                            var msecs = time.getTime();
                            var elapsedTime = (YAHOO.widget.Logger._lastTime) ? (msecs - YAHOO.widget.Logger._lastTime) : 0;
                            YAHOO.widget.Logger._lastTime = msecs;
                            var output = localTime + " (" + elapsedTime + "ms): " + oEntry.source + ": " + oEntry.msg;
                            console.log(output);
                        }
                    };
                    YAHOO.widget.Logger._onWindowError = function (sMsg, sUrl, sLine) {
                        try {
                            YAHOO.widget.Logger.log(sMsg + ' (' + sUrl + ', line ' + sLine + ')', "window");
                            if (YAHOO.widget.Logger._origOnWindowError) {
                                YAHOO.widget.Logger._origOnWindowError();
                            }
                        } catch (e) {
                            return false;
                        }
                    };
                    if (window.onerror) {
                        YAHOO.widget.Logger._origOnWindowError = window.onerror;
                    }
                    window.onerror = YAHOO.widget.Logger._onWindowError;
                    YAHOO.widget.Logger.log("Logger initialized");
                    YAHOO.namespace('ext', 'ext.util', 'ext.grid', 'ext.dd', 'ext.tree', 'ext.data', 'ext.form');
                    if (typeof Ext == 'undefined') {
                        Ext = YAHOO.ext;
                    }
                    YAHOO.ext.Strict = (document.compatMode == 'CSS1Compat');
                    YAHOO.ext.SSL_SECURE_URL = 'javascript:false';
                    YAHOO.ext.BLANK_IMAGE_URL = 'http:/' + '/www.yui-ext.com/blog/images/s.gif';
                    window.undefined = undefined;
                    Function.prototype.createCallback = function () {
                        var args = arguments;
                        var method = this;
                        return function () {
                            return method.apply(window, args);
                        };
                    };
                    Function.prototype.createDelegate = function (obj, args, appendArgs) {
                        var method = this;
                        return function () {
                            var callArgs = args || arguments;
                            if (appendArgs === true) {
                                callArgs = Array.prototype.slice.call(arguments, 0);
                                callArgs = callArgs.concat(args);
                            } else if (typeof appendArgs == 'number') {
                                callArgs = Array.prototype.slice.call(arguments, 0);
                                var applyArgs = [appendArgs, 0].concat(args);
                                Array.prototype.splice.apply(callArgs, applyArgs);
                            }
                            return method.apply(obj || window, callArgs);
                        };
                    };
                    Function.prototype.defer = function (millis, obj, args, appendArgs) {
                        return setTimeout(this.createDelegate(obj, args, appendArgs), millis);
                    };
                    Function.prototype.createSequence = function (fcn, scope) {
                        if (typeof fcn != 'function') {
                            return this;
                        }
                        var method = this;
                        return function () {
                            var retval = method.apply(this || window, arguments);
                            fcn.apply(scope || this || window, arguments);
                            return retval;
                        };
                    };
                    YAHOO.util.Event.on(window, 'unload', function () {
                        var p = Function.prototype;
                        delete p.createSequence;
                        delete p.defer;
                        delete p.createDelegate;
                        delete p.createCallback;
                        delete p.createInterceptor;
                    });
                    Function.prototype.createInterceptor = function (fcn, scope) {
                        if (typeof fcn != 'function') {
                            return this;
                        }
                        var method = this;
                        return function () {
                            fcn.target = this;
                            fcn.method = method;
                            if (fcn.apply(scope || this || window, arguments) === false) {
                                return;
                            }
                            return method.apply(this || window, arguments);;
                        };
                    };
                    YAHOO.ext.util.Browser = new function () {
                        var ua = navigator.userAgent.toLowerCase();
                        this.isOpera = (ua.indexOf('opera') > -1);
                        this.isSafari = (ua.indexOf('webkit') > -1);
                        this.isIE = (window.ActiveXObject);
                        this.isIE7 = (ua.indexOf('msie 7') > -1);
                        this.isGecko = !this.isSafari && (ua.indexOf('gecko') > -1);
                        if (ua.indexOf("windows") != -1 || ua.indexOf("win32") != -1) {
                            this.isWindows = true;
                        } else if (ua.indexOf("macintosh") != -1) {
                            this.isMac = true;
                        }
                        if (this.isIE && !this.isIE7) {
                            try {
                                document.execCommand("BackgroundImageCache", false, true);
                            } catch (e) {}
                        }
                    }();
                    YAHOO.util.CustomEvent.prototype.fireDirect = function () {
                        var len = this.subscribers.length;
                        for (var i = 0; i < len; ++i) {
                            var s = this.subscribers[i];
                            if (s) {
                                var scope = (s.override) ? s.obj : this.scope;
                                if (s.fn.apply(scope, arguments) === false) {
                                    return false;
                                }
                            }
                        }
                        return true;
                    };
                    YAHOO.print = function (arg1, arg2, etc) {
                        if (!YAHOO.ext._console) {
                            var cs = YAHOO.ext.DomHelper.insertBefore(document.body.firstChild, {
                                tag: 'div',
                                style: 'width:250px;height:350px;overflow:auto;border:3px solid #c3daf9;' + 'background:white;position:absolute;right:5px;top:5px;' + 'font:normal 8pt arial,verdana,helvetica;z-index:50000;padding:5px;'
                            }, true);
                            if (YAHOO.ext.Resizable) {
                                new YAHOO.ext.Resizable(cs, {
                                    transparent: true,
                                    handles: 'all',
                                    pinned: true,
                                    adjustments: [0, 0],
                                    wrap: true,
                                    draggable: (YAHOO.util.DD ? true : false)
                                });
                            }
                            cs.on('dblclick', cs.hide);
                            YAHOO.ext._console = cs;
                        }
                        var m = '';
                        for (var i = 0, len = arguments.length; i < len; i++) {
                            m += (i == 0 ? '' : ', ') + arguments[i];
                        }
                        m += '<hr noshade style="color:#eeeeee;" size="1">'
                        var d = YAHOO.ext._console.dom;
                        d.innerHTML = m + d.innerHTML;
                        d.scrollTop = 0;
                        YAHOO.ext._console.show();
                    };
                    YAHOO.printf = function (format, arg1, arg2, etc) {
                        var args = Array.prototype.slice.call(arguments, 1);
                        YAHOO.print(format.replace(/\{\{[^{}]*\}\}|\{(\d+)(,\s*([\w.]+))?\}/g, function (m, a1, a2, a3) {
                            if (m.chatAt == '{') {
                                return m.slice(1, - 1);
                            }
                            var rpl = args[a1];
                            if (a3) {
                                var f = eval(a3);
                                rpl = f(rpl);
                            }
                            return rpl ? rpl : '';
                        }));
                    }
                    YAHOO._timers = {};
                    YAHOO.timer = function (name, reset) {
                        var t = new Date().getTime();
                        if (YAHOO._timers[name] && !reset) {
                            YAHOO.printf("{0} : {1} ms", name, t - YAHOO._timers[name]);
                        } else {
                            YAHOO._timers[name] = t;
                        }
                    }
                    YAHOO.extendX = function (subclass, superclass, overrides) {
                        YAHOO.extend(subclass, superclass);
                        subclass.override = function (o) {
                            YAHOO.override(subclass, o);
                        };
                        if (!subclass.prototype.override) {
                            subclass.prototype.override = function (o) {
                                for (var method in o) {
                                    this[method] = o[method];
                                }
                            };
                        }
                        if (overrides) {
                            subclass.override(overrides);
                        }
                    };
                    YAHOO.namespaceX = function () {
                        var a = arguments,
                            len = a.length,
                            i;
                        YAHOO.namespace.apply(YAHOO, a);
                        for (i = 0; i < len; i++) {
                            var p = a[i].split('.')[0];
                            if (p != 'YAHOO' && YAHOO[p]) {
                                eval(p + ' = YAHOO.' + p);
                                delete YAHOO[p];
                            }
                        }
                    };
                    YAHOO.override = function (origclass, overrides) {
                        if (overrides) {
                            var p = origclass.prototype;
                            for (var method in overrides) {
                                p[method] = overrides[method];
                            }
                        }
                    };
                    YAHOO.ext.util.DelayedTask = function (fn, scope, args) {
                        var timeoutId = null;
                        this.delay = function (delay, newFn, newScope, newArgs) {
                            if (timeoutId) {
                                clearTimeout(timeoutId);
                            }
                            fn = newFn || fn;
                            scope = newScope || scope;
                            args = newArgs || args;
                            timeoutId = setTimeout(fn.createDelegate(scope, args), delay);
                        };
                        this.cancel = function () {
                            if (timeoutId) {
                                clearTimeout(timeoutId);
                                timeoutId = null;
                            }
                        };
                    };
                    YAHOO.ext.util.Observable = function () {};
                    YAHOO.ext.util.Observable.prototype = {
                        fireEvent: function () {
                            var ce = this.events[arguments[0].toLowerCase()];
                            if (typeof ce == 'object') {
                                return ce.fireDirect.apply(ce, Array.prototype.slice.call(arguments, 1));
                            } else {
                                return true;
                            }
                        },
                        addListener: function (eventName, fn, scope, override) {
                            eventName = eventName.toLowerCase();
                            var ce = this.events[eventName];
                            if (!ce) {
                                throw 'You are trying to listen for an event that does not exist: "' + eventName + '".';
                            }
                            if (typeof ce == 'boolean') {
                                ce = new YAHOO.util.CustomEvent(eventName);
                                this.events[eventName] = ce;
                            }
                            ce.subscribe(fn, scope, override);
                        },
                        delayedListener: function (eventName, fn, scope, delay) {
                            var newFn = function () {
                                setTimeout(fn.createDelegate(scope, arguments), delay || 1);
                            }
                            this.addListener(eventName, newFn);
                            return newFn;
                        },
                        bufferedListener: function (eventName, fn, scope, millis) {
                            var task = new YAHOO.ext.util.DelayedTask();
                            var newFn = function () {
                                task.delay(millis || 250, fn, scope, Array.prototype.slice.call(arguments, 0));
                            }
                            this.addListener(eventName, newFn);
                            return newFn;
                        },
                        removeListener: function (eventName, fn, scope) {
                            var ce = this.events[eventName.toLowerCase()];
                            if (typeof ce == 'object') {
                                ce.unsubscribe(fn, scope);
                            }
                        },
                        purgeListeners: function () {
                            for (var evt in this.events) {
                                if (typeof this.events[evt] == 'object') {
                                    this.events[evt].unsubscribeAll();
                                }
                            }
                        }
                    };
                    YAHOO.ext.util.Observable.prototype.on = YAHOO.ext.util.Observable.prototype.addListener;
                    YAHOO.ext.util.Observable.capture = function (o, fn, scope) {
                        o.fireEvent = o.fireEvent.createInterceptor(fn, scope);
                    };
                    YAHOO.ext.util.Observable.releaseCapture = function (o) {
                        o.fireEvent = YAHOO.ext.util.Observable.prototype.fireEvent;
                    };
                    YAHOO.ext.util.Config = {
                        apply: function (obj, config, defaults) {
                            if (defaults) {
                                this.apply(obj, defaults);
                            }
                            if (config) {
                                for (var prop in config) {
                                    obj[prop] = config[prop];
                                }
                            }
                            return obj;
                        }
                    };
                    if (!String.escape) {
                        String.escape = function (string) {
                            return string.replace(/('|\\)/g, "\\$1");
                        };
                    };
                    String.leftPad = function (val, size, ch) {
                        var result = new String(val);
                        if (ch == null) {
                            ch = " ";
                        }
                        while (result.length < size) {
                            result = ch + result;
                        }
                        return result;
                    };
                    if (YAHOO.util.AnimMgr && YAHOO.ext.util.Browser.isSafari) {
                        YAHOO.util.AnimMgr.fps = 500;
                    }
                    if (YAHOO.util.Anim) {
                        YAHOO.util.Anim.prototype.animateX = function (callback, scope) {
                            var f = function () {
                                this.onComplete.unsubscribe(f);
                                if (typeof callback == 'function') {
                                    callback.call(scope || this, this);
                                }
                            };
                            this.onComplete.subscribe(f, this, true);
                            this.animate();
                        };
                    }
                    if (YAHOO.util.Connect && YAHOO.ext.util.Browser.isSafari) {
                        YAHOO.util.Connect.setHeader = function (o) {
                            for (var prop in this._http_header) {
                                if (typeof this._http_header[prop] != 'function') {
                                    o.conn.setRequestHeader(prop, this._http_header[prop]);
                                }
                            }
                            delete this._http_header;
                            this._http_header = {};
                            this._has_http_headers = false;
                        };
                    }
                    if (YAHOO.util.DragDrop) {
                        YAHOO.util.DragDrop.prototype.defaultPadding = {
                            left: 0,
                            right: 0,
                            top: 0,
                            bottom: 0
                        };
                        YAHOO.util.DragDrop.prototype.constrainTo = function (constrainTo, pad, inContent) {
                            if (typeof pad == 'number') {
                                pad = {
                                    left: pad,
                                    right: pad,
                                    top: pad,
                                    bottom: pad
                                };
                            }
                            pad = pad || this.defaultPadding;
                            var b = getEl(this.getEl()).getBox();
                            var ce = getEl(constrainTo);
                            var c = ce.dom == document.body ? {
                                x: 0,
                                y: 0,
                                width: YAHOO.util.Dom.getViewportWidth(),
                                height: YAHOO.util.Dom.getViewportHeight()
                            } : ce.getBox(inContent || false);
                            var topSpace = b.y - c.y;
                            var leftSpace = b.x - c.x;
                            this.resetConstraints();
                            this.setXConstraint(leftSpace - (pad.left || 0), c.width - leftSpace - b.width - (pad.right || 0));
                            this.setYConstraint(topSpace - (pad.top || 0), c.height - topSpace - b.height - (pad.bottom || 0));
                        }
                    }
                    YAHOO.ext.util.Bench = function () {
                        this.timers = {};
                        this.lastKey = null;
                    };
                    YAHOO.ext.util.Bench.prototype = {
                        start: function (key) {
                            this.lastKey = key;
                            this.timers[key] = {};
                            this.timers[key].startTime = new Date().getTime();
                        },
                        stop: function (key) {
                            key = key || this.lastKey;
                            this.timers[key].endTime = new Date().getTime();
                        },
                        getElapsed: function (key) {
                            key = key || this.lastKey;
                            return this.timers[key].endTime - this.timers[key].startTime;
                        },
                        toString: function (html) {
                            var results = "";
                            for (var key in this.timers) {
                                if (typeof this.timers[key] != 'function') {
                                    results += key + ":\t" + (this.getElapsed(key) / 1000) + " seconds\n";
                                }
                            }
                            if (html) {
                                results = results.replace("\n", '<br>');
                            }
                            return results;
                        },
                        show: function () {
                            alert(this.toString());
                        }
                    };
                    Date.parseFunctions = {
                        count: 0
                    };
                    Date.parseRegexes = [];
                    Date.formatFunctions = {
                        count: 0
                    };
                    Date.prototype.dateFormat = function (format) {
                        if (Date.formatFunctions[format] == null) {
                            Date.createNewFormat(format);
                        }
                        var func = Date.formatFunctions[format];
                        return this[func]();
                    };
                    Date.prototype.format = Date.prototype.dateFormat;
                    Date.createNewFormat = function (format) {
                        var funcName = "format" + Date.formatFunctions.count++;
                        Date.formatFunctions[format] = funcName;
                        var code = "Date.prototype." + funcName + " = function(){return ";
                        var special = false;
                        var ch = '';
                        for (var i = 0; i < format.length; ++i) {
                            ch = format.charAt(i);
                            if (!special && ch == "\\") {
                                special = true;
                            } else if (special) {
                                special = false;
                                code += "'" + String.escape(ch) + "' + ";
                            } else {
                                code += Date.getFormatCode(ch);
                            }
                        }
                        eval(code.substring(0, code.length - 3) + ";}");
                    };
                    Date.getFormatCode = function (character) {
                        switch (character) {
                        case "d":
                            return "String.leftPad(this.getDate(), 2, '0') + ";
                        case "D":
                            return "Date.dayNames[this.getDay()].substring(0, 3) + ";
                        case "j":
                            return "this.getDate() + ";
                        case "l":
                            return "Date.dayNames[this.getDay()] + ";
                        case "S":
                            return "this.getSuffix() + ";
                        case "w":
                            return "this.getDay() + ";
                        case "z":
                            return "this.getDayOfYear() + ";
                        case "W":
                            return "this.getWeekOfYear() + ";
                        case "F":
                            return "Date.monthNames[this.getMonth()] + ";
                        case "m":
                            return "String.leftPad(this.getMonth() + 1, 2, '0') + ";
                        case "M":
                            return "Date.monthNames[this.getMonth()].substring(0, 3) + ";
                        case "n":
                            return "(this.getMonth() + 1) + ";
                        case "t":
                            return "this.getDaysInMonth() + ";
                        case "L":
                            return "(this.isLeapYear() ? 1 : 0) + ";
                        case "Y":
                            return "this.getFullYear() + ";
                        case "y":
                            return "('' + this.getFullYear()).substring(2, 4) + ";
                        case "a":
                            return "(this.getHours() < 12 ? 'am' : 'pm') + ";
                        case "A":
                            return "(this.getHours() < 12 ? 'AM' : 'PM') + ";
                        case "g":
                            return "((this.getHours() %12) ? this.getHours() % 12 : 12) + ";
                        case "G":
                            return "this.getHours() + ";
                        case "h":
                            return "String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";
                        case "H":
                            return "String.leftPad(this.getHours(), 2, '0') + ";
                        case "i":
                            return "String.leftPad(this.getMinutes(), 2, '0') + ";
                        case "s":
                            return "String.leftPad(this.getSeconds(), 2, '0') + ";
                        case "O":
                            return "this.getGMTOffset() + ";
                        case "T":
                            return "this.getTimezone() + ";
                        case "Z":
                            return "(this.getTimezoneOffset() * -60) + ";
                        default:
                            return "'" + String.escape(character) + "' + ";
                        };
                    };
                    Date.parseDate = function (input, format) {
                        if (Date.parseFunctions[format] == null) {
                            Date.createParser(format);
                        }
                        var func = Date.parseFunctions[format];
                        return Date[func](input);
                    };
                    Date.createParser = function (format) {
                        var funcName = "parse" + Date.parseFunctions.count++;
                        var regexNum = Date.parseRegexes.length;
                        var currentGroup = 1;
                        Date.parseFunctions[format] = funcName;
                        var code = "Date." + funcName + " = function(input){\n" + "var y = -1, m = -1, d = -1, h = -1, i = -1, s = -1;\n" + "var d = new Date();\n" + "y = d.getFullYear();\n" + "m = d.getMonth();\n" + "d = d.getDate();\n" + "var results = input.match(Date.parseRegexes[" + regexNum + "]);\n" + "if (results && results.length > 0) {"
                        var regex = "";
                        var special = false;
                        var ch = '';
                        for (var i = 0; i < format.length; ++i) {
                            ch = format.charAt(i);
                            if (!special && ch == "\\") {
                                special = true;
                            } else if (special) {
                                special = false;
                                regex += String.escape(ch);
                            } else {
                                obj = Date.formatCodeToRegex(ch, currentGroup);
                                currentGroup += obj.g;
                                regex += obj.s;
                                if (obj.g && obj.c) {
                                    code += obj.c;
                                }
                            }
                        }
                        code += "if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n" + "{return new Date(y, m, d, h, i, s);}\n" + "else if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n" + "{return new Date(y, m, d, h, i);}\n" + "else if (y > 0 && m >= 0 && d > 0 && h >= 0)\n" + "{return new Date(y, m, d, h);}\n" + "else if (y > 0 && m >= 0 && d > 0)\n" + "{return new Date(y, m, d);}\n" + "else if (y > 0 && m >= 0)\n" + "{return new Date(y, m);}\n" + "else if (y > 0)\n" + "{return new Date(y);}\n" + "}return null;}";
                        Date.parseRegexes[regexNum] = new RegExp("^" + regex + "$");
                        eval(code);
                    };
                    Date.formatCodeToRegex = function (character, currentGroup) {
                        switch (character) {
                        case "D":
                            return {
                                g: 0,
                                c: null,
                                s: "(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"
                            };
                        case "j":
                        case "d":
                            return {
                                g: 1,
                                c: "d = parseInt(results[" + currentGroup + "], 10);\n",
                                s: "(\\d{1,2})"
                            };
                        case "l":
                            return {
                                g: 0,
                                c: null,
                                s: "(?:" + Date.dayNames.join("|") + ")"
                            };
                        case "S":
                            return {
                                g: 0,
                                c: null,
                                s: "(?:st|nd|rd|th)"
                            };
                        case "w":
                            return {
                                g: 0,
                                c: null,
                                s: "\\d"
                            };
                        case "z":
                            return {
                                g: 0,
                                c: null,
                                s: "(?:\\d{1,3})"
                            };
                        case "W":
                            return {
                                g: 0,
                                c: null,
                                s: "(?:\\d{2})"
                            };
                        case "F":
                            return {
                                g: 1,
                                c: "m = parseInt(Date.monthNumbers[results[" + currentGroup + "].substring(0, 3)], 10);\n",
                                s: "(" + Date.monthNames.join("|") + ")"
                            };
                        case "M":
                            return {
                                g: 1,
                                c: "m = parseInt(Date.monthNumbers[results[" + currentGroup + "]], 10);\n",
                                s: "(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"
                            };
                        case "n":
                        case "m":
                            return {
                                g: 1,
                                c: "m = parseInt(results[" + currentGroup + "], 10) - 1;\n",
                                s: "(\\d{1,2})"
                            };
                        case "t":
                            return {
                                g: 0,
                                c: null,
                                s: "\\d{1,2}"
                            };
                        case "L":
                            return {
                                g: 0,
                                c: null,
                                s: "(?:1|0)"
                            };
                        case "Y":
                            return {
                                g: 1,
                                c: "y = parseInt(results[" + currentGroup + "], 10);\n",
                                s: "(\\d{4})"
                            };
                        case "y":
                            return {
                                g: 1,
                                c: "var ty = parseInt(results[" + currentGroup + "], 10);\n" + "y = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",
                                s: "(\\d{1,2})"
                            };
                        case "a":
                            return {
                                g: 1,
                                c: "if (results[" + currentGroup + "] == 'am') {\n" + "if (h == 12) { h = 0; }\n" + "} else { if (h < 12) { h += 12; }}",
                                s: "(am|pm)"
                            };
                        case "A":
                            return {
                                g: 1,
                                c: "if (results[" + currentGroup + "] == 'AM') {\n" + "if (h == 12) { h = 0; }\n" + "} else { if (h < 12) { h += 12; }}",
                                s: "(AM|PM)"
                            };
                        case "g":
                        case "G":
                        case "h":
                        case "H":
                            return {
                                g: 1,
                                c: "h = parseInt(results[" + currentGroup + "], 10);\n",
                                s: "(\\d{1,2})"
                            };
                        case "i":
                            return {
                                g: 1,
                                c: "i = parseInt(results[" + currentGroup + "], 10);\n",
                                s: "(\\d{2})"
                            };
                        case "s":
                            return {
                                g: 1,
                                c: "s = parseInt(results[" + currentGroup + "], 10);\n",
                                s: "(\\d{2})"
                            };
                        case "O":
                            return {
                                g: 0,
                                c: null,
                                s: "[+-]\\d{4}"
                            };
                        case "T":
                            return {
                                g: 0,
                                c: null,
                                s: "[A-Z]{3}"
                            };
                        case "Z":
                            return {
                                g: 0,
                                c: null,
                                s: "[+-]\\d{1,5}"
                            };
                        default:
                            return {
                                g: 0,
                                c: null,
                                s: String.escape(character)
                            };
                        }
                    };
                    Date.prototype.getTimezone = function () {
                        return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/, "$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/, "$1$2$3");
                    };
                    Date.prototype.getGMTOffset = function () {
                        return (this.getTimezoneOffset() > 0 ? "-" : "+") + String.leftPad(Math.floor(this.getTimezoneOffset() / 60), 2, "0") + String.leftPad(this.getTimezoneOffset() % 60, 2, "0");
                    };
                    Date.prototype.getDayOfYear = function () {
                        var num = 0;
                        Date.daysInMonth[1] = this.isLeapYear() ? 29 : 28;
                        for (var i = 0; i < this.getMonth(); ++i) {
                            num += Date.daysInMonth[i];
                        }
                        return num + this.getDate() - 1;
                    };
                    Date.prototype.getWeekOfYear = function () {
                        var now = this.getDayOfYear() + (4 - this.getDay());
                        var jan1 = new Date(this.getFullYear(), 0, 1);
                        var then = (7 - jan1.getDay() + 4);
                        return String.leftPad(((now - then) / 7) + 1, 2, "0");
                    };
                    Date.prototype.isLeapYear = function () {
                        var year = this.getFullYear();
                        return ((year & 3) == 0 && (year % 100 || (year % 400 == 0 && year)));
                    };
                    Date.prototype.getFirstDayOfMonth = function () {
                        var day = (this.getDay() - (this.getDate() - 1)) % 7;
                        return (day < 0) ? (day + 7) : day;
                    };
                    Date.prototype.getLastDayOfMonth = function () {
                        var day = (this.getDay() + (Date.daysInMonth[this.getMonth()] - this.getDate())) % 7;
                        return (day < 0) ? (day + 7) : day;
                    };
                    Date.prototype.getDaysInMonth = function () {
                        Date.daysInMonth[1] = this.isLeapYear() ? 29 : 28;
                        return Date.daysInMonth[this.getMonth()];
                    };
                    Date.prototype.getSuffix = function () {
                        switch (this.getDate()) {
                        case 1:
                        case 21:
                        case 31:
                            return "st";
                        case 2:
                        case 22:
                            return "nd";
                        case 3:
                        case 23:
                            return "rd";
                        default:
                            return "th";
                        }
                    };
                    Date.daysInMonth = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
                    Date.monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
                    Date.dayNames = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
                    Date.y2kYear = 50;
                    Date.monthNumbers = {
                        Jan: 0,
                        Feb: 1,
                        Mar: 2,
                        Apr: 3,
                        May: 4,
                        Jun: 5,
                        Jul: 6,
                        Aug: 7,
                        Sep: 8,
                        Oct: 9,
                        Nov: 10,
                        Dec: 11
                    };
                    YAHOO.ext.DomHelper = new function () {
                        var d = document;
                        var tempTableEl = null;
                        this.useDom = false;
                        var emptyTags = /^(?:base|basefont|br|frame|hr|img|input|isindex|link|meta|nextid|range|spacer|wbr|audioscope|area|param|keygen|col|limittext|spot|tab|over|right|left|choose|atop|of)$/i;
                        this.applyStyles = function (el, styles) {
                            if (styles) {
                                var D = YAHOO.util.Dom;
                                if (typeof styles == "string") {
                                    var re = /\s?([a-z\-]*)\:([^;]*);?/gi;
                                    var matches;
                                    while ((matches = re.exec(styles)) != null) {
                                        D.setStyle(el, matches[1], matches[2]);
                                    }
                                } else if (typeof styles == "object") {
                                    for (var style in styles) {
                                        D.setStyle(el, style, styles[style]);
                                    }
                                } else if (typeof styles == "function") {
                                    YAHOO.ext.DomHelper.applyStyles(el, styles.call());
                                }
                            }
                        };
                        var createHtml = function (o) {
                            var b = '';
                            b += '<' + o.tag;
                            for (var attr in o) {
                                if (attr == 'tag' || attr == 'children' || attr == 'html' || typeof o[attr] == 'function') continue;
                                if (attr == 'style') {
                                    var s = o['style'];
                                    if (typeof s == 'function') {
                                        s = s.call();
                                    }
                                    if (typeof s == 'string') {
                                        b += ' style="' + s + '"';
                                    } else if (typeof s == 'object') {
                                        b += ' style="';
                                        for (var key in s) {
                                            if (typeof s[key] != 'function') {
                                                b += key + ':' + s[key] + ';';
                                            }
                                        }
                                        b += '"';
                                    }
                                } else {
                                    if (attr == 'cls') {
                                        b += ' class="' + o['cls'] + '"';
                                    } else if (attr == 'htmlFor') {
                                        b += ' for="' + o['htmlFor'] + '"';
                                    } else {
                                        b += ' ' + attr + '="' + o[attr] + '"';
                                    }
                                }
                            }
                            if (emptyTags.test(o.tag)) {
                                b += ' />';
                            } else {
                                b += '>';
                                if (o.children) {
                                    for (var i = 0, len = o.children.length; i < len; i++) {
                                        b += createHtml(o.children[i], b);
                                    }
                                }
                                if (o.html) {
                                    b += o.html;
                                }
                                b += '</' + o.tag + '>';
                            }
                            return b;
                        }
                        var createDom = function (o, parentNode) {
                            var el = d.createElement(o.tag);
                            var useSet = el.setAttribute ? true : false;
                            for (var attr in o) {
                                if (attr == 'tag' || attr == 'children' || attr == 'html' || attr == 'style' || typeof o[attr] == 'function') continue;
                                if (attr == 'cls') {
                                    el.className = o['cls'];
                                } else {
                                    if (useSet) el.setAttribute(attr, o[attr]);
                                    else el[attr] = o[attr];
                                }
                            }
                            YAHOO.ext.DomHelper.applyStyles(el, o.style);
                            if (o.children) {
                                for (var i = 0, len = o.children.length; i < len; i++) {
                                    createDom(o.children[i], el);
                                }
                            }
                            if (o.html) {
                                el.innerHTML = o.html;
                            }
                            if (parentNode) {
                                parentNode.appendChild(el);
                            }
                            return el;
                        };
                        var insertIntoTable = function (tag, where, el, html) {
                            if (!tempTableEl) {
                                tempTableEl = document.createElement('div');
                            }
                            var node;
                            if (tag == 'table' || tag == 'tbody') {
                                tempTableEl.innerHTML = '<table><tbody>' + html + '</tbody></table>';
                                node = tempTableEl.firstChild.firstChild.firstChild;
                            } else {
                                tempTableEl.innerHTML = '<table><tbody><tr>' + html + '</tr></tbody></table>';
                                node = tempTableEl.firstChild.firstChild.firstChild.firstChild;
                            }
                            if (where == 'beforebegin') {
                                el.parentNode.insertBefore(node, el);
                                return node;
                            } else if (where == 'afterbegin') {
                                el.insertBefore(node, el.firstChild);
                                return node;
                            } else if (where == 'beforeend') {
                                el.appendChild(node);
                                return node;
                            } else if (where == 'afterend') {
                                el.parentNode.insertBefore(node, el.nextSibling);
                                return node;
                            }
                        }
                        this.insertHtml = function (where, el, html) {
                            where = where.toLowerCase();
                            if (el.insertAdjacentHTML) {
                                var tag = el.tagName.toLowerCase();
                                if (tag == 'table' || tag == 'tbody' || tag == 'tr') {
                                    return insertIntoTable(tag, where, el, html);
                                }
                                switch (where) {
                                case 'beforebegin':
                                    el.insertAdjacentHTML(where, html);
                                    return el.previousSibling;
                                case 'afterbegin':
                                    el.insertAdjacentHTML(where, html);
                                    return el.firstChild;
                                case 'beforeend':
                                    el.insertAdjacentHTML(where, html);
                                    return el.lastChild;
                                case 'afterend':
                                    el.insertAdjacentHTML(where, html);
                                    return el.nextSibling;
                                }
                                throw 'Illegal insertion point -> "' + where + '"';
                            }
                            var range = el.ownerDocument.createRange();
                            var frag;
                            switch (where) {
                            case 'beforebegin':
                                range.setStartBefore(el);
                                frag = range.createContextualFragment(html);
                                el.parentNode.insertBefore(frag, el);
                                return el.previousSibling;
                            case 'afterbegin':
                                if (el.firstChild) {
                                    range.setStartBefore(el.firstChild);
                                } else {
                                    range.selectNodeContents(el);
                                    range.collapse(true);
                                }
                                frag = range.createContextualFragment(html);
                                el.insertBefore(frag, el.firstChild);
                                return el.firstChild;
                            case 'beforeend':
                                if (el.lastChild) {
                                    range.setStartAfter(el.lastChild);
                                } else {
                                    range.selectNodeContents(el);
                                    range.collapse(false);
                                }
                                frag = range.createContextualFragment(html);
                                el.appendChild(frag);
                                return el.lastChild;
                            case 'afterend':
                                range.setStartAfter(el);
                                frag = range.createContextualFragment(html);
                                el.parentNode.insertBefore(frag, el.nextSibling);
                                return el.nextSibling;
                            }
                            throw 'Illegal insertion point -> "' + where + '"';
                        };
                        this.insertBefore = function (el, o, returnElement) {
                            el = el.dom ? el.dom : YAHOO.util.Dom.get(el);
                            var newNode;
                            if (this.useDom) {
                                newNode = createDom(o, null);
                                el.parentNode.insertBefore(newNode, el);
                            } else {
                                var html = createHtml(o);
                                newNode = this.insertHtml('beforeBegin', el, html);
                            }
                            return returnElement ? YAHOO.ext.Element.get(newNode, true) : newNode;
                        };
                        this.insertAfter = function (el, o, returnElement) {
                            el = el.dom ? el.dom : YAHOO.util.Dom.get(el);
                            var newNode;
                            if (this.useDom) {
                                newNode = createDom(o, null);
                                el.parentNode.insertBefore(newNode, el.nextSibling);
                            } else {
                                var html = createHtml(o);
                                newNode = this.insertHtml('afterEnd', el, html);
                            }
                            return returnElement ? YAHOO.ext.Element.get(newNode, true) : newNode;
                        };
                        this.append = function (el, o, returnElement) {
                            el = el.dom ? el.dom : YAHOO.util.Dom.get(el);
                            var newNode;
                            if (this.useDom) {
                                newNode = createDom(o, null);
                                el.appendChild(newNode);
                            } else {
                                var html = createHtml(o);
                                newNode = this.insertHtml('beforeEnd', el, html);
                            }
                            return returnElement ? YAHOO.ext.Element.get(newNode, true) : newNode;
                        };
                        this.overwrite = function (el, o, returnElement) {
                            el = el.dom ? el.dom : YAHOO.util.Dom.get(el);
                            el.innerHTML = createHtml(o);
                            return returnElement ? YAHOO.ext.Element.get(el.firstChild, true) : el.firstChild;
                        };
                        this.createTemplate = function (o) {
                            var html = createHtml(o);
                            return new YAHOO.ext.DomHelper.Template(html);
                        };
                    }();
                    YAHOO.ext.DomHelper.Template = function (html) {
                        if (html instanceof Array) {
                            html = html.join('');
                        } else if (arguments.length > 1) {
                            html = Array.prototype.join.call(arguments, '');
                        }
                        this.html = html;
                    };
                    YAHOO.ext.DomHelper.Template.prototype = {
                        applyTemplate: function (values) {
                            if (this.compiled) {
                                return this.compiled(values);
                            }
                            var empty = '';
                            var fn = function (match, index) {
                                if (typeof values[index] != 'undefined') {
                                    return values[index];
                                } else {
                                    return empty;
                                }
                            }
                            return this.html.replace(this.re, fn);
                        },
                        re: /\{([\w|-]+)\}/g,
                        compile: function () {
                            var body = ["this.compiled = function(values){ return ['"];
                            body.push(this.html.replace(this.re, "', values['$1'], '"));
                            body.push("'].join('');};");
                            eval(body.join(''));
                            return this;
                        },
                        insertBefore: function (el, values, returnElement) {
                            el = el.dom ? el.dom : YAHOO.util.Dom.get(el);
                            var newNode = YAHOO.ext.DomHelper.insertHtml('beforeBegin', el, this.applyTemplate(values));
                            return returnElement ? YAHOO.ext.Element.get(newNode, true) : newNode;
                        },
                        insertAfter: function (el, values, returnElement) {
                            el = el.dom ? el.dom : YAHOO.util.Dom.get(el);
                            var newNode = YAHOO.ext.DomHelper.insertHtml('afterEnd', el, this.applyTemplate(values));
                            return returnElement ? YAHOO.ext.Element.get(newNode, true) : newNode;
                        },
                        append: function (el, values, returnElement) {
                            el = el.dom ? el.dom : YAHOO.util.Dom.get(el);
                            var newNode = YAHOO.ext.DomHelper.insertHtml('beforeEnd', el, this.applyTemplate(values));
                            return returnElement ? YAHOO.ext.Element.get(newNode, true) : newNode;
                        },
                        overwrite: function (el, values, returnElement) {
                            el = el.dom ? el.dom : YAHOO.util.Dom.get(el);
                            el.innerHTML = '';
                            var newNode = YAHOO.ext.DomHelper.insertHtml('beforeEnd', el, this.applyTemplate(values));
                            return returnElement ? YAHOO.ext.Element.get(newNode, true) : newNode;
                        }
                    };
                    YAHOO.ext.DomHelper.Template.prototype.apply = YAHOO.ext.DomHelper.Template.prototype.applyTemplate;
                    YAHOO.ext.Template = YAHOO.ext.DomHelper.Template;
                    YAHOO.ext.Element = function (element, forceNew) {
                        var dom = typeof element == 'string' ? document.getElementById(element) : element;
                        if (!dom) {
                            return null;
                        }
                        if (!forceNew && YAHOO.ext.Element.cache[dom.id]) {
                            return YAHOO.ext.Element.cache[dom.id];
                        }
                        this.dom = dom;
                        this.id = dom.id;
                        this.originalDisplay = YAHOO.util.Dom.getStyle(dom, 'display') || '';
                        if (this.autoDisplayMode) {
                            if (this.originalDisplay == 'none') {
                                this.setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                            }
                        }
                        if (this.originalDisplay == 'none') {
                            this.originalDisplay = '';
                        }
                    }
                    YAHOO.ext.Element.prototype = {
                        visibilityMode: 1,
                        defaultUnit: 'px',
                        setVisibilityMode: function (visMode) {
                            this.visibilityMode = visMode;
                            return this;
                        },
                        enableDisplayMode: function (display) {
                            this.setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                            if (typeof display != 'undefined') this.originalDisplay = display;
                            return this;
                        },
                        animate: function (args, duration, onComplete, easing, animType, stopAnims) {
                            this.anim(args, duration, onComplete, easing, animType);
                            return this;
                        },
                        anim: function (args, duration, onComplete, easing, animType) {
                            animType = animType || YAHOO.util.Anim;
                            var anim = new animType(this.dom, args, duration || .35, easing || YAHOO.util.Easing.easeBoth);
                            if (onComplete) {
                                anim.onComplete.subscribe(function () {
                                    if (typeof onComplete == 'function') {
                                        onComplete.call(this);
                                    } else if (onComplete instanceof Array) {
                                        for (var i = 0; i < onComplete.length; i++) {
                                            var fn = onComplete[i];
                                            if (fn) fn.call(this);
                                        }
                                    }
                                }, this, true);
                            }
                            anim.animate();
                            return anim;
                        },
                        scrollIntoView: function (container) {
                            var c = getEl(container || document.body, true);
                            var cp = c.getStyle('position');
                            var restorePos = false;
                            if (cp != 'relative' && cp != 'absolute') {
                                c.setStyle('position', 'relative');
                                restorePos = true;
                            }
                            var el = this.dom;
                            var childTop = parseInt(el.offsetTop, 10);
                            var childBottom = childTop + el.offsetHeight;
                            var containerTop = parseInt(c.dom.scrollTop, 10);
                            var containerBottom = containerTop + c.dom.clientHeight;
                            if (childTop < containerTop) {
                                c.dom.scrollTop = childTop;
                            } else if (childBottom > containerBottom) {
                                c.dom.scrollTop = childBottom - c.dom.clientHeight;
                            }
                            if (restorePos) {
                                c.setStyle('position', cp);
                            }
                            return this;
                        },
                        autoHeight: function (animate, duration, onComplete, easing) {
                            var oldHeight = this.getHeight();
                            this.clip();
                            this.setHeight(1);
                            setTimeout(function () {
                                var height = parseInt(this.dom.scrollHeight, 10);
                                if (!animate) {
                                    this.setHeight(height);
                                    this.unclip();
                                    if (typeof onComplete == 'function') {
                                        onComplete();
                                    }
                                } else {
                                    this.setHeight(oldHeight);
                                    this.setHeight(height, animate, duration, function () {
                                        this.unclip();
                                        if (typeof onComplete == 'function') onComplete();
                                    }.createDelegate(this), easing);
                                }
                            }.createDelegate(this), 0);
                            return this;
                        },
                        contains: function (el) {
                            if (!el) {
                                return false;
                            }
                            return YAHOO.util.Dom.isAncestor(this.dom, el.dom ? el.dom : el);
                        },
                        isVisible: function (deep) {
                            var vis = YAHOO.util.Dom.getStyle(this.dom, 'visibility') != 'hidden' && YAHOO.util.Dom.getStyle(this.dom, 'display') != 'none';
                            if (!deep || !vis) {
                                return vis;
                            }
                            var p = this.dom.parentNode;
                            while (p && p.tagName.toLowerCase() != 'body') {
                                if (YAHOO.util.Dom.getStyle(p, 'visibility') == 'hidden' || YAHOO.util.Dom.getStyle(p, 'display') == 'none') {
                                    return false;
                                }
                                p = p.parentNode;
                            }
                            return true;
                        },
                        select: function (selector, unique) {
                            return YAHOO.ext.Element.select('#' + this.dom.id + ' ' + selector, unique);
                        },
                        initDD: function (group, config, overrides) {
                            var dd = new YAHOO.util.DD(YAHOO.util.Dom.generateId(this.dom), group, config);
                            return YAHOO.ext.util.Config.apply(dd, overrides);
                        },
                        initDDProxy: function (group, config, overrides) {
                            var dd = new YAHOO.util.DDProxy(YAHOO.util.Dom.generateId(this.dom), group, config);
                            return YAHOO.ext.util.Config.apply(dd, overrides);
                        },
                        initDDTarget: function (group, config, overrides) {
                            var dd = new YAHOO.util.DDTarget(YAHOO.util.Dom.generateId(this.dom), group, config);
                            return YAHOO.ext.util.Config.apply(dd, overrides);
                        },
                        setVisible: function (visible, animate, duration, onComplete, easing) {
                            if (!animate || !YAHOO.util.Anim) {
                                if (this.visibilityMode == YAHOO.ext.Element.DISPLAY) {
                                    this.setDisplayed(visible);
                                } else {
                                    YAHOO.util.Dom.setStyle(this.dom, 'visibility', visible ? 'visible' : 'hidden');
                                }
                            } else {
                                this.setOpacity(visible ? 0 : 1);
                                YAHOO.util.Dom.setStyle(this.dom, 'visibility', 'visible');
                                if (this.visibilityMode == YAHOO.ext.Element.DISPLAY) {
                                    this.setDisplayed(true);
                                }
                                var args = {
                                    opacity: {
                                        from: (visible ? 0 : 1),
                                        to: (visible ? 1 : 0)
                                    }
                                };
                                var anim = new YAHOO.util.Anim(this.dom, args, duration || .35, easing || (visible ? YAHOO.util.Easing.easeIn : YAHOO.util.Easing.easeOut));
                                anim.onComplete.subscribe((function () {
                                    if (this.visibilityMode == YAHOO.ext.Element.DISPLAY) {
                                        this.setDisplayed(visible);
                                    } else {
                                        YAHOO.util.Dom.setStyle(this.dom, 'visibility', visible ? 'visible' : 'hidden');
                                    }
                                }).createDelegate(this));
                                if (onComplete) {
                                    anim.onComplete.subscribe(onComplete);
                                }
                                anim.animate();
                            }
                            return this;
                        },
                        isDisplayed: function () {
                            return YAHOO.util.Dom.getStyle(this.dom, 'display') != 'none';
                        },
                        toggle: function (animate, duration, onComplete, easing) {
                            this.setVisible(!this.isVisible(), animate, duration, onComplete, easing);
                            return this;
                        },
                        setDisplayed: function (value) {
                            if (typeof value == 'boolean') {
                                value = value ? this.originalDisplay : 'none';
                            }
                            YAHOO.util.Dom.setStyle(this.dom, 'display', value);
                            return this;
                        },
                        focus: function () {
                            try {
                                this.dom.focus();
                            } catch (e) {}
                            return this;
                        },
                        blur: function () {
                            try {
                                this.dom.blur();
                            } catch (e) {}
                            return this;
                        },
                        addClass: function (className) {
                            if (className instanceof Array) {
                                for (var i = 0, len = className.length; i < len; i++) {
                                    this.addClass(className[i]);
                                }
                            } else {
                                if (!this.hasClass(className)) {
                                    this.dom.className = this.dom.className + ' ' + className;
                                }
                            }
                            return this;
                        },
                        radioClass: function (className) {
                            var siblings = this.dom.parentNode.childNodes;
                            for (var i = 0; i < siblings.length; i++) {
                                var s = siblings[i];
                                if (s.nodeType == 1) {
                                    YAHOO.util.Dom.removeClass(s, className);
                                }
                            }
                            this.addClass(className);
                            return this;
                        },
                        removeClass: function (className) {
                            if (!className) {
                                return this;
                            }
                            if (className instanceof Array) {
                                for (var i = 0, len = className.length; i < len; i++) {
                                    this.removeClass(className[i]);
                                }
                            } else {
                                var re = new RegExp('(?:^|\\s+)' + className + '(?:\\s+|$)', 'g');
                                var c = this.dom.className;
                                if (re.test(c)) {
                                    this.dom.className = c.replace(re, ' ');
                                }
                            }
                            return this;
                        },
                        toggleClass: function (className) {
                            if (this.hasClass(className)) {
                                this.removeClass(className);
                            } else {
                                this.addClass(className);
                            }
                            return this;
                        },
                        hasClass: function (className) {
                            var re = new RegExp('(?:^|\\s+)' + className + '(?:\\s+|$)');
                            return re.test(this.dom.className);
                        },
                        replaceClass: function (oldClassName, newClassName) {
                            this.removeClass(oldClassName);
                            this.addClass(newClassName);
                            return this;
                        },
                        getStyle: function (name) {
                            return YAHOO.util.Dom.getStyle(this.dom, name);
                        },
                        setStyle: function (name, value) {
                            if (typeof name == 'string') {
                                YAHOO.util.Dom.setStyle(this.dom, name, value);
                            } else {
                                var D = YAHOO.util.Dom;
                                for (var style in name) {
                                    if (typeof name[style] != 'function') {
                                        D.setStyle(this.dom, style, name[style]);
                                    }
                                }
                            }
                            return this;
                        },
                        applyStyles: function (style) {
                            YAHOO.ext.DomHelper.applyStyles(this.dom, style);
                        },
                        getX: function () {
                            return YAHOO.util.Dom.getX(this.dom);
                        },
                        getY: function () {
                            return YAHOO.util.Dom.getY(this.dom);
                        },
                        getXY: function () {
                            return YAHOO.util.Dom.getXY(this.dom);
                        },
                        setX: function (x, animate, duration, onComplete, easing) {
                            if (!animate || !YAHOO.util.Anim) {
                                YAHOO.util.Dom.setX(this.dom, x);
                            } else {
                                this.setXY([x, this.getY()], animate, duration, onComplete, easing);
                            }
                            return this;
                        },
                        setY: function (y, animate, duration, onComplete, easing) {
                            if (!animate || !YAHOO.util.Anim) {
                                YAHOO.util.Dom.setY(this.dom, y);
                            } else {
                                this.setXY([this.getX(), y], animate, duration, onComplete, easing);
                            }
                            return this;
                        },
                        setLeft: function (left) {
                            YAHOO.util.Dom.setStyle(this.dom, 'left', this.addUnits(left));
                            return this;
                        },
                        setTop: function (top) {
                            YAHOO.util.Dom.setStyle(this.dom, 'top', this.addUnits(top));
                            return this;
                        },
                        setRight: function (right) {
                            YAHOO.util.Dom.setStyle(this.dom, 'right', this.addUnits(right));
                            return this;
                        },
                        setBottom: function (bottom) {
                            YAHOO.util.Dom.setStyle(this.dom, 'bottom', this.addUnits(bottom));
                            return this;
                        },
                        setXY: function (pos, animate, duration, onComplete, easing) {
                            if (!animate || !YAHOO.util.Anim) {
                                YAHOO.util.Dom.setXY(this.dom, pos);
                            } else {
                                this.anim({
                                    points: {
                                        to: pos
                                    }
                                }, duration, onComplete, easing, YAHOO.util.Motion);
                            }
                            return this;
                        },
                        setLocation: function (x, y, animate, duration, onComplete, easing) {
                            this.setXY([x, y], animate, duration, onComplete, easing);
                            return this;
                        },
                        moveTo: function (x, y, animate, duration, onComplete, easing) {
                            this.setXY([x, y], animate, duration, onComplete, easing);
                            return this;
                        },
                        getRegion: function () {
                            return YAHOO.util.Dom.getRegion(this.dom);
                        },
                        getHeight: function (contentHeight) {
                            var h = this.dom.offsetHeight;
                            return contentHeight !== true ? h : h - this.getBorderWidth('tb') - this.getPadding('tb');
                        },
                        getWidth: function (contentWidth) {
                            var w = this.dom.offsetWidth;
                            return contentWidth !== true ? w : w - this.getBorderWidth('lr') - this.getPadding('lr');
                        },
                        getSize: function (contentSize) {
                            return {
                                width: this.getWidth(contentSize),
                                height: this.getHeight(contentSize)
                            };
                        },
                        adjustWidth: function (width) {
                            if (typeof width == 'number') {
                                if (this.autoBoxAdjust && !this.isBorderBox()) {
                                    width -= (this.getBorderWidth('lr') + this.getPadding('lr'));
                                }
                                if (width < 0) {
                                    width = 0;
                                }
                            }
                            return width;
                        },
                        adjustHeight: function (height) {
                            if (typeof height == 'number') {
                                if (this.autoBoxAdjust && !this.isBorderBox()) {
                                    height -= (this.getBorderWidth('tb') + this.getPadding('tb'));
                                }
                                if (height < 0) {
                                    height = 0;
                                }
                            }
                            return height;
                        },
                        setWidth: function (width, animate, duration, onComplete, easing) {
                            width = this.adjustWidth(width);
                            if (!animate || !YAHOO.util.Anim) {
                                this.dom.style.width = this.addUnits(width);
                            } else {
                                this.anim({
                                    width: {
                                        to: width
                                    }
                                }, duration, onComplete, easing || (width > this.getWidth() ? YAHOO.util.Easing.easeOut : YAHOO.util.Easing.easeIn));
                            }
                            return this;
                        },
                        setHeight: function (height, animate, duration, onComplete, easing) {
                            height = this.adjustHeight(height);
                            if (!animate || !YAHOO.util.Anim) {
                                this.dom.style.height = this.addUnits(height);
                            } else {
                                this.anim({
                                    height: {
                                        to: height
                                    }
                                }, duration, onComplete, easing || (height > this.getHeight() ? YAHOO.util.Easing.easeOut : YAHOO.util.Easing.easeIn));
                            }
                            return this;
                        },
                        setSize: function (width, height, animate, duration, onComplete, easing) {
                            width = this.adjustWidth(width);
                            height = this.adjustHeight(height);
                            if (!animate || !YAHOO.util.Anim) {
                                this.dom.style.width = this.addUnits(width);
                                this.dom.style.height = this.addUnits(height);
                            } else {
                                this.anim({
                                    width: {
                                        to: width
                                    },
                                    height: {
                                        to: height
                                    }
                                }, duration, onComplete, easing);
                            }
                            return this;
                        },
                        setBounds: function (x, y, width, height, animate, duration, onComplete, easing) {
                            if (!animate || !YAHOO.util.Anim) {
                                this.setSize(width, height);
                                this.setLocation(x, y);
                            } else {
                                width = this.adjustWidth(width);
                                height = this.adjustHeight(height);
                                this.anim({
                                    points: {
                                        to: [x, y]
                                    },
                                    width: {
                                        to: width
                                    },
                                    height: {
                                        to: height
                                    }
                                }, duration, onComplete, easing, YAHOO.util.Motion);
                            }
                            return this;
                        },
                        setRegion: function (region, animate, duration, onComplete, easing) {
                            this.setBounds(region.left, region.top, region.right - region.left, region.bottom - region.top, animate, duration, onComplete, easing);
                            return this;
                        },
                        addListener: function (eventName, handler, scope, override) {
                            YAHOO.util.Event.addListener(this.dom, eventName, handler, scope || this, true);
                            return this;
                        },
                        bufferedListener: function (eventName, fn, scope, millis) {
                            var task = new YAHOO.ext.util.DelayedTask();
                            scope = scope || this;
                            var newFn = function (e) {
                                task.delay(millis || 250, fn, scope, Array.prototype.slice.call(arguments, 0));
                            }
                            this.addListener(eventName, newFn);
                            return newFn;
                        },
                        addHandler: function (eventName, stopPropagation, handler, scope, override) {
                            var fn = YAHOO.ext.Element.createStopHandler(stopPropagation, handler, scope || this, true);
                            YAHOO.util.Event.addListener(this.dom, eventName, fn);
                            return fn;
                        },
                        on: function (eventName, handler, scope, override) {
                            YAHOO.util.Event.addListener(this.dom, eventName, handler, scope || this, true);
                            return this;
                        },
                        addManagedListener: function (eventName, fn, scope, override) {
                            return YAHOO.ext.EventManager.on(this.dom, eventName, fn, scope || this, true);
                        },
                        mon: function (eventName, fn, scope, override) {
                            return YAHOO.ext.EventManager.on(this.dom, eventName, fn, scope || this, true);
                        },
                        removeListener: function (eventName, handler, scope) {
                            YAHOO.util.Event.removeListener(this.dom, eventName, handler);
                            return this;
                        },
                        removeAllListeners: function () {
                            YAHOO.util.Event.purgeElement(this.dom);
                            return this;
                        },
                        setOpacity: function (opacity, animate, duration, onComplete, easing) {
                            if (!animate || !YAHOO.util.Anim) {
                                YAHOO.util.Dom.setStyle(this.dom, 'opacity', opacity);
                            } else {
                                this.anim({
                                    opacity: {
                                        to: opacity
                                    }
                                }, duration, onComplete, easing);
                            }
                            return this;
                        },
                        getLeft: function (local) {
                            if (!local) {
                                return this.getX();
                            } else {
                                return parseInt(this.getStyle('left'), 10) || 0;
                            }
                        },
                        getRight: function (local) {
                            if (!local) {
                                return this.getX() + this.getWidth();
                            } else {
                                return (this.getLeft(true) + this.getWidth()) || 0;
                            }
                        },
                        getTop: function (local) {
                            if (!local) {
                                return this.getY();
                            } else {
                                return parseInt(this.getStyle('top'), 10) || 0;
                            }
                        },
                        getBottom: function (local) {
                            if (!local) {
                                return this.getY() + this.getHeight();
                            } else {
                                return (this.getTop(true) + this.getHeight()) || 0;
                            }
                        },
                        setAbsolutePositioned: function (zIndex) {
                            this.setStyle('position', 'absolute');
                            if (zIndex) {
                                this.setStyle('z-index', zIndex);
                            }
                            return this;
                        },
                        setRelativePositioned: function (zIndex) {
                            this.setStyle('position', 'relative');
                            if (zIndex) {
                                this.setStyle('z-index', zIndex);
                            }
                            return this;
                        },
                        clearPositioning: function () {
                            this.setStyle('position', '');
                            this.setStyle('left', '');
                            this.setStyle('right', '');
                            this.setStyle('top', '');
                            this.setStyle('bottom', '');
                            return this;
                        },
                        getPositioning: function () {
                            return {
                                'position': this.getStyle('position'),
                                'left': this.getStyle('left'),
                                'right': this.getStyle('right'),
                                'top': this.getStyle('top'),
                                'bottom': this.getStyle('bottom')
                            };
                        },
                        getBorderWidth: function (side) {
                            return this.addStyles(side, YAHOO.ext.Element.borders);
                        },
                        getPadding: function (side) {
                            return this.addStyles(side, YAHOO.ext.Element.paddings);
                        },
                        setPositioning: function (positionCfg) {
                            if (positionCfg.position) this.setStyle('position', positionCfg.position);
                            if (positionCfg.left) this.setLeft(positionCfg.left);
                            if (positionCfg.right) this.setRight(positionCfg.right);
                            if (positionCfg.top) this.setTop(positionCfg.top);
                            if (positionCfg.bottom) this.setBottom(positionCfg.bottom);
                            return this;
                        },
                        setLeftTop: function (left, top) {
                            this.dom.style.left = this.addUnits(left);
                            this.dom.style.top = this.addUnits(top);
                            return this;
                        },
                        move: function (direction, distance, animate, duration, onComplete, easing) {
                            var xy = this.getXY();
                            direction = direction.toLowerCase();
                            switch (direction) {
                            case 'l':
                            case 'left':
                                this.moveTo(xy[0] - distance, xy[1], animate, duration, onComplete, easing);
                                break;
                            case 'r':
                            case 'right':
                                this.moveTo(xy[0] + distance, xy[1], animate, duration, onComplete, easing);
                                break;
                            case 't':
                            case 'top':
                            case 'up':
                                this.moveTo(xy[0], xy[1] - distance, animate, duration, onComplete, easing);
                                break;
                            case 'b':
                            case 'bottom':
                            case 'down':
                                this.moveTo(xy[0], xy[1] + distance, animate, duration, onComplete, easing);
                                break;
                            }
                            return this;
                        },
                        clip: function () {
                            if (!this.isClipped) {
                                this.isClipped = true;
                                this.originalClip = {
                                    'o': this.getStyle('overflow'),
                                    'x': this.getStyle('overflow-x'),
                                    'y': this.getStyle('overflow-y')
                                };
                                this.setStyle('overflow', 'hidden');
                                this.setStyle('overflow-x', 'hidden');
                                this.setStyle('overflow-y', 'hidden');
                            }
                            return this;
                        },
                        unclip: function () {
                            if (this.isClipped) {
                                this.isClipped = false;
                                var o = this.originalClip;
                                if (o.o) {
                                    this.setStyle('overflow', o.o);
                                }
                                if (o.x) {
                                    this.setStyle('overflow-x', o.x);
                                }
                                if (o.y) {
                                    this.setStyle('overflow-y', o.y);
                                }
                            }
                            return this;
                        },
                        alignTo: function (element, position, offsets, animate, duration, onComplete, easing) {
                            var otherEl = getEl(element);
                            if (!otherEl) {
                                return this;
                            }
                            offsets = offsets || [0, 0];
                            var r = otherEl.getRegion();
                            position = position.toLowerCase();
                            switch (position) {
                            case 'bl':
                                this.moveTo(r.left + offsets[0], r.bottom + offsets[1], animate, duration, onComplete, easing);
                                break;
                            case 'br':
                                this.moveTo(r.right + offsets[0], r.bottom + offsets[1], animate, duration, onComplete, easing);
                                break;
                            case 'tl':
                                this.moveTo(r.left + offsets[0], r.top + offsets[1], animate, duration, onComplete, easing);
                                break;
                            case 'tr':
                                this.moveTo(r.right + offsets[0], r.top + offsets[1], animate, duration, onComplete, easing);
                                break;
                            }
                            return this;
                        },
                        clearOpacity: function () {
                            if (window.ActiveXObject) {
                                this.dom.style.filter = '';
                            } else {
                                this.dom.style.opacity = '';
                                this.dom.style['-moz-opacity'] = '';
                                this.dom.style['-khtml-opacity'] = '';
                            }
                            return this;
                        },
                        hide: function (animate, duration, onComplete, easing) {
                            this.setVisible(false, animate, duration, onComplete, easing);
                            return this;
                        },
                        show: function (animate, duration, onComplete, easing) {
                            this.setVisible(true, animate, duration, onComplete, easing);
                            return this;
                        },
                        addUnits: function (size) {
                            if (size === '' || size == 'auto' || typeof size == 'undefined') {
                                return size;
                            }
                            if (typeof size == 'number' || !YAHOO.ext.Element.unitPattern.test(size)) {
                                return size + this.defaultUnit;
                            }
                            return size;
                        },
                        beginMeasure: function () {
                            var el = this.dom;
                            if (el.offsetWidth || el.offsetHeight) {
                                return this;
                            }
                            var changed = [];
                            var p = this.dom;
                            while ((!el.offsetWidth && !el.offsetHeight) && p && p.tagName && p.tagName.toLowerCase() != 'body') {
                                if (YAHOO.util.Dom.getStyle(p, 'display') == 'none') {
                                    changed.push({
                                        el: p,
                                        visibility: YAHOO.util.Dom.getStyle(p, 'visibility')
                                    });
                                    p.style.visibility = 'hidden';
                                    p.style.display = 'block';
                                }
                                p = p.parentNode;
                            }
                            this._measureChanged = changed;
                            return this;
                        },
                        endMeasure: function () {
                            var changed = this._measureChanged;
                            if (changed) {
                                for (var i = 0, len = changed.length; i < len; i++) {
                                    var r = changed[i];
                                    r.el.style.visibility = r.visibility;
                                    r.el.style.display = 'none';
                                }
                                this._measureChanged = null;
                            }
                            return this;
                        },
                        update: function (html, loadScripts, callback) {
                            if (typeof html == 'undefined') {
                                html = '';
                            }
                            if (loadScripts !== true) {
                                this.dom.innerHTML = html;
                                if (typeof callback == 'function') {
                                    callback();
                                }
                                return this;
                            }
                            var id = YAHOO.util.Dom.generateId();
                            var dom = this.dom;
                            html += '<span id="' + id + '"></span>';
                            YAHOO.util.Event.onAvailable(id, function () {
                                var hd = document.getElementsByTagName("head")[0];
                                var re = /(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/img;
                                var srcRe = /\ssrc=([\'\"])(.*?)\1/i;
                                var match;
                                while (match = re.exec(html)) {
                                    var srcMatch = match[0].match(srcRe);
                                    if (srcMatch && srcMatch[2]) {
                                        var s = document.createElement("script");
                                        s.src = srcMatch[2];
                                        hd.appendChild(s);
                                    } else if (match[1] && match[1].length > 0) {
                                        eval(match[1]);
                                    }
                                }
                                var el = document.getElementById(id);
                                if (el) {
                                    el.parentNode.removeChild(el);
                                }
                                if (typeof callback == 'function') {
                                    callback();
                                }
                            });
                            dom.innerHTML = html.replace(/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/img, '');
                            return this;
                        },
                        load: function () {
                            var um = this.getUpdateManager();
                            um.update.apply(um, arguments);
                            return this;
                        },
                        getUpdateManager: function () {
                            if (!this.updateManager) {
                                this.updateManager = new YAHOO.ext.UpdateManager(this);
                            }
                            return this.updateManager;
                        },
                        unselectable: function () {
                            this.dom.unselectable = 'on';
                            this.swallowEvent('selectstart', true);
                            this.applyStyles('-moz-user-select:none;-khtml-user-select:none;');
                            return this;
                        },
                        getCenterXY: function (offsetScroll) {
                            var centerX = Math.round((YAHOO.util.Dom.getViewportWidth() - this.getWidth()) / 2);
                            var centerY = Math.round((YAHOO.util.Dom.getViewportHeight() - this.getHeight()) / 2);
                            if (!offsetScroll) {
                                return [centerX, centerY];
                            } else {
                                var scrollX = document.documentElement.scrollLeft || document.body.scrollLeft || 0;
                                var scrollY = document.documentElement.scrollTop || document.body.scrollTop || 0;
                                return [centerX + scrollX, centerY + scrollY];
                            }
                        },
                        center: function (centerIn) {
                            if (!centerIn) {
                                this.setXY(this.getCenterXY(true));
                            } else {
                                var box = YAHOO.ext.Element.get(centerIn).getBox();
                                this.setXY([box.x + (box.width / 2) - (this.getWidth() / 2), box.y + (box.height / 2) - (this.getHeight() / 2)]);
                            }
                            return this;
                        },
                        getChildrenByTagName: function (tagName) {
                            var children = this.dom.getElementsByTagName(tagName);
                            var len = children.length;
                            var ce = new Array(len);
                            for (var i = 0; i < len; ++i) {
                                ce[i] = YAHOO.ext.Element.get(children[i], true);
                            }
                            return ce;
                        },
                        getChildrenByClassName: function (className, tagName) {
                            var children = YAHOO.util.Dom.getElementsByClassName(className, tagName, this.dom);
                            var len = children.length;
                            var ce = new Array(len);
                            for (var i = 0; i < len; ++i) {
                                ce[i] = YAHOO.ext.Element.get(children[i], true);
                            }
                            return ce;
                        },
                        isBorderBox: function () {
                            if (typeof this.bbox == 'undefined') {
                                var el = this.dom;
                                var b = YAHOO.ext.util.Browser;
                                var strict = YAHOO.ext.Strict;
                                this.bbox = ((b.isIE && !strict && el.style.boxSizing != 'content-box') || (b.isGecko && YAHOO.util.Dom.getStyle(el, "-moz-box-sizing") == 'border-box') || (!b.isSafari && YAHOO.util.Dom.getStyle(el, "box-sizing") == 'border-box'));
                            }
                            return this.bbox;
                        },
                        getBox: function (contentBox, local) {
                            var xy;
                            if (!local) {
                                xy = this.getXY();
                            } else {
                                var left = parseInt(YAHOO.util.Dom.getStyle('left'), 10) || 0;
                                var top = parseInt(YAHOO.util.Dom.getStyle('top'), 10) || 0;
                                xy = [left, top];
                            }
                            var el = this.dom;
                            var w = el.offsetWidth;
                            var h = el.offsetHeight;
                            if (!contentBox) {
                                return {
                                    x: xy[0],
                                    y: xy[1],
                                    width: w,
                                    height: h
                                };
                            } else {
                                var l = this.getBorderWidth('l') + this.getPadding('l');
                                var r = this.getBorderWidth('r') + this.getPadding('r');
                                var t = this.getBorderWidth('t') + this.getPadding('t');
                                var b = this.getBorderWidth('b') + this.getPadding('b');
                                return {
                                    x: xy[0] + l,
                                    y: xy[1] + t,
                                    width: w - (l + r),
                                    height: h - (t + b)
                                };
                            }
                        },
                        setBox: function (box, adjust, animate, duration, onComplete, easing) {
                            var w = box.width,
                                h = box.height;
                            if ((adjust && !this.autoBoxAdjust) && !this.isBorderBox()) {
                                w -= (this.getBorderWidth('lr') + this.getPadding('lr'));
                                h -= (this.getBorderWidth('tb') + this.getPadding('tb'));
                            }
                            this.setBounds(box.x, box.y, w, h, animate, duration, onComplete, easing);
                            return this;
                        },
                        repaint: function () {
                            var dom = this.dom;
                            YAHOO.util.Dom.addClass(dom, 'yui-ext-repaint');
                            setTimeout(function () {
                                YAHOO.util.Dom.removeClass(dom, 'yui-ext-repaint');
                            }, 1);
                            return this;
                        },
                        getMargins: function (side) {
                            if (!side) {
                                return {
                                    top: parseInt(this.getStyle('margin-top'), 10) || 0,
                                    left: parseInt(this.getStyle('margin-left'), 10) || 0,
                                    bottom: parseInt(this.getStyle('margin-bottom'), 10) || 0,
                                    right: parseInt(this.getStyle('margin-right'), 10) || 0
                                };
                            } else {
                                return this.addStyles(side, YAHOO.ext.Element.margins);
                            }
                        },
                        addStyles: function (sides, styles) {
                            var val = 0;
                            for (var i = 0, len = sides.length; i < len; i++) {
                                var w = parseInt(this.getStyle(styles[sides.charAt(i)]), 10);
                                if (!isNaN(w)) val += w;
                            }
                            return val;
                        },
                        createProxy: function (config, renderTo, matchBox) {
                            if (renderTo) {
                                renderTo = YAHOO.util.Dom.get(renderTo);
                            } else {
                                renderTo = document.body;
                            }
                            config = typeof config == 'object' ? config : {
                                tag: 'div',
                                cls: config
                            };
                            var proxy = YAHOO.ext.DomHelper.append(renderTo, config, true);
                            if (matchBox) {
                                proxy.setBox(this.getBox());
                            }
                            return proxy;
                        },
                        mask: function () {
                            if (this.getStyle('position') == 'static') {
                                this.setStyle('position', 'relative');
                            }
                            if (!this._mask) {
                                this._mask = YAHOO.ext.DomHelper.append(this.dom, {
                                    tag: 'div',
                                    cls: 'ext-el-mask'
                                }, true);
                            }
                            this.addClass('ext-masked');
                            this._mask.setDisplayed(true);
                            return this._mask;
                        },
                        unmask: function (removeEl) {
                            if (this._mask) {
                                removeEl === true ? this._mask.remove() : this._mask.setDisplayed(false);
                            }
                            this.removeClass('ext-masked');
                        },
                        createShim: function () {
                            var config = {
                                tag: 'iframe',
                                frameBorder: 'no',
                                cls: 'yiframe-shim',
                                style: 'position:absolute;visibility:hidden;left:0;top:0;overflow:hidden;',
                                src: YAHOO.ext.SSL_SECURE_URL
                            };
                            var shim = YAHOO.ext.DomHelper.insertBefore(this.dom, config, true);
                            shim.setOpacity(.01);
                            shim.setBox(this.getBox());
                            return shim;
                        },
                        remove: function () {
                            this.dom.parentNode.removeChild(this.dom);
                            delete YAHOO.ext.Element.cache[this.dom.id];
                        },
                        addClassOnOver: function (className) {
                            this.on('mouseover', function () {
                                this.addClass(className);
                            }, this, true);
                            this.on('mouseout', function () {
                                this.removeClass(className);
                            }, this, true);
                            return this;
                        },
                        swallowEvent: function (eventName, preventDefault) {
                            var fn = function (e) {
                                e.stopPropagation();
                                if (preventDefault) {
                                    e.preventDefault();
                                }
                            };
                            this.mon(eventName, fn);
                            return this;
                        },
                        fitToParent: function (monitorResize, targetParent) {
                            var p = getEl(targetParent || this.dom.parentNode);
                            p.beginMeasure();
                            var box = p.getBox(true, true);
                            p.endMeasure();
                            this.setSize(box.width, box.height);
                            if (monitorResize === true) {
                                YAHOO.ext.EventManager.onWindowResize(this.fitToParent, this, true);
                            }
                            return this;
                        },
                        getNextSibling: function () {
                            var n = this.dom.nextSibling;
                            while (n && n.nodeType != 1) {
                                n = n.nextSibling;
                            }
                            return n;
                        },
                        getPrevSibling: function () {
                            var n = this.dom.previousSibling;
                            while (n && n.nodeType != 1) {
                                n = n.previousSibling;
                            }
                            return n;
                        },
                        appendChild: function (el) {
                            el = getEl(el);
                            el.appendTo(this);
                            return this;
                        },
                        createChild: function (config, insertBefore) {
                            var c;
                            if (insertBefore) {
                                c = YAHOO.ext.DomHelper.insertBefore(insertBefore, config, true);
                            } else {
                                c = YAHOO.ext.DomHelper.append(this.dom, config, true);
                            }
                            return c;
                        },
                        appendTo: function (el) {
                            var node = getEl(el).dom;
                            node.appendChild(this.dom);
                            return this;
                        },
                        insertBefore: function (el) {
                            var node = getEl(el).dom;
                            node.parentNode.insertBefore(this.dom, node);
                            return this;
                        },
                        insertAfter: function (el) {
                            var node = getEl(el).dom;
                            node.parentNode.insertBefore(this.dom, node.nextSibling);
                            return this;
                        },
                        wrap: function (config) {
                            if (!config) {
                                config = {
                                    tag: 'div'
                                };
                            }
                            var newEl = YAHOO.ext.DomHelper.insertBefore(this.dom, config, true);
                            newEl.dom.appendChild(this.dom);
                            return newEl;
                        },
                        replace: function (el) {
                            el = getEl(el);
                            this.insertBefore(el);
                            el.remove();
                            return this;
                        },
                        insertHtml: function (where, html) {
                            return YAHOO.ext.DomHelper.insertHtml(where, this.dom, html);
                        },
                        set: function (o) {
                            var el = this.dom;
                            var useSet = el.setAttribute ? true : false;
                            for (var attr in o) {
                                if (attr == 'style' || typeof o[attr] == 'function') continue;
                                if (attr == 'cls') {
                                    el.className = o['cls'];
                                } else {
                                    if (useSet) el.setAttribute(attr, o[attr]);
                                    else el[attr] = o[attr];
                                }
                            }
                            YAHOO.ext.DomHelper.applyStyles(el, o.style);
                            return this;
                        },
                        addKeyListener: function (key, fn, scope) {
                            var config;
                            if (typeof key != 'object' || key instanceof Array) {
                                config = {
                                    key: key,
                                    fn: fn,
                                    scope: scope
                                };
                            } else {
                                config = {
                                    key: key.key,
                                    shift: key.shift,
                                    ctrl: key.ctrl,
                                    alt: key.alt,
                                    fn: fn,
                                    scope: scope
                                };
                            }
                            var map = new YAHOO.ext.KeyMap(this, config);
                            return map;
                        },
                        addKeyMap: function (config) {
                            return new YAHOO.ext.KeyMap(this, config);
                        },
                        isScrollable: function () {
                            var dom = this.dom;
                            return dom.scrollHeight > dom.clientHeight || dom.scrollWidth > dom.clientWidth;
                        },
                        scrollTo: function (side, value, animate, duration, onComplete, easing) {
                            var prop = side.toLowerCase() == 'left' ? 'scrollLeft' : 'scrollTop';
                            if (!animate || !YAHOO.util.Anim) {
                                this.dom[prop] = value;
                            } else {
                                var to = prop == 'scrollLeft' ? [value, this.dom.scrollTop] : [this.dom.scrollLeft, value];
                                this.anim({
                                    scroll: {
                                        'to': to
                                    }
                                }, duration, onComplete, easing || YAHOO.util.Easing.easeOut, YAHOO.util.Scroll);
                            }
                            return this;
                        },
                        scroll: function (direction, distance, animate, duration, onComplete, easing) {
                            if (!this.isScrollable()) {
                                return;
                            }
                            var el = this.dom;
                            var l = el.scrollLeft,
                                t = el.scrollTop;
                            var w = el.scrollWidth,
                                h = el.scrollHeight;
                            var cw = el.clientWidth,
                                ch = el.clientHeight;
                            direction = direction.toLowerCase();
                            var scrolled = false;
                            switch (direction) {
                            case 'l':
                            case 'left':
                                if (w - l > cw) {
                                    var v = Math.min(l + distance, w - cw);
                                    this.scrollTo('left', v, animate, duration, onComplete, easing);
                                    scrolled = true;
                                }
                                break;
                            case 'r':
                            case 'right':
                                if (l > 0) {
                                    var v = Math.max(l - distance, 0);
                                    this.scrollTo('left', v, animate, duration, onComplete, easing);
                                    scrolled = true;
                                }
                                break;
                            case 't':
                            case 'top':
                            case 'up':
                                if (t > 0) {
                                    var v = Math.max(t - distance, 0);
                                    this.scrollTo('top', v, animate, duration, onComplete, easing);
                                    scrolled = true;
                                }
                                break;
                            case 'b':
                            case 'bottom':
                            case 'down':
                                if (h - t > ch) {
                                    var v = Math.min(t + distance, h - ch);
                                    this.scrollTo('top', v, animate, duration, onComplete, easing);
                                    scrolled = true;
                                }
                                break;
                            }
                            return scrolled;
                        },
                        getColor: function (attr, defaultValue, prefix) {
                            var v = this.getStyle(attr);
                            if (!v || v == 'transparent' || v == 'inherit') {
                                return defaultValue;
                            }
                            var color = typeof prefix == 'undefined' ? '#' : prefix;
                            if (v.substr(0, 4) == 'rgb(') {
                                var rvs = v.slice(4, v.length - 1).split(',');
                                for (var i = 0; i < 3; i++) {
                                    var h = parseInt(rvs[i]).toString(16);
                                    if (h < 16) {
                                        h = '0' + h;
                                    }
                                    color += h;
                                }
                            } else {
                                if (v.substr(0, 1) == '#') {
                                    if (v.length == 4) {
                                        for (var i = 1; i < 4; i++) {
                                            var c = v.charAt(i);
                                            color += c + c;
                                        }
                                    } else if (v.length == 7) {
                                        color += v.slice(1, 6);
                                    }
                                }
                            }
                            return (color.length > 5 ? color.toLowerCase() : defaultValue);
                        },
                        highlight: function (color, options) {
                            color = color || 'ffff9c';
                            options = options || {};
                            attr = options.attr || 'background-color';
                            var origColor = this.getColor(attr);
                            endColor = (options.endColor || origColor) || 'ffffff';
                            var dom = this.dom;
                            var cb = function () {
                                YAHOO.util.Dom.setStyle(dom, attr, origColor || '');
                                if (options.callback) {
                                    options.callback.call(options.scope || window);
                                }
                            };
                            var o = {};
                            o[attr] = {
                                from: color,
                                to: endColor
                            };
                            this.anim(o, options.duration || .75, cb, options.easing || YAHOO.util.Easing.easeNone, YAHOO.util.ColorAnim);
                            return this;
                        }
                    };
                    YAHOO.ext.Element.prototype.autoBoxAdjust = true;
                    YAHOO.ext.Element.prototype.autoDisplayMode = true;
                    YAHOO.ext.Element.unitPattern = /\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i;
                    YAHOO.ext.Element.VISIBILITY = 1;
                    YAHOO.ext.Element.DISPLAY = 2;
                    YAHOO.ext.Element.blockElements = /^(?:address|blockquote|center|dir|div|dl|fieldset|form|h\d|hr|isindex|menu|ol|ul|p|pre|table|dd|dt|li|tbody|tr|td|thead|tfoot|iframe)$/i;
                    YAHOO.ext.Element.borders = {
                        l: 'border-left-width',
                        r: 'border-right-width',
                        t: 'border-top-width',
                        b: 'border-bottom-width'
                    };
                    YAHOO.ext.Element.paddings = {
                        l: 'padding-left',
                        r: 'padding-right',
                        t: 'padding-top',
                        b: 'padding-bottom'
                    };
                    YAHOO.ext.Element.margins = {
                        l: 'margin-left',
                        r: 'margin-right',
                        t: 'margin-top',
                        b: 'margin-bottom'
                    };
                    YAHOO.ext.Element.createStopHandler = function (stopPropagation, handler, scope, override) {
                        return function (e) {
                            if (e) {
                                if (stopPropagation) {
                                    YAHOO.util.Event.stopEvent(e);
                                } else {
                                    YAHOO.util.Event.preventDefault(e);
                                }
                            }
                            handler.call(override && scope ? scope : window, e, scope);
                        };
                    };
                    YAHOO.ext.Element.cache = {};
                    YAHOO.ext.Element.get = function () {
                        var doc = document;
                        var docEl;
                        var E = YAHOO.ext.Element;
                        var D = YAHOO.util.Dom;
                        return function (el) {
                            if (!el) {
                                return null;
                            }
                            if (el instanceof E) {
                                if (el != docEl) {
                                    el.dom = doc.getElementById(el.id);
                                    E.cache[el.id] = el;
                                }
                                return el;
                            } else if (el.isComposite) {
                                return el;
                            } else if (el instanceof Array) {
                                return E.select(el);
                            } else if (el == doc) {
                                if (!docEl) {
                                    var f = function () {};
                                    f.prototype = E.prototype;
                                    docEl = new f();
                                    docEl.dom = doc;
                                }
                                return docEl;
                            }
                            var key = el;
                            if (typeof el != 'string') {
                                D.generateId(el, 'elgen-');
                                key = el.id;
                            }
                            var element = E.cache[key];
                            if (!element) {
                                element = new E(key);
                                if (!element.dom) return null;
                                E.cache[key] = element;
                            } else {
                                element.dom = doc.getElementById(key);
                            }
                            return element;
                        };
                    }();
                    YAHOO.ext.Element.fly = function (el) {
                        var E = YAHOO.ext.Element;
                        if (typeof el == 'string') {
                            el = document.getElementById(el);
                        }
                        if (!E._flyweight) {
                            var f = function () {};
                            f.prototype = E.prototype;
                            E._flyweight = new f();
                        }
                        E._flyweight.dom = el;
                        return E._flyweight;
                    }
                    getEl = YAHOO.ext.Element.get;
                    YAHOO.util.Event.addListener(window, 'unload', function () {
                        YAHOO.ext.Element.cache = null;
                    });
                    YAHOO.ext.CompositeElement = function (els) {
                        this.elements = [];
                        this.addElements(els);
                    };
                    YAHOO.ext.CompositeElement.prototype = {
                        isComposite: true,
                        addElements: function (els) {
                            if (!els) return this;
                            var yels = this.elements;
                            var index = yels.length - 1;
                            for (var i = 0, len = els.length; i < len; i++) {
                                yels[++index] = getEl(els[i], true);
                            }
                            return this;
                        },
                        invoke: function (fn, args) {
                            var els = this.elements;
                            for (var i = 0, len = els.length; i < len; i++) {
                                YAHOO.ext.Element.prototype[fn].apply(els[i], args);
                            }
                            return this;
                        },
                        add: function (els) {
                            if (typeof els == 'string') {
                                this.addElements(YAHOO.ext.Element.selectorFunction(string));
                            } else if (els instanceof Array) {
                                this.addElements(els);
                            } else {
                                this.addElements([els]);
                            }
                            return this;
                        },
                        each: function (fn, scope) {
                            var els = this.elements;
                            for (var i = 0, len = els.length; i < len; i++) {
                                fn.call(scope || els[i], els[i], this, i);
                            }
                            return this;
                        }
                    };
                    YAHOO.ext.CompositeElementLite = function (els) {
                        YAHOO.ext.CompositeElementLite.superclass.constructor.call(this, els);
                        this.el = YAHOO.ext.Element.get(this.elements[0], true);
                    };
                    YAHOO.extendX(YAHOO.ext.CompositeElementLite, YAHOO.ext.CompositeElement, {
                        addElements: function (els) {
                            if (els) {
                                this.elements = this.elements.concat(els);
                            }
                            return this;
                        },
                        invoke: function (fn, args) {
                            var els = this.elements;
                            var el = this.el;
                            for (var i = 0, len = els.length; i < len; i++) {
                                el.dom = els[i];
                                YAHOO.ext.Element.prototype[fn].apply(el, args);
                            }
                            return this;
                        }
                    });
                    YAHOO.ext.CompositeElement.createCall = function (proto, fnName) {
                        if (!proto[fnName]) {
                            proto[fnName] = function () {
                                return this.invoke(fnName, arguments);
                            };
                        }
                    };
                    for (var fnName in YAHOO.ext.Element.prototype) {
                        if (typeof YAHOO.ext.Element.prototype[fnName] == 'function') {
                            YAHOO.ext.CompositeElement.createCall(YAHOO.ext.CompositeElement.prototype, fnName);
                        }
                    }
                    if (typeof cssQuery == 'function') {
                        YAHOO.ext.Element.selectorFunction = cssQuery;
                    } else if (typeof document.getElementsBySelector == 'function') {
                        YAHOO.ext.Element.selectorFunction = document.getElementsBySelector.createDelegate(document);
                    }
                    YAHOO.ext.Element.select = function (selector, unique) {
                        var els;
                        if (typeof selector == 'string') {
                            els = YAHOO.ext.Element.selectorFunction(selector);
                        } else if (selector instanceof Array) {
                            els = selector;
                        } else {
                            throw 'Invalid selector';
                        }
                        if (unique === true) {
                            return new YAHOO.ext.CompositeElement(els);
                        } else {
                            return new YAHOO.ext.CompositeElementLite(els);
                        }
                    };
                    var getEls = YAHOO.ext.Element.select;
                    YAHOO.namespace('ext.state');
                    YAHOO.ext.state.Provider = function () {
                        YAHOO.ext.state.Provider.superclass.constructor.call(this);
                        this.events = {
                            'statechange': new YAHOO.util.CustomEvent('statechange')
                        };
                        this.state = {};
                    };
                    YAHOO.extendX(YAHOO.ext.state.Provider, YAHOO.ext.util.Observable, {
                        get: function (name, defaultValue) {
                            return typeof this.state[name] == 'undefined' ? defaultValue : this.state[name];
                        },
                        clear: function (name) {
                            delete this.state[name];
                            this.fireEvent('statechange', this, name, null);
                        },
                        set: function (name, value) {
                            this.state[name] = value;
                            this.fireEvent('statechange', this, name, value);
                        },
                        decodeValue: function (cookie) {
                            var re = /^(a|n|d|b|s|o)\:(.*)$/;
                            var matches = re.exec(unescape(cookie));
                            if (!matches || !matches[1]) return;
                            var type = matches[1];
                            var v = matches[2];
                            switch (type) {
                            case 'n':
                                return parseFloat(v);
                            case 'd':
                                return new Date(Date.parse(v));
                            case 'b':
                                return (v == '1');
                            case 'a':
                                var all = [];
                                var values = v.split('^');
                                for (var i = 0, len = values.length; i < len; i++) {
                                    all.push(this.decodeValue(values[i]))
                                }
                                return all;
                            case 'o':
                                var all = {};
                                var values = v.split('^');
                                for (var i = 0, len = values.length; i < len; i++) {
                                    var kv = values[i].split('=');
                                    all[kv[0]] = this.decodeValue(kv[1]);
                                }
                                return all;
                            default:
                                return v;
                            }
                        },
                        encodeValue: function (v) {
                            var enc;
                            if (typeof v == 'number') {
                                enc = 'n:' + v;
                            } else if (typeof v == 'boolean') {
                                enc = 'b:' + (v ? '1' : '0');
                            } else if (v instanceof Date) {
                                enc = 'd:' + v.toGMTString();
                            } else if (v instanceof Array) {
                                var flat = '';
                                for (var i = 0, len = v.length; i < len; i++) {
                                    flat += this.encodeValue(v[i]);
                                    if (i != len - 1) flat += '^';
                                }
                                enc = 'a:' + flat;
                            } else if (typeof v == 'object') {
                                var flat = '';
                                for (var key in v) {
                                    if (typeof v[key] != 'function') {
                                        flat += key + '=' + this.encodeValue(v[key]) + '^';
                                    }
                                }
                                enc = 'o:' + flat.substring(0, flat.length - 1);
                            } else {
                                enc = 's:' + v;
                            }
                            return escape(enc);
                        }
                    });
                    YAHOO.ext.state.Manager = new function () {
                        var provider = new YAHOO.ext.state.Provider();
                        return {
                            setProvider: function (stateProvider) {
                                provider = stateProvider;
                            },
                            get: function (key, defaultValue) {
                                return provider.get(key, defaultValue);
                            },
                            set: function (key, value) {
                                provider.set(key, value);
                            },
                            clear: function (key) {
                                provider.clear(key);
                            },
                            getProvider: function () {
                                return provider;
                            }
                        };
                    }();
                    YAHOO.ext.state.CookieProvider = function (config) {
                        YAHOO.ext.state.CookieProvider.superclass.constructor.call(this);
                        this.path = '/';
                        this.expires = new Date(new Date().getTime() + (1000 * 60 * 60 * 24 * 7));
                        this.domain = null;
                        this.secure = false;
                        YAHOO.ext.util.Config.apply(this, config);
                        this.state = this.readCookies();
                    };
                    YAHOO.extendX(YAHOO.ext.state.CookieProvider, YAHOO.ext.state.Provider, {
                        set: function (name, value) {
                            if (typeof value == 'undefined' || value === null) {
                                this.clear(name);
                                return;
                            }
                            this.setCookie(name, value);
                            YAHOO.ext.state.CookieProvider.superclass.set.call(this, name, value);
                        },
                        clear: function (name) {
                            this.clearCookie(name);
                            YAHOO.ext.state.CookieProvider.superclass.clear.call(this, name);
                        },
                        readCookies: function () {
                            var cookies = {};
                            var c = document.cookie + ';';
                            var re = /\s?(.*?)=(.*?);/g;
                            var matches;
                            while ((matches = re.exec(c)) != null) {
                                var name = matches[1];
                                var value = matches[2];
                                if (name && name.substring(0, 3) == 'ys-') {
                                    cookies[name.substr(3)] = this.decodeValue(value);
                                }
                            }
                            return cookies;
                        },
                        setCookie: function (name, value) {
                            document.cookie = "ys-" + name + "=" + this.encodeValue(value) + ((this.expires == null) ? "" : ("; expires=" + this.expires.toGMTString())) + ((this.path == null) ? "" : ("; path=" + this.path)) + ((this.domain == null) ? "" : ("; domain=" + this.domain)) + ((this.secure == true) ? "; secure" : "");
                        },
                        clearCookie: function (name) {
                            document.cookie = "ys-" + name + "=null; expires=Thu, 01-Jan-70 00:00:01 GMT" + ((this.path == null) ? "" : ("; path=" + this.path)) + ((this.domain == null) ? "" : ("; domain=" + this.domain)) + ((this.secure == true) ? "; secure" : "");
                        }
                    });
                    YAHOO.ext.EventManager = new function () {
                        var docReadyEvent;
                        var docReadyProcId;
                        var docReadyState = false;
                        this.ieDeferSrc = false;
                        var resizeEvent;
                        var resizeTask;
                        var fireDocReady = function () {
                            if (!docReadyState) {
                                docReadyState = true;
                                if (docReadyProcId) {
                                    clearInterval(docReadyProcId);
                                }
                                if (docReadyEvent) {
                                    docReadyEvent.fire();
                                }
                            }
                        };
                        var initDocReady = function () {
                            docReadyEvent = new YAHOO.util.CustomEvent('documentready');
                            if (document.addEventListener) {
                                YAHOO.util.Event.on(document, "DOMContentLoaded", fireDocReady);
                            } else if (YAHOO.ext.util.Browser.isIE) {
                                document.write('<s' + 'cript id="ie-deferred-loader" defer="defer" src="' + (YAHOO.ext.EventManager.ieDeferSrc || YAHOO.ext.SSL_SECURE_URL) + '"></s' + 'cript>');
                                YAHOO.util.Event.on('ie-deferred-loader', 'readystatechange', function () {
                                    if (this.readyState == 'complete') {
                                        fireDocReady();
                                    }
                                });
                            } else if (YAHOO.ext.util.Browser.isSafari) {
                                docReadyProcId = setInterval(function () {
                                    var rs = document.readyState;
                                    if (rs == 'loaded' || rs == 'complete') {
                                        fireDocReady();
                                    }
                                }, 10);
                            }
                            YAHOO.util.Event.on(window, 'load', fireDocReady);
                        };
                        this.wrap = function (fn, scope, override) {
                            var wrappedFn = function (e) {
                                YAHOO.ext.EventObject.setEvent(e);
                                fn.call(override ? scope || window : window, YAHOO.ext.EventObject, scope);
                            };
                            return wrappedFn;
                        };
                        this.addListener = function (element, eventName, fn, scope, override) {
                            var wrappedFn = this.wrap(fn, scope, override);
                            YAHOO.util.Event.addListener(element, eventName, wrappedFn);
                            return wrappedFn;
                        };
                        this.removeListener = function (element, eventName, wrappedFn) {
                            return YAHOO.util.Event.removeListener(element, eventName, wrappedFn);
                        };
                        this.on = this.addListener;
                        this.onDocumentReady = function (fn, scope, override) {
                            if (docReadyState) {
                                fn.call(override ? scope || window : window, scope);
                                return;
                            }
                            if (!docReadyEvent) {
                                initDocReady();
                            }
                            docReadyEvent.subscribe(fn, scope, override);
                        }
                        this.onWindowResize = function (fn, scope, override) {
                            if (!resizeEvent) {
                                resizeEvent = new YAHOO.util.CustomEvent('windowresize');
                                resizeTask = new YAHOO.ext.util.DelayedTask(function () {
                                    resizeEvent.fireDirect(YAHOO.util.Dom.getViewportWidth(), YAHOO.util.Dom.getViewportHeight());
                                });
                                YAHOO.util.Event.on(window, 'resize', function () {
                                    resizeTask.delay(50);
                                });
                            }
                            resizeEvent.subscribe(fn, scope, override);
                        };
                        this.removeResizeListener = function (fn, scope) {
                            if (resizeEvent) {
                                resizeEvent.unsubscribe(fn, scope);
                            }
                        };
                        this.fireResize = function () {
                            if (resizeEvent) {
                                resizeEvent.fireDirect(YAHOO.util.Dom.getViewportWidth(), YAHOO.util.Dom.getViewportHeight());
                            }
                        };
                    };
                    YAHOO.ext.onReady = YAHOO.ext.EventManager.onDocumentReady;
                    YAHOO.ext.EventObject = new function () {
                        this.browserEvent = null;
                        this.button = -1;
                        this.shiftKey = false;
                        this.ctrlKey = false;
                        this.altKey = false;
                        this.BACKSPACE = 8;
                        this.TAB = 9;
                        this.RETURN = 13;
                        this.ESC = 27;
                        this.SPACE = 32;
                        this.PAGEUP = 33;
                        this.PAGEDOWN = 34;
                        this.END = 35;
                        this.HOME = 36;
                        this.LEFT = 37;
                        this.UP = 38;
                        this.RIGHT = 39;
                        this.DOWN = 40;
                        this.DELETE = 46;
                        this.F5 = 116;
                        this.setEvent = function (e) {
                            if (e == this) {
                                return this;
                            }
                            this.browserEvent = e;
                            if (e) {
                                this.button = e.button;
                                this.shiftKey = e.shiftKey;
                                this.ctrlKey = e.ctrlKey;
                                this.altKey = e.altKey;
                            } else {
                                this.button = -1;
                                this.shiftKey = false;
                                this.ctrlKey = false;
                                this.altKey = false;
                            }
                            return this;
                        };
                        this.stopEvent = function () {
                            if (this.browserEvent) {
                                YAHOO.util.Event.stopEvent(this.browserEvent);
                            }
                        };
                        this.preventDefault = function () {
                            if (this.browserEvent) {
                                YAHOO.util.Event.preventDefault(this.browserEvent);
                            }
                        };
                        this.isNavKeyPress = function () {
                            return (this.browserEvent.keyCode && this.browserEvent.keyCode >= 33 && this.browserEvent.keyCode <= 40);
                        };
                        this.stopPropagation = function () {
                            if (this.browserEvent) {
                                YAHOO.util.Event.stopPropagation(this.browserEvent);
                            }
                        };
                        this.getCharCode = function () {
                            if (this.browserEvent) {
                                return YAHOO.util.Event.getCharCode(this.browserEvent);
                            }
                            return null;
                        };
                        this.getKey = function () {
                            if (this.browserEvent) {
                                return this.browserEvent.keyCode || this.browserEvent.charCode;
                            }
                            return null;
                        };
                        this.getPageX = function () {
                            if (this.browserEvent) {
                                return YAHOO.util.Event.getPageX(this.browserEvent);
                            }
                            return null;
                        };
                        this.getPageY = function () {
                            if (this.browserEvent) {
                                return YAHOO.util.Event.getPageY(this.browserEvent);
                            }
                            return null;
                        };
                        this.getTime = function () {
                            if (this.browserEvent) {
                                return YAHOO.util.Event.getTime(this.browserEvent);
                            }
                            return null;
                        };
                        this.getXY = function () {
                            if (this.browserEvent) {
                                return YAHOO.util.Event.getXY(this.browserEvent);
                            }
                            return [];
                        };
                        this.getTarget = function () {
                            if (this.browserEvent) {
                                return YAHOO.util.Event.getTarget(this.browserEvent);
                            }
                            return null;
                        };
                        this.findTarget = function (className, tagName) {
                            if (tagName) tagName = tagName.toLowerCase();
                            if (this.browserEvent) {
                                function isMatch(el) {
                                    if (!el) {
                                        return false;
                                    }
                                    if (className && !YAHOO.util.Dom.hasClass(el, className)) {
                                        return false;
                                    }
                                    if (tagName && el.tagName.toLowerCase() != tagName) {
                                        return false;
                                    }
                                    return true;
                                };
                                var t = this.getTarget();
                                if (!t || isMatch(t)) {
                                    return t;
                                }
                                var p = t.parentNode;
                                var b = document.body;
                                while (p && p != b) {
                                    if (isMatch(p)) {
                                        return p;
                                    }
                                    p = p.parentNode;
                                }
                            }
                            return null;
                        };
                        this.getRelatedTarget = function () {
                            if (this.browserEvent) {
                                return YAHOO.util.Event.getRelatedTarget(this.browserEvent);
                            }
                            return null;
                        };
                        this.getWheelDelta = function () {
                            var e = this.browserEvent;
                            var delta = 0;
                            if (e.wheelDelta) {
                                delta = e.wheelDelta / 120;
                                if (window.opera) delta = -delta;
                            } else if (e.detail) {
                                delta = -e.detail / 3;
                            }
                            return delta;
                        };
                        this.hasModifier = function () {
                            return this.ctrlKey || this.altKey || this.shiftKey;
                        };
                        this.within = function (el) {
                            el = getEl(el);
                            var t = this.getTarget();
                            return t && el && (el.dom == t || YAHOO.util.Dom.isAncestor(el.dom, t));
                        }
                    }();
                    YAHOO.ext.KeyMap = function (el, config, eventName) {
                        this.el = getEl(el);
                        this.eventName = eventName || 'keydown';
                        this.bindings = [];
                        if (config instanceof Array) {
                            for (var i = 0, len = config.length; i < len; i++) {
                                this.addBinding(config[i]);
                            }
                        } else {
                            this.addBinding(config);
                        }
                        this.keyDownDelegate = YAHOO.ext.EventManager.wrap(this.handleKeyDown, this, true);
                        this.enable();
                    }
                    YAHOO.ext.KeyMap.prototype = {
                        addBinding: function (config) {
                            var keyCode = config.key,
                                shift = config.shift,
                                ctrl = config.ctrl,
                                alt = config.alt,
                                fn = config.fn,
                                scope = config.scope;
                            if (typeof keyCode == 'string') {
                                var ks = [];
                                var keyString = keyCode.toUpperCase();
                                for (var j = 0, len = keyString.length; j < len; j++) {
                                    ks.push(keyString.charCodeAt(j));
                                }
                                keyCode = ks;
                            }
                            var keyArray = keyCode instanceof Array;
                            var handler = function (e) {
                                if ((!shift || e.shiftKey) && (!ctrl || e.ctrlKey) && (!alt || e.altKey)) {
                                    var k = e.getKey();
                                    if (keyArray) {
                                        for (var i = 0, len = keyCode.length; i < len; i++) {
                                            if (keyCode[i] == k) {
                                                fn.call(scope || window, k, e);
                                                return;
                                            }
                                        }
                                    } else {
                                        if (k == keyCode) {
                                            fn.call(scope || window, k, e);
                                        }
                                    }
                                }
                            };
                            this.bindings.push(handler);
                        },
                        handleKeyDown: function (e) {
                            if (this.enabled) {
                                var b = this.bindings;
                                for (var i = 0, len = b.length; i < len; i++) {
                                    b[i](e);
                                }
                            }
                        },
                        isEnabled: function () {
                            return this.enabled;
                        },
                        enable: function () {
                            if (!this.enabled) {
                                this.el.on(this.eventName, this.keyDownDelegate);
                                this.enabled = true;
                            }
                        },
                        disable: function () {
                            if (this.enabled) {
                                this.el.removeListener(this.eventName, this.keyDownDelegate);
                                this.enabled = false;
                            }
                        }
                    };
                    YAHOO.ext.Layer = function (config, existingEl) {
                        config = config || {};
                        var dh = YAHOO.ext.DomHelper;
                        if (existingEl) {
                            this.dom = YAHOO.util.Dom.get(existingEl);
                        }
                        if (!this.dom) {
                            var o = config.dh || {
                                tag: 'div',
                                cls: 'ylayer'
                            };
                            this.dom = dh.insertBefore(document.body.firstChild, o);
                        }
                        if (config.cls) {
                            this.addClass(config.cls);
                        }
                        this.constrain = config.constrain !== false;
                        this.visibilityMode = YAHOO.ext.Element.VISIBILITY;
                        this.id = YAHOO.util.Dom.generateId(this.dom);
                        var zindex = (config.zindex || parseInt(this.getStyle('z-index'), 10)) || 11000;
                        this.setAbsolutePositioned(zindex);
                        if (config.shadow) {
                            var cls = (typeof config.shadow == 'string' ? config.shadow : 'ylayer-shadow');
                            this.shadow = dh.insertBefore(this.dom, {
                                tag: 'div',
                                cls: cls
                            }, true);
                            this.shadowOffset = config.shadowOffset || 3;
                            this.shadow.setAbsolutePositioned(zindex - 1);
                        } else {
                            this.shadowOffset = 0;
                        }
                        var b = YAHOO.ext.util.Browser;
                        if (config.shim !== false && (b.isIE || (b.isGecko && b.isMac))) {
                            this.shim = this.createShim();
                            this.shim.setOpacity(0);
                            this.shim.setAbsolutePositioned(zindex - 2);
                        }
                        this.hide();
                    };
                    YAHOO.extendX(YAHOO.ext.Layer, YAHOO.ext.Element, {
                        sync: function (doShow) {
                            if (this.isVisible() && (this.shadow || this.shim)) {
                                var b = this.getBox();
                                if (this.shim) {
                                    if (doShow) {
                                        this.shim.show();
                                    }
                                    this.shim.setBox(b);
                                }
                                if (this.shadow) {
                                    if (doShow) {
                                        this.shadow.show();
                                    }
                                    b.x += this.shadowOffset;
                                    b.y += this.shadowOffset;
                                    this.shadow.setBox(b);
                                }
                            }
                        },
                        syncLocalXY: function () {
                            var l = this.getLeft(true);
                            var t = this.getTop(true);
                            if (this.shim) {
                                this.shim.setLeftTop(l, t);
                            }
                            if (this.shadow) {
                                this.shadow.setLeftTop(l + this.shadowOffset, t + this.shadowOffset);
                            }
                        },
                        hideUnders: function (negOffset) {
                            if (this.shadow) {
                                this.shadow.hide();
                                if (negOffset) {
                                    this.shadow.setLeftTop(-10000, - 10000);
                                }
                            }
                            if (this.shim) {
                                this.shim.hide();
                                if (negOffset) {
                                    this.shim.setLeftTop(-10000, - 10000);
                                }
                            }
                        },
                        constrainXY: function () {
                            if (this.constrain) {
                                var vw = YAHOO.util.Dom.getViewportWidth(),
                                    vh = YAHOO.util.Dom.getViewportHeight();
                                var xy = this.getXY();
                                var x = xy[0],
                                    y = xy[1];
                                var w = this.dom.offsetWidth + this.shadowOffset,
                                    h = this.dom.offsetHeight + this.shadowOffset;
                                var moved = false;
                                if (x + w > vw) {
                                    x = vw - w;
                                    moved = true;
                                }
                                if (y + h > vh) {
                                    y = vh - h;
                                    moved = true;
                                }
                                if (x < 0) {
                                    x = 0;
                                    moved = true;
                                }
                                if (y < 0) {
                                    y = 0;
                                    moved = true;
                                }
                                if (moved) {
                                    xy = [x, y];
                                    this.lastXY = xy;
                                    this.beforeAction();
                                    YAHOO.ext.Layer.superclass.setXY.call(this, xy);
                                    this.sync(true);
                                }
                            }
                        },
                        setVisible: function (v, a, d, c, e) {
                            if (this.lastXY) {
                                YAHOO.ext.Layer.superclass.setXY.call(this, this.lastXY);
                            }
                            if (a && v) {
                                var cb = function () {
                                    this.sync(true);
                                    if (c) {
                                        c();
                                    }
                                }.createDelegate(this);
                                YAHOO.ext.Layer.superclass.setVisible.call(this, true, true, d, cb, e);
                            } else {
                                if (!v) {
                                    this.hideUnders(true);
                                }
                                var cb = c;
                                if (a) {
                                    cb = function () {
                                        this.setLeftTop(-10000, - 10000);
                                        if (c) {
                                            c();
                                        }
                                    }.createDelegate(this);
                                }
                                YAHOO.ext.Layer.superclass.setVisible.call(this, v, a, d, cb, e);
                                if (v) {
                                    this.sync(true);
                                } else if (!a) {
                                    this.setLeftTop(-10000, - 10000);
                                }
                            }
                        },
                        beforeAction: function () {
                            if (this.shadow) {
                                this.shadow.hide();
                            }
                        },
                        setXY: function (xy, a, d, c, e) {
                            this.lastXY = xy;
                            this.beforeAction();
                            var cb = this.createCB(c);
                            YAHOO.ext.Layer.superclass.setXY.call(this, xy, a, d, cb, e);
                            if (!a) {
                                cb();
                            }
                        },
                        createCB: function (c) {
                            var el = this;
                            return function () {
                                el.constrainXY();
                                el.sync(true);
                                if (c) {
                                    c();
                                }
                            };
                        },
                        setX: function (x, a, d, c, e) {
                            this.setXY([x, this.getY()], a, d, c, e);
                        },
                        setY: function (y, a, d, c, e) {
                            this.setXY([this.getX(), y], a, d, c, e);
                        },
                        setSize: function (w, h, a, d, c, e) {
                            this.beforeAction();
                            var cb = this.createCB(c);
                            YAHOO.ext.Layer.superclass.setSize.call(this, w, h, a, d, cb, e);
                            if (!a) {
                                cb();
                            }
                        },
                        setWidth: function (w, a, d, c, e) {
                            this.beforeAction();
                            var cb = this.createCB(c);
                            YAHOO.ext.Layer.superclass.setWidth.call(this, w, a, d, cb, e);
                            if (!a) {
                                cb();
                            }
                        },
                        setHeight: function (h, a, d, c, e) {
                            this.beforeAction();
                            var cb = this.createCB(c);
                            YAHOO.ext.Layer.superclass.setHeight.call(this, h, a, d, cb, e);
                            if (!a) {
                                cb();
                            }
                        },
                        setBounds: function (x, y, w, h, a, d, c, e) {
                            this.beforeAction();
                            var cb = this.createCB(c);
                            if (!a) {
                                YAHOO.ext.Layer.superclass.setXY.call(this, [x, y]);
                                YAHOO.ext.Layer.superclass.setSize.call(this, w, h, a, d, cb, e);
                                cb();
                            } else {
                                YAHOO.ext.Layer.superclass.setBounds.call(this, x, y, w, h, a, d, cb, e);
                            }
                            return this;
                        }
                    });
                    YAHOO.ext.util.MixedCollection = function (allowFunctions) {
                        this.items = [];
                        this.keys = [];
                        this.events = {
                            'clear': new YAHOO.util.CustomEvent('clear'),
                            'add': new YAHOO.util.CustomEvent('add'),
                            'replace': new YAHOO.util.CustomEvent('replace'),
                            'remove': new YAHOO.util.CustomEvent('remove')
                        }
                        this.allowFunctions = allowFunctions === true;
                    };
                    YAHOO.extendX(YAHOO.ext.util.MixedCollection, YAHOO.ext.util.Observable, {
                        allowFunctions: false,
                        add: function (key, o) {
                            if (arguments.length == 1) {
                                o = arguments[0];
                                key = this.getKey(o);
                            }
                            this.items.push(o);
                            if (typeof key != 'undefined' && key != null) {
                                this.items[key] = o;
                                this.keys.push(key);
                            }
                            this.fireEvent('add', this.items.length - 1, o, key);
                            return o;
                        },
                        getKey: function (o) {
                            return null;
                        },
                        replace: function (key, o) {
                            if (arguments.length == 1) {
                                o = arguments[0];
                                key = this.getKey(o);
                            }
                            if (typeof this.items[key] == 'undefined') {
                                return this.add(key, o);
                            }
                            var old = this.items[key];
                            if (typeof key == 'number') {
                                this.items[key] = o;
                            } else {
                                var index = this.indexOfKey(key);
                                this.items[index] = o;
                                this.items[key] = o;
                            }
                            this.fireEvent('replace', key, old, o);
                            return o;
                        },
                        addAll: function (objs) {
                            if (arguments.length > 1 || objs instanceof Array) {
                                var args = arguments.length > 1 ? arguments : objs;
                                for (var i = 0, len = args.length; i < len; i++) {
                                    this.add(args[i]);
                                }
                            } else {
                                for (var key in objs) {
                                    if (this.allowFunctions || typeof objs[key] != 'function') {
                                        this.add(objs[key], key);
                                    }
                                }
                            }
                        },
                        each: function (fn, scope) {
                            for (var i = 0, len = this.items.length; i < len; i++) {
                                fn.call(scope || window, this.items[i]);
                            }
                        },
                        eachKey: function (fn, scope) {
                            for (var i = 0, len = this.keys.length; i < len; i++) {
                                fn.call(scope || window, this.keys[i], this.items[i]);
                            }
                        },
                        find: function (fn, scope) {
                            for (var i = 0, len = this.items.length; i < len; i++) {
                                if (fn.call(scope || window, this.items[i])) {
                                    return this.items[i];
                                }
                            }
                            return null;
                        },
                        insert: function (index, key, o) {
                            if (arguments.length == 2) {
                                o = arguments[1];
                                key = this.getKey(o);
                            }
                            if (index >= this.items.length) {
                                return this.add(o, key);
                            }
                            this.items.splice(index, 0, o);
                            if (typeof key != 'undefined' && key != null) {
                                this.items[key] = o;
                                this.keys.splice(index, 0, key);
                            }
                            this.fireEvent('add', index, o, key);
                            return o;
                        },
                        remove: function (o) {
                            var index = this.indexOf(o);
                            this.items.splice(index, 1);
                            if (typeof this.keys[index] != 'undefined') {
                                var key = this.keys[index];
                                this.keys.splice(index, 1);
                                delete this.items[key];
                            }
                            this.fireEvent('remove', o);
                            return o;
                        },
                        removeAt: function (index) {
                            this.items.splice(index, 1);
                            var key = this.keys[index];
                            if (typeof key != 'undefined') {
                                this.keys.splice(index, 1);
                                delete this.items[key];
                            }
                            this.fireEvent('remove', o, key);
                        },
                        removeKey: function (key) {
                            var o = this.items[key];
                            var index = this.indexOf(o);
                            this.items.splice(index, 1);
                            this.keys.splice(index, 1);
                            delete this.items[key];
                            this.fireEvent('remove', o, key);
                        },
                        getCount: function () {
                            return this.items.length;
                        },
                        indexOf: function (o) {
                            if (!this.items.indexOf) {
                                for (var i = 0, len = this.items.length; i < len; i++) {
                                    if (this.items[i] == o) return i;
                                }
                                return -1;
                            } else {
                                return this.items.indexOf(o);
                            }
                        },
                        indexOfKey: function (key) {
                            if (!this.keys.indexOf) {
                                for (var i = 0, len = this.keys.length; i < len; i++) {
                                    if (this.keys[i] == key) return i;
                                }
                                return -1;
                            } else {
                                return this.keys.indexOf(key);
                            }
                        },
                        item: function (key) {
                            return this.items[key];
                        },
                        contains: function (o) {
                            return this.indexOf(o) != -1;
                        },
                        containsKey: function (key) {
                            return typeof this.items[key] != 'undefined';
                        },
                        clear: function (o) {
                            this.items = [];
                            this.keys = [];
                            this.fireEvent('clear');
                        },
                        first: function () {
                            return this.items[0];
                        },
                        last: function () {
                            return this.items[this.items.length];
                        }
                    });
                    YAHOO.ext.util.MixedCollection.prototype.get = YAHOO.ext.util.MixedCollection.prototype.item;
                    YAHOO.namespace('ext.state');
                    YAHOO.ext.state.Provider = function () {
                        YAHOO.ext.state.Provider.superclass.constructor.call(this);
                        this.events = {
                            'statechange': new YAHOO.util.CustomEvent('statechange')
                        };
                        this.state = {};
                    };
                    YAHOO.extendX(YAHOO.ext.state.Provider, YAHOO.ext.util.Observable, {
                        get: function (name, defaultValue) {
                            return typeof this.state[name] == 'undefined' ? defaultValue : this.state[name];
                        },
                        clear: function (name) {
                            delete this.state[name];
                            this.fireEvent('statechange', this, name, null);
                        },
                        set: function (name, value) {
                            this.state[name] = value;
                            this.fireEvent('statechange', this, name, value);
                        },
                        decodeValue: function (cookie) {
                            var re = /^(a|n|d|b|s|o)\:(.*)$/;
                            var matches = re.exec(unescape(cookie));
                            if (!matches || !matches[1]) return;
                            var type = matches[1];
                            var v = matches[2];
                            switch (type) {
                            case 'n':
                                return parseFloat(v);
                            case 'd':
                                return new Date(Date.parse(v));
                            case 'b':
                                return (v == '1');
                            case 'a':
                                var all = [];
                                var values = v.split('^');
                                for (var i = 0, len = values.length; i < len; i++) {
                                    all.push(this.decodeValue(values[i]))
                                }
                                return all;
                            case 'o':
                                var all = {};
                                var values = v.split('^');
                                for (var i = 0, len = values.length; i < len; i++) {
                                    var kv = values[i].split('=');
                                    all[kv[0]] = this.decodeValue(kv[1]);
                                }
                                return all;
                            default:
                                return v;
                            }
                        },
                        encodeValue: function (v) {
                            var enc;
                            if (typeof v == 'number') {
                                enc = 'n:' + v;
                            } else if (typeof v == 'boolean') {
                                enc = 'b:' + (v ? '1' : '0');
                            } else if (v instanceof Date) {
                                enc = 'd:' + v.toGMTString();
                            } else if (v instanceof Array) {
                                var flat = '';
                                for (var i = 0, len = v.length; i < len; i++) {
                                    flat += this.encodeValue(v[i]);
                                    if (i != len - 1) flat += '^';
                                }
                                enc = 'a:' + flat;
                            } else if (typeof v == 'object') {
                                var flat = '';
                                for (var key in v) {
                                    if (typeof v[key] != 'function') {
                                        flat += key + '=' + this.encodeValue(v[key]) + '^';
                                    }
                                }
                                enc = 'o:' + flat.substring(0, flat.length - 1);
                            } else {
                                enc = 's:' + v;
                            }
                            return escape(enc);
                        }
                    });
                    YAHOO.ext.state.Manager = new function () {
                        var provider = new YAHOO.ext.state.Provider();
                        return {
                            setProvider: function (stateProvider) {
                                provider = stateProvider;
                            },
                            get: function (key, defaultValue) {
                                return provider.get(key, defaultValue);
                            },
                            set: function (key, value) {
                                provider.set(key, value);
                            },
                            clear: function (key) {
                                provider.clear(key);
                            },
                            getProvider: function () {
                                return provider;
                            }
                        };
                    }();
                    YAHOO.ext.state.CookieProvider = function (config) {
                        YAHOO.ext.state.CookieProvider.superclass.constructor.call(this);
                        this.path = '/';
                        this.expires = new Date(new Date().getTime() + (1000 * 60 * 60 * 24 * 7));
                        this.domain = null;
                        this.secure = false;
                        YAHOO.ext.util.Config.apply(this, config);
                        this.state = this.readCookies();
                    };
                    YAHOO.extendX(YAHOO.ext.state.CookieProvider, YAHOO.ext.state.Provider, {
                        set: function (name, value) {
                            if (typeof value == 'undefined' || value === null) {
                                this.clear(name);
                                return;
                            }
                            this.setCookie(name, value);
                            YAHOO.ext.state.CookieProvider.superclass.set.call(this, name, value);
                        },
                        clear: function (name) {
                            this.clearCookie(name);
                            YAHOO.ext.state.CookieProvider.superclass.clear.call(this, name);
                        },
                        readCookies: function () {
                            var cookies = {};
                            var c = document.cookie + ';';
                            var re = /\s?(.*?)=(.*?);/g;
                            var matches;
                            while ((matches = re.exec(c)) != null) {
                                var name = matches[1];
                                var value = matches[2];
                                if (name && name.substring(0, 3) == 'ys-') {
                                    cookies[name.substr(3)] = this.decodeValue(value);
                                }
                            }
                            return cookies;
                        },
                        setCookie: function (name, value) {
                            document.cookie = "ys-" + name + "=" + this.encodeValue(value) + ((this.expires == null) ? "" : ("; expires=" + this.expires.toGMTString())) + ((this.path == null) ? "" : ("; path=" + this.path)) + ((this.domain == null) ? "" : ("; domain=" + this.domain)) + ((this.secure == true) ? "; secure" : "");
                        },
                        clearCookie: function (name) {
                            document.cookie = "ys-" + name + "=null; expires=Thu, 01-Jan-70 00:00:01 GMT" + ((this.path == null) ? "" : ("; path=" + this.path)) + ((this.domain == null) ? "" : ("; domain=" + this.domain)) + ((this.secure == true) ? "; secure" : "");
                        }
                    });
                    YAHOO.ext.UpdateManager = function (el, forceNew) {
                        el = YAHOO.ext.Element.get(el);
                        if (!forceNew && el.updateManager) {
                            return el.updateManager;
                        }
                        this.el = el;
                        this.defaultUrl = null;
                        this.beforeUpdate = new YAHOO.util.CustomEvent('UpdateManager.beforeUpdate');
                        this.onUpdate = new YAHOO.util.CustomEvent('UpdateManager.onUpdate');
                        this.onFailure = new YAHOO.util.CustomEvent('UpdateManager.onFailure');
                        this.events = {
                            'beforeupdate': this.beforeUpdate,
                            'update': this.onUpdate,
                            'failure': this.onFailure
                        };
                        this.sslBlankUrl = YAHOO.ext.UpdateManager.defaults.sslBlankUrl;
                        this.disableCaching = YAHOO.ext.UpdateManager.defaults.disableCaching;
                        this.indicatorText = YAHOO.ext.UpdateManager.defaults.indicatorText;
                        this.showLoadIndicator = YAHOO.ext.UpdateManager.defaults.showLoadIndicator;
                        this.timeout = YAHOO.ext.UpdateManager.defaults.timeout;
                        this.loadScripts = YAHOO.ext.UpdateManager.defaults.loadScripts;
                        this.transaction = null;
                        this.autoRefreshProcId = null;
                        this.refreshDelegate = this.refresh.createDelegate(this);
                        this.updateDelegate = this.update.createDelegate(this);
                        this.formUpdateDelegate = this.formUpdate.createDelegate(this);
                        this.successDelegate = this.processSuccess.createDelegate(this);
                        this.failureDelegate = this.processFailure.createDelegate(this);
                        this.renderer = new YAHOO.ext.UpdateManager.BasicRenderer();
                    };
                    YAHOO.ext.UpdateManager.prototype = {
                        fireEvent: YAHOO.ext.util.Observable.prototype.fireEvent,
                        on: YAHOO.ext.util.Observable.prototype.on,
                        addListener: YAHOO.ext.util.Observable.prototype.addListener,
                        delayedListener: YAHOO.ext.util.Observable.prototype.delayedListener,
                        removeListener: YAHOO.ext.util.Observable.prototype.removeListener,
                        purgeListeners: YAHOO.ext.util.Observable.prototype.purgeListeners,
                        bufferedListener: YAHOO.ext.util.Observable.prototype.bufferedListener,
                        getEl: function () {
                            return this.el;
                        },
                        update: function (url, params, callback, discardUrl) {
                            if (this.beforeUpdate.fireDirect(this.el, url, params) !== false) {
                                if (typeof url == 'object') {
                                    var cfg = url;
                                    url = cfg.url;
                                    params = params || cfg.params;
                                    callback = callback || cfg.callback;
                                    discardUrl = discardUrl || cfg.discardUrl;
                                    if (callback && cfg.scope) {
                                        callback = callback.createDelegate(cfg.scope);
                                    }
                                    if (typeof cfg.nocache != 'undefined') {
                                        this.disableCaching = cfg.nocache
                                    };
                                    if (typeof cfg.text != 'undefined') {
                                        this.indicatorText = '<div class="loading-indicator">' + cfg.text + '</div>'
                                    };
                                    if (typeof cfg.scripts != 'undefined') {
                                        this.loadScripts = cfg.scripts
                                    };
                                    if (typeof cfg.timeout != 'undefined') {
                                        this.timeout = cfg.timeout
                                    };
                                }
                                this.showLoading();
                                if (!discardUrl) {
                                    this.defaultUrl = url;
                                }
                                if (typeof url == 'function') {
                                    url = url();
                                }
                                if (typeof params == 'function') {
                                    params = params();
                                }
                                if (params && typeof params != 'string') {
                                    var buf = [];
                                    for (var key in params) {
                                        if (typeof params[key] != 'function') {
                                            buf.push(encodeURIComponent(key), '=', encodeURIComponent(params[key]), '&');
                                        }
                                    }
                                    delete buf[buf.length - 1];
                                    params = buf.join('');
                                }
                                var callback = {
                                    success: this.successDelegate,
                                    failure: this.failureDelegate,
                                    timeout: (this.timeout * 1000),
                                    argument: {
                                        'url': url,
                                        'form': null,
                                        'callback': callback,
                                        'params': params
                                    }
                                };
                                var method = params ? 'POST' : 'GET';
                                if (method == 'GET') {
                                    url = this.prepareUrl(url);
                                }
                                this.transaction = YAHOO.util.Connect.asyncRequest(method, url, callback, params);
                            }
                        },
                        formUpdate: function (form, url, reset, callback) {
                            if (this.beforeUpdate.fireDirect(this.el, form, url) !== false) {
                                formEl = YAHOO.util.Dom.get(form);
                                this.showLoading();
                                if (typeof url == 'function') {
                                    url = url();
                                }
                                if (typeof params == 'function') {
                                    params = params();
                                }
                                url = url || formEl.action;
                                var callback = {
                                    success: this.successDelegate,
                                    failure: this.failureDelegate,
                                    timeout: (this.timeout * 1000),
                                    argument: {
                                        'url': url,
                                        'form': form,
                                        'callback': callback,
                                        'reset': reset
                                    }
                                };
                                var isUpload = false;
                                var enctype = formEl.getAttribute('enctype');
                                if (enctype && enctype.toLowerCase() == 'multipart/form-data') {
                                    isUpload = true;
                                }
                                YAHOO.util.Connect.setForm(form, isUpload, this.sslBlankUrl);
                                this.transaction = YAHOO.util.Connect.asyncRequest('POST', url, callback);
                            }
                        },
                        refresh: function (callback) {
                            if (this.defaultUrl == null) {
                                return;
                            }
                            this.update(this.defaultUrl, null, callback, true);
                        },
                        startAutoRefresh: function (interval, url, params, callback, refreshNow) {
                            if (refreshNow) {
                                this.update(url || this.defaultUrl, params, callback, true);
                            }
                            if (this.autoRefreshProcId) {
                                clearInterval(this.autoRefreshProcId);
                            }
                            this.autoRefreshProcId = setInterval(this.update.createDelegate(this, [url || this.defaultUrl, params, callback, true]), interval * 1000);
                        },
                        stopAutoRefresh: function () {
                            if (this.autoRefreshProcId) {
                                clearInterval(this.autoRefreshProcId);
                            }
                        },
                        showLoading: function () {
                            if (this.showLoadIndicator) {
                                this.el.update(this.indicatorText);
                            }
                        },
                        prepareUrl: function (url) {
                            if (this.disableCaching) {
                                var append = '_dc=' + (new Date().getTime());
                                if (url.indexOf('?') !== -1) {
                                    url += '&' + append;
                                } else {
                                    url += '?' + append;
                                }
                            }
                            return url;
                        },
                        processSuccess: function (response) {
                            this.transaction = null;
                            if (response.argument.form && response.argument.reset) {
                                try {
                                    response.argument.form.reset();
                                } catch (e) {}
                            }
                            if (this.loadScripts) {
                                this.renderer.render(this.el, response, this, this.updateComplete.createDelegate(this, [response]));
                            } else {
                                this.renderer.render(this.el, response, this);
                                this.updateComplete(response);
                            }
                        },
                        updateComplete: function (response) {
                            this.fireEvent('update', this.el, response);
                            if (typeof response.argument.callback == 'function') {
                                response.argument.callback(this.el, true, response);
                            }
                        },
                        processFailure: function (response) {
                            this.transaction = null;
                            this.onFailure.fireDirect(this.el, response);
                            if (typeof response.argument.callback == 'function') {
                                response.argument.callback(this.el, false, response);
                            }
                        },
                        setRenderer: function (renderer) {
                            this.renderer = renderer;
                        },
                        getRenderer: function () {
                            return this.renderer;
                        },
                        setDefaultUrl: function (defaultUrl) {
                            this.defaultUrl = defaultUrl;
                        },
                        abort: function () {
                            if (this.transaction) {
                                YAHOO.util.Connect.abort(this.transaction);
                            }
                        },
                        isUpdating: function () {
                            if (this.transaction) {
                                return YAHOO.util.Connect.isCallInProgress(this.transaction);
                            }
                            return false;
                        }
                    };
                    YAHOO.ext.UpdateManager.defaults = {
                        timeout: 30,
                        loadScripts: false,
                        sslBlankUrl: (YAHOO.ext.SSL_SECURE_URL || 'javascript:false'),
                        disableCaching: false,
                        showLoadIndicator: true,
                        indicatorText: '<div class="loading-indicator">Loading...</div>'
                    };
                    YAHOO.ext.UpdateManager.updateElement = function (el, url, params, options) {
                        var um = getEl(el, true).getUpdateManager();
                        YAHOO.ext.util.Config.apply(um, options);
                        um.update(url, params, options ? options.callback : null);
                    };
                    YAHOO.ext.UpdateManager.update = YAHOO.ext.UpdateManager.updateElement;
                    YAHOO.ext.UpdateManager.BasicRenderer = function () {};
                    YAHOO.ext.UpdateManager.BasicRenderer.prototype = {
                        render: function (el, response, updateManager, callback) {
                            el.update(response.responseText, updateManager.loadScripts, callback);
                        }
                    };
                    YAHOO.ext.Actor = function (element, animator, selfCapture) {
                        this.el = YAHOO.ext.Element.get(element, true);
                        YAHOO.ext.Actor.superclass.constructor.call(this, element, true);
                        this.onCapture = new YAHOO.util.CustomEvent('Actor.onCapture');
                        if (animator) {
                            animator.addActor(this);
                        }
                        this.capturing = selfCapture;
                        this.playlist = selfCapture ? new YAHOO.ext.Animator.AnimSequence() : null;
                    };
                    YAHOO.extendX(YAHOO.ext.Actor, YAHOO.ext.Element);
                    YAHOO.ext.Actor.prototype.capture = function (action) {
                        if (this.playlist != null) {
                            this.playlist.add(action);
                        }
                        this.onCapture.fireDirect(this, action);
                        return action;
                    };
                    YAHOO.ext.Actor.overrideAnimation = function (method, animParam, onParam) {
                        return function () {
                            if (!this.capturing) {
                                return method.apply(this, arguments);
                            }
                            var args = Array.prototype.slice.call(arguments, 0);
                            if (args[animParam] === true) {
                                return this.capture(new YAHOO.ext.Actor.AsyncAction(this, method, args, onParam));
                            } else {
                                return this.capture(new YAHOO.ext.Actor.Action(this, method, args));
                            }
                        };
                    }
                    YAHOO.ext.Actor.overrideBasic = function (method) {
                        return function () {
                            if (!this.capturing) {
                                return method.apply(this, arguments);
                            }
                            var args = Array.prototype.slice.call(arguments, 0);
                            return this.capture(new YAHOO.ext.Actor.Action(this, method, args));
                        };
                    }
                    YAHOO.ext.Actor.prototype.setVisibilityMode = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.setVisibilityMode);
                    YAHOO.ext.Actor.prototype.enableDisplayMode = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.enableDisplayMode);
                    YAHOO.ext.Actor.prototype.focus = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.focus);
                    YAHOO.ext.Actor.prototype.addClass = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.addClass);
                    YAHOO.ext.Actor.prototype.removeClass = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.removeClass);
                    YAHOO.ext.Actor.prototype.replaceClass = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.replaceClass);
                    YAHOO.ext.Actor.prototype.setStyle = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.setStyle);
                    YAHOO.ext.Actor.prototype.setLeft = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.setLeft);
                    YAHOO.ext.Actor.prototype.setTop = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.setTop);
                    YAHOO.ext.Actor.prototype.setAbsolutePositioned = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.setAbsolutePositioned);
                    YAHOO.ext.Actor.prototype.setRelativePositioned = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.setRelativePositioned);
                    YAHOO.ext.Actor.prototype.clearPositioning = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.clearPositioning);
                    YAHOO.ext.Actor.prototype.setPositioning = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.setPositioning);
                    YAHOO.ext.Actor.prototype.clip = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.clip);
                    YAHOO.ext.Actor.prototype.unclip = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.unclip);
                    YAHOO.ext.Actor.prototype.clearOpacity = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.clearOpacity);
                    YAHOO.ext.Actor.prototype.update = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.update);
                    YAHOO.ext.Actor.prototype.remove = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.remove);
                    YAHOO.ext.Actor.prototype.fitToParent = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.fitToParent);
                    YAHOO.ext.Actor.prototype.appendChild = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.appendChild);
                    YAHOO.ext.Actor.prototype.createChild = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.createChild);
                    YAHOO.ext.Actor.prototype.appendTo = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.appendTo);
                    YAHOO.ext.Actor.prototype.insertBefore = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.insertBefore);
                    YAHOO.ext.Actor.prototype.insertAfter = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.insertAfter);
                    YAHOO.ext.Actor.prototype.wrap = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.wrap);
                    YAHOO.ext.Actor.prototype.replace = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.replace);
                    YAHOO.ext.Actor.prototype.insertHtml = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.insertHtml);
                    YAHOO.ext.Actor.prototype.set = YAHOO.ext.Actor.overrideBasic(YAHOO.ext.Actor.superclass.set);
                    YAHOO.ext.Actor.prototype.load = function () {
                        if (!this.capturing) {
                            return YAHOO.ext.Actor.superclass.load.apply(this, arguments);
                        }
                        var args = Array.prototype.slice.call(arguments, 0);
                        return this.capture(new YAHOO.ext.Actor.AsyncAction(this, YAHOO.ext.Actor.superclass.load, args, 2));
                    };
                    YAHOO.ext.Actor.prototype.animate = function (args, duration, onComplete, easing, animType) {
                        if (!this.capturing) {
                            return YAHOO.ext.Actor.superclass.animate.apply(this, arguments);
                        }
                        return this.capture(new YAHOO.ext.Actor.AsyncAction(this, YAHOO.ext.Actor.superclass.animate, [args, duration, onComplete, easing, animType], 2));
                    };
                    YAHOO.ext.Actor.prototype.setVisible = YAHOO.ext.Actor.overrideAnimation(YAHOO.ext.Actor.superclass.setVisible, 1, 3);
                    YAHOO.ext.Actor.prototype.toggle = YAHOO.ext.Actor.overrideAnimation(YAHOO.ext.Actor.superclass.toggle, 0, 2);
                    YAHOO.ext.Actor.prototype.setXY = YAHOO.ext.Actor.overrideAnimation(YAHOO.ext.Actor.superclass.setXY, 1, 3);
                    YAHOO.ext.Actor.prototype.setLocation = YAHOO.ext.Actor.overrideAnimation(YAHOO.ext.Actor.superclass.setLocation, 2, 4);
                    YAHOO.ext.Actor.prototype.setWidth = YAHOO.ext.Actor.overrideAnimation(YAHOO.ext.Actor.superclass.setWidth, 1, 3);
                    YAHOO.ext.Actor.prototype.setHeight = YAHOO.ext.Actor.overrideAnimation(YAHOO.ext.Actor.superclass.setHeight, 1, 3);
                    YAHOO.ext.Actor.prototype.setSize = YAHOO.ext.Actor.overrideAnimation(YAHOO.ext.Actor.superclass.setSize, 2, 4);
                    YAHOO.ext.Actor.prototype.setBounds = YAHOO.ext.Actor.overrideAnimation(YAHOO.ext.Actor.superclass.setBounds, 4, 6);
                    YAHOO.ext.Actor.prototype.setOpacity = YAHOO.ext.Actor.overrideAnimation(YAHOO.ext.Actor.superclass.setOpacity, 1, 3);
                    YAHOO.ext.Actor.prototype.moveTo = YAHOO.ext.Actor.overrideAnimation(YAHOO.ext.Actor.superclass.moveTo, 2, 4);
                    YAHOO.ext.Actor.prototype.move = YAHOO.ext.Actor.overrideAnimation(YAHOO.ext.Actor.superclass.move, 2, 4);
                    YAHOO.ext.Actor.prototype.alignTo = YAHOO.ext.Actor.overrideAnimation(YAHOO.ext.Actor.superclass.alignTo, 3, 5);
                    YAHOO.ext.Actor.prototype.hide = YAHOO.ext.Actor.overrideAnimation(YAHOO.ext.Actor.superclass.hide, 0, 2);
                    YAHOO.ext.Actor.prototype.show = YAHOO.ext.Actor.overrideAnimation(YAHOO.ext.Actor.superclass.show, 0, 2);
                    YAHOO.ext.Actor.prototype.setBox = YAHOO.ext.Actor.overrideAnimation(YAHOO.ext.Actor.superclass.setBox, 2, 4);
                    YAHOO.ext.Actor.prototype.autoHeight = YAHOO.ext.Actor.overrideAnimation(YAHOO.ext.Actor.superclass.autoHeight, 0, 2);
                    YAHOO.ext.Actor.prototype.setX = YAHOO.ext.Actor.overrideAnimation(YAHOO.ext.Actor.superclass.setX, 1, 3);
                    YAHOO.ext.Actor.prototype.setY = YAHOO.ext.Actor.overrideAnimation(YAHOO.ext.Actor.superclass.setY, 1, 3);
                    YAHOO.ext.Actor.prototype.startCapture = function () {
                        this.capturing = true;
                        this.playlist = new YAHOO.ext.Animator.AnimSequence();
                    };
                    YAHOO.ext.Actor.prototype.stopCapture = function () {
                        this.capturing = false;
                    };
                    YAHOO.ext.Actor.prototype.clear = function () {
                        this.playlist = new YAHOO.ext.Animator.AnimSequence();
                    };
                    YAHOO.ext.Actor.prototype.play = function (oncomplete) {
                        this.capturing = false;
                        if (this.playlist) {
                            this.playlist.play(oncomplete);
                        }
                    };
                    YAHOO.ext.Actor.prototype.addCall = function (fcn, args, scope) {
                        if (!this.capturing) {
                            fcn.apply(scope || this, args || []);
                        } else {
                            this.capture(new YAHOO.ext.Actor.Action(scope, fcn, args || []));
                        }
                    };
                    YAHOO.ext.Actor.prototype.addAsyncCall = function (fcn, callbackIndex, args, scope) {
                        if (!this.capturing) {
                            fcn.apply(scope || this, args || []);
                        } else {
                            this.capture(new YAHOO.ext.Actor.AsyncAction(scope, fcn, args || [], callbackIndex));
                        }
                    }, YAHOO.ext.Actor.prototype.pause = function (seconds) {
                        this.capture(new YAHOO.ext.Actor.PauseAction(seconds));
                    };
                    YAHOO.ext.Actor.prototype.shake = function () {
                        this.move('left', 20, true, .05);
                        this.move('right', 40, true, .05);
                        this.move('left', 40, true, .05);
                        this.move('right', 20, true, .05);
                    };
                    YAHOO.ext.Actor.prototype.bounce = function () {
                        this.move('up', 20, true, .05);
                        this.move('down', 40, true, .05);
                        this.move('up', 40, true, .05);
                        this.move('down', 20, true, .05);
                    };
                    YAHOO.ext.Actor.prototype.blindShow = function (anchor, newSize, duration, easing) {
                        var size = this.getSize();
                        this.clip();
                        anchor = anchor.toLowerCase();
                        switch (anchor) {
                        case 't':
                        case 'top':
                            this.setHeight(1);
                            this.setVisible(true);
                            this.setHeight(newSize || size.height, true, duration || .5, null, easing || YAHOO.util.Easing.easeOut);
                            break;
                        case 'l':
                        case 'left':
                            this.setWidth(1);
                            this.setVisible(true);
                            this.setWidth(newSize || size.width, true, duration || .5, null, easing || YAHOO.util.Easing.easeOut);
                            break;
                        }
                        this.unclip();
                        return size;
                    };
                    YAHOO.ext.Actor.prototype.blindHide = function (anchor, duration, easing) {
                        var size = this.getSize();
                        this.clip();
                        anchor = anchor.toLowerCase();
                        switch (anchor) {
                        case 't':
                        case 'top':
                            this.setSize(size.width, 1, true, duration || .5, null, easing || YAHOO.util.Easing.easeIn);
                            this.setVisible(false);
                            break;
                        case 'l':
                        case 'left':
                            this.setSize(1, size.height, true, duration || .5, null, easing || YAHOO.util.Easing.easeIn);
                            this.setVisible(false);
                            break;
                        case 'r':
                        case 'right':
                            this.animate({
                                width: {
                                    to: 1
                                },
                                points: {
                                    by: [size.width, 0]
                                }
                            }, duration || .5, null, YAHOO.util.Easing.easeIn, YAHOO.util.Motion);
                            this.setVisible(false);
                            break;
                        case 'b':
                        case 'bottom':
                            this.animate({
                                height: {
                                    to: 1
                                },
                                points: {
                                    by: [0, size.height]
                                }
                            }, duration || .5, null, YAHOO.util.Easing.easeIn, YAHOO.util.Motion);
                            this.setVisible(false);
                            break;
                        }
                        return size;
                    };
                    YAHOO.ext.Actor.prototype.slideShow = function (anchor, newSize, duration, easing, clearPositioning) {
                        var size = this.getSize();
                        this.clip();
                        var firstChild = this.dom.firstChild;
                        if (!firstChild || (firstChild.nodeName && "#TEXT" == firstChild.nodeName.toUpperCase())) {
                            this.blindShow(anchor, newSize, duration, easing);
                            return;
                        }
                        var child = YAHOO.ext.Element.get(firstChild, true);
                        var pos = child.getPositioning();
                        this.addCall(child.setAbsolutePositioned, null, child);
                        this.setVisible(true);
                        anchor = anchor.toLowerCase();
                        switch (anchor) {
                        case 't':
                        case 'top':
                            this.addCall(child.setStyle, ['right', ''], child);
                            this.addCall(child.setStyle, ['top', ''], child);
                            this.addCall(child.setStyle, ['left', '0px'], child);
                            this.addCall(child.setStyle, ['bottom', '0px'], child);
                            this.setHeight(1);
                            this.setHeight(newSize || size.height, true, duration || .5, null, easing || YAHOO.util.Easing.easeOut);
                            break;
                        case 'l':
                        case 'left':
                            this.addCall(child.setStyle, ['left', ''], child);
                            this.addCall(child.setStyle, ['bottom', ''], child);
                            this.addCall(child.setStyle, ['right', '0px'], child);
                            this.addCall(child.setStyle, ['top', '0px'], child);
                            this.setWidth(1);
                            this.setWidth(newSize || size.width, true, duration || .5, null, easing || YAHOO.util.Easing.easeOut);
                            break;
                        case 'r':
                        case 'right':
                            this.addCall(child.setStyle, ['left', '0px'], child);
                            this.addCall(child.setStyle, ['top', '0px'], child);
                            this.addCall(child.setStyle, ['right', ''], child);
                            this.addCall(child.setStyle, ['bottom', ''], child);
                            this.setWidth(1);
                            this.setWidth(newSize || size.width, true, duration || .5, null, easing || YAHOO.util.Easing.easeOut);
                            break;
                        case 'b':
                        case 'bottom':
                            this.addCall(child.setStyle, ['right', ''], child);
                            this.addCall(child.setStyle, ['top', '0px'], child);
                            this.addCall(child.setStyle, ['left', '0px'], child);
                            this.addCall(child.setStyle, ['bottom', ''], child);
                            this.setHeight(1);
                            this.setHeight(newSize || size.height, true, duration || .5, null, easing || YAHOO.util.Easing.easeOut);
                            break;
                        }
                        if (clearPositioning !== false) {
                            this.addCall(child.setPositioning, [pos], child);
                        }
                        this.unclip();
                        return size;
                    };
                    YAHOO.ext.Actor.prototype.slideHide = function (anchor, duration, easing) {
                        var size = this.getSize();
                        this.clip();
                        var firstChild = this.dom.firstChild;
                        if (!firstChild || (firstChild.nodeName && "#TEXT" == firstChild.nodeName.toUpperCase())) {
                            this.blindHide(anchor, duration, easing);
                            return;
                        }
                        var child = YAHOO.ext.Element.get(firstChild, true);
                        var pos = child.getPositioning();
                        this.addCall(child.setAbsolutePositioned, null, child);
                        anchor = anchor.toLowerCase();
                        switch (anchor) {
                        case 't':
                        case 'top':
                            this.addCall(child.setStyle, ['right', ''], child);
                            this.addCall(child.setStyle, ['top', ''], child);
                            this.addCall(child.setStyle, ['left', '0px'], child);
                            this.addCall(child.setStyle, ['bottom', '0px'], child);
                            this.setSize(size.width, 1, true, duration || .5, null, easing || YAHOO.util.Easing.easeIn);
                            this.setVisible(false);
                            break;
                        case 'l':
                        case 'left':
                            this.addCall(child.setStyle, ['left', ''], child);
                            this.addCall(child.setStyle, ['bottom', ''], child);
                            this.addCall(child.setStyle, ['right', '0px'], child);
                            this.addCall(child.setStyle, ['top', '0px'], child);
                            this.setSize(1, size.height, true, duration || .5, null, easing || YAHOO.util.Easing.easeIn);
                            this.setVisible(false);
                            break;
                        case 'r':
                        case 'right':
                            this.addCall(child.setStyle, ['right', ''], child);
                            this.addCall(child.setStyle, ['bottom', ''], child);
                            this.addCall(child.setStyle, ['left', '0px'], child);
                            this.addCall(child.setStyle, ['top', '0px'], child);
                            this.setSize(1, size.height, true, duration || .5, null, easing || YAHOO.util.Easing.easeIn);
                            this.setVisible(false);
                            break;
                        case 'b':
                        case 'bottom':
                            this.addCall(child.setStyle, ['right', ''], child);
                            this.addCall(child.setStyle, ['top', '0px'], child);
                            this.addCall(child.setStyle, ['left', '0px'], child);
                            this.addCall(child.setStyle, ['bottom', ''], child);
                            this.setSize(size.width, 1, true, duration || .5, null, easing || YAHOO.util.Easing.easeIn);
                            this.setVisible(false);
                            break;
                        }
                        this.addCall(child.setPositioning, [pos], child);
                        return size;
                    };
                    YAHOO.ext.Actor.prototype.squish = function (duration) {
                        var size = this.getSize();
                        this.clip();
                        this.setSize(1, 1, true, duration || .5);
                        this.setVisible(false);
                        return size;
                    };
                    YAHOO.ext.Actor.prototype.appear = function (duration) {
                        this.setVisible(true, true, duration);
                    };
                    YAHOO.ext.Actor.prototype.fade = function (duration) {
                        this.setVisible(false, true, duration);
                    };
                    YAHOO.ext.Actor.prototype.switchOff = function (duration) {
                        this.clip();
                        this.setVisible(false, true, .1);
                        this.clearOpacity();
                        this.setVisible(true);
                        this.animate({
                            height: {
                                to: 1
                            },
                            points: {
                                by: [0, this.getHeight() / 2]
                            }
                        }, duration || .5, null, YAHOO.util.Easing.easeOut, YAHOO.util.Motion);
                        this.setVisible(false);
                    };
                    YAHOO.ext.Actor.prototype.highlight = function (color, fromColor, duration, attribute) {
                        attribute = attribute || 'background-color';
                        var original = this.getStyle(attribute);
                        fromColor = fromColor || ((original && original != '' && original != 'transparent') ? original : '#FFFFFF');
                        var cfg = {};
                        cfg[attribute] = {
                            to: color,
                            from: fromColor
                        };
                        this.setVisible(true);
                        this.animate(cfg, duration || .5, null, YAHOO.util.Easing.bounceOut, YAHOO.util.ColorAnim);
                        this.setStyle(attribute, original);
                    };
                    YAHOO.ext.Actor.prototype.pulsate = function (count, duration) {
                        count = count || 3;
                        for (var i = 0; i < count; i++) {
                            this.toggle(true, duration || .25);
                            this.toggle(true, duration || .25);
                        }
                    };
                    YAHOO.ext.Actor.prototype.dropOut = function (duration) {
                        this.animate({
                            opacity: {
                                to: 0
                            },
                            points: {
                                by: [0, this.getHeight()]
                            }
                        }, duration || .5, null, YAHOO.util.Easing.easeIn, YAHOO.util.Motion);
                        this.setVisible(false);
                    };
                    YAHOO.ext.Actor.prototype.moveOut = function (anchor, duration, easing) {
                        var Y = YAHOO.util;
                        var vw = Y.Dom.getViewportWidth();
                        var vh = Y.Dom.getViewportHeight();
                        var cpoints = this.getCenterXY()
                        var centerX = cpoints[0];
                        var centerY = cpoints[1];
                        var anchor = anchor.toLowerCase();
                        var p;
                        switch (anchor) {
                        case 't':
                        case 'top':
                            p = [centerX, - this.getHeight()];
                            break;
                        case 'l':
                        case 'left':
                            p = [-this.getWidth(), centerY];
                            break;
                        case 'r':
                        case 'right':
                            p = [vw + this.getWidth(), centerY];
                            break;
                        case 'b':
                        case 'bottom':
                            p = [centerX, vh + this.getHeight()];
                            break;
                        case 'tl':
                        case 'top-left':
                            p = [-this.getWidth(), - this.getHeight()];
                            break;
                        case 'bl':
                        case 'bottom-left':
                            p = [-this.getWidth(), vh + this.getHeight()];
                            break;
                        case 'br':
                        case 'bottom-right':
                            p = [vw + this.getWidth(), vh + this.getHeight()];
                            break;
                        case 'tr':
                        case 'top-right':
                            p = [vw + this.getWidth(), - this.getHeight()];
                            break;
                        }
                        this.moveTo(p[0], p[1], true, duration || .35, null, easing || Y.Easing.easeIn);
                        this.setVisible(false);
                    };
                    YAHOO.ext.Actor.prototype.moveIn = function (anchor, to, duration, easing) {
                        to = to || this.getCenterXY();
                        this.moveOut(anchor, .01);
                        this.setVisible(true);
                        this.setXY(to, true, duration || .35, null, easing || YAHOO.util.Easing.easeOut);
                    };
                    YAHOO.ext.Actor.prototype.frame = function (color, count, duration) {
                        color = color || "red";
                        count = count || 3;
                        duration = duration || .5;
                        var frameFn = function (callback) {
                            var box = this.getBox();
                            var animFn = function () {
                                var proxy = this.createProxy({
                                    tag: "div",
                                    style: {
                                        visbility: "hidden",
                                        position: "absolute",
                                        'z-index': "35000",
                                        border: "0px solid " + color
                                    }
                                });
                                var scale = proxy.isBorderBox() ? 2 : 1;
                                proxy.animate({
                                    top: {
                                        from: box.y,
                                        to: box.y - 20
                                    },
                                    left: {
                                        from: box.x,
                                        to: box.x - 20
                                    },
                                    borderWidth: {
                                        from: 0,
                                        to: 10
                                    },
                                    opacity: {
                                        from: 1,
                                        to: 0
                                    },
                                    height: {
                                        from: box.height,
                                        to: (box.height + (20 * scale))
                                    },
                                    width: {
                                        from: box.width,
                                        to: (box.width + (20 * scale))
                                    }
                                }, duration, function () {
                                    proxy.remove();
                                });
                                if (--count > 0) {
                                    animFn.defer((duration / 2) * 1000, this);
                                } else {
                                    if (typeof callback == 'function') {
                                        callback();
                                    }
                                }
                            }
                            animFn.call(this);
                        }
                        this.addAsyncCall(frameFn, 0, null, this);
                    };
                    YAHOO.ext.Actor.Action = function (actor, method, args) {
                        this.actor = actor;
                        this.method = method;
                        this.args = args;
                    }
                    YAHOO.ext.Actor.Action.prototype = {
                        play: function (onComplete) {
                            this.method.apply(this.actor || window, this.args);
                            onComplete();
                        }
                    };
                    YAHOO.ext.Actor.AsyncAction = function (actor, method, args, onIndex) {
                        YAHOO.ext.Actor.AsyncAction.superclass.constructor.call(this, actor, method, args);
                        this.onIndex = onIndex;
                        this.originalCallback = this.args[onIndex];
                    }
                    YAHOO.extendX(YAHOO.ext.Actor.AsyncAction, YAHOO.ext.Actor.Action);
                    YAHOO.ext.Actor.AsyncAction.prototype.play = function (onComplete) {
                        var callbackArg = this.originalCallback ? this.originalCallback.createSequence(onComplete) : onComplete;
                        this.args[this.onIndex] = callbackArg;
                        this.method.apply(this.actor, this.args);
                    };
                    YAHOO.ext.Actor.PauseAction = function (seconds) {
                        this.seconds = seconds;
                    };
                    YAHOO.ext.Actor.PauseAction.prototype = {
                        play: function (onComplete) {
                            setTimeout(onComplete, this.seconds * 1000);
                        }
                    };
                    YAHOO.ext.Animator = function () {
                        this.actors = [];
                        this.playlist = new YAHOO.ext.Animator.AnimSequence();
                        this.captureDelegate = this.capture.createDelegate(this);
                        this.playDelegate = this.play.createDelegate(this);
                        this.syncing = false;
                        this.stopping = false;
                        this.playing = false;
                        for (var i = 0; i < arguments.length; i++) {
                            this.addActor(arguments[i]);
                        }
                    };
                    YAHOO.ext.Animator.prototype = {
                        capture: function (actor, action) {
                            if (this.syncing) {
                                if (!this.syncMap[actor.id]) {
                                    this.syncMap[actor.id] = new YAHOO.ext.Animator.AnimSequence();
                                }
                                this.syncMap[actor.id].add(action);
                            } else {
                                this.playlist.add(action);
                            }
                        },
                        addActor: function (actor) {
                            actor.onCapture.subscribe(this.captureDelegate);
                            this.actors.push(actor);
                        },
                        startCapture: function (clearPlaylist) {
                            for (var i = 0; i < this.actors.length; i++) {
                                var a = this.actors[i];
                                if (!this.isCapturing(a)) {
                                    a.onCapture.subscribe(this.captureDelegate);
                                }
                                a.capturing = true;
                            }
                            if (clearPlaylist) {
                                this.playlist = new YAHOO.ext.Animator.AnimSequence();
                            }
                        },
                        isCapturing: function (actor) {
                            var subscribers = actor.onCapture.subscribers;
                            if (subscribers) {
                                for (var i = 0; i < subscribers.length; i++) {
                                    if (subscribers[i] && subscribers[i].contains(this.captureDelegate)) {
                                        return true;
                                    }
                                }
                            }
                            return false;
                        },
                        stopCapture: function () {
                            for (var i = 0; i < this.actors.length; i++) {
                                var a = this.actors[i];
                                a.onCapture.unsubscribe(this.captureDelegate);
                                a.capturing = false;
                            }
                        },
                        beginSync: function () {
                            this.syncing = true;
                            this.syncMap = {};
                        },
                        endSync: function () {
                            this.syncing = false;
                            var composite = new YAHOO.ext.Animator.CompositeSequence();
                            for (key in this.syncMap) {
                                if (typeof this.syncMap[key] != 'function') {
                                    composite.add(this.syncMap[key]);
                                }
                            }
                            this.playlist.add(composite);
                            this.syncMap = null;
                        },
                        play: function (oncomplete) {
                            if (this.playing) return;
                            this.stopCapture();
                            this.playlist.play(oncomplete);
                        },
                        stop: function () {
                            this.playlist.stop();
                        },
                        isPlaying: function () {
                            return this.playlist.isPlaying();
                        },
                        clear: function () {
                            this.playlist = new YAHOO.ext.Animator.AnimSequence();
                        },
                        addCall: function (fcn, args, scope) {
                            this.playlist.add(new YAHOO.ext.Actor.Action(scope, fcn, args || []));
                        },
                        addAsyncCall: function (fcn, callbackIndex, args, scope) {
                            this.playlist.add(new YAHOO.ext.Actor.AsyncAction(scope, fcn, args || [], callbackIndex));
                        },
                        pause: function (seconds) {
                            this.playlist.add(new YAHOO.ext.Actor.PauseAction(seconds));
                        }
                    };
                    YAHOO.ext.Animator.select = function (selector) {
                        var els;
                        if (typeof selector == 'string') {
                            els = YAHOO.ext.Element.selectorFunction(selector);
                        } else if (selector instanceof Array) {
                            els = selector;
                        } else {
                            throw 'Invalid selector';
                        }
                        return new YAHOO.ext.AnimatorComposite(els);
                    };
                    var getActors = YAHOO.ext.Animator.select;
                    YAHOO.ext.AnimatorComposite = function (els) {
                        this.animator = new YAHOO.ext.Animator();
                        this.addElements(els);
                        this.syncAnims = true;
                    };
                    YAHOO.ext.AnimatorComposite.prototype = {
                        isComposite: true,
                        addElements: function (els) {
                            if (!els) return this;
                            var anim = this.animator;
                            for (var i = 0, len = els.length; i < len; i++) {
                                anim.addActor(new YAHOO.ext.Actor(els[i]));
                            }
                            anim.startCapture();
                            return this;
                        },
                        sequence: function () {
                            this.syncAnims = false;
                            return this;
                        },
                        sync: function () {
                            this.syncAnims = true;
                            return this;
                        },
                        invoke: function (fn, args) {
                            var els = this.animator.actors;
                            if (this.syncAnims) this.animator.beginSync();
                            for (var i = 0, len = els.length; i < len; i++) {
                                YAHOO.ext.Actor.prototype[fn].apply(els[i], args);
                            }
                            if (this.syncAnims) this.animator.endSync();
                            return this;
                        },
                        play: function (callback) {
                            this.animator.play(callback);
                            return this;
                        },
                        reset: function (callback) {
                            this.animator.startCapture(true);
                            return this;
                        },
                        pause: function (seconds) {
                            this.animator.pause(seconds);
                            return this;
                        },
                        getAnimator: function () {
                            return this.animator;
                        },
                        each: function (fn, scope) {
                            var els = this.animator.actors;
                            if (this.syncAnims) this.animator.beginSync();
                            for (var i = 0, len = els.length; i < len; i++) {
                                fn.call(scope || els[i], els[i], this, i);
                            }
                            if (this.syncAnims) this.animator.endSync();
                            return this;
                        },
                        addCall: function (fcn, args, scope) {
                            this.animator.addCall(fcn, args, scope);
                            return this;
                        },
                        addAsyncCall: function (fcn, callbackIndex, args, scope) {
                            this.animator.addAsyncCall(fcn, callbackIndex, args, scope);
                            return this;
                        }
                    };
                    for (var fnName in YAHOO.ext.Actor.prototype) {
                        if (typeof YAHOO.ext.Actor.prototype[fnName] == 'function') {
                            YAHOO.ext.CompositeElement.createCall(YAHOO.ext.AnimatorComposite.prototype, fnName);
                        }
                    }
                    YAHOO.ext.Animator.AnimSequence = function () {
                        this.actions = [];
                        this.nextDelegate = this.next.createDelegate(this);
                        this.playDelegate = this.play.createDelegate(this);
                        this.oncomplete = null;
                        this.playing = false;
                        this.stopping = false;
                        this.actionIndex = -1;
                    };
                    YAHOO.ext.Animator.AnimSequence.prototype = {
                        add: function (action) {
                            this.actions.push(action);
                        },
                        next: function () {
                            if (this.stopping) {
                                this.playing = false;
                                if (this.oncomplete) {
                                    this.oncomplete(this, false);
                                }
                                return;
                            }
                            var nextAction = this.actions[++this.actionIndex];
                            if (nextAction) {
                                nextAction.play(this.nextDelegate);
                            } else {
                                this.playing = false;
                                if (this.oncomplete) {
                                    this.oncomplete(this, true);
                                }
                            }
                        },
                        play: function (oncomplete) {
                            if (this.playing) return;
                            this.oncomplete = oncomplete;
                            this.stopping = false;
                            this.playing = true;
                            this.actionIndex = -1;
                            this.next();
                        },
                        stop: function () {
                            this.stopping = true;
                        },
                        isPlaying: function () {
                            return this.playing;
                        },
                        clear: function () {
                            this.actions = [];
                        },
                        addCall: function (fcn, args, scope) {
                            this.actions.push(new YAHOO.ext.Actor.Action(scope, fcn, args || []));
                        },
                        addAsyncCall: function (fcn, callbackIndex, args, scope) {
                            this.actions.push(new YAHOO.ext.Actor.AsyncAction(scope, fcn, args || [], callbackIndex));
                        },
                        pause: function (seconds) {
                            this.actions.push(new YAHOO.ext.Actor.PauseAction(seconds));
                        }
                    };
                    YAHOO.ext.Animator.CompositeSequence = function () {
                        this.sequences = [];
                        this.completed = 0;
                        this.trackDelegate = this.trackCompletion.createDelegate(this);
                    }
                    YAHOO.ext.Animator.CompositeSequence.prototype = {
                        add: function (sequence) {
                            this.sequences.push(sequence);
                        },
                        play: function (onComplete) {
                            this.completed = 0;
                            if (this.sequences.length < 1) {
                                if (onComplete) onComplete();
                                return;
                            }
                            this.onComplete = onComplete;
                            for (var i = 0; i < this.sequences.length; i++) {
                                this.sequences[i].play(this.trackDelegate);
                            }
                        },
                        trackCompletion: function () {
                            ++this.completed;
                            if (this.completed >= this.sequences.length && this.onComplete) {
                                this.onComplete();
                            }
                        },
                        stop: function () {
                            for (var i = 0; i < this.sequences.length; i++) {
                                this.sequences[i].stop();
                            }
                        },
                        isPlaying: function () {
                            for (var i = 0; i < this.sequences.length; i++) {
                                if (this.sequences[i].isPlaying()) {
                                    return true;
                                }
                            }
                            return false;
                        }
                    };
                    if (YAHOO.util.DragDrop) {
                        YAHOO.ext.dd.Registry = function () {
                            var elements = {};
                            var handles = {};
                            var autoIdSeed = 0;
                            var doc = document;
                            var getId = function (el, autogen) {
                                if (typeof el == 'string') {
                                    return el;
                                }
                                var id = el.id;
                                if (!id && autogen !== false) {
                                    id = 'yddgen-' + (++autoIdSeed);
                                    el.id = id;
                                }
                                return id;
                            };
                            return {
                                register: function (el, data) {
                                    data = data || {};
                                    if (typeof el == 'string') {
                                        el = doc.getElementById(el);
                                    }
                                    data.ddel = el;
                                    elements[getId(el)] = data;
                                    if (data.isHandle !== false) {
                                        handles[data.ddel.id] = data;
                                    }
                                    if (data.handles) {
                                        var hs = data.handles;
                                        for (var i = 0, len = hs.length; i < len; i++) {
                                            handles[getId(hs[i])] = data;
                                        }
                                    }
                                },
                                unregister: function (el) {
                                    var id = getId(el, false);
                                    var data = elements[id];
                                    if (data) {
                                        delete elements[id];
                                        if (data.handles) {
                                            var hs = data.handles;
                                            for (var i = 0, len = hs.length; i < len; i++) {
                                                delete handles[getId(hs[i], false)];
                                            }
                                        }
                                    }
                                },
                                getHandle: function (id) {
                                    if (typeof id != 'string') {
                                        id = id.id;
                                    }
                                    return handles[id];
                                },
                                getHandleFromEvent: function (e) {
                                    var t = YAHOO.util.Event.getTarget(e);
                                    return t ? handles[t.id] : null;
                                },
                                getTarget: function (id) {
                                    if (typeof id != 'string') {
                                        id = id.id;
                                    }
                                    return elements[id];
                                },
                                getTargetFromEvent: function (e) {
                                    var t = YAHOO.util.Event.getTarget(e);
                                    return t ? elements[t.id] || handles[t.id] : null;
                                }
                            };
                        }();
                    }
                    if (YAHOO.util.DragDrop) {
                        YAHOO.ext.dd.ScrollManager = function () {
                            var ddm = YAHOO.util.DragDropMgr;
                            var els = {};
                            var dragEl = null;
                            var proc = {};
                            var onStop = function (e) {
                                dragEl = null;
                                clearProc();
                            };
                            var triggerRefresh = function () {
                                if (ddm.dragCurrent) {
                                    ddm.refreshCache(ddm.dragCurrent.groups);
                                }
                            }
                            var doScroll = function () {
                                if (ddm.dragCurrent) {
                                    var dds = YAHOO.ext.dd.ScrollManager;
                                    if (!dds.animate || !YAHOO.util.Scroll) {
                                        if (proc.el.scroll(proc.dir, dds.increment)) {
                                            triggerRefresh();
                                        }
                                    } else {
                                        proc.el.scroll(proc.dir, dds.increment, true, dds.animDuration, triggerRefresh);
                                    }
                                }
                            };
                            var clearProc = function () {
                                if (proc.id) {
                                    clearInterval(proc.id);
                                }
                                proc.id = 0;
                                proc.el = null;
                                proc.dir = '';
                            };
                            var startProc = function (el, dir) {
                                clearProc();
                                proc.el = el;
                                proc.dir = dir;
                                proc.id = setInterval(doScroll, YAHOO.ext.dd.ScrollManager.frequency);
                            };
                            var onFire = function (e, isDrop) {
                                if (isDrop || !ddm.dragCurrent) {
                                    return;
                                }
                                var dds = YAHOO.ext.dd.ScrollManager;
                                if (!dragEl || dragEl != ddm.dragCurrent) {
                                    dragEl = ddm.dragCurrent;
                                    dds.refreshCache();
                                }
                                var xy = YAHOO.util.Event.getXY(e);
                                var pt = new YAHOO.util.Point(xy[0], xy[1]);
                                for (var id in els) {
                                    var el = els[id],
                                        r = el._region;
                                    if (r.contains(pt) && el.isScrollable()) {
                                        if (r.bottom - pt.y <= dds.thresh) {
                                            if (proc.el != el) {
                                                startProc(el, 'down');
                                            }
                                            return;
                                        } else if (r.right - pt.x <= dds.thresh) {
                                            if (proc.el != el) {
                                                startProc(el, 'left');
                                            }
                                            return;
                                        } else if (pt.y - r.top <= dds.thresh) {
                                            if (proc.el != el) {
                                                startProc(el, 'up');
                                            }
                                            return;
                                        } else if (pt.x - r.left <= dds.thresh) {
                                            if (proc.el != el) {
                                                startProc(el, 'right');
                                            }
                                            return;
                                        }
                                    }
                                }
                                clearProc();
                            };
                            ddm.fireEvents = ddm.fireEvents.createSequence(onFire, ddm);
                            ddm.stopDrag = ddm.stopDrag.createSequence(onStop, ddm);
                            return {
                                register: function (el) {
                                    if (el instanceof Array) {
                                        for (var i = 0, len = el.length; i < len; i++) {
                                            this.register(el[i]);
                                        }
                                    } else {
                                        el = getEl(el);
                                        els[el.id] = el;
                                    }
                                },
                                unregister: function (el) {
                                    if (el instanceof Array) {
                                        for (var i = 0, len = el.length; i < len; i++) {
                                            this.unregister(el[i]);
                                        }
                                    } else {
                                        el = getEl(el);
                                        delete els[el.id];
                                    }
                                },
                                thresh: 25,
                                increment: 100,
                                frequency: 500,
                                animate: true,
                                animDuration: .4,
                                refreshCache: function () {
                                    for (var id in els) {
                                        els[id]._region = els[id].getRegion();
                                    }
                                }
                            }
                        }();
                    }
                    YAHOO.ext.dd.StatusProxy = function (config) {
                        YAHOO.ext.util.Config.apply(this, config);
                        this.id = this.id || YAHOO.util.Dom.generateId();
                        this.el = new YAHOO.ext.Layer({
                            dh: {
                                id: this.id,
                                tag: 'div',
                                cls: 'ydd-drag-proxy ' + this.dropNotAllowed,
                                children: [{
                                    tag: 'div',
                                    cls: 'ydd-drop-icon'
                                }, {
                                    tag: 'div',
                                    cls: 'ydd-drag-ghost'
                                }]
                            },
                            shadow: !config || config.shadow !== false
                        });
                        this.ghost = getEl(this.el.dom.childNodes[1]);
                        this.dropStatus = this.dropNotAllowed;
                    };
                    YAHOO.ext.dd.StatusProxy.prototype = {
                        dropAllowed: 'ydd-drop-ok',
                        dropNotAllowed: 'ydd-drop-nodrop',
                        setStatus: function (cssClass) {
                            cssClass = cssClass || this.dropNotAllowed;
                            if (this.dropStatus != cssClass) {
                                this.el.replaceClass(this.dropStatus, cssClass);
                                this.dropStatus = cssClass;
                            }
                        },
                        reset: function (clearGhost) {
                            this.el.dom.className = 'ydd-drag-proxy ' + this.dropNotAllowed;
                            this.dropStatus = this.dropNotAllowed;
                            if (clearGhost) {
                                this.ghost.update('');
                            }
                        },
                        update: function (html) {
                            if (typeof html == 'string') {
                                this.ghost.update(html);
                            } else {
                                this.ghost.update('');
                                html.style.margin = '0';
                                this.ghost.dom.appendChild(html);
                            }
                        },
                        getEl: function () {
                            return this.el;
                        },
                        getGhost: function () {
                            return this.ghost;
                        },
                        hide: function (clear) {
                            this.el.hide();
                            if (clear) {
                                this.reset(true);
                            }
                        },
                        stop: function () {
                            if (this.anim && this.anim.isAnimated()) {
                                this.anim.stop();
                            }
                        },
                        show: function () {
                            this.el.show();
                        },
                        sync: function () {
                            this.el.syncLocalXY();
                        },
                        repair: function (xy, callback, scope) {
                            this.callback = callback;
                            this.scope = scope;
                            if (xy && this.animRepair !== false && YAHOO.util.Anim) {
                                this.el.addClass('ydd-drag-repair');
                                this.el.hideUnders(true);
                                if (!this.anim) {
                                    this.anim = new YAHOO.util.Motion(this.el.dom, {}, this.repairDuration || .5, YAHOO.util.Easing.easeOut);
                                    this.anim.onComplete.subscribe(this.afterRepair, this, true);
                                }
                                this.anim.attributes = {
                                    points: {
                                        to: xy
                                    }
                                };
                                this.anim.animate();
                            } else {
                                this.afterRepair();
                            }
                        },
                        afterRepair: function () {
                            this.hide(true);
                            if (typeof this.callback == 'function') {
                                this.callback.call(this.scope || this);
                            }
                            this.callback == null;
                            this.scope == null;
                        }
                    };
                    YAHOO.ext.ContentPanel = function (el, config, content) {
                        YAHOO.ext.ContentPanel.superclass.constructor.call(this);
                        this.el = getEl(el, true);
                        if (!this.el && config && config.autoCreate) {
                            if (typeof config.autoCreate == 'object') {
                                if (!config.autoCreate.id) {
                                    config.autoCreate.id = el;
                                }
                                this.el = YAHOO.ext.DomHelper.append(document.body, config.autoCreate, true);
                            } else {
                                this.el = YAHOO.ext.DomHelper.append(document.body, {
                                    tag: 'div',
                                    cls: 'ylayout-inactive-content',
                                    id: el
                                }, true);
                            }
                        }
                        this.closable = false;
                        this.loaded = false;
                        this.active = false;
                        if (typeof config == 'string') {
                            this.title = config;
                        } else {
                            YAHOO.ext.util.Config.apply(this, config);
                        }
                        if (this.resizeEl) {
                            this.resizeEl = getEl(this.resizeEl, true);
                        } else {
                            this.resizeEl = this.el;
                        }
                        this.events = {
                            'activate': new YAHOO.util.CustomEvent('activate'),
                            'deactivate': new YAHOO.util.CustomEvent('deactivate')
                        };
                        if (this.autoScroll) {
                            this.resizeEl.setStyle('overflow', 'auto');
                        }
                        if (content) {
                            this.setContent(content);
                        }
                    };
                    YAHOO.extendX(YAHOO.ext.ContentPanel, YAHOO.ext.util.Observable, {
                        setRegion: function (region) {
                            this.region = region;
                            if (region) {
                                this.el.replaceClass('ylayout-inactive-content', 'ylayout-active-content');
                            } else {
                                this.el.replaceClass('ylayout-active-content', 'ylayout-inactive-content');
                            }
                        },
                        getToolbar: function () {
                            return this.toolbar;
                        },
                        setActiveState: function (active) {
                            this.active = active;
                            if (!active) {
                                this.fireEvent('deactivate', this);
                            } else {
                                this.fireEvent('activate', this);
                            }
                        },
                        setContent: function (content, loadScripts) {
                            this.el.update(content, loadScripts);
                        },
                        getUpdateManager: function () {
                            return this.el.getUpdateManager();
                        },
                        setUrl: function (url, params, loadOnce) {
                            if (this.refreshDelegate) {
                                this.removeListener('activate', this.refreshDelegate);
                            }
                            this.refreshDelegate = this._handleRefresh.createDelegate(this, [url, params, loadOnce]);
                            this.on('activate', this._handleRefresh.createDelegate(this, [url, params, loadOnce]));
                            return this.el.getUpdateManager();
                        },
                        _handleRefresh: function (url, params, loadOnce) {
                            if (!loadOnce || !this.loaded) {
                                var updater = this.el.getUpdateManager();
                                updater.update(url, params, this._setLoaded.createDelegate(this));
                            }
                        },
                        _setLoaded: function () {
                            this.loaded = true;
                        },
                        getId: function () {
                            return this.el.id;
                        },
                        getEl: function () {
                            return this.el;
                        },
                        adjustForComponents: function (width, height) {
                            if (this.toolbar) {
                                var te = this.toolbar.getEl();
                                height -= te.getHeight();
                                te.setWidth(width);
                            }
                            if (this.adjustments) {
                                width += this.adjustments[0];
                                height += this.adjustments[1];
                            }
                            return {
                                'width': width,
                                'height': height
                            };
                        },
                        setSize: function (width, height) {
                            if (this.fitToFrame) {
                                var size = this.adjustForComponents(width, height);
                                this.resizeEl.setSize(this.autoWidth ? 'auto' : size.width, size.height);
                            }
                        },
                        getTitle: function () {
                            return this.title;
                        },
                        setTitle: function (title) {
                            this.title = title;
                            if (this.region) {
                                this.region.updatePanelTitle(this, title);
                            }
                        },
                        isClosable: function () {
                            return this.closable;
                        },
                        beforeSlide: function () {
                            this.el.clip();
                            this.resizeEl.clip();
                        },
                        afterSlide: function () {
                            this.el.unclip();
                            this.resizeEl.unclip();
                        },
                        refresh: function () {
                            if (this.refreshDelegate) {
                                this.loaded = false;
                                this.refreshDelegate();
                            }
                        },
                        destroy: function () {
                            this.el.removeAllListeners();
                            var tempEl = document.createElement('span');
                            tempEl.appendChild(this.el.dom);
                            tempEl.innerHTML = '';
                            this.el = null;
                        }
                    });
                    YAHOO.ext.GridPanel = function (grid, config) {
                        this.wrapper = YAHOO.ext.DomHelper.append(document.body, {
                            tag: 'div',
                            cls: 'ylayout-grid-wrapper ylayout-inactive-content'
                        }, true);
                        this.wrapper.dom.appendChild(grid.container.dom);
                        YAHOO.ext.GridPanel.superclass.constructor.call(this, this.wrapper, config);
                        if (this.toolbar) {
                            this.toolbar.el.insertBefore(this.wrapper.dom.firstChild);
                        }
                        grid.monitorWindowResize = false;
                        grid.autoHeight = false;
                        grid.autoWidth = false;
                        this.grid = grid;
                        this.grid.container.replaceClass('ylayout-inactive-content', 'ylayout-component-panel');
                    };
                    YAHOO.extendX(YAHOO.ext.GridPanel, YAHOO.ext.ContentPanel, {
                        getId: function () {
                            return this.grid.id;
                        },
                        getGrid: function () {
                            return this.grid;
                        },
                        setSize: function (width, height) {
                            var grid = this.grid;
                            var size = this.adjustForComponents(width, height);
                            grid.container.setSize(size.width, size.height);
                            grid.autoSize();
                        },
                        beforeSlide: function () {
                            this.grid.getView().wrapEl.clip();
                        },
                        afterSlide: function () {
                            this.grid.getView().wrapEl.unclip();
                        },
                        destroy: function () {
                            this.grid.getView().unplugDataModel(this.grid.getDataModel());
                            this.grid.container.removeAllListeners();
                            YAHOO.ext.GridPanel.superclass.destroy.call(this);
                        }
                    });
                    YAHOO.ext.NestedLayoutPanel = function (layout, config) {
                        YAHOO.ext.NestedLayoutPanel.superclass.constructor.call(this, layout.getEl(), config);
                        layout.monitorWindowResize = false;
                        this.layout = layout;
                        this.layout.getEl().addClass('ylayout-nested-layout');
                    };
                    YAHOO.extendX(YAHOO.ext.NestedLayoutPanel, YAHOO.ext.ContentPanel, {
                        setSize: function (width, height) {
                            var size = this.adjustForComponents(width, height);
                            this.layout.getEl().setSize(size.width, size.height);
                            this.layout.layout();
                        },
                        getLayout: function () {
                            return this.layout;
                        }
                    });
                    YAHOO.ext.LayoutManager = function (container) {
                        YAHOO.ext.LayoutManager.superclass.constructor.call(this);
                        this.el = getEl(container, true);
                        if (this.el.dom == document.body && YAHOO.ext.util.Browser.isIE) {
                            document.body.scroll = 'no';
                        }
                        this.id = this.el.id;
                        this.el.addClass('ylayout-container');
                        this.monitorWindowResize = true;
                        this.regions = {};
                        this.events = {
                            'layout': new YAHOO.util.CustomEvent(),
                            'regionresized': new YAHOO.util.CustomEvent(),
                            'regioncollapsed': new YAHOO.util.CustomEvent(),
                            'regionexpanded': new YAHOO.util.CustomEvent()
                        };
                        this.updating = false;
                        YAHOO.ext.EventManager.onWindowResize(this.onWindowResize, this, true);
                    };
                    YAHOO.extendX(YAHOO.ext.LayoutManager, YAHOO.ext.util.Observable, {
                        isUpdating: function () {
                            return this.updating;
                        },
                        beginUpdate: function () {
                            this.updating = true;
                        },
                        endUpdate: function (noLayout) {
                            this.updating = false;
                            if (!noLayout) {
                                this.layout();
                            }
                        },
                        layout: function () {},
                        onRegionResized: function (region, newSize) {
                            this.fireEvent('regionresized', region, newSize);
                            this.layout();
                        },
                        onRegionCollapsed: function (region) {
                            this.fireEvent('regioncollapsed', region);
                        },
                        onRegionExpanded: function (region) {
                            this.fireEvent('regionexpanded', region);
                        },
                        getViewSize: function () {
                            var size;
                            if (this.el.dom != document.body) {
                                this.el.beginMeasure();
                                size = this.el.getSize();
                                this.el.endMeasure();
                            } else {
                                size = {
                                    width: YAHOO.util.Dom.getViewportWidth(),
                                    height: YAHOO.util.Dom.getViewportHeight()
                                };
                            }
                            size.width -= this.el.getBorderWidth('lr') - this.el.getPadding('lr');
                            size.height -= this.el.getBorderWidth('tb') - this.el.getPadding('tb');
                            return size;
                        },
                        getEl: function () {
                            return this.el;
                        },
                        getRegion: function (target) {
                            return this.regions[target.toLowerCase()];
                        },
                        onWindowResize: function () {
                            if (this.monitorWindowResize) {
                                this.layout();
                            }
                        }
                    });
                    YAHOO.ext.BorderLayout = function (container, config) {
                        config = config || {};
                        YAHOO.ext.BorderLayout.superclass.constructor.call(this, container);
                        this.factory = config.factory || YAHOO.ext.BorderLayout.RegionFactory;
                        this.hideOnLayout = config.hideOnLayout || false;
                        for (var i = 0, len = this.factory.validRegions.length; i < len; i++) {
                            var target = this.factory.validRegions[i];
                            if (config[target]) {
                                this.addRegion(target, config[target]);
                            }
                        }
                    };
                    YAHOO.extendX(YAHOO.ext.BorderLayout, YAHOO.ext.LayoutManager, {
                        addRegion: function (target, config) {
                            if (!this.regions[target]) {
                                var r = this.factory.create(target, this, config);
                                this.regions[target] = r;
                                r.on('visibilitychange', this.layout, this, true);
                                r.on('paneladded', this.layout, this, true);
                                r.on('panelremoved', this.layout, this, true);
                                r.on('invalidated', this.layout, this, true);
                                r.on('resized', this.onRegionResized, this, true);
                                r.on('collapsed', this.onRegionCollapsed, this, true);
                                r.on('expanded', this.onRegionExpanded, this, true);
                            }
                            return this.regions[target];
                        },
                        layout: function () {
                            if (this.updating) return;
                            var size = this.getViewSize();
                            var w = size.width,
                                h = size.height;
                            var centerW = w,
                                centerH = h,
                                centerY = 0,
                                centerX = 0;
                            var x = 0,
                                y = 0;
                            var rs = this.regions;
                            var n = rs['north'],
                                s = rs['south'],
                                west = rs['west'],
                                e = rs['east'],
                                c = rs['center'];
                            if (this.hideOnLayout) {
                                c.el.setStyle('display', 'none');
                            }
                            if (n && n.isVisible()) {
                                var b = n.getBox();
                                var m = n.getMargins();
                                b.width = w - (m.left + m.right);
                                b.x = m.left;
                                b.y = m.top;
                                centerY = b.height + b.y + m.bottom;
                                centerH -= centerY;
                                n.updateBox(this.safeBox(b));
                            }
                            if (s && s.isVisible()) {
                                var b = s.getBox();
                                var m = s.getMargins();
                                b.width = w - (m.left + m.right);
                                b.x = m.left;
                                var totalHeight = (b.height + m.top + m.bottom);
                                b.y = h - totalHeight + m.top;
                                centerH -= totalHeight;
                                s.updateBox(this.safeBox(b));
                            }
                            if (west && west.isVisible()) {
                                var b = west.getBox();
                                var m = west.getMargins();
                                b.height = centerH - (m.top + m.bottom);
                                b.x = m.left;
                                b.y = centerY + m.top;
                                var totalWidth = (b.width + m.left + m.right);
                                centerX += totalWidth;
                                centerW -= totalWidth;
                                west.updateBox(this.safeBox(b));
                            }
                            if (e && e.isVisible()) {
                                var b = e.getBox();
                                var m = e.getMargins();
                                b.height = centerH - (m.top + m.bottom);
                                var totalWidth = (b.width + m.left + m.right);
                                b.x = w - totalWidth + m.left;
                                b.y = centerY + m.top;
                                centerW -= totalWidth;
                                e.updateBox(this.safeBox(b));
                            }
                            if (c) {
                                var m = c.getMargins();
                                var centerBox = {
                                    x: centerX + m.left,
                                    y: centerY + m.top,
                                    width: centerW - (m.left + m.right),
                                    height: centerH - (m.top + m.bottom)
                                };
                                if (this.hideOnLayout) {
                                    c.el.setStyle('display', 'block');
                                }
                                c.updateBox(this.safeBox(centerBox));
                            }
                            this.el.repaint();
                            this.fireEvent('layout', this);
                        },
                        safeBox: function (box) {
                            box.width = Math.max(0, box.width);
                            box.height = Math.max(0, box.height);
                            return box;
                        },
                        add: function (target, panel) {
                            target = target.toLowerCase();
                            return this.regions[target].add(panel);
                        },
                        remove: function (target, panel) {
                            target = target.toLowerCase();
                            return this.regions[target].remove(panel);
                        },
                        findPanel: function (panelId) {
                            var rs = this.regions;
                            for (var target in rs) {
                                if (typeof rs[target] != 'function') {
                                    var p = rs[target].getPanel(panelId);
                                    if (p) {
                                        return p;
                                    }
                                }
                            }
                            return null;
                        },
                        showPanel: function (panelId) {
                            var rs = this.regions;
                            for (var target in rs) {
                                var r = rs[target];
                                if (typeof r != 'function') {
                                    if (r.hasPanel(panelId)) {
                                        return r.showPanel(panelId);
                                    }
                                }
                            }
                            return null;
                        },
                        restoreState: function (provider) {
                            if (!provider) {
                                provider = YAHOO.ext.state.Manager;
                            }
                            var sm = new YAHOO.ext.LayoutStateManager();
                            sm.init(this, provider);
                        }
                    });
                    YAHOO.ext.BorderLayout.RegionFactory = {};
                    YAHOO.ext.BorderLayout.RegionFactory.validRegions = ['north', 'south', 'east', 'west', 'center'];
                    YAHOO.ext.BorderLayout.RegionFactory.create = function (target, mgr, config) {
                        target = target.toLowerCase();
                        if (config.lightweight || config.basic) {
                            return new YAHOO.ext.BasicLayoutRegion(mgr, config, target);
                        }
                        switch (target) {
                        case 'north':
                            return new YAHOO.ext.NorthLayoutRegion(mgr, config);
                        case 'south':
                            return new YAHOO.ext.SouthLayoutRegion(mgr, config);
                        case 'east':
                            return new YAHOO.ext.EastLayoutRegion(mgr, config);
                        case 'west':
                            return new YAHOO.ext.WestLayoutRegion(mgr, config);
                        case 'center':
                            return new YAHOO.ext.CenterLayoutRegion(mgr, config);
                        }
                        throw 'Layout region "' + target + '" not supported.';
                    };
                    YAHOO.ext.BasicLayoutRegion = function (mgr, config, pos, skipConfig) {
                        this.mgr = mgr;
                        this.position = pos;
                        this.events = {
                            'beforeremove': true,
                            'invalidated': true,
                            'visibilitychange': true,
                            'paneladded': true,
                            'panelremoved': true,
                            'collapsed': true,
                            'expanded': true,
                            'panelactivated': true,
                            'resized': true
                        };
                        this.panels = new YAHOO.ext.util.MixedCollection();
                        this.panels.getKey = this.getPanelId.createDelegate(this);
                        this.box = null;
                        this.activePanel = null;
                        if (skipConfig !== true) {
                            this.applyConfig(config);
                        }
                    };
                    YAHOO.extendX(YAHOO.ext.BasicLayoutRegion, YAHOO.ext.util.Observable, {
                        getPanelId: function (p) {
                            return p.getId();
                        },
                        applyConfig: function (config) {
                            this.margins = config.margins || this.margins || {
                                top: 0,
                                left: 0,
                                right: 0,
                                bottom: 0
                            };
                            this.config = config;
                        },
                        resizeTo: function (newSize) {
                            if (this.activePanel) {
                                var el = this.activePanel.getEl();
                                switch (this.position) {
                                case 'east':
                                case 'west':
                                    el.setWidth(newSize);
                                    this.fireEvent('resized', this, newSize);
                                    break;
                                case 'north':
                                case 'south':
                                    el.setHeight(newSize);
                                    this.fireEvent('resized', this, newSize);
                                    break;
                                }
                            }
                        },
                        getBox: function () {
                            return this.activePanel ? this.activePanel.getEl().getBox(false, true) : null;
                        },
                        getMargins: function () {
                            return this.margins;
                        },
                        updateBox: function (box) {
                            this.box = box;
                            var el = this.activePanel.getEl();
                            el.dom.style.left = box.x + 'px';
                            el.dom.style.top = box.y + 'px';
                            el.setSize(box.width, box.height);
                        },
                        getEl: function () {
                            return this.activePanel;
                        },
                        isVisible: function () {
                            return this.activePanel ? true : false;
                        },
                        setActivePanel: function (panel) {
                            panel = this.getPanel(panel);
                            if (this.activePanel && this.activePanel != panel) {
                                this.activePanel.setActiveState(false);
                                this.activePanel.getEl().setStyle({
                                    left: -10000,
                                    right: -10000
                                });
                            }
                            this.activePanel = panel;
                            panel.setActiveState(true);
                            if (this.box) {
                                panel.setSize(this.box.width, this.box.height);
                            }
                            this.fireEvent('panelactivated', this, panel);
                            this.fireEvent('invalidated');
                        },
                        showPanel: function (panel) {
                            if (panel = this.getPanel(panel)) {
                                this.setActivePanel(panel);
                            }
                            return panel;
                        },
                        getActivePanel: function () {
                            return this.activePanel;
                        },
                        add: function (panel) {
                            if (arguments.length > 1) {
                                for (var i = 0, len = arguments.length; i < len; i++) {
                                    this.add(arguments[i]);
                                }
                                return null;
                            }
                            if (this.hasPanel(panel)) {
                                this.showPanel(panel);
                                return panel;
                            }
                            panel.setRegion(this);
                            this.panels.add(panel);
                            panel.getEl().setStyle('position', 'absolute');
                            if (!panel.background) {
                                this.setActivePanel(panel);
                                if (this.config.initialSize && this.panels.getCount() == 1) {
                                    this.resizeTo(this.config.initialSize);
                                }
                            }
                            this.fireEvent('paneladded', this, panel);
                            return panel;
                        },
                        hasPanel: function (panel) {
                            if (typeof panel == 'object') {
                                panel = panel.getId();
                            }
                            return this.getPanel(panel) ? true : false;
                        },
                        remove: function (panel, preservePanel) {
                            panel = this.getPanel(panel);
                            if (!panel) {
                                return null;
                            }
                            var e = {};
                            this.fireEvent('beforeremove', this, panel, e);
                            if (e.cancel === true) {
                                return null;
                            }
                            var panelId = panel.getId();
                            this.panels.removeKey(panelId);
                            return panel;
                        },
                        getPanel: function (id) {
                            if (typeof id == 'object') {
                                return id;
                            }
                            return this.panels.get(id);
                        },
                        getPosition: function () {
                            return this.position;
                        }
                    });
                    YAHOO.ext.LayoutRegion = function (mgr, config, pos) {
                        YAHOO.ext.LayoutRegion.superclass.constructor.call(this, mgr, config, pos, true);
                        var dh = YAHOO.ext.DomHelper;
                        this.el = dh.append(mgr.el.dom, {
                            tag: 'div',
                            cls: 'ylayout-panel ylayout-panel-' + this.position
                        }, true);
                        this.titleEl = dh.append(this.el.dom, {
                            tag: 'div',
                            unselectable: 'on',
                            cls: 'yunselectable ylayout-panel-hd ylayout-title-' + this.position,
                            children: [{
                                tag: 'span',
                                cls: 'yunselectable ylayout-panel-hd-text',
                                unselectable: 'on',
                                html: '&#160;'
                            }, {
                                tag: 'div',
                                cls: 'yunselectable ylayout-panel-hd-tools',
                                unselectable: 'on'
                            }]
                        }, true);
                        this.titleEl.enableDisplayMode();
                        this.titleTextEl = this.titleEl.dom.firstChild;
                        this.tools = getEl(this.titleEl.dom.childNodes[1], true);
                        this.closeBtn = this.createTool(this.tools.dom, 'ylayout-close');
                        this.closeBtn.enableDisplayMode();
                        this.closeBtn.on('click', this.closeClicked, this, true);
                        this.closeBtn.hide();
                        this.bodyEl = dh.append(this.el.dom, {
                            tag: 'div',
                            cls: 'ylayout-panel-body'
                        }, true);
                        this.visible = false;
                        this.collapsed = false;
                        this.hide();
                        this.on('paneladded', this.validateVisibility, this, true);
                        this.on('panelremoved', this.validateVisibility, this, true);
                        this.applyConfig(config);
                    };
                    YAHOO.extendX(YAHOO.ext.LayoutRegion, YAHOO.ext.BasicLayoutRegion, {
                        applyConfig: function (config) {
                            if (config.collapsible && this.position != 'center' && !this.collapsedEl) {
                                var dh = YAHOO.ext.DomHelper;
                                this.collapseBtn = this.createTool(this.tools.dom, 'ylayout-collapse-' + this.position);
                                this.collapseBtn.mon('click', this.collapse, this, true);
                                this.collapsedEl = dh.append(this.mgr.el.dom, {
                                    tag: 'div',
                                    cls: 'ylayout-collapsed ylayout-collapsed-' + this.position,
                                    children: [{
                                        tag: 'div',
                                        cls: 'ylayout-collapsed-tools'
                                    }]
                                }, true);
                                if (config.floatable !== false) {
                                    this.collapsedEl.addClassOnOver('ylayout-collapsed-over');
                                    this.collapsedEl.mon('click', this.collapseClick, this, true);
                                }
                                this.expandBtn = this.createTool(this.collapsedEl.dom.firstChild, 'ylayout-expand-' + this.position);
                                this.expandBtn.mon('click', this.expand, this, true);
                            }
                            if (this.collapseBtn) {
                                this.collapseBtn.setVisible(config.collapsible == true);
                            }
                            this.cmargins = config.cmargins || this.cmargins || (this.position == 'west' || this.position == 'east' ? {
                                top: 0,
                                left: 2,
                                right: 2,
                                bottom: 0
                            } : {
                                top: 2,
                                left: 0,
                                right: 0,
                                bottom: 2
                            });
                            this.margins = config.margins || this.margins || {
                                top: 0,
                                left: 0,
                                right: 0,
                                bottom: 0
                            };
                            this.bottomTabs = config.tabPosition != 'top';
                            this.autoScroll = config.autoScroll || false;
                            if (this.autoScroll) {
                                this.bodyEl.setStyle('overflow', 'auto');
                            } else {
                                this.bodyEl.setStyle('overflow', 'hidden');
                            }
                            if ((!config.titlebar && !config.title) || config.titlebar === false) {
                                this.titleEl.hide();
                            } else {
                                this.titleEl.show();
                                if (config.title) {
                                    this.titleTextEl.innerHTML = config.title;
                                }
                            }
                            this.duration = config.duration || .30;
                            this.slideDuration = config.slideDuration || .45;
                            this.config = config;
                            if (config.collapsed) {
                                this.collapse(true);
                            }
                        },
                        isVisible: function () {
                            return this.visible;
                        },
                        getBox: function () {
                            var b;
                            if (!this.collapsed) {
                                b = this.el.getBox(false, true);
                            } else {
                                b = this.collapsedEl.getBox(false, true);
                            }
                            return b;
                        },
                        getMargins: function () {
                            return this.collapsed ? this.cmargins : this.margins;
                        },
                        highlight: function () {
                            this.el.addClass('ylayout-panel-dragover');
                        },
                        unhighlight: function () {
                            this.el.removeClass('ylayout-panel-dragover');
                        },
                        updateBox: function (box) {
                            this.box = box;
                            if (!this.collapsed) {
                                this.el.dom.style.left = box.x + 'px';
                                this.el.dom.style.top = box.y + 'px';
                                this.el.setSize(box.width, box.height);
                                var bodyHeight = this.titleEl.isVisible() ? box.height - (this.titleEl.getHeight() || 0) : box.height;
                                bodyHeight -= this.el.getBorderWidth('tb');
                                bodyWidth = box.width - this.el.getBorderWidth('rl');
                                this.bodyEl.setHeight(bodyHeight);
                                this.bodyEl.setWidth(bodyWidth);
                                var tabHeight = bodyHeight;
                                if (this.tabs) {
                                    tabHeight = this.tabs.syncHeight(bodyHeight);
                                    if (YAHOO.ext.util.Browser.isIE) this.tabs.el.repaint();
                                }
                                this.panelSize = {
                                    width: bodyWidth,
                                    height: tabHeight
                                };
                                if (this.activePanel) {
                                    this.activePanel.setSize(bodyWidth, tabHeight);
                                }
                            } else {
                                this.collapsedEl.dom.style.left = box.x + 'px';
                                this.collapsedEl.dom.style.top = box.y + 'px';
                                this.collapsedEl.setSize(box.width, box.height);
                            }
                            if (this.tabs) {
                                this.tabs.autoSizeTabs();
                            }
                        },
                        getEl: function () {
                            return this.el;
                        },
                        hide: function () {
                            if (!this.collapsed) {
                                this.el.dom.style.left = '-2000px';
                                this.el.hide();
                            } else {
                                this.collapsedEl.dom.style.left = '-2000px';
                                this.collapsedEl.hide();
                            }
                            this.visible = false;
                            this.fireEvent('visibilitychange', this, false);
                        },
                        show: function () {
                            if (!this.collapsed) {
                                this.el.show();
                            } else {
                                this.collapsedEl.show();
                            }
                            this.visible = true;
                            this.fireEvent('visibilitychange', this, true);
                        },
                        closeClicked: function () {
                            if (this.activePanel) {
                                this.remove(this.activePanel);
                            }
                        },
                        collapseClick: function (e) {
                            if (this.isSlid) {
                                e.stopPropagation();
                                this.slideIn();
                            } else {
                                e.stopPropagation();
                                this.slideOut();
                            }
                        },
                        collapse: function (skipAnim) {
                            if (this.collapsed) return;
                            this.collapsed = true;
                            if (this.split) {
                                this.split.el.hide();
                            }
                            if (this.config.animate && skipAnim !== true) {
                                this.fireEvent('invalidated', this);
                                this.animateCollapse();
                            } else {
                                this.el.setLocation(-20000, - 20000);
                                this.el.hide();
                                this.collapsedEl.show();
                                this.fireEvent('collapsed', this);
                                this.fireEvent('invalidated', this);
                            }
                        },
                        animateCollapse: function () {},
                        expand: function (e, skipAnim) {
                            if (e) e.stopPropagation();
                            if (!this.collapsed) return;
                            if (this.isSlid) {
                                this.slideIn(this.expand.createDelegate(this));
                                return;
                            }
                            this.collapsed = false;
                            this.el.show();
                            if (this.config.animate && skipAnim !== true) {
                                this.animateExpand();
                            } else {
                                if (this.split) {
                                    this.split.el.show();
                                }
                                this.collapsedEl.setLocation(-2000, - 2000);
                                this.collapsedEl.hide();
                                this.fireEvent('invalidated', this);
                                this.fireEvent('expanded', this);
                            }
                        },
                        animateExpand: function () {},
                        initTabs: function () {
                            this.bodyEl.setStyle('overflow', 'hidden');
                            var ts = new YAHOO.ext.TabPanel(this.bodyEl.dom, this.bottomTabs);
                            if (this.config.hideTabs) {
                                ts.stripWrap.setDisplayed(false);
                            }
                            this.tabs = ts;
                            ts.resizeTabs = this.config.resizeTabs === true;
                            ts.minTabWidth = this.config.minTabWidth || 40;
                            ts.maxTabWidth = this.config.maxTabWidth || 250;
                            ts.preferredTabWidth = this.config.preferredTabWidth || 150;
                            ts.monitorResize = false;
                            ts.bodyEl.setStyle('overflow', this.config.autoScroll ? 'auto' : 'hidden');
                            this.panels.each(this.initPanelAsTab, this);
                        },
                        initPanelAsTab: function (panel) {
                            var ti = this.tabs.addTab(panel.getEl().id, panel.getTitle(), null, this.config.closeOnTab && panel.isClosable());
                            ti.on('activate', function () {
                                this.setActivePanel(panel);
                            }, this, true);
                            if (this.config.closeOnTab) {
                                ti.on('beforeclose', function (t, e) {
                                    e.cancel = true;
                                    this.remove(panel);
                                }, this, true);
                            }
                            return ti;
                        },
                        updatePanelTitle: function (panel, title) {
                            if (this.activePanel == panel) {
                                this.updateTitle(title);
                            }
                            if (this.tabs) {
                                this.tabs.getTab(panel.getEl().id).setText(title);
                            }
                        },
                        updateTitle: function (title) {
                            if (this.titleTextEl && !this.config.title) {
                                this.titleTextEl.innerHTML = (typeof title != 'undefined' && title.length > 0 ? title : "&#160;");
                            }
                        },
                        setActivePanel: function (panel) {
                            panel = this.getPanel(panel);
                            if (this.activePanel && this.activePanel != panel) {
                                this.activePanel.setActiveState(false);
                            }
                            this.activePanel = panel;
                            panel.setActiveState(true);
                            if (this.panelSize) {
                                panel.setSize(this.panelSize.width, this.panelSize.height);
                            }
                            this.closeBtn.setVisible(!this.config.closeOnTab && !this.isSlid && panel.isClosable());
                            this.updateTitle(panel.getTitle());
                            this.fireEvent('panelactivated', this, panel);
                        },
                        showPanel: function (panel) {
                            if (panel = this.getPanel(panel)) {
                                if (this.tabs) {
                                    this.tabs.activate(panel.getEl().id);
                                } else {
                                    this.setActivePanel(panel);
                                }
                            }
                            return panel;
                        },
                        getActivePanel: function () {
                            return this.activePanel;
                        },
                        validateVisibility: function () {
                            if (this.panels.getCount() < 1) {
                                this.updateTitle('&#160;');
                                this.closeBtn.hide();
                                this.hide();
                            } else {
                                if (!this.isVisible()) {
                                    this.show();
                                }
                            }
                        },
                        add: function (panel) {
                            if (arguments.length > 1) {
                                for (var i = 0, len = arguments.length; i < len; i++) {
                                    this.add(arguments[i]);
                                }
                                return null;
                            }
                            if (this.hasPanel(panel)) {
                                this.showPanel(panel);
                                return panel;
                            }
                            panel.setRegion(this);
                            this.panels.add(panel);
                            if (this.panels.getCount() == 1 && !this.config.alwaysShowTabs) {
                                this.bodyEl.dom.appendChild(panel.getEl().dom);
                                if (panel.background !== true) {
                                    this.setActivePanel(panel);
                                }
                                this.fireEvent('paneladded', this, panel);
                                return panel;
                            }
                            if (!this.tabs) {
                                this.initTabs();
                            } else {
                                this.initPanelAsTab(panel);
                            }
                            if (panel.background !== true) {
                                this.tabs.activate(panel.getEl().id);
                            }
                            this.fireEvent('paneladded', this, panel);
                            return panel;
                        },
                        hidePanel: function (panel) {
                            if (this.tabs && (panel = this.getPanel(panel))) {
                                this.tabs.hideTab(panel.getEl().id);
                            }
                        },
                        unhidePanel: function (panel) {
                            if (this.tabs && (panel = this.getPanel(panel))) {
                                this.tabs.unhideTab(panel.getEl().id);
                            }
                        },
                        clearPanels: function () {
                            while (this.panels.getCount() > 0) {
                                this.remove(this.panels.first());
                            }
                        },
                        remove: function (panel, preservePanel) {
                            panel = this.getPanel(panel);
                            if (!panel) {
                                return null;
                            }
                            var e = {};
                            this.fireEvent('beforeremove', this, panel, e);
                            if (e.cancel === true) {
                                return null;
                            }
                            preservePanel = (typeof preservePanel != 'undefined' ? preservePanel : (this.config.preservePanels === true || panel.preserve === true));
                            var panelId = panel.getId();
                            this.panels.removeKey(panelId);
                            if (preservePanel) {
                                document.body.appendChild(panel.getEl().dom);
                            }
                            if (this.tabs) {
                                this.tabs.removeTab(panel.getEl().id);
                            } else if (!preservePanel) {
                                this.bodyEl.dom.removeChild(panel.getEl().dom);
                            }
                            if (this.panels.getCount() == 1 && this.tabs && !this.config.alwaysShowTabs) {
                                var p = this.panels.first();
                                var tempEl = document.createElement('span');
                                tempEl.appendChild(p.getEl().dom);
                                this.bodyEl.update('');
                                this.bodyEl.dom.appendChild(p.getEl().dom);
                                tempEl = null;
                                this.updateTitle(p.getTitle());
                                this.tabs = null;
                                this.bodyEl.setStyle('overflow', this.config.autoScroll ? 'auto' : 'hidden');
                                this.setActivePanel(p);
                            }
                            panel.setRegion(null);
                            if (this.activePanel == panel) {
                                this.activePanel = null;
                            }
                            if (this.config.autoDestroy !== false && preservePanel !== true) {
                                try {
                                    panel.destroy();
                                } catch (e) {}
                            }
                            this.fireEvent('panelremoved', this, panel);
                            return panel;
                        },
                        getTabs: function () {
                            return this.tabs;
                        },
                        createTool: function (parentEl, className) {
                            var btn = YAHOO.ext.DomHelper.append(parentEl, {
                                tag: 'div',
                                cls: 'ylayout-tools-button',
                                children: [{
                                    tag: 'div',
                                    cls: 'ylayout-tools-button-inner ' + className,
                                    html: '&#160;'
                                }]
                            }, true);
                            btn.addClassOnOver('ylayout-tools-button-over');
                            return btn;
                        }
                    });
                    YAHOO.ext.LayoutStateManager = function (layout) {
                        this.state = {
                            north: {},
                            south: {},
                            east: {},
                            west: {}
                        };
                    };
                    YAHOO.ext.LayoutStateManager.prototype = {
                        init: function (layout, provider) {
                            this.provider = provider;
                            var state = provider.get(layout.id + '-layout-state');
                            if (state) {
                                var wasUpdating = layout.isUpdating();
                                if (!wasUpdating) {
                                    layout.beginUpdate();
                                }
                                for (var key in state) {
                                    if (typeof state[key] != 'function') {
                                        var rstate = state[key];
                                        var r = layout.getRegion(key);
                                        if (r && rstate) {
                                            if (rstate.size) {
                                                r.resizeTo(rstate.size);
                                            }
                                            if (rstate.collapsed == true) {
                                                r.collapse(true);
                                            } else {
                                                r.expand(null, true);
                                            }
                                        }
                                    }
                                }
                                if (!wasUpdating) {
                                    layout.endUpdate();
                                }
                                this.state = state;
                            }
                            this.layout = layout;
                            layout.on('regionresized', this.onRegionResized, this, true);
                            layout.on('regioncollapsed', this.onRegionCollapsed, this, true);
                            layout.on('regionexpanded', this.onRegionExpanded, this, true);
                        },
                        storeState: function () {
                            this.provider.set(this.layout.id + '-layout-state', this.state);
                        },
                        onRegionResized: function (region, newSize) {
                            this.state[region.getPosition()].size = newSize;
                            this.storeState();
                        },
                        onRegionCollapsed: function (region) {
                            this.state[region.getPosition()].collapsed = true;
                            this.storeState();
                        },
                        onRegionExpanded: function (region) {
                            this.state[region.getPosition()].collapsed = false;
                            this.storeState();
                        }
                    };
                    YAHOO.ext.SplitLayoutRegion = function (mgr, config, pos, cursor) {
                        this.cursor = cursor;
                        YAHOO.ext.SplitLayoutRegion.superclass.constructor.call(this, mgr, config, pos);
                        if (config.split) {
                            this.hide();
                        }
                    };
                    YAHOO.extendX(YAHOO.ext.SplitLayoutRegion, YAHOO.ext.LayoutRegion, {
                        applyConfig: function (config) {
                            YAHOO.ext.SplitLayoutRegion.superclass.applyConfig.call(this, config);
                            if (config.split) {
                                if (!this.split) {
                                    var splitEl = YAHOO.ext.DomHelper.append(this.mgr.el.dom, {
                                        tag: 'div',
                                        id: this.el.id + '-split',
                                        cls: 'ylayout-split ylayout-split-' + this.position,
                                        html: '&#160;'
                                    });
                                    this.split = new YAHOO.ext.SplitBar(splitEl, this.el);
                                    this.split.onMoved.subscribe(this.onSplitMove, this, true);
                                    this.split.useShim = config.useShim === true;
                                    YAHOO.util.Dom.setStyle([this.split.el.dom, this.split.proxy], 'cursor', this.cursor);
                                    this.split.getMaximumSize = this.getMaxSize.createDelegate(this);
                                }
                                if (typeof config.minSize != 'undefined') {
                                    this.split.minSize = config.minSize;
                                }
                                if (typeof config.maxSize != 'undefined') {
                                    this.split.maxSize = config.maxSize;
                                }
                            }
                        },
                        getMaxSize: function () {
                            var cmax = this.config.maxSize || 10000;
                            var center = this.mgr.getRegion('center');
                            return Math.min(cmax, (this.el.getWidth() + center.getEl().getWidth()) - center.getMinWidth());
                        },
                        onSplitMove: function (split, newSize) {
                            this.fireEvent('resized', this, newSize);
                        },
                        getSplitBar: function () {
                            return this.split;
                        },
                        hide: function () {
                            if (this.split) {
                                this.split.el.setLocation(-2000, - 2000);
                                this.split.el.hide();
                            }
                            YAHOO.ext.SplitLayoutRegion.superclass.hide.call(this);
                        },
                        show: function () {
                            if (this.split) {
                                this.split.el.show();
                            }
                            YAHOO.ext.SplitLayoutRegion.superclass.show.call(this);
                        },
                        beforeSlide: function () {
                            if (YAHOO.ext.util.Browser.isGecko) {
                                this.bodyEl.clip();
                                if (this.tabs) this.tabs.bodyEl.clip();
                                if (this.activePanel) {
                                    this.activePanel.getEl().clip();
                                    if (this.activePanel.beforeSlide) {
                                        this.activePanel.beforeSlide();
                                    }
                                }
                            }
                        },
                        afterSlide: function () {
                            if (YAHOO.ext.util.Browser.isGecko) {
                                this.bodyEl.unclip();
                                if (this.tabs) this.tabs.bodyEl.unclip();
                                if (this.activePanel) {
                                    this.activePanel.getEl().unclip();
                                    if (this.activePanel.afterSlide) {
                                        this.activePanel.afterSlide();
                                    }
                                }
                            }
                        },
                        slideOut: function () {
                            if (!this.slideEl) {
                                this.slideEl = new YAHOO.ext.Actor(YAHOO.ext.DomHelper.append(this.mgr.el.dom, {
                                    tag: 'div',
                                    cls: 'ylayout-slider'
                                }));
                                if (this.config.autoHide !== false) {
                                    var slideInTask = new YAHOO.ext.util.DelayedTask(this.slideIn, this);
                                    this.slideEl.mon('mouseout', function (e) {
                                        var to = e.getRelatedTarget();
                                        if (to && to != this.slideEl.dom && !YAHOO.util.Dom.isAncestor(this.slideEl.dom, to)) {
                                            slideInTask.delay(500);
                                        }
                                    }, this, true);
                                    this.slideEl.mon('mouseover', function (e) {
                                        slideInTask.cancel();
                                    }, this, true);
                                }
                            }
                            var sl = this.slideEl,
                                c = this.collapsedEl,
                                cm = this.cmargins;
                            this.isSlid = true;
                            this.snapshot = {
                                'left': this.el.getLeft(true),
                                'top': this.el.getTop(true),
                                'colbtn': this.collapseBtn.isVisible(),
                                'closebtn': this.closeBtn.isVisible()
                            };
                            this.collapseBtn.hide();
                            this.closeBtn.hide();
                            this.el.show();
                            this.el.setLeftTop(0, 0);
                            sl.startCapture(true);
                            var size;
                            switch (this.position) {
                            case 'west':
                                sl.setLeft(c.getRight(true));
                                sl.setTop(c.getTop(true));
                                size = this.el.getWidth();
                                break;
                            case 'east':
                                sl.setRight(this.mgr.getViewSize().width - c.getLeft(true));
                                sl.setTop(c.getTop(true));
                                size = this.el.getWidth();
                                break;
                            case 'north':
                                sl.setLeft(c.getLeft(true));
                                sl.setTop(c.getBottom(true));
                                size = this.el.getHeight();
                                break;
                            case 'south':
                                sl.setLeft(c.getLeft(true));
                                sl.setBottom(this.mgr.getViewSize().height - c.getTop(true));
                                size = this.el.getHeight();
                                break;
                            }
                            sl.dom.appendChild(this.el.dom);
                            YAHOO.util.Event.on(document.body, 'click', this.slideInIf, this, true);
                            sl.setSize(this.el.getWidth(), this.el.getHeight());
                            this.beforeSlide();
                            if (this.activePanel) {
                                this.activePanel.setSize(this.bodyEl.getWidth(), this.bodyEl.getHeight());
                            }
                            sl.slideShow(this.getAnchor(), size, this.slideDuration, null, false);
                            sl.play(function () {
                                this.afterSlide();
                            }.createDelegate(this));
                        },
                        slideInIf: function (e) {
                            var t = YAHOO.util.Event.getTarget(e);
                            if (!YAHOO.util.Dom.isAncestor(this.el.dom, t)) {
                                this.slideIn();
                            }
                        },
                        slideIn: function (callback) {
                            if (this.isSlid && !this.slideEl.playlist.isPlaying()) {
                                YAHOO.util.Event.removeListener(document.body, 'click', this.slideInIf, this, true);
                                this.slideEl.startCapture(true);
                                this.slideEl.slideHide(this.getAnchor(), this.slideDuration, null);
                                this.beforeSlide();
                                this.slideEl.play(function () {
                                    this.isSlid = false;
                                    this.el.setPositioning(this.snapshot);
                                    this.collapseBtn.setVisible(this.snapshot.colbtn);
                                    this.closeBtn.setVisible(this.snapshot.closebtn);
                                    this.afterSlide();
                                    this.mgr.el.dom.appendChild(this.el.dom);
                                    if (typeof callback == 'function') {
                                        callback();
                                    }
                                }.createDelegate(this));
                            }
                        },
                        animateExpand: function () {
                            var em = this.margins,
                                cm = this.cmargins;
                            var c = this.collapsedEl,
                                el = this.el;
                            var direction, distance;
                            switch (this.position) {
                            case 'west':
                                direction = 'right';
                                el.setLeft(-(el.getWidth() + (em.right + em.left)));
                                el.setTop(c.getTop(true) - cm.top + em.top);
                                distance = el.getWidth() + (em.right + em.left);
                                break;
                            case 'east':
                                direction = 'left';
                                el.setLeft(this.mgr.getViewSize().width + em.left);
                                el.setTop(c.getTop(true) - cm.top + em.top);
                                distance = el.getWidth() + (em.right + em.left);
                                break;
                            case 'north':
                                direction = 'down';
                                el.setLeft(em.left);
                                el.setTop(-(el.getHeight() + (em.top + em.bottom)));
                                distance = el.getHeight() + (em.top + em.bottom);
                                break;
                            case 'south':
                                direction = 'up';
                                el.setLeft(em.left);
                                el.setTop(this.mgr.getViewSize().height + em.top);
                                distance = el.getHeight() + (em.top + em.bottom);
                                break;
                            }
                            this.beforeSlide();
                            el.setStyle('z-index', '100');
                            el.show();
                            c.setLocation(-2000, - 2000);
                            c.hide();
                            el.move(direction, distance, true, this.duration, function () {
                                this.afterSlide();
                                el.setStyle('z-index', '');
                                if (this.split) {
                                    this.split.el.show();
                                }
                                this.fireEvent('invalidated', this);
                                this.fireEvent('expanded', this);
                            }.createDelegate(this), this.config.easing || YAHOO.util.Easing.easeOut);
                        },
                        animateCollapse: function () {
                            var em = this.margins,
                                cm = this.cmargins;
                            var c = this.collapsedEl,
                                el = this.el;
                            var direction, distance;
                            switch (this.position) {
                            case 'west':
                                direction = 'left';
                                distance = el.getWidth() + (em.right + em.left);
                                break;
                            case 'east':
                                direction = 'right';
                                distance = el.getWidth() + (em.right + em.left);
                                break;
                            case 'north':
                                direction = 'up';
                                distance = el.getHeight() + (em.top + em.bottom);
                                break;
                            case 'south':
                                direction = 'down';
                                distance = el.getHeight() + (em.top + em.bottom);
                                break;
                            }
                            this.el.setStyle('z-index', '100');
                            this.beforeSlide();
                            this.el.move(direction, distance, true, this.duration, function () {
                                this.afterSlide();
                                this.el.setStyle('z-index', '');
                                this.el.setLocation(-20000, - 20000);
                                this.el.hide();
                                this.collapsedEl.show();
                                this.fireEvent('collapsed', this);
                            }.createDelegate(this), YAHOO.util.Easing.easeIn);
                        },
                        getAnchor: function () {
                            switch (this.position) {
                            case 'west':
                                return 'left';
                            case 'east':
                                return 'right';
                            case 'north':
                                return 'top';
                            case 'south':
                                return 'bottom';
                            }
                        }
                    });
                    YAHOO.ext.CenterLayoutRegion = function (mgr, config) {
                        YAHOO.ext.CenterLayoutRegion.superclass.constructor.call(this, mgr, config, 'center');
                        this.visible = true;
                        this.minWidth = config.minWidth || 20;
                        this.minHeight = config.minHeight || 20;
                    };
                    YAHOO.extendX(YAHOO.ext.CenterLayoutRegion, YAHOO.ext.LayoutRegion, {
                        hide: function () {},
                        show: function () {},
                        getMinWidth: function () {
                            return this.minWidth;
                        },
                        getMinHeight: function () {
                            return this.minHeight;
                        }
                    });
                    YAHOO.ext.NorthLayoutRegion = function (mgr, config) {
                        YAHOO.ext.NorthLayoutRegion.superclass.constructor.call(this, mgr, config, 'north', 'n-resize');
                        if (this.split) {
                            this.split.placement = YAHOO.ext.SplitBar.TOP;
                            this.split.orientation = YAHOO.ext.SplitBar.VERTICAL;
                            this.split.el.addClass('ylayout-split-v');
                        }
                        if (typeof config.initialSize != 'undefined') {
                            this.el.setHeight(config.initialSize);
                        }
                    };
                    YAHOO.extendX(YAHOO.ext.NorthLayoutRegion, YAHOO.ext.SplitLayoutRegion, {
                        getBox: function () {
                            if (this.collapsed) {
                                return this.collapsedEl.getBox();
                            }
                            var box = this.el.getBox();
                            if (this.split) {
                                box.height += this.split.el.getHeight();
                            }
                            return box;
                        },
                        updateBox: function (box) {
                            if (this.split && !this.collapsed) {
                                box.height -= this.split.el.getHeight();
                                this.split.el.setLeft(box.x);
                                this.split.el.setTop(box.y + box.height);
                                this.split.el.setWidth(box.width);
                            }
                            if (this.collapsed) {
                                this.el.setWidth(box.width);
                                var bodyWidth = box.width - this.el.getBorderWidth('rl');
                                this.bodyEl.setWidth(bodyWidth);
                                if (this.activePanel && this.panelSize) {
                                    this.activePanel.setSize(bodyWidth, this.panelSize.height);
                                }
                            }
                            YAHOO.ext.NorthLayoutRegion.superclass.updateBox.call(this, box);
                        }
                    });
                    YAHOO.ext.SouthLayoutRegion = function (mgr, config) {
                        YAHOO.ext.SouthLayoutRegion.superclass.constructor.call(this, mgr, config, 'south', 's-resize');
                        if (this.split) {
                            this.split.placement = YAHOO.ext.SplitBar.BOTTOM;
                            this.split.orientation = YAHOO.ext.SplitBar.VERTICAL;
                            this.split.el.addClass('ylayout-split-v');
                        }
                        if (typeof config.initialSize != 'undefined') {
                            this.el.setHeight(config.initialSize);
                        }
                    };
                    YAHOO.extendX(YAHOO.ext.SouthLayoutRegion, YAHOO.ext.SplitLayoutRegion, {
                        getBox: function () {
                            if (this.collapsed) {
                                return this.collapsedEl.getBox();
                            }
                            var box = this.el.getBox();
                            if (this.split) {
                                var sh = this.split.el.getHeight();
                                box.height += sh;
                                box.y -= sh;
                            }
                            return box;
                        },
                        updateBox: function (box) {
                            if (this.split && !this.collapsed) {
                                var sh = this.split.el.getHeight();
                                box.height -= sh;
                                box.y += sh;
                                this.split.el.setLeft(box.x);
                                this.split.el.setTop(box.y - sh);
                                this.split.el.setWidth(box.width);
                            }
                            if (this.collapsed) {
                                this.el.setWidth(box.width);
                                var bodyWidth = box.width - this.el.getBorderWidth('rl');
                                this.bodyEl.setWidth(bodyWidth);
                                if (this.activePanel && this.panelSize) {
                                    this.activePanel.setSize(bodyWidth, this.panelSize.height);
                                }
                            }
                            YAHOO.ext.SouthLayoutRegion.superclass.updateBox.call(this, box);
                        }
                    });
                    YAHOO.ext.EastLayoutRegion = function (mgr, config) {
                        YAHOO.ext.EastLayoutRegion.superclass.constructor.call(this, mgr, config, 'east', 'e-resize');
                        if (this.split) {
                            this.split.placement = YAHOO.ext.SplitBar.RIGHT;
                            this.split.orientation = YAHOO.ext.SplitBar.HORIZONTAL;
                            this.split.el.addClass('ylayout-split-h');
                        }
                        if (typeof config.initialSize != 'undefined') {
                            this.el.setWidth(config.initialSize);
                        }
                    };
                    YAHOO.extendX(YAHOO.ext.EastLayoutRegion, YAHOO.ext.SplitLayoutRegion, {
                        getBox: function () {
                            if (this.collapsed) {
                                return this.collapsedEl.getBox();
                            }
                            var box = this.el.getBox();
                            if (this.split) {
                                var sw = this.split.el.getWidth();
                                box.width += sw;
                                box.x -= sw;
                            }
                            return box;
                        },
                        updateBox: function (box) {
                            if (this.split && !this.collapsed) {
                                var sw = this.split.el.getWidth();
                                box.width -= sw;
                                this.split.el.setLeft(box.x);
                                this.split.el.setTop(box.y);
                                this.split.el.setHeight(box.height);
                                box.x += sw;
                            }
                            if (this.collapsed) {
                                this.el.setHeight(box.height);
                                var bodyHeight = this.config.titlebar ? box.height - (this.titleEl.getHeight() || 0) : box.height;
                                bodyHeight -= this.el.getBorderWidth('tb');
                                this.bodyEl.setHeight(bodyHeight);
                                if (this.activePanel && this.panelSize) {
                                    this.activePanel.setSize(this.panelSize.width, bodyHeight);
                                }
                            }
                            YAHOO.ext.EastLayoutRegion.superclass.updateBox.call(this, box);
                        }
                    });
                    YAHOO.ext.WestLayoutRegion = function (mgr, config) {
                        YAHOO.ext.WestLayoutRegion.superclass.constructor.call(this, mgr, config, 'west', 'w-resize');
                        if (this.split) {
                            this.split.placement = YAHOO.ext.SplitBar.LEFT;
                            this.split.orientation = YAHOO.ext.SplitBar.HORIZONTAL;
                            this.split.el.addClass('ylayout-split-h');
                        }
                        if (typeof config.initialSize != 'undefined') {
                            this.el.setWidth(config.initialSize);
                        }
                    };
                    YAHOO.extendX(YAHOO.ext.WestLayoutRegion, YAHOO.ext.SplitLayoutRegion, {
                        getBox: function () {
                            if (this.collapsed) {
                                return this.collapsedEl.getBox();
                            }
                            var box = this.el.getBox();
                            if (this.split) {
                                box.width += this.split.el.getWidth();
                            }
                            return box;
                        },
                        updateBox: function (box) {
                            if (this.split && !this.collapsed) {
                                var sw = this.split.el.getWidth();
                                box.width -= sw;
                                this.split.el.setLeft(box.x + box.width);
                                this.split.el.setTop(box.y);
                                this.split.el.setHeight(box.height);
                            }
                            if (this.collapsed) {
                                this.el.setHeight(box.height);
                                var bodyHeight = this.config.titlebar ? box.height - (this.titleEl.getHeight() || 0) : box.height;
                                bodyHeight -= this.el.getBorderWidth('tb');
                                this.bodyEl.setHeight(bodyHeight);
                                if (this.activePanel && this.panelSize) {
                                    this.activePanel.setSize(this.panelSize.width, bodyHeight);
                                }
                            }
                            YAHOO.ext.WestLayoutRegion.superclass.updateBox.call(this, box);
                        }
                    });
                    YAHOO.ext.BasicDialog = function (el, config) {
                        this.el = getEl(el);
                        var dh = YAHOO.ext.DomHelper;
                        if (!this.el && config && config.autoCreate) {
                            if (typeof config.autoCreate == 'object') {
                                if (!config.autoCreate.id) {
                                    config.autoCreate.id = el;
                                }
                                this.el = dh.append(document.body, config.autoCreate, true);
                            } else {
                                this.el = dh.append(document.body, {
                                    tag: 'div',
                                    id: el
                                }, true);
                            }
                        }
                        el = this.el;
                        el.setDisplayed(true);
                        el.hide = this.hideAction;
                        this.id = el.id;
                        el.addClass('ydlg');
                        YAHOO.ext.util.Config.apply(this, config);
                        this.proxy = el.createProxy('ydlg-proxy');
                        this.proxy.hide = this.hideAction;
                        this.proxy.setOpacity(.5);
                        this.proxy.hide();
                        if (config.width) {
                            el.setWidth(config.width);
                        }
                        if (config.height) {
                            el.setHeight(config.height);
                        }
                        this.size = el.getSize();
                        if (typeof config.x != 'undefined' && typeof config.y != 'undefined') {
                            this.xy = [config.x, config.y];
                        } else {
                            this.xy = el.getCenterXY(true);
                        }
                        var cn = el.dom.childNodes;
                        for (var i = 0, len = cn.length; i < len; i++) {
                            var node = cn[i];
                            if (node && node.nodeType == 1) {
                                if (YAHOO.util.Dom.hasClass(node, 'ydlg-hd')) {
                                    this.header = getEl(node, true);
                                } else if (YAHOO.util.Dom.hasClass(node, 'ydlg-bd')) {
                                    this.body = getEl(node, true);
                                } else if (YAHOO.util.Dom.hasClass(node, 'ydlg-ft')) {
                                    this.footer = getEl(node, true);
                                }
                            }
                        }
                        if (!this.header) {
                            this.header = this.body ? dh.insertBefore(this.body.dom, {
                                tag: 'div',
                                cls: 'ydlg-hd'
                            }, true) : dh.append(el.dom, {
                                tag: 'div',
                                cls: 'ydlg-hd'
                            }, true);
                        }
                        if (this.title) {
                            this.header.update(this.title);
                        }
                        this.focusEl = dh.append(el.dom, {
                            tag: 'a',
                            href: '#',
                            cls: 'ydlg-focus',
                            tabIndex: '-1'
                        }, true);
                        this.focusEl.swallowEvent('click', true);
                        if (!this.body) {
                            this.body = dh.append(el.dom, {
                                tag: 'div',
                                cls: 'ydlg-bd'
                            }, true);
                        }
                        var hl = dh.insertBefore(this.header.dom, {
                            tag: 'div',
                            cls: 'ydlg-hd-left'
                        });
                        var hr = dh.append(hl, {
                            tag: 'div',
                            cls: 'ydlg-hd-right'
                        });
                        hr.appendChild(this.header.dom);
                        this.bwrap = dh.insertBefore(this.body.dom, {
                            tag: 'div',
                            cls: 'ydlg-dlg-body'
                        }, true);
                        this.bwrap.dom.appendChild(this.body.dom);
                        if (this.footer) this.bwrap.dom.appendChild(this.footer.dom);
                        this.bg = this.el.createChild({
                            tag: 'div',
                            cls: 'ydlg-bg',
                            html: '<div class="ydlg-bg-left"><div class="ydlg-bg-right"><div class="ydlg-bg-center">&#160;</div></div></div>'
                        });
                        this.centerBg = getEl(this.bg.dom.firstChild.firstChild.firstChild);
                        if (this.autoScroll !== false && !this.autoTabs) {
                            this.body.setStyle('overflow', 'auto');
                        }
                        if (this.closable !== false) {
                            this.el.addClass('ydlg-closable');
                            this.close = dh.append(el.dom, {
                                tag: 'div',
                                cls: 'ydlg-close'
                            }, true);
                            this.close.mon('click', this.closeClick, this, true);
                            this.close.addClassOnOver('ydlg-close-over');
                        }
                        if (this.resizable !== false) {
                            this.el.addClass('ydlg-resizable');
                            this.resizer = new YAHOO.ext.Resizable(el, {
                                minWidth: this.minWidth || 80,
                                minHeight: this.minHeight || 80,
                                handles: 'all',
                                pinned: true
                            });
                            this.resizer.on('beforeresize', this.beforeResize, this, true);
                            this.resizer.on('resize', this.onResize, this, true);
                        }
                        if (this.draggable !== false) {
                            el.addClass('ydlg-draggable');
                            if (!this.proxyDrag) {
                                var dd = new YAHOO.util.DD(el.dom.id, 'WindowDrag');
                            } else {
                                var dd = new YAHOO.util.DDProxy(el.dom.id, 'WindowDrag', {
                                    dragElId: this.proxy.id
                                });
                            }
                            dd.setHandleElId(this.header.id);
                            dd.endDrag = this.endMove.createDelegate(this);
                            dd.startDrag = this.startMove.createDelegate(this);
                            dd.onDrag = this.onDrag.createDelegate(this);
                            this.dd = dd;
                        }
                        if (this.modal) {
                            this.mask = dh.append(document.body, {
                                tag: 'div',
                                cls: 'ydlg-mask'
                            }, true);
                            this.mask.enableDisplayMode('block');
                            this.mask.hide();
                            this.el.addClass('ydlg-modal');
                        }
                        if (this.shadow) {
                            this.shadow = el.createProxy({
                                tag: 'div',
                                cls: 'ydlg-shadow'
                            });
                            this.shadow.setOpacity(.3);
                            this.shadow.setVisibilityMode(YAHOO.ext.Element.VISIBILITY);
                            this.shadow.setDisplayed('block');
                            this.shadow.hide = this.hideAction;
                            this.shadow.hide();
                        } else {
                            this.shadowOffset = 0;
                        }
                        if (!YAHOO.ext.util.Browser.isGecko || YAHOO.ext.util.Browser.isMac) {
                            if (this.shim) {
                                this.shim = this.el.createShim();
                                this.shim.hide = this.hideAction;
                                this.shim.hide();
                            }
                        } else {
                            this.shim = false;
                        }
                        if (this.autoTabs) {
                            this.initTabs();
                        }
                        this.syncBodyHeight();
                        this.events = {
                            'keydown': true,
                            'move': true,
                            'resize': true,
                            'beforehide': true,
                            'hide': true,
                            'beforeshow': true,
                            'show': true
                        };
                        el.mon('keydown', this.onKeyDown, this, true);
                        el.mon("mousedown", this.toFront, this, true);
                        YAHOO.ext.EventManager.onWindowResize(this.adjustViewport, this, true);
                        this.el.hide();
                        YAHOO.ext.DialogManager.register(this);
                    };
                    YAHOO.extendX(YAHOO.ext.BasicDialog, YAHOO.ext.util.Observable, {
                        shadowOffset: 3,
                        minHeight: 80,
                        minWidth: 200,
                        minButtonWidth: 75,
                        defaultButton: null,
                        buttonAlign: 'right',
                        setTitle: function (text) {
                            this.header.update(text);
                            return this;
                        },
                        closeClick: function () {
                            this.hide();
                        },
                        initTabs: function () {
                            var tabs = this.getTabs();
                            while (tabs.getTab(0)) {
                                tabs.removeTab(0);
                            }
                            var tabEls = YAHOO.util.Dom.getElementsByClassName('ydlg-tab', this.tabTag || 'div', this.el.dom);
                            if (tabEls.length > 0) {
                                for (var i = 0, len = tabEls.length; i < len; i++) {
                                    var tabEl = tabEls[i];
                                    tabs.addTab(YAHOO.util.Dom.generateId(tabEl), tabEl.title);
                                    tabEl.title = '';
                                }
                                tabs.activate(0);
                            }
                            return tabs;
                        },
                        beforeResize: function () {
                            this.resizer.minHeight = Math.max(this.minHeight, this.getHeaderFooterHeight(true) + 40);
                        },
                        onResize: function () {
                            this.refreshSize();
                            this.syncBodyHeight();
                            this.adjustAssets();
                            this.fireEvent('resize', this, this.size.width, this.size.height);
                        },
                        onKeyDown: function (e) {
                            if (this.isVisible()) {
                                this.fireEvent('keydown', this, e);
                            }
                        },
                        resizeTo: function (width, height) {
                            this.el.setSize(width, height);
                            this.size = {
                                width: width,
                                height: height
                            };
                            this.syncBodyHeight();
                            if (this.fixedcenter) {
                                this.center();
                            }
                            if (this.isVisible()) {
                                this.constrainXY();
                                this.adjustAssets();
                            }
                            this.fireEvent('resize', this, width, height);
                            return this;
                        },
                        setContentSize: function (w, h) {
                            h += this.getHeaderFooterHeight() + this.body.getMargins('tb');
                            w += this.body.getMargins('lr') + this.bwrap.getMargins('lr') + this.centerBg.getPadding('lr');
                            h += this.body.getPadding('tb') + this.bwrap.getBorderWidth('tb') + this.body.getBorderWidth('tb') + this.el.getBorderWidth('tb');
                            w += this.body.getPadding('lr') + this.bwrap.getBorderWidth('lr') + this.body.getBorderWidth('lr') + this.bwrap.getPadding('lr') + this.el.getBorderWidth('lr');
                            if (this.tabs) {
                                h += this.tabs.stripWrap.getHeight() + this.tabs.bodyEl.getMargins('tb') + this.tabs.bodyEl.getPadding('tb');
                                w += this.tabs.bodyEl.getMargins('lr') + this.tabs.bodyEl.getPadding('lr');
                            }
                            this.resizeTo(w, h);
                            return this;
                        },
                        addKeyListener: function (key, fn, scope) {
                            var keyCode, shift, ctrl, alt;
                            if (typeof key == 'object' && !(key instanceof Array)) {
                                keyCode = key['key'];
                                shift = key['shift'];
                                ctrl = key['ctrl'];
                                alt = key['alt'];
                            } else {
                                keyCode = key;
                            }
                            var handler = function (dlg, e) {
                                if ((!shift || e.shiftKey) && (!ctrl || e.ctrlKey) && (!alt || e.altKey)) {
                                    var k = e.getKey();
                                    if (keyCode instanceof Array) {
                                        for (var i = 0, len = keyCode.length; i < len; i++) {
                                            if (keyCode[i] == k) {
                                                fn.call(scope || window, dlg, k, e);
                                                return;
                                            }
                                        }
                                    } else {
                                        if (k == keyCode) {
                                            fn.call(scope || window, dlg, k, e);
                                        }
                                    }
                                }
                            };
                            this.on('keydown', handler);
                            return this;
                        },
                        getTabs: function () {
                            if (!this.tabs) {
                                this.el.addClass('ydlg-auto-tabs');
                                this.body.addClass(this.tabPosition == 'bottom' ? 'ytabs-bottom' : 'ytabs-top');
                                this.tabs = new YAHOO.ext.TabPanel(this.body.dom, this.tabPosition == 'bottom');
                            }
                            return this.tabs;
                        },
                        addButton: function (config, handler, scope) {
                            var dh = YAHOO.ext.DomHelper;
                            if (!this.footer) {
                                this.footer = dh.append(this.bwrap.dom, {
                                    tag: 'div',
                                    cls: 'ydlg-ft'
                                }, true);
                            }
                            if (!this.btnContainer) {
                                var tb = this.footer.createChild({
                                    tag: 'div',
                                    cls: 'ydlg-btns ydlg-btns-' + this.buttonAlign,
                                    html: '<table cellspacing="0"><tbody><tr></tr></tbody></table>'
                                });
                                this.btnContainer = tb.dom.firstChild.firstChild.firstChild;
                            }
                            var bconfig = {
                                handler: handler,
                                scope: scope,
                                minWidth: this.minButtonWidth
                            };
                            if (typeof config == 'string') {
                                bconfig.text = config;
                            } else {
                                bconfig.dhconfig = config;
                            }
                            var btn = new YAHOO.ext.Button(this.btnContainer.appendChild(document.createElement('td')), bconfig);
                            this.syncBodyHeight();
                            if (!this.buttons) {
                                this.buttons = [];
                            }
                            this.buttons.push(btn);
                            return btn;
                        },
                        setDefaultButton: function (btn) {
                            this.defaultButton = btn;
                            return this;
                        },
                        getHeaderFooterHeight: function (safe) {
                            var height = 0;
                            if (this.header) {
                                height += this.header.getHeight();
                            }
                            if (this.footer) {
                                var fm = this.footer.getMargins();
                                height += (this.footer.getHeight() + fm.top + fm.bottom);
                            }
                            height += this.bwrap.getPadding('tb') + this.bwrap.getBorderWidth('tb');
                            height += this.centerBg.getPadding('tb');
                            return height;
                        },
                        syncBodyHeight: function () {
                            var height = this.size.height - this.getHeaderFooterHeight(false);
                            this.body.setHeight(height - this.body.getMargins('tb'));
                            if (this.tabs) {
                                this.tabs.syncHeight();
                            }
                            var hh = this.header.getHeight();
                            var h = this.size.height - hh;
                            this.centerBg.setHeight(h);
                            this.bwrap.setLeftTop(this.centerBg.getPadding('l'), hh + this.centerBg.getPadding('t'));
                            this.bwrap.setHeight(h - this.centerBg.getPadding('tb'));
                            this.bwrap.setWidth(this.el.getWidth(true) - this.centerBg.getPadding('lr'));
                            this.body.setWidth(this.bwrap.getWidth(true));
                        },
                        restoreState: function () {
                            var box = YAHOO.ext.state.Manager.get(this.stateId || (this.el.id + '-state'));
                            if (box && box.width) {
                                this.xy = [box.x, box.y];
                                this.resizeTo(box.width, box.height);
                            }
                            return this;
                        },
                        beforeShow: function () {
                            if (this.fixedcenter) {
                                this.xy = this.el.getCenterXY(true);
                            }
                            if (this.modal) {
                                YAHOO.util.Dom.addClass(document.body, 'masked');
                                this.mask.setSize(YAHOO.util.Dom.getDocumentWidth(), YAHOO.util.Dom.getDocumentHeight());
                                this.mask.show();
                            }
                            this.constrainXY();
                        },
                        animShow: function () {
                            var b = getEl(this.animateTarget, true).getBox();
                            this.proxy.setSize(b.width, b.height);
                            this.proxy.setLocation(b.x, b.y);
                            this.proxy.show();
                            this.proxy.setBounds(this.xy[0], this.xy[1], this.size.width, this.size.height, true, .35, this.showEl.createDelegate(this));
                        },
                        show: function (animateTarget) {
                            if (this.fireEvent('beforeshow', this) === false) {
                                return;
                            }
                            if (this.syncHeightBeforeShow) {
                                this.syncBodyHeight();
                            }
                            this.animateTarget = animateTarget || this.animateTarget;
                            if (!this.el.isVisible()) {
                                this.beforeShow();
                                if (this.animateTarget) {
                                    this.animShow();
                                } else {
                                    this.showEl();
                                }
                            }
                            return this;
                        },
                        showEl: function () {
                            this.proxy.hide();
                            this.el.setXY(this.xy);
                            this.el.show();
                            this.adjustAssets(true);
                            this.toFront();
                            this.focus();
                            this.fireEvent('show', this);
                        },
                        focus: function () {
                            if (this.defaultButton) {
                                this.defaultButton.focus();
                            } else {
                                this.focusEl.focus();
                            }
                        },
                        constrainXY: function () {
                            if (this.constraintoviewport !== false) {
                                if (!this.viewSize) {
                                    if (this.container) {
                                        var s = this.container.getSize();
                                        this.viewSize = [s.width, s.height];
                                    } else {
                                        this.viewSize = [YAHOO.util.Dom.getViewportWidth(), YAHOO.util.Dom.getViewportHeight()];
                                    }
                                }
                                var x = this.xy[0],
                                    y = this.xy[1];
                                var w = this.size.width,
                                    h = this.size.height;
                                var vw = this.viewSize[0],
                                    vh = this.viewSize[1];
                                var moved = false;
                                if (x + w > vw) {
                                    x = vw - w;
                                    moved = true;
                                }
                                if (y + h > vh) {
                                    y = vh - h;
                                    moved = true;
                                }
                                if (x < 0) {
                                    x = 0;
                                    moved = true;
                                }
                                if (y < 0) {
                                    y = 0;
                                    moved = true;
                                }
                                if (moved) {
                                    this.xy = [x, y];
                                    if (this.isVisible()) {
                                        this.el.setLocation(x, y);
                                        this.adjustAssets();
                                    }
                                }
                            }
                        },
                        onDrag: function () {
                            if (!this.proxyDrag) {
                                this.xy = this.el.getXY();
                                this.adjustAssets();
                            }
                        },
                        adjustAssets: function (doShow) {
                            var x = this.xy[0],
                                y = this.xy[1];
                            var w = this.size.width,
                                h = this.size.height;
                            if (doShow === true) {
                                if (this.shadow) {
                                    this.shadow.show();
                                }
                                if (this.shim) {
                                    this.shim.show();
                                }
                            }
                            if (this.shadow && this.shadow.isVisible()) {
                                this.shadow.setBounds(x + this.shadowOffset, y + this.shadowOffset, w, h);
                            }
                            if (this.shim && this.shim.isVisible()) {
                                this.shim.setBounds(x, y, w, h);
                            }
                        },
                        adjustViewport: function (w, h) {
                            if (!w || !h) {
                                w = YAHOO.util.Dom.getViewportWidth();
                                h = YAHOO.util.Dom.getViewportHeight();
                            }
                            this.viewSize = [w, h];
                            if (this.modal && this.mask.isVisible()) {
                                this.mask.setSize(w, h);
                                this.mask.setSize(YAHOO.util.Dom.getDocumentWidth(), YAHOO.util.Dom.getDocumentHeight());
                            }
                            if (this.isVisible()) {
                                this.constrainXY();
                            }
                        },
                        destroy: function (removeEl) {
                            YAHOO.ext.EventManager.removeResizeListener(this.adjustViewport, this);
                            if (this.tabs) {
                                this.tabs.destroy(removeEl);
                            }
                            if (this.shim) {
                                this.shim.remove();
                            }
                            if (this.shadow) {
                                this.shadow.remove();
                            }
                            if (this.proxy) {
                                this.proxy.remove();
                            }
                            if (this.resizer) {
                                this.resizer.destroy();
                            }
                            if (this.close) {
                                this.close.removeAllListeners();
                                this.close.remove();
                            }
                            if (this.mask) {
                                this.mask.remove();
                            }
                            if (this.dd) {
                                this.dd.unreg();
                            }
                            if (this.buttons) {
                                for (var i = 0, len = this.buttons.length; i < len; i++) {
                                    this.buttons[i].destroy();
                                }
                            }
                            this.el.removeAllListeners();
                            if (removeEl === true) {
                                this.el.update('');
                                this.el.remove();
                            }
                            YAHOO.ext.DialogManager.unregister(this);
                        },
                        startMove: function () {
                            if (this.proxyDrag) {
                                this.proxy.show();
                            }
                            if (this.constraintoviewport !== false) {
                                this.dd.constrainTo(document.body, {
                                    right: this.shadowOffset,
                                    bottom: this.shadowOffset
                                });
                            }
                        },
                        endMove: function () {
                            if (!this.proxyDrag) {
                                YAHOO.util.DD.prototype.endDrag.apply(this.dd, arguments);
                            } else {
                                YAHOO.util.DDProxy.prototype.endDrag.apply(this.dd, arguments);
                                this.proxy.hide();
                            }
                            this.refreshSize();
                            this.adjustAssets();
                            this.fireEvent('move', this, this.xy[0], this.xy[1])
                        },
                        toFront: function () {
                            YAHOO.ext.DialogManager.bringToFront(this);
                            return this;
                        },
                        toBack: function () {
                            YAHOO.ext.DialogManager.sendToBack(this);
                            return this;
                        },
                        center: function () {
                            var xy = this.el.getCenterXY(true);
                            this.moveTo(xy[0], xy[1]);
                            return this;
                        },
                        moveTo: function (x, y) {
                            this.xy = [x, y];
                            if (this.isVisible()) {
                                this.el.setXY(this.xy);
                                this.adjustAssets();
                            }
                            return this;
                        },
                        isVisible: function () {
                            return this.el.isVisible();
                        },
                        animHide: function (callback) {
                            var b = getEl(this.animateTarget, true).getBox();
                            this.proxy.show();
                            this.proxy.setBounds(this.xy[0], this.xy[1], this.size.width, this.size.height);
                            this.el.hide();
                            this.proxy.setBounds(b.x, b.y, b.width, b.height, true, .35, this.hideEl.createDelegate(this, [callback]));
                        },
                        hide: function (callback) {
                            if (this.fireEvent('beforehide', this) === false) return;
                            if (this.shadow) {
                                this.shadow.hide();
                            }
                            if (this.shim) {
                                this.shim.hide();
                            }
                            if (this.animateTarget) {
                                this.animHide(callback);
                            } else {
                                this.el.hide();
                                this.hideEl(callback);
                            }
                            return this;
                        },
                        hideEl: function (callback) {
                            this.proxy.hide();
                            if (this.modal) {
                                this.mask.hide();
                                YAHOO.util.Dom.removeClass(document.body, 'masked');
                            }
                            this.fireEvent('hide', this);
                            if (typeof callback == 'function') {
                                callback();
                            }
                        },
                        hideAction: function () {
                            this.setLeft('-10000px');
                            this.setTop('-10000px');
                            this.setStyle('visibility', 'hidden');
                        },
                        refreshSize: function () {
                            this.size = this.el.getSize();
                            this.xy = this.el.getXY();
                            YAHOO.ext.state.Manager.set(this.stateId || this.el.id + '-state', this.el.getBox());
                        },
                        setZIndex: function (index) {
                            if (this.modal) {
                                this.mask.setStyle('z-index', index);
                            }
                            if (this.shim) {
                                this.shim.setStyle('z-index', ++index);
                            }
                            if (this.shadow) {
                                this.shadow.setStyle('z-index', ++index);
                            }
                            this.el.setStyle('z-index', ++index);
                            if (this.proxy) {
                                this.proxy.setStyle('z-index', ++index);
                            }
                            if (this.resizer) {
                                this.resizer.proxy.setStyle('z-index', ++index);
                            }
                            this.lastZIndex = index;
                        },
                        getEl: function () {
                            return this.el;
                        }
                    });
                    YAHOO.ext.DialogManager = function () {
                        var list = {};
                        var accessList = [];
                        var front = null;
                        var sortDialogs = function (d1, d2) {
                            return (!d1._lastAccess || d1._lastAccess < d2._lastAccess) ? -1 : 1;
                        };
                        var orderDialogs = function () {
                            accessList.sort(sortDialogs);
                            var seed = YAHOO.ext.DialogManager.zseed;
                            for (var i = 0, len = accessList.length; i < len; i++) {
                                if (accessList[i]) {
                                    accessList[i].setZIndex(seed + (i * 10));
                                }
                            }
                        };
                        return {
                            zseed: 10000,
                            register: function (dlg) {
                                list[dlg.id] = dlg;
                                accessList.push(dlg);
                            },
                            unregister: function (dlg) {
                                delete list[dlg.id];
                                if (!accessList.indexOf) {
                                    for (var i = 0, len = accessList.length; i < len; i++) {
                                        accessList.splice(i, 1);
                                        return;
                                    }
                                } else {
                                    var i = accessList.indexOf(dlg);
                                    if (i != -1) {
                                        accessList.splice(i, 1);
                                    }
                                }
                            },
                            get: function (id) {
                                return typeof id == 'object' ? id : list[id];
                            },
                            bringToFront: function (dlg) {
                                dlg = this.get(dlg);
                                if (dlg != front) {
                                    front = dlg;
                                    dlg._lastAccess = new Date().getTime();
                                    orderDialogs();
                                }
                                return dlg;
                            },
                            sendToBack: function (dlg) {
                                dlg = this.get(dlg);
                                dlg._lastAccess = -(new Date().getTime());
                                orderDialogs();
                                return dlg;
                            }
                        };
                    }();
                    YAHOO.ext.LayoutDialog = function (el, config) {
                        config.autoTabs = false;
                        YAHOO.ext.LayoutDialog.superclass.constructor.call(this, el, config);
                        this.body.setStyle({
                            overflow: 'hidden',
                            position: 'relative'
                        });
                        this.layout = new YAHOO.ext.BorderLayout(this.body.dom, config);
                        this.layout.monitorWindowResize = false;
                        this.el.addClass('ydlg-auto-layout');
                        this.center = YAHOO.ext.BasicDialog.prototype.center;
                        this.on('show', this.layout.layout, this.layout, true);
                    };
                    YAHOO.extendX(YAHOO.ext.LayoutDialog, YAHOO.ext.BasicDialog, {
                        endUpdate: function () {
                            this.layout.endUpdate();
                        },
                        beginUpdate: function () {
                            this.layout.beginUpdate();
                        },
                        getLayout: function () {
                            return this.layout;
                        },
                        syncBodyHeight: function () {
                            YAHOO.ext.LayoutDialog.superclass.syncBodyHeight.call(this);
                            if (this.layout) this.layout.layout();
                        }
                    });
                    YAHOO.ext.Button = function (renderTo, config) {
                        YAHOO.ext.util.Config.apply(this, config);
                        this.events = {
                            'click': true
                        };
                        if (renderTo) {
                            this.render(renderTo);
                        }
                    };
                    YAHOO.extendX(YAHOO.ext.Button, YAHOO.ext.util.Observable, {
                        render: function (renderTo) {
                            var btn;
                            if (!this.dhconfig) {
                                if (!YAHOO.ext.Button.buttonTemplate) {
                                    YAHOO.ext.Button.buttonTemplate = new YAHOO.ext.DomHelper.Template('<a href="#" class="ybtn-focus"><table border="0" cellpadding="0" cellspacing="0" class="ybtn-wrap"><tbody><tr><td class="ybtn-left">&#160;</td><td class="ybtn-center" unselectable="on">{0}</td><td class="ybtn-right">&#160;</td></tr></tbody></table></a>');
                                }
                                btn = YAHOO.ext.Button.buttonTemplate.append(getEl(renderTo).dom, [this.text], true);
                                this.tbl = getEl(btn.dom.firstChild, true);
                            } else {
                                btn = YAHOO.ext.DomHelper.append(this.footer.dom, this.dhconfig, true);
                            }
                            this.el = btn;
                            this.autoWidth();
                            btn.addClass('ybtn');
                            btn.mon('click', this.onClick, this, true);
                            btn.on('mouseover', this.onMouseOver, this, true);
                            btn.on('mouseout', this.onMouseOut, this, true);
                            btn.on('mousedown', this.onMouseDown, this, true);
                            btn.on('mouseup', this.onMouseUp, this, true);
                        },
                        getEl: function () {
                            return this.el;
                        },
                        destroy: function () {
                            this.el.removeAllListeners();
                            this.purgeListeners();
                            this.el.update('');
                            this.el.remove();
                        },
                        autoWidth: function () {
                            if (this.tbl) {
                                this.el.setWidth('auto');
                                this.tbl.setWidth('auto');
                                if (this.minWidth) {
                                    if (this.tbl.getWidth() < this.minWidth) {
                                        this.tbl.setWidth(this.minWidth);
                                    }
                                }
                                this.el.setWidth(this.tbl.getWidth());
                            }
                        },
                        setHandler: function (handler, scope) {
                            this.handler = handler;
                            this.scope = scope;
                        },
                        setText: function (text) {
                            this.text = text;
                            this.el.dom.firstChild.firstChild.firstChild.childNodes[1].innerHTML = text;
                            this.autoWidth();
                        },
                        getText: function () {
                            return this.text;
                        },
                        show: function () {
                            this.el.setStyle('display', '');
                        },
                        hide: function () {
                            this.el.setStyle('display', 'none');
                        },
                        setVisible: function (visible) {
                            if (visible) {
                                this.show();
                            } else {
                                this.hide();
                            }
                        },
                        focus: function () {
                            this.el.focus();
                        },
                        disable: function () {
                            this.el.addClass('ybtn-disabled');
                            this.disabled = true;
                        },
                        enable: function () {
                            this.el.removeClass('ybtn-disabled');
                            this.disabled = false;
                        },
                        onClick: function (e) {
                            e.preventDefault();
                            if (!this.disabled) {
                                this.fireEvent('click', this, e);
                                if (this.handler) {
                                    this.handler.call(this.scope || this, this, e);
                                }
                            }
                        },
                        onMouseOver: function (e) {
                            if (!this.disabled) {
                                this.el.addClass('ybtn-over');
                            }
                        },
                        onMouseOut: function (e) {
                            this.el.removeClass('ybtn-over');
                        },
                        onMouseDown: function () {
                            if (!this.disabled) {
                                this.el.addClass('ybtn-click');
                            }
                        },
                        onMouseUp: function () {
                            this.el.removeClass('ybtn-click');
                        }
                    });
                    YAHOO.ext.MessageBox = function () {
                        var dlg, opt, mask;
                        var bodyEl, msgEl, textboxEl, textareaEl, progressEl, pp;
                        var buttons, activeTextEl, bwidth;
                        var handleButton = function (button) {
                            if (typeof opt.fn == 'function') {
                                if (opt.fn.call(opt.scope || window, button, activeTextEl.dom.value) !== false) {
                                    dlg.hide();
                                }
                            } else {
                                dlg.hide();
                            }
                        };
                        var updateButtons = function (b) {
                            var width = 0;
                            if (!b) {
                                buttons['ok'].hide();
                                buttons['cancel'].hide();
                                buttons['yes'].hide();
                                buttons['no'].hide();
                                return width;
                            }
                            for (var k in buttons) {
                                if (typeof buttons[k] != 'function') {
                                    if (b[k]) {
                                        buttons[k].show();
                                        buttons[k].setText(typeof b[k] == 'string' ? b[k] : YAHOO.ext.MessageBox.buttonText[k]);
                                        width += buttons[k].el.getWidth() + 15;
                                    } else {
                                        buttons[k].hide();
                                    }
                                }
                            }
                            return width;
                        };
                        return {
                            getDialog: function () {
                                if (!dlg) {
                                    dlg = new YAHOO.ext.BasicDialog('mb-dlg', {
                                        autoCreate: true,
                                        shadow: true,
                                        draggable: true,
                                        resizable: false,
                                        constraintoviewport: true,
                                        fixedcenter: true,
                                        shim: true,
                                        modal: true,
                                        width: 400,
                                        height: 100,
                                        buttonAlign: 'center',
                                        closeClick: function () {
                                            if (opt && opt.buttons && opt.buttons.no && !opt.buttons.cancel) {
                                                handleButton('no');
                                            } else {
                                                handleButton('cancel');
                                            }
                                        }
                                    });
                                    dlg.closeClick = function () {
                                        alert('wtf');
                                    };
                                    mask = dlg.mask;
                                    dlg.addKeyListener(27, dlg.hide, dlg);
                                    buttons = {};
                                    buttons['ok'] = dlg.addButton(this.buttonText['ok'], handleButton.createCallback('ok'));
                                    buttons['yes'] = dlg.addButton(this.buttonText['yes'], handleButton.createCallback('yes'));
                                    buttons['no'] = dlg.addButton(this.buttonText['no'], handleButton.createCallback('no'));
                                    buttons['cancel'] = dlg.addButton(this.buttonText['cancel'], handleButton.createCallback('cancel'));
                                    bodyEl = dlg.body.createChild({
                                        tag: 'div',
                                        html: '<span class="ext-mb-text"></span><br /><input type="text" class="ext-mb-input"><textarea class="ext-mb-textarea"></textarea><div class="ext-mb-progress-wrap"><div class="ext-mb-progress"><div class="ext-mb-progress-bar">&#160;</div></div></div>'
                                    });
                                    msgEl = bodyEl.dom.firstChild;
                                    textboxEl = getEl(bodyEl.dom.childNodes[2]);
                                    textboxEl.enableDisplayMode();
                                    textboxEl.addKeyListener([10, 13], function () {
                                        if (dlg.isVisible() && opt && opt.buttons) {
                                            if (opt.buttons.ok) {
                                                handleButton('ok');
                                            } else if (opt.buttons.yes) {
                                                handleButton('yes');
                                            }
                                        }
                                    });
                                    textareaEl = getEl(bodyEl.dom.childNodes[3]);
                                    textareaEl.enableDisplayMode();
                                    progressEl = getEl(bodyEl.dom.childNodes[4]);
                                    progressEl.enableDisplayMode();
                                    pp = getEl(progressEl.dom.firstChild.firstChild);
                                }
                                return dlg;
                            },
                            updateText: function (text) {
                                if (!dlg.isVisible() && !opt.width) {
                                    dlg.resizeTo(this.maxWidth, 100);
                                }
                                msgEl.innerHTML = text;
                                var w = Math.max(Math.min(opt.width || msgEl.offsetWidth, this.maxWidth), Math.max(opt.minWidth || this.minWidth, bwidth));
                                if (opt.prompt) {
                                    activeTextEl.setWidth(w);
                                }
                                dlg.setContentSize(w, bodyEl.getHeight());
                            },
                            updateProgress: function (value, text) {
                                if (text) {
                                    this.updateText(text);
                                }
                                pp.setWidth(value * progressEl.dom.firstChild.offsetWidth);
                            },
                            isVisible: function () {
                                return dlg && dlg.isVisible();
                            },
                            hide: function () {
                                if (this.isVisible()) {
                                    dlg.hide();
                                }
                            },
                            show: function (options) {
                                var d = this.getDialog();
                                opt = options;
                                d.setTitle(opt.title || '&#160;');
                                d.close.setDisplayed(opt.closable !== false);
                                activeTextEl = textboxEl;
                                opt.prompt = opt.prompt || (opt.multiline ? true : false)
                                if (opt.prompt) {
                                    if (opt.multiline) {
                                        textboxEl.hide();
                                        textareaEl.show();
                                        textareaEl.setHeight(typeof opt.multiline == 'number' ? opt.multiline : this.defaultTextHeight);
                                        activeTextEl = textareaEl;
                                    } else {
                                        textboxEl.show();
                                        textareaEl.hide();
                                    }
                                } else {
                                    textboxEl.hide();
                                    textareaEl.hide();
                                }
                                progressEl.setDisplayed(opt.progress === true);
                                this.updateProgress(0);
                                activeTextEl.dom.value = opt.value || '';
                                if (opt.prompt) {
                                    dlg.setDefaultButton(activeTextEl);
                                } else {
                                    var bs = opt.buttons;
                                    var db = null;
                                    if (bs && bs.ok) {
                                        db = buttons['ok'];
                                    } else if (bs && bs.yes) {
                                        db = buttons['yes'];
                                    }
                                    dlg.setDefaultButton(db);
                                }
                                bwidth = updateButtons(opt.buttons);
                                this.updateText(opt.msg);
                                d.modal = opt.modal !== false;
                                d.mask = opt.modal !== false ? mask : false;
                                d.animateTarget = null;
                                d.show(options.animEl);
                            },
                            progress: function (title, msg) {
                                this.show({
                                    title: title,
                                    msg: msg,
                                    buttons: false,
                                    progress: true,
                                    closable: false
                                });
                            },
                            alert: function (title, msg, fn, scope) {
                                this.show({
                                    title: title,
                                    msg: msg,
                                    buttons: this.OK,
                                    fn: fn,
                                    scope: scope
                                });
                            },
                            confirm: function (title, msg, fn, scope) {
                                this.show({
                                    title: title,
                                    msg: msg,
                                    buttons: this.YESNO,
                                    fn: fn,
                                    scope: scope
                                });
                            },
                            prompt: function (title, msg, fn, scope, multiline) {
                                this.show({
                                    title: title,
                                    msg: msg,
                                    buttons: this.OKCANCEL,
                                    fn: fn,
                                    minWidth: 250,
                                    scope: scope,
                                    prompt: true,
                                    multiline: multiline
                                });
                            },
                            OK: {
                                ok: true
                            },
                            YESNO: {
                                yes: true,
                                no: true
                            },
                            OKCANCEL: {
                                ok: true,
                                cancel: true
                            },
                            YESNOCANCEL: {
                                yes: true,
                                no: true,
                                cancel: true
                            },
                            defaultTextHeight: 75,
                            maxWidth: 500,
                            minWidth: 100,
                            buttonText: {
                                ok: 'OK',
                                cancel: 'Cancel',
                                yes: 'Yes',
                                no: 'No'
                            }
                        };
                    }();
                    YAHOO.ext.Msg = YAHOO.ext.MessageBox;
                    YAHOO.ext.Resizable = function (el, config) {
                        this.el = getEl(el);
                        if (config && config.wrap) {
                            config.resizeChild = this.el;
                            this.el = this.el.wrap(typeof config.wrap == 'object' ? config.wrap : null);
                            this.el.id = this.el.dom.id = config.resizeChild.id + '-rzwrap';
                            this.el.setStyle('overflow', 'hidden');
                            this.el.setPositioning(config.resizeChild.getPositioning());
                            config.resizeChild.clearPositioning();
                            if (!config.width || !config.height) {
                                var csize = config.resizeChild.getSize();
                                this.el.setSize(csize.width, csize.height);
                            }
                            if (config.pinned && !config.adjustments) {
                                config.adjustments = 'auto';
                            }
                        }
                        this.proxy = this.el.createProxy({
                            tag: 'div',
                            cls: 'yresizable-proxy',
                            id: this.el.id + '-rzproxy'
                        })
                        this.proxy.unselectable();
                        this.overlay = this.el.createProxy({
                            tag: 'div',
                            cls: 'yresizable-overlay',
                            html: '&#160;'
                        });
                        this.overlay.unselectable();
                        this.overlay.enableDisplayMode('block');
                        this.overlay.mon('mousemove', this.onMouseMove, this, true);
                        this.overlay.mon('mouseup', this.onMouseUp, this, true);
                        YAHOO.ext.util.Config.apply(this, config, {
                            resizeChild: false,
                            adjustments: [0, 0],
                            minWidth: 5,
                            minHeight: 5,
                            maxWidth: 10000,
                            maxHeight: 10000,
                            enabled: true,
                            animate: false,
                            duration: .35,
                            dynamic: false,
                            handles: false,
                            multiDirectional: false,
                            disableTrackOver: false,
                            easing: YAHOO.util.Easing ? YAHOO.util.Easing.easeOutStrong : null,
                            widthIncrement: 0,
                            heightIncrement: 0,
                            pinned: false,
                            width: null,
                            height: null,
                            preserveRatio: false,
                            transparent: false,
                            minX: 0,
                            minY: 0,
                            draggable: false
                        });
                        if (this.pinned) {
                            this.disableTrackOver = true;
                            this.el.addClass('yresizable-pinned');
                        }
                        var position = this.el.getStyle('position');
                        if (position != 'absolute' && position != 'fixed') {
                            this.el.setStyle('position', 'relative');
                        }
                        if (!this.handles) {
                            this.handles = 's,e,se';
                            if (this.multiDirectional) {
                                this.handles += ',n,w';
                            }
                        }
                        if (this.handles == 'all') {
                            this.handles = 'n s e w ne nw se sw';
                        }
                        var hs = this.handles.split(/\s*?[,;]\s*?| /);
                        var ps = YAHOO.ext.Resizable.positions;
                        for (var i = 0, len = hs.length; i < len; i++) {
                            if (hs[i] && ps[hs[i]]) {
                                var pos = ps[hs[i]];
                                this[pos] = new YAHOO.ext.Resizable.Handle(this, pos, this.disableTrackOver, this.transparent);
                            }
                        }
                        this.corner = this.southeast;
                        this.activeHandle = null;
                        if (this.resizeChild) {
                            if (typeof this.resizeChild == 'boolean') {
                                this.resizeChild = YAHOO.ext.Element.get(this.el.dom.firstChild, true);
                            } else {
                                this.resizeChild = YAHOO.ext.Element.get(this.resizeChild, true);
                            }
                        }
                        if (this.adjustments == 'auto') {
                            var rc = this.resizeChild;
                            var hw = this.west,
                                he = this.east,
                                hn = this.north,
                                hs = this.south;
                            if (rc && (hw || hn)) {
                                rc.setRelativePositioned();
                                rc.setLeft(hw ? hw.el.getWidth() : 0);
                                rc.setTop(hn ? hn.el.getHeight() : 0);
                            }
                            this.adjustments = [(he ? -he.el.getWidth() : 0) + (hw ? -hw.el.getWidth() : 0), (hn ? -hn.el.getHeight() : 0) + (hs ? -hs.el.getHeight() : 0) - 1];
                        }
                        if (this.draggable) {
                            this.dd = this.dynamic ? this.el.initDD(null) : this.el.initDDProxy(null, {
                                dragElId: this.proxy.id
                            });
                            this.dd.setHandleElId(this.resizeChild ? this.resizeChild.id : this.el.id);
                        }
                        this.events = {
                            'beforeresize': new YAHOO.util.CustomEvent(),
                            'resize': new YAHOO.util.CustomEvent()
                        };
                        if (this.width !== null && this.height !== null) {
                            this.resizeTo(this.width, this.height);
                        } else {
                            this.updateChildSize();
                        }
                    };
                    YAHOO.extendX(YAHOO.ext.Resizable, YAHOO.ext.util.Observable, {
                        resizeTo: function (width, height) {
                            this.el.setSize(width, height);
                            this.updateChildSize();
                            this.fireEvent('resize', this, width, height, null);
                        },
                        startSizing: function (e) {
                            this.fireEvent('beforeresize', this, e);
                            if (this.enabled) {
                                this.resizing = true;
                                this.startBox = this.el.getBox();
                                this.startPoint = e.getXY();
                                this.offsets = [(this.startBox.x + this.startBox.width) - this.startPoint[0], (this.startBox.y + this.startBox.height) - this.startPoint[1]];
                                this.proxy.setBox(this.startBox);
                                this.overlay.setSize(YAHOO.util.Dom.getDocumentWidth(), YAHOO.util.Dom.getDocumentHeight());
                                this.overlay.show();
                                if (!this.dynamic) {
                                    this.proxy.show();
                                }
                            }
                        },
                        onMouseDown: function (handle, e) {
                            if (this.enabled) {
                                e.stopEvent();
                                this.activeHandle = handle;
                                this.overlay.setStyle('cursor', handle.el.getStyle('cursor'));
                                this.startSizing(e);
                            }
                        },
                        onMouseUp: function (e) {
                            var size = this.resizeElement();
                            this.resizing = false;
                            this.handleOut();
                            this.overlay.hide();
                            this.fireEvent('resize', this, size.width, size.height, e);
                        },
                        updateChildSize: function () {
                            if (this.resizeChild) {
                                var el = this.el;
                                var child = this.resizeChild;
                                var adj = this.adjustments;
                                if (el.dom.offsetWidth) {
                                    var b = el.getSize(true);
                                    child.setSize(b.width + adj[0], b.height + adj[1]);
                                }
                                if (YAHOO.ext.util.Browser.isIE) {
                                    setTimeout(function () {
                                        if (el.dom.offsetWidth) {
                                            var b = el.getSize(true);
                                            child.setSize(b.width + adj[0], b.height + adj[1]);
                                        }
                                    }, 10);
                                }
                            }
                        },
                        snap: function (value, inc, min) {
                            if (!inc || !value) return value;
                            var newValue = value;
                            var m = value % inc;
                            if (m > 0) {
                                if (m > (inc / 2)) {
                                    newValue = value + (inc - m);
                                } else {
                                    newValue = value - m;
                                }
                            }
                            return Math.max(min, newValue);
                        },
                        resizeElement: function () {
                            var box = this.proxy.getBox();
                            this.el.setBox(box, false, this.animate, this.duration, null, this.easing);
                            this.updateChildSize();
                            this.proxy.hide();
                            return box;
                        },
                        constrain: function (v, diff, m, mx) {
                            if (v - diff < m) {
                                diff = v - m;
                            } else if (v - diff > mx) {
                                diff = mx - v;
                            }
                            return diff;
                        },
                        onMouseMove: function (e) {
                            if (this.enabled) {
                                try {
                                    var curSize = this.curSize || this.startBox;
                                    var x = this.startBox.x,
                                        y = this.startBox.y;
                                    var ox = x,
                                        oy = y;
                                    var w = curSize.width,
                                        h = curSize.height;
                                    var ow = w,
                                        oh = h;
                                    var mw = this.minWidth,
                                        mh = this.minHeight;
                                    var mxw = this.maxWidth,
                                        mxh = this.maxHeight;
                                    var wi = this.widthIncrement;
                                    var hi = this.heightIncrement;
                                    var eventXY = e.getXY();
                                    var diffX = -(this.startPoint[0] - Math.max(this.minX, eventXY[0]));
                                    var diffY = -(this.startPoint[1] - Math.max(this.minY, eventXY[1]));
                                    var pos = this.activeHandle.position;
                                    switch (pos) {
                                    case 'east':
                                        w += diffX;
                                        w = Math.min(Math.max(mw, w), mxw);
                                        break;
                                    case 'south':
                                        h += diffY;
                                        h = Math.min(Math.max(mh, h), mxh);
                                        break;
                                    case 'southeast':
                                        w += diffX;
                                        h += diffY;
                                        w = Math.min(Math.max(mw, w), mxw);
                                        h = Math.min(Math.max(mh, h), mxh);
                                        break;
                                    case 'north':
                                        diffY = this.constrain(h, diffY, mh, mxh);
                                        y += diffY;
                                        h -= diffY;
                                        break;
                                    case 'west':
                                        diffX = this.constrain(w, diffX, mw, mxw);
                                        x += diffX;
                                        w -= diffX;
                                        break;
                                    case 'northeast':
                                        w += diffX;
                                        w = Math.min(Math.max(mw, w), mxw);
                                        diffY = this.constrain(h, diffY, mh, mxh);
                                        y += diffY;
                                        h -= diffY;
                                        break;
                                    case 'northwest':
                                        diffX = this.constrain(w, diffX, mw, mxw);
                                        diffY = this.constrain(h, diffY, mh, mxh);
                                        y += diffY;
                                        h -= diffY;
                                        x += diffX;
                                        w -= diffX;
                                        break;
                                    case 'southwest':
                                        diffX = this.constrain(w, diffX, mw, mxw);
                                        h += diffY;
                                        h = Math.min(Math.max(mh, h), mxh);
                                        x += diffX;
                                        w -= diffX;
                                        break;
                                    }
                                    var sw = this.snap(w, wi, mw);
                                    var sh = this.snap(h, hi, mh);
                                    if (sw != w || sh != h) {
                                        switch (pos) {
                                        case 'northeast':
                                            y -= sh - h;
                                            break;
                                        case 'north':
                                            y -= sh - h;
                                            break;
                                        case 'southwest':
                                            x -= sw - w;
                                            break;
                                        case 'west':
                                            x -= sw - w;
                                            break;
                                        case 'northwest':
                                            x -= sw - w;
                                            y -= sh - h;
                                            break;
                                        }
                                        w = sw;
                                        h = sh;
                                    }
                                    if (this.preserveRatio) {
                                        switch (pos) {
                                        case 'southeast':
                                        case 'east':
                                            h = oh * (w / ow);
                                            h = Math.min(Math.max(mh, h), mxh);
                                            w = ow * (h / oh);
                                            break;
                                        case 'south':
                                            w = ow * (h / oh);
                                            w = Math.min(Math.max(mw, w), mxw);
                                            h = oh * (w / ow);
                                            break;
                                        case 'northeast':
                                            w = ow * (h / oh);
                                            w = Math.min(Math.max(mw, w), mxw);
                                            h = oh * (w / ow);
                                            break;
                                        case 'north':
                                            var tw = w;
                                            w = ow * (h / oh);
                                            w = Math.min(Math.max(mw, w), mxw);
                                            h = oh * (w / ow);
                                            x += (tw - w) / 2;
                                            break;
                                        case 'southwest':
                                            h = oh * (w / ow);
                                            h = Math.min(Math.max(mh, h), mxh);
                                            var tw = w;
                                            w = ow * (h / oh);
                                            x += tw - w;
                                            break;
                                        case 'west':
                                            var th = h;
                                            h = oh * (w / ow);
                                            h = Math.min(Math.max(mh, h), mxh);
                                            y += (th - h) / 2;
                                            var tw = w;
                                            w = ow * (h / oh);
                                            x += tw - w;
                                            break;
                                        case 'northwest':
                                            var tw = w;
                                            var th = h;
                                            h = oh * (w / ow);
                                            h = Math.min(Math.max(mh, h), mxh);
                                            w = ow * (h / oh);
                                            y += th - h;
                                            x += tw - w;
                                            break;
                                        }
                                    }
                                    this.proxy.setBounds(x, y, w, h);
                                    if (this.dynamic) {
                                        this.resizeElement();
                                    }
                                } catch (e) {}
                            }
                        },
                        handleOver: function () {
                            if (this.enabled) {
                                this.el.addClass('yresizable-over');
                            }
                        },
                        handleOut: function () {
                            if (!this.resizing) {
                                this.el.removeClass('yresizable-over');
                            }
                        },
                        getEl: function () {
                            return this.el;
                        },
                        getResizeChild: function () {
                            return this.resizeChild;
                        },
                        destroy: function (removeEl) {
                            this.proxy.remove();
                            this.overlay.removeAllListeners();
                            this.overlay.remove();
                            var ps = YAHOO.ext.Resizable.positions;
                            for (var k in ps) {
                                if (typeof ps[k] != 'function' && this[ps[k]]) {
                                    var h = this[ps[k]];
                                    h.el.removeAllListeners();
                                    h.el.remove();
                                }
                            }
                            if (removeEl) {
                                this.el.update('');
                                this.el.remove();
                            }
                        }
                    });
                    YAHOO.ext.Resizable.positions = {
                        n: 'north',
                        s: 'south',
                        e: 'east',
                        w: 'west',
                        se: 'southeast',
                        sw: 'southwest',
                        nw: 'northwest',
                        ne: 'northeast'
                    };
                    YAHOO.ext.Resizable.Handle = function (rz, pos, disableTrackOver, transparent) {
                        if (!this.tpl) {
                            var tpl = YAHOO.ext.DomHelper.createTemplate({
                                tag: 'div',
                                cls: 'yresizable-handle yresizable-handle-{0}',
                                html: '&#160;'
                            });
                            tpl.compile();
                            YAHOO.ext.Resizable.Handle.prototype.tpl = tpl;
                        }
                        this.position = pos;
                        this.rz = rz;
                        this.el = this.tpl.append(rz.el.dom, [this.position], true);
                        this.el.unselectable();
                        if (transparent) {
                            this.el.setOpacity(0);
                        }
                        this.el.mon('mousedown', this.onMouseDown, this, true);
                        if (!disableTrackOver) {
                            this.el.mon('mouseover', this.onMouseOver, this, true);
                            this.el.mon('mouseout', this.onMouseOut, this, true);
                        }
                    };
                    YAHOO.ext.Resizable.Handle.prototype = {
                        afterResize: function (rz) {},
                        onMouseDown: function (e) {
                            this.rz.onMouseDown(this, e);
                        },
                        onMouseOver: function (e) {
                            this.rz.handleOver(this, e);
                        },
                        onMouseOut: function (e) {
                            this.rz.handleOut(this, e);
                        }
                    };
                    if (YAHOO.util.DragDropMgr) {
                        YAHOO.util.DragDropMgr.clickTimeThresh = 350;
                    }
                    YAHOO.ext.SplitBar = function (dragElement, resizingElement, orientation, placement, existingProxy) {
                        this.el = YAHOO.ext.Element.get(dragElement, true);
                        this.el.dom.unselectable = 'on';
                        this.resizingEl = YAHOO.ext.Element.get(resizingElement, true);
                        this.orientation = orientation || YAHOO.ext.SplitBar.HORIZONTAL;
                        this.minSize = 0;
                        this.maxSize = 2000;
                        this.onMoved = new YAHOO.util.CustomEvent("SplitBarMoved", this);
                        this.animate = false;
                        this.useShim = false;
                        this.shim = null;
                        if (!existingProxy) {
                            this.proxy = YAHOO.ext.SplitBar.createProxy(this.orientation);
                        } else {
                            this.proxy = getEl(existingProxy).dom;
                        }
                        this.dd = new YAHOO.util.DDProxy(this.el.dom.id, "SplitBars", {
                            dragElId: this.proxy.id
                        });
                        this.dd.b4StartDrag = this.onStartProxyDrag.createDelegate(this);
                        this.dd.endDrag = this.onEndProxyDrag.createDelegate(this);
                        this.dragSpecs = {};
                        this.adapter = new YAHOO.ext.SplitBar.BasicLayoutAdapter();
                        this.adapter.init(this);
                        if (this.orientation == YAHOO.ext.SplitBar.HORIZONTAL) {
                            this.placement = placement || (this.el.getX() > this.resizingEl.getX() ? YAHOO.ext.SplitBar.LEFT : YAHOO.ext.SplitBar.RIGHT);
                            this.el.setStyle('cursor', 'e-resize');
                        } else {
                            this.placement = placement || (this.el.getY() > this.resizingEl.getY() ? YAHOO.ext.SplitBar.TOP : YAHOO.ext.SplitBar.BOTTOM);
                            this.el.setStyle('cursor', 'n-resize');
                        }
                        this.events = {
                            'resize': this.onMoved,
                            'moved': this.onMoved,
                            'beforeresize': new YAHOO.util.CustomEvent('beforeresize')
                        }
                    }
                    YAHOO.extendX(YAHOO.ext.SplitBar, YAHOO.ext.util.Observable, {
                        onStartProxyDrag: function (x, y) {
                            this.fireEvent('beforeresize', this);
                            if (this.useShim) {
                                if (!this.shim) {
                                    this.shim = YAHOO.ext.SplitBar.createShim();
                                }
                                this.shim.setVisible(true);
                            }
                            YAHOO.util.Dom.setStyle(this.proxy, 'display', 'block');
                            var size = this.adapter.getElementSize(this);
                            this.activeMinSize = this.getMinimumSize();;
                            this.activeMaxSize = this.getMaximumSize();;
                            var c1 = size - this.activeMinSize;
                            var c2 = Math.max(this.activeMaxSize - size, 0);
                            if (this.orientation == YAHOO.ext.SplitBar.HORIZONTAL) {
                                this.dd.resetConstraints();
                                this.dd.setXConstraint(this.placement == YAHOO.ext.SplitBar.LEFT ? c1 : c2, this.placement == YAHOO.ext.SplitBar.LEFT ? c2 : c1);
                                this.dd.setYConstraint(0, 0);
                            } else {
                                this.dd.resetConstraints();
                                this.dd.setXConstraint(0, 0);
                                this.dd.setYConstraint(this.placement == YAHOO.ext.SplitBar.TOP ? c1 : c2, this.placement == YAHOO.ext.SplitBar.TOP ? c2 : c1);
                            }
                            this.dragSpecs.startSize = size;
                            this.dragSpecs.startPoint = [x, y];
                            YAHOO.util.DDProxy.prototype.b4StartDrag.call(this.dd, x, y);
                        },
                        onEndProxyDrag: function (e) {
                            YAHOO.util.Dom.setStyle(this.proxy, 'display', 'none');
                            var endPoint = YAHOO.util.Event.getXY(e);
                            if (this.useShim) {
                                this.shim.setVisible(false);
                            }
                            var newSize;
                            if (this.orientation == YAHOO.ext.SplitBar.HORIZONTAL) {
                                newSize = this.dragSpecs.startSize + (this.placement == YAHOO.ext.SplitBar.LEFT ? endPoint[0] - this.dragSpecs.startPoint[0] : this.dragSpecs.startPoint[0] - endPoint[0]);
                            } else {
                                newSize = this.dragSpecs.startSize + (this.placement == YAHOO.ext.SplitBar.TOP ? endPoint[1] - this.dragSpecs.startPoint[1] : this.dragSpecs.startPoint[1] - endPoint[1]);
                            }
                            newSize = Math.min(Math.max(newSize, this.activeMinSize), this.activeMaxSize);
                            if (newSize != this.dragSpecs.startSize) {
                                this.adapter.setElementSize(this, newSize);
                                this.onMoved.fireDirect(this, newSize);
                            }
                        },
                        getAdapter: function () {
                            return this.adapter;
                        },
                        setAdapter: function (adapter) {
                            this.adapter = adapter;
                            this.adapter.init(this);
                        },
                        getMinimumSize: function () {
                            return this.minSize;
                        },
                        setMinimumSize: function (minSize) {
                            this.minSize = minSize;
                        },
                        getMaximumSize: function () {
                            return this.maxSize;
                        },
                        setMaximumSize: function (maxSize) {
                            this.maxSize = maxSize;
                        },
                        setCurrentSize: function (size) {
                            var oldAnimate = this.animate;
                            this.animate = false;
                            this.adapter.setElementSize(this, size);
                            this.animate = oldAnimate;
                        },
                        destroy: function (removeEl) {
                            if (this.shim) {
                                this.shim.remove();
                            }
                            this.dd.unreg();
                            this.proxy.parentNode.removeChild(this.proxy);
                            if (removeEl) {
                                this.el.remove();
                            }
                        }
                    });
                    YAHOO.ext.SplitBar.createShim = function () {
                        var shim = document.createElement('div');
                        shim.unselectable = 'on';
                        YAHOO.util.Dom.generateId(shim, 'split-shim');
                        YAHOO.util.Dom.setStyle(shim, 'width', '100%');
                        YAHOO.util.Dom.setStyle(shim, 'height', '100%');
                        YAHOO.util.Dom.setStyle(shim, 'position', 'absolute');
                        YAHOO.util.Dom.setStyle(shim, 'background', 'white');
                        YAHOO.util.Dom.setStyle(shim, 'z-index', 11000);
                        window.document.body.appendChild(shim);
                        var shimEl = YAHOO.ext.Element.get(shim);
                        shimEl.setOpacity(.01);
                        shimEl.setXY([0, 0]);
                        return shimEl;
                    };
                    YAHOO.ext.SplitBar.createProxy = function (orientation) {
                        var proxy = document.createElement('div');
                        proxy.unselectable = 'on';
                        YAHOO.util.Dom.generateId(proxy, 'split-proxy');
                        YAHOO.util.Dom.setStyle(proxy, 'position', 'absolute');
                        YAHOO.util.Dom.setStyle(proxy, 'visibility', 'hidden');
                        YAHOO.util.Dom.setStyle(proxy, 'z-index', 11001);
                        YAHOO.util.Dom.setStyle(proxy, 'background-color', "#aaa");
                        if (orientation == YAHOO.ext.SplitBar.HORIZONTAL) {
                            YAHOO.util.Dom.setStyle(proxy, 'cursor', 'e-resize');
                        } else {
                            YAHOO.util.Dom.setStyle(proxy, 'cursor', 'n-resize');
                        }
                        YAHOO.util.Dom.setStyle(proxy, 'line-height', '0px');
                        YAHOO.util.Dom.setStyle(proxy, 'font-size', '0px');
                        window.document.body.appendChild(proxy);
                        return proxy;
                    };
                    YAHOO.ext.SplitBar.BasicLayoutAdapter = function () {};
                    YAHOO.ext.SplitBar.BasicLayoutAdapter.prototype = {
                        init: function (s) {},
                        getElementSize: function (s) {
                            if (s.orientation == YAHOO.ext.SplitBar.HORIZONTAL) {
                                return s.resizingEl.getWidth();
                            } else {
                                return s.resizingEl.getHeight();
                            }
                        },
                        setElementSize: function (s, newSize, onComplete) {
                            if (s.orientation == YAHOO.ext.SplitBar.HORIZONTAL) {
                                if (!YAHOO.util.Anim || !s.animate) {
                                    s.resizingEl.setWidth(newSize);
                                    if (onComplete) {
                                        onComplete(s, newSize);
                                    }
                                } else {
                                    s.resizingEl.setWidth(newSize, true, .1, onComplete, YAHOO.util.Easing.easeOut);
                                }
                            } else {
                                if (!YAHOO.util.Anim || !s.animate) {
                                    s.resizingEl.setHeight(newSize);
                                    if (onComplete) {
                                        onComplete(s, newSize);
                                    }
                                } else {
                                    s.resizingEl.setHeight(newSize, true, .1, onComplete, YAHOO.util.Easing.easeOut);
                                }
                            }
                        }
                    };
                    YAHOO.ext.SplitBar.AbsoluteLayoutAdapter = function (container) {
                        this.basic = new YAHOO.ext.SplitBar.BasicLayoutAdapter();
                        this.container = getEl(container);
                    }
                    YAHOO.ext.SplitBar.AbsoluteLayoutAdapter.prototype = {
                        init: function (s) {
                            this.basic.init(s);
                        },
                        getElementSize: function (s) {
                            return this.basic.getElementSize(s);
                        },
                        setElementSize: function (s, newSize, onComplete) {
                            this.basic.setElementSize(s, newSize, this.moveSplitter.createDelegate(this, [s]));
                        },
                        moveSplitter: function (s) {
                            var yes = YAHOO.ext.SplitBar;
                            switch (s.placement) {
                            case yes.LEFT:
                                s.el.setX(s.resizingEl.getRight());
                                break;
                            case yes.RIGHT:
                                s.el.setStyle('right', (this.container.getWidth() - s.resizingEl.getLeft()) + 'px');
                                break;
                            case yes.TOP:
                                s.el.setY(s.resizingEl.getBottom());
                                break;
                            case yes.BOTTOM:
                                s.el.setY(s.resizingEl.getTop() - s.el.getHeight());
                                break;
                            }
                        }
                    };
                    YAHOO.ext.SplitBar.VERTICAL = 1;
                    YAHOO.ext.SplitBar.HORIZONTAL = 2;
                    YAHOO.ext.SplitBar.LEFT = 1;
                    YAHOO.ext.SplitBar.RIGHT = 2;
                    YAHOO.ext.SplitBar.TOP = 3;
                    YAHOO.ext.SplitBar.BOTTOM = 4;
                    YAHOO.ext.TabPanel = function (container, config) {
                        this.el = getEl(container, true);
                        this.tabPosition = 'top';
                        this.currentTabWidth = 0;
                        this.minTabWidth = 40;
                        this.maxTabWidth = 250;
                        this.preferredTabWidth = 175;
                        this.resizeTabs = false;
                        this.monitorResize = true;
                        if (config) {
                            if (typeof config == 'boolean') {
                                this.tabPosition = config ? 'bottom' : 'top';
                            } else {
                                YAHOO.ext.util.Config.apply(this, config);
                            }
                        }
                        if (this.tabPosition == 'bottom') {
                            this.bodyEl = getEl(this.createBody(this.el.dom));
                            this.el.addClass('ytabs-bottom');
                        }
                        this.stripWrap = getEl(this.createStrip(this.el.dom), true);
                        this.stripEl = getEl(this.createStripList(this.stripWrap.dom), true);
                        this.stripBody = getEl(this.stripWrap.dom.firstChild.firstChild, true);
                        if (YAHOO.ext.util.Browser.isIE) {
                            YAHOO.util.Dom.setStyle(this.stripWrap.dom.firstChild, 'overflow-x', 'hidden');
                        }
                        if (this.tabPosition != 'bottom') {
                            this.bodyEl = getEl(this.createBody(this.el.dom));
                            this.el.addClass('ytabs-top');
                        }
                        this.items = [];
                        this.bodyEl.setStyle('position', 'relative');
                        if (!this.items.indexOf) {
                            this.items.indexOf = function (o) {
                                for (var i = 0, len = this.length; i < len; i++) {
                                    if (this[i] == o) return i;
                                }
                                return -1;
                            }
                        }
                        this.active = null;
                        this.onTabChange = new YAHOO.util.CustomEvent('TabItem.onTabChange');
                        this.activateDelegate = this.activate.createDelegate(this);
                        this.events = {
                            'tabchange': this.onTabChange,
                            'beforetabchange': new YAHOO.util.CustomEvent('beforechange')
                        };
                        YAHOO.ext.EventManager.onWindowResize(this.onResize, this, true);
                        this.cpad = this.el.getPadding('lr');
                        this.hiddenCount = 0;
                    }
                    YAHOO.ext.TabPanel.prototype = {
                        fireEvent: YAHOO.ext.util.Observable.prototype.fireEvent,
                        on: YAHOO.ext.util.Observable.prototype.on,
                        addListener: YAHOO.ext.util.Observable.prototype.addListener,
                        delayedListener: YAHOO.ext.util.Observable.prototype.delayedListener,
                        removeListener: YAHOO.ext.util.Observable.prototype.removeListener,
                        purgeListeners: YAHOO.ext.util.Observable.prototype.purgeListeners,
                        addTab: function (id, text, content, closable) {
                            var item = new YAHOO.ext.TabPanelItem(this, id, text, closable);
                            this.addTabItem(item);
                            if (content) {
                                item.setContent(content);
                            }
                            return item;
                        },
                        getTab: function (id) {
                            return this.items[id];
                        },
                        hideTab: function (id) {
                            var t = this.items[id];
                            if (!t.isHidden()) {
                                t.setHidden(true);
                                this.hiddenCount++;
                                this.autoSizeTabs();
                            }
                        },
                        unhideTab: function (id) {
                            var t = this.items[id];
                            if (t.isHidden()) {
                                t.setHidden(false);
                                this.hiddenCount--;
                                this.autoSizeTabs();
                            }
                        },
                        addTabItem: function (item) {
                            this.items[item.id] = item;
                            this.items.push(item);
                            if (this.resizeTabs) {
                                item.setWidth(this.currentTabWidth || this.preferredTabWidth)
                                this.autoSizeTabs();
                            } else {
                                item.autoSize();
                            }
                        },
                        removeTab: function (id) {
                            var items = this.items;
                            var tab = items[id];
                            if (!tab) return;
                            var index = items.indexOf(tab);
                            if (this.active == tab && items.length > 1) {
                                var newTab = this.getNextAvailable(index);
                                if (newTab) newTab.activate();
                            }
                            this.stripEl.dom.removeChild(tab.pnode.dom);
                            if (tab.bodyEl.dom.parentNode == this.bodyEl.dom) {
                                this.bodyEl.dom.removeChild(tab.bodyEl.dom);
                            }
                            items.splice(index, 1);
                            delete this.items[tab.id];
                            tab.fireEvent('close', tab);
                            tab.purgeListeners();
                            this.autoSizeTabs();
                        },
                        getNextAvailable: function (start) {
                            var items = this.items;
                            var index = start;
                            while (index < items.length) {
                                var item = items[++index];
                                if (item && !item.isHidden()) {
                                    return item;
                                }
                            }
                            var index = start;
                            while (index >= 0) {
                                var item = items[--index];
                                if (item && !item.isHidden()) {
                                    return item;
                                }
                            }
                            return null;
                        },
                        disableTab: function (id) {
                            var tab = this.items[id];
                            if (tab && this.active != tab) {
                                tab.disable();
                            }
                        },
                        enableTab: function (id) {
                            var tab = this.items[id];
                            tab.enable();
                        },
                        activate: function (id) {
                            var tab = this.items[id];
                            if (tab == this.active) {
                                return tab;
                            }
                            var e = {};
                            this.fireEvent('beforetabchange', this, e, tab);
                            if (e.cancel !== true && !tab.disabled) {
                                if (this.active) {
                                    this.active.hide();
                                }
                                this.active = this.items[id];
                                this.active.show();
                                this.onTabChange.fireDirect(this, this.active);
                            }
                            return tab;
                        },
                        getActiveTab: function () {
                            return this.active;
                        },
                        syncHeight: function (targetHeight) {
                            var height = (targetHeight || this.el.getHeight()) - this.el.getBorderWidth('tb') - this.el.getPadding('tb');
                            var bm = this.bodyEl.getMargins();
                            var newHeight = height - (this.stripWrap.getHeight() || 0) - (bm.top + bm.bottom);
                            this.bodyEl.setHeight(newHeight);
                            return newHeight;
                        },
                        onResize: function () {
                            if (this.monitorResize) {
                                this.autoSizeTabs();
                            }
                        },
                        beginUpdate: function () {
                            this.updating = true;
                        },
                        endUpdate: function () {
                            this.updating = false;
                            this.autoSizeTabs();
                        },
                        autoSizeTabs: function () {
                            var count = this.items.length;
                            var vcount = count - this.hiddenCount;
                            if (!this.resizeTabs || count < 1 || vcount < 1 || this.updating) return;
                            var w = Math.max(this.el.getWidth() - this.cpad, 10);
                            var availWidth = Math.floor(w / vcount);
                            var b = this.stripBody;
                            if (b.getWidth() > w) {
                                var tabs = this.items;
                                this.setTabWidth(Math.max(availWidth, this.minTabWidth));
                                if (availWidth < this.minTabWidth) {}
                            } else {
                                if (this.currentTabWidth < this.preferredTabWidth) {
                                    this.setTabWidth(Math.min(availWidth, this.preferredTabWidth));
                                }
                            }
                        },
                        getCount: function () {
                            return this.items.length;
                        },
                        setTabWidth: function (width) {
                            this.currentTabWidth = width;
                            for (var i = 0, len = this.items.length; i < len; i++) {
                                if (!this.items[i].isHidden()) this.items[i].setWidth(width);
                            }
                        },
                        destroy: function (removeEl) {
                            YAHOO.ext.EventManager.removeResizeListener(this.onResize, this);
                            for (var i = 0, len = this.items.length; i < len; i++) {
                                this.items[i].purgeListeners();
                            }
                            if (removeEl === true) {
                                this.el.update('');
                                this.el.remove();
                            }
                        }
                    };
                    YAHOO.ext.TabPanelItem = function (tabPanel, id, text, closable) {
                        this.tabPanel = tabPanel;
                        this.id = id;
                        this.disabled = false;
                        this.text = text;
                        this.loaded = false;
                        this.closable = closable;
                        this.bodyEl = getEl(tabPanel.createItemBody(tabPanel.bodyEl.dom, id));
                        this.bodyEl.setVisibilityMode(YAHOO.ext.Element.VISIBILITY);
                        this.bodyEl.setStyle('display', 'block');
                        this.bodyEl.setStyle('zoom', '1');
                        this.hideAction();
                        var els = tabPanel.createStripElements(tabPanel.stripEl.dom, text, closable);
                        this.el = getEl(els.el, true);
                        this.inner = getEl(els.inner, true);
                        this.textEl = getEl(this.el.dom.firstChild.firstChild.firstChild, true);
                        this.pnode = getEl(els.el.parentNode, true);
                        this.el.mon('click', this.onTabClick, this, true);
                        if (closable) {
                            var c = getEl(els.close, true);
                            c.dom.title = this.closeText;
                            c.addClassOnOver('close-over');
                            c.mon('click', this.closeClick, this, true);
                        }
                        this.onActivate = new YAHOO.util.CustomEvent('TabItem.onActivate');
                        this.onDeactivate = new YAHOO.util.CustomEvent('TabItem.onDeactivate');
                        this.events = {
                            'activate': this.onActivate,
                            'beforeclose': new YAHOO.util.CustomEvent('beforeclose'),
                            'close': new YAHOO.util.CustomEvent('close'),
                            'deactivate': this.onDeactivate
                        };
                        this.hidden = false;
                    };
                    YAHOO.ext.TabPanelItem.prototype = {
                        fireEvent: YAHOO.ext.util.Observable.prototype.fireEvent,
                        on: YAHOO.ext.util.Observable.prototype.on,
                        addListener: YAHOO.ext.util.Observable.prototype.addListener,
                        delayedListener: YAHOO.ext.util.Observable.prototype.delayedListener,
                        removeListener: YAHOO.ext.util.Observable.prototype.removeListener,
                        purgeListeners: function () {
                            YAHOO.ext.util.Observable.prototype.purgeListeners.call(this);
                            this.el.removeAllListeners();
                        },
                        show: function () {
                            this.pnode.addClass('on');
                            this.showAction();
                            if (YAHOO.ext.util.Browser.isOpera) {
                                this.tabPanel.stripWrap.repaint();
                            }
                            this.onActivate.fireDirect(this.tabPanel, this);
                        },
                        isActive: function () {
                            return this.tabPanel.getActiveTab() == this;
                        },
                        hide: function () {
                            this.pnode.removeClass('on');
                            this.hideAction();
                            this.onDeactivate.fireDirect(this.tabPanel, this);
                        },
                        hideAction: function () {
                            this.bodyEl.setStyle('position', 'absolute');
                            this.bodyEl.setLeft('-20000px');
                            this.bodyEl.setTop('-20000px');
                            this.bodyEl.hide();
                        },
                        showAction: function () {
                            this.bodyEl.setStyle('position', 'relative');
                            this.bodyEl.setTop('');
                            this.bodyEl.setLeft('');
                            this.bodyEl.show();
                            this.tabPanel.el.repaint.defer(1);
                        },
                        setTooltip: function (text) {
                            this.textEl.dom.title = text;
                        },
                        onTabClick: function (e) {
                            e.preventDefault();
                            this.tabPanel.activate(this.id);
                        },
                        getWidth: function () {
                            return this.inner.getWidth();
                        },
                        setWidth: function (width) {
                            var iwidth = width - this.pnode.getPadding("lr");
                            this.inner.setWidth(iwidth);
                            this.textEl.setWidth(iwidth - this.inner.getPadding('lr'));
                            this.pnode.setWidth(width);
                        },
                        setHidden: function (hidden) {
                            this.hidden = hidden;
                            this.pnode.setStyle('display', hidden ? 'none' : '');
                        },
                        isHidden: function () {
                            return this.hidden;
                        },
                        getText: function () {
                            return this.text;
                        },
                        autoSize: function () {
                            this.el.beginMeasure();
                            this.textEl.setWidth(1);
                            this.setWidth(this.textEl.dom.scrollWidth + this.pnode.getPadding("lr") + this.inner.getPadding('lr'));
                            this.el.endMeasure();
                        },
                        setText: function (text) {
                            this.text = text;
                            this.textEl.update(text);
                            this.textEl.dom.title = text;
                            if (!this.tabPanel.resizeTabs) {
                                this.autoSize();
                            }
                        },
                        activate: function () {
                            this.tabPanel.activate(this.id);
                        },
                        disable: function () {
                            if (this.tabPanel.active != this) {
                                this.disabled = true;
                                this.pnode.addClass('disabled');
                            }
                        },
                        enable: function () {
                            this.disabled = false;
                            this.pnode.removeClass('disabled');
                        },
                        setContent: function (content, loadScripts) {
                            this.bodyEl.update(content, loadScripts);
                        },
                        getUpdateManager: function () {
                            return this.bodyEl.getUpdateManager();
                        },
                        setUrl: function (url, params, loadOnce) {
                            if (this.refreshDelegate) {
                                this.onActivate.unsubscribe(this.refreshDelegate);
                            }
                            this.refreshDelegate = this._handleRefresh.createDelegate(this, [url, params, loadOnce]);
                            this.onActivate.subscribe(this.refreshDelegate);
                            return this.bodyEl.getUpdateManager();
                        },
                        _handleRefresh: function (url, params, loadOnce) {
                            if (!loadOnce || !this.loaded) {
                                var updater = this.bodyEl.getUpdateManager();
                                updater.update(url, params, this._setLoaded.createDelegate(this));
                            }
                        },
                        refresh: function () {
                            if (this.refreshDelegate) {
                                this.loaded = false;
                                this.refreshDelegate();
                            }
                        },
                        _setLoaded: function () {
                            this.loaded = true;
                        },
                        closeClick: function (e) {
                            var e = {};
                            this.fireEvent('beforeclose', this, e);
                            if (e.cancel !== true) {
                                this.tabPanel.removeTab(this.id);
                            }
                        },
                        closeText: 'Close this tab'
                    };
                    YAHOO.ext.TabPanel.prototype.createStrip = function (container) {
                        var strip = document.createElement('div');
                        strip.className = 'ytab-wrap';
                        container.appendChild(strip);
                        return strip;
                    };
                    YAHOO.ext.TabPanel.prototype.createStripList = function (strip) {
                        strip.innerHTML = '<div class="ytab-strip-wrap"><table class="ytab-strip" cellspacing="0" cellpadding="0" border="0"><tbody><tr></tr></tbody></table></div>';
                        return strip.firstChild.firstChild.firstChild.firstChild;
                    };
                    YAHOO.ext.TabPanel.prototype.createBody = function (container) {
                        var body = document.createElement('div');
                        YAHOO.util.Dom.generateId(body, 'tab-body');
                        YAHOO.util.Dom.addClass(body, 'yui-ext-tabbody');
                        container.appendChild(body);
                        return body;
                    };
                    YAHOO.ext.TabPanel.prototype.createItemBody = function (bodyEl, id) {
                        var body = YAHOO.util.Dom.get(id);
                        if (!body) {
                            body = document.createElement('div');
                            body.id = id;
                        }
                        YAHOO.util.Dom.addClass(body, 'yui-ext-tabitembody');
                        bodyEl.insertBefore(body, bodyEl.firstChild);
                        return body;
                    };
                    YAHOO.ext.TabPanel.prototype.createStripElements = function (stripEl, text, closable) {
                        var td = document.createElement('td');
                        stripEl.appendChild(td);
                        if (closable) {
                            td.className = "ytab-closable";
                            if (!this.closeTpl) {
                                this.closeTpl = new YAHOO.ext.Template('<a href="#" class="ytab-right"><span class="ytab-left"><em class="ytab-inner">' + '<span unselectable="on" title="{text}" class="ytab-text">{text}</span>' + '<div unselectable="on" class="close-icon">&#160;</div></em></span></a>');
                            }
                            var el = this.closeTpl.overwrite(td, {
                                'text': text
                            });
                            var close = el.getElementsByTagName('div')[0];
                            var inner = el.getElementsByTagName('em')[0];
                            return {
                                'el': el,
                                'close': close,
                                'inner': inner
                            };
                        } else {
                            if (!this.tabTpl) {
                                this.tabTpl = new YAHOO.ext.Template('<a href="#" class="ytab-right"><span class="ytab-left"><em class="ytab-inner">' + '<span unselectable="on" title="{text}" class="ytab-text">{text}</span></em></span></a>');
                            }
                            var el = this.tabTpl.overwrite(td, {
                                'text': text
                            });
                            var inner = el.getElementsByTagName('em')[0];
                            return {
                                'el': el,
                                'inner': inner
                            };
                        }
                    };
                    YAHOO.ext.View = function (container, tpl, dataModel, config) {
                        this.el = getEl(container, true);
                        this.nodes = this.el.dom.childNodes;
                        if (typeof tpl == 'string') {
                            tpl = new YAHOO.ext.Template(tpl);
                        }
                        tpl.compile();
                        this.tpl = tpl;
                        this.setDataModel(dataModel);
                        var CE = YAHOO.util.CustomEvent;
                        this.events = {
                            'beforeclick': true,
                            'click': true,
                            'dblclick': true,
                            'contextmenu': true,
                            'selectionchange': true,
                            'beforeselect': true
                        };
                        this.el.mon("click", this.onClick, this, true);
                        this.el.mon("dblclick", this.onDblClick, this, true);
                        this.el.mon("contextmenu", this.onContextMenu, this, true);
                        this.selectedClass = 'ydataview-selected';
                        this.emptyText = '';
                        this.selections = [];
                        this.lastSelection = null;
                        this.jsonRoot = null;
                        YAHOO.ext.util.Config.apply(this, config);
                        if (this.renderUpdates || this.jsonRoot) {
                            var um = this.el.getUpdateManager();
                            um.setRenderer(this);
                        }
                    };
                    YAHOO.extendX(YAHOO.ext.View, YAHOO.ext.util.Observable, {
                        getEl: function () {
                            return this.el;
                        },
                        render: function (el, response) {
                            this.clearSelections();
                            this.el.update('');
                            var o;
                            try {
                                o = YAHOO.ext.util.JSON.decode(response.responseText);
                                if (this.jsonRoot) {
                                    o = eval('o.' + this.jsonRoot);
                                }
                            } catch (e) {}
                            this.jsonData = o;
                            this.beforeRender();
                            this.refresh();
                        },
                        beforeRender: function () {},
                        refresh: function () {
                            this.clearSelections();
                            this.el.update('');
                            this.html = [];
                            if (this.renderUpdates || this.jsonRoot) {
                                var o = this.jsonData;
                                if (o) {
                                    for (var i = 0, len = o.length; i < len; i++) {
                                        this.renderEach(o[i]);
                                    }
                                }
                            } else {
                                this.dataModel.each(this.renderEach, this);
                            }
                            var strHtml;
                            if (this.html.length > 0) {
                                strHtml = this.html.join('');
                            } else {
                                strHtml = this.emptyText;
                            }
                            this.el.update(strHtml);
                            this.html = null;
                            this.nodes = this.el.dom.childNodes;
                            this.updateIndexes(0);
                        },
                        prepareData: function (data, index) {
                            return data;
                        },
                        renderEach: function (data) {
                            this.html[this.html.length] = this.tpl.applyTemplate(this.prepareData(data));
                        },
                        refreshNode: function (index) {
                            this.refreshNodes(index, index);
                        },
                        refreshNodes: function (dm, startIndex, endIndex) {
                            this.clearSelections();
                            var dm = this.dataModel;
                            var ns = this.nodes;
                            for (var i = startIndex; i <= endIndex; i++) {
                                var d = this.prepareData(dm.getRow(i), i);
                                if (i < ns.length - 1) {
                                    var old = ns[i];
                                    this.tpl.insertBefore(old, d);
                                    this.el.dom.removeChild(old);
                                } else {
                                    this.tpl.append(this.el.dom, d);
                                }
                            }
                            this.updateIndexes(startIndex, endIndex);
                        },
                        deleteNodes: function (dm, startIndex, endIndex) {
                            this.clearSelections();
                            if (startIndex == 0 && endIndex >= this.nodes.length - 1) {
                                this.el.update('');
                            } else {
                                var el = this.el.dom;
                                for (var i = startIndex; i <= endIndex; i++) {
                                    el.removeChild(this.nodes[startIndex]);
                                }
                                this.updateIndexes(startIndex);
                            }
                        },
                        insertNodes: function (dm, startIndex, endIndex) {
                            if (this.nodes.length == 0) {
                                this.refresh();
                            } else {
                                this.clearSelections();
                                var t = this.tpl;
                                var before = this.nodes[startIndex];
                                var dm = this.dataModel;
                                if (before) {
                                    for (var i = startIndex; i <= endIndex; i++) {
                                        t.insertBefore(before, this.prepareData(dm.getRow(i), i));
                                    }
                                } else {
                                    var el = this.el.dom;
                                    for (var i = startIndex; i <= endIndex; i++) {
                                        t.append(el, this.prepareData(dm.getRow(i), i));
                                    }
                                }
                                this.updateIndexes(startIndex);
                            }
                        },
                        updateIndexes: function (dm, startIndex, endIndex) {
                            var ns = this.nodes;
                            startIndex = startIndex || 0;
                            endIndex = endIndex || ns.length - 1;
                            for (var i = startIndex; i <= endIndex; i++) {
                                ns[i].nodeIndex = i;
                            }
                        },
                        setDataModel: function (dm) {
                            if (!dm) return;
                            this.unplugDataModel(this.dataModel);
                            this.dataModel = dm;
                            dm.on('cellupdated', this.refreshNode, this, true);
                            dm.on('datachanged', this.refresh, this, true);
                            dm.on('rowsdeleted', this.deleteNodes, this, true);
                            dm.on('rowsinserted', this.insertNodes, this, true);
                            dm.on('rowsupdated', this.refreshNodes, this, true);
                            dm.on('rowssorted', this.refresh, this, true);
                            this.refresh();
                        },
                        unplugDataModel: function (dm) {
                            if (!dm) return;
                            dm.removeListener('cellupdated', this.refreshNode, this);
                            dm.removeListener('datachanged', this.refresh, this);
                            dm.removeListener('rowsdeleted', this.deleteNodes, this);
                            dm.removeListener('rowsinserted', this.insertNodes, this);
                            dm.removeListener('rowsupdated', this.refreshNodes, this);
                            dm.removeListener('rowssorted', this.refresh, this);
                            this.dataModel = null;
                        },
                        findItemFromChild: function (node) {
                            var el = this.el.dom;
                            if (!node || node.parentNode == el) {
                                return node;
                            }
                            var p = node.parentNode;
                            while (p && p != el) {
                                if (p.parentNode == el) {
                                    return p;
                                }
                                p = p.parentNode;
                            }
                            return null;
                        },
                        onClick: function (e) {
                            var item = this.findItemFromChild(e.getTarget());
                            if (item) {
                                var index = this.indexOf(item);
                                if (this.onItemClick(item, index, e) !== false) {
                                    this.fireEvent('click', this, index, item, e);
                                }
                            } else {
                                this.clearSelections();
                            }
                        },
                        onContextMenu: function (e) {
                            var item = this.findItemFromChild(e.getTarget());
                            if (item) {
                                this.fireEvent('contextmenu', this, this.indexOf(item), item, e);
                            }
                        },
                        onDblClick: function (e) {
                            var item = this.findItemFromChild(e.getTarget());
                            if (item) {
                                this.fireEvent('dblclick', this, this.indexOf(item), item, e);
                            }
                        },
                        onItemClick: function (item, index, e) {
                            if (this.fireEvent('beforeclick', this, index, item, e) !== false) {
                                if (this.multiSelect || this.singleSelect) {
                                    if (this.multiSelect && e.shiftKey && this.lastSelection) {
                                        this.select(this.getNodes(this.indexOf(this.lastSelection), index), false);
                                    } else {
                                        this.select(item, this.multiSelect && e.ctrlKey);
                                        this.lastSelection = item;
                                    }
                                    e.preventDefault();
                                }
                                return true;
                            } else {
                                return false;
                            }
                        },
                        getSelectionCount: function () {
                            return this.selections.length;
                        },
                        getSelectedNodes: function () {
                            return this.selections;
                        },
                        getSelectedIndexes: function () {
                            var indexes = [];
                            for (var i = 0, len = this.selections.length; i < len; i++) {
                                indexes.push(this.selections[i].nodeIndex);
                            }
                            return indexes;
                        },
                        clearSelections: function (suppressEvent) {
                            if (this.multiSelect || this.singleSelect) {
                                YAHOO.util.Dom.removeClass(this.selections, this.selectedClass);
                                this.selections = [];
                                if (!suppressEvent) {
                                    this.fireEvent('selectionchange', this, this.selections);
                                }
                            }
                        },
                        isSelected: function (node) {
                            node = this.getNode(node);
                            var s = this.selections;
                            if (s.length < 1) {
                                return false;
                            }
                            if (s.indexOf) {
                                return s.indexOf(node) !== -1;
                            } else {
                                for (var i = 0, len = s.length; i < len; i++) {
                                    if (s[i] == node) {
                                        return true;
                                    }
                                }
                                return false;
                            }
                        },
                        select: function (nodeInfo, keepExisting, suppressEvent) {
                            if (!keepExisting) {
                                this.clearSelections(true);
                            }
                            if (nodeInfo instanceof Array) {
                                for (var i = 0, len = nodeInfo.length; i < len; i++) {
                                    this.select(nodeInfo[i], true, true);
                                }
                            } else {
                                var node = this.getNode(nodeInfo);
                                if (node && !this.isSelected(node)) {
                                    if (this.fireEvent('beforeselect', this, node, this.selections) !== false) {
                                        YAHOO.util.Dom.addClass(node, this.selectedClass);
                                        this.selections.push(node);
                                    }
                                }
                            }
                            if (!suppressEvent) {
                                this.fireEvent('selectionchange', this, this.selections);
                            }
                        },
                        getNode: function (nodeInfo) {
                            if (typeof nodeInfo == 'object') {
                                return nodeInfo;
                            } else if (typeof nodeInfo == 'string') {
                                return document.getElementById(nodeInfo);
                            } else if (typeof nodeInfo == 'number') {
                                return this.nodes[nodeInfo];
                            }
                            return null;
                        },
                        getNodes: function (start, end) {
                            var ns = this.nodes;
                            start = start || 0;
                            end = typeof end == 'undefined' ? ns.length - 1 : end;
                            var nodes = [];
                            if (start <= end) {
                                for (var i = start; i <= end; i++) {
                                    nodes.push(ns[i]);
                                }
                            } else {
                                for (var i = start; i >= end; i--) {
                                    nodes.push(ns[i]);
                                }
                            }
                            return nodes;
                        },
                        indexOf: function (node) {
                            node = this.getNode(node);
                            if (typeof node.nodeIndex == 'number') {
                                return node.nodeIndex;
                            }
                            var ns = this.nodes;
                            for (var i = 0, len = ns.length; i < len; i++) {
                                if (ns[i] == node) {
                                    return i;
                                }
                            }
                            return -1;
                        }
                    });
                    YAHOO.ext.JsonView = function (container, tpl, config) {
                        var cfg = config || {};
                        cfg.renderUpdates = true;
                        YAHOO.ext.JsonView.superclass.constructor.call(this, container, tpl, null, cfg);
                        this.events['beforerender'] = true;
                        this.events['load'] = true;
                        this.events['loadexception'] = true;
                        this.el.getUpdateManager().on('update', this.onLoad, this, true);
                        this.el.getUpdateManager().on('failure', this.onLoadException, this, true);
                    };
                    YAHOO.extendX(YAHOO.ext.JsonView, YAHOO.ext.View, {
                        load: function () {
                            var um = this.el.getUpdateManager();
                            um.update.apply(um, arguments);
                        },
                        getCount: function () {
                            return this.jsonData ? this.jsonData.length : 0;
                        },
                        getNodeData: function (node) {
                            if (node instanceof Array) {
                                var data = [];
                                for (var i = 0, len = node.length; i < len; i++) {
                                    data.push(this.getNodeData(node[i]));
                                }
                                return data;
                            }
                            return this.jsonData[this.indexOf(node)] || null;
                        },
                        beforeRender: function () {
                            this.snapshot = this.jsonData;
                            if (this.sortInfo) {
                                this.sort.apply(this, this.sortInfo);
                            }
                            this.fireEvent('beforerender', this, this.jsonData);
                        },
                        onLoad: function (el, o) {
                            this.fireEvent('load', this, this.jsonData, o);
                        },
                        onLoadException: function (el, o) {
                            this.fireEvent('loadexception', this, o);
                        },
                        filter: function (property, value) {
                            if (this.jsonData) {
                                var data = [];
                                var ss = this.snapshot;
                                if (typeof value == 'string') {
                                    var vlen = value.length;
                                    if (vlen == 0) {
                                        this.clearFilter();
                                        return;
                                    }
                                    value = value.toLowerCase();
                                    for (var i = 0, len = ss.length; i < len; i++) {
                                        var o = ss[i];
                                        if (o[property].substr(0, vlen).toLowerCase() == value) {
                                            data.push(o);
                                        }
                                    }
                                } else if (value.exec) {
                                    for (var i = 0, len = ss.length; i < len; i++) {
                                        var o = ss[i];
                                        if (value.test(o[property])) {
                                            data.push(o);
                                        }
                                    }
                                } else {
                                    return;
                                }
                                this.jsonData = data;
                                this.refresh();
                            }
                        },
                        filterBy: function (fn, scope) {
                            if (this.jsonData) {
                                var data = [];
                                var ss = this.snapshot;
                                for (var i = 0, len = ss.length; i < len; i++) {
                                    var o = ss[i];
                                    if (fn.call(scope || this, o)) {
                                        data.push(o);
                                    }
                                }
                                this.jsonData = data;
                                this.refresh();
                            }
                        },
                        clearFilter: function () {
                            if (this.snapshot && this.jsonData != this.snapshot) {
                                this.jsonData = this.snapshot;
                                this.refresh();
                            }
                        },
                        sort: function (property, dir, sortType) {
                            this.sortInfo = Array.prototype.slice.call(arguments, 0);
                            if (this.jsonData) {
                                var p = property;
                                var dsc = dir && dir.toLowerCase() == 'desc';
                                var f = function (o1, o2) {
                                    var v1 = sortType ? sortType(o1[p]) : o1[p];
                                    var v2 = sortType ? sortType(o2[p]) : o2[p];;
                                    if (v1 < v2) {
                                        return dsc ? +1 : -1;
                                    } else if (v1 > v2) {
                                        return dsc ? -1 : +1;
                                    } else {
                                        return 0;
                                    }
                                };
                                this.jsonData.sort(f);
                                this.refresh();
                                if (this.jsonData != this.snapshot) {
                                    this.snapshot.sort(f);
                                }
                            }
                        }
                    });
                    YAHOO.ext.Toolbar = function (container, buttons) {
                        this.el = getEl(container, true);
                        var div = document.createElement('div');
                        div.className = 'ytoolbar';
                        var tb = document.createElement('table');
                        tb.border = 0;
                        tb.cellPadding = 0;
                        tb.cellSpacing = 0;
                        div.appendChild(tb);
                        var tbody = document.createElement('tbody');
                        tb.appendChild(tbody);
                        var tr = document.createElement('tr');
                        tbody.appendChild(tr);
                        this.el.dom.appendChild(div);
                        this.tr = tr;
                        if (buttons) {
                            this.add.apply(this, buttons);
                        }
                    };
                    YAHOO.ext.Toolbar.prototype = {
                        add: function () {
                            for (var i = 0; i < arguments.length; i++) {
                                var el = arguments[i];
                                var td = document.createElement('td');
                                this.tr.appendChild(td);
                                if (el instanceof YAHOO.ext.ToolbarButton) {
                                    el.init(td);
                                } else if (el instanceof Array) {
                                    this.addButton(el);
                                } else if (typeof el == 'string') {
                                    var span = document.createElement('span');
                                    if (el == 'separator') {
                                        span.className = 'ytb-sep';
                                    } else {
                                        span.innerHTML = el;
                                        span.className = 'ytb-text';
                                    }
                                    td.appendChild(span);
                                } else if (typeof el == 'object' && el.nodeType) {
                                    td.appendChild(el);
                                } else if (typeof el == 'object') {
                                    this.addButton(el);
                                }
                            }
                        },
                        getEl: function () {
                            return this.el;
                        },
                        addSeparator: function () {
                            var td = document.createElement('td');
                            this.tr.appendChild(td);
                            var span = document.createElement('span');
                            span.className = 'ytb-sep';
                            td.appendChild(span);
                        },
                        addButton: function (config) {
                            if (config instanceof Array) {
                                var buttons = [];
                                for (var i = 0, len = config.length; i < len; i++) {
                                    buttons.push(this.addButton(config[i]));
                                }
                                return buttons;
                            }
                            var b = config;
                            if (!(config instanceof YAHOO.ext.ToolbarButton)) {
                                b = new YAHOO.ext.ToolbarButton(config);
                            }
                            this.add(b);
                            return b;
                        },
                        addText: function (text) {
                            var td = document.createElement('td');
                            this.tr.appendChild(td);
                            var span = document.createElement('span');
                            span.className = 'ytb-text';
                            span.innerHTML = text;
                            td.appendChild(span);
                            return span;
                        },
                        insertButton: function (index, config) {
                            if (config instanceof Array) {
                                var buttons = [];
                                for (var i = 0, len = config.length; i < len; i++) {
                                    buttons.push(this.insertButton(index + i, config[i]));
                                }
                                return buttons;
                            }
                            var b = new YAHOO.ext.ToolbarButton(config);
                            var td = document.createElement('td');
                            var nextSibling = this.tr.childNodes[index];
                            if (nextSibling) this.tr.insertBefore(td, nextSibling);
                            else this.tr.appendChild(td);
                            b.init(td);
                            return b;
                        }
                    };
                    YAHOO.ext.ToolbarButton = function (config) {
                        YAHOO.ext.util.Config.apply(this, config);
                    };
                    YAHOO.ext.ToolbarButton.prototype = {
                        init: function (appendTo) {
                            var element = document.createElement('span');
                            element.className = 'ytb-button';
                            if (this.id) {
                                element.id = this.id;
                            }
                            this.setDisabled(this.disabled === true);
                            var inner = document.createElement('span');
                            inner.className = 'ytb-button-inner ' + (this.className || this.cls);
                            inner.unselectable = 'on';
                            if (this.tooltip) {
                                element.setAttribute('title', this.tooltip);
                            }
                            if (this.style) {
                                YAHOO.ext.DomHelper.applyStyles(inner, this.style);
                            }
                            element.appendChild(inner);
                            appendTo.appendChild(element);
                            this.el = getEl(element, true);
                            this.el.unselectable();
                            inner.innerHTML = (this.text ? this.text : '&#160;');
                            this.inner = inner;
                            this.el.mon('click', this.onClick, this, true);
                            this.el.mon('mouseover', this.onMouseOver, this, true);
                            this.el.mon('mouseout', this.onMouseOut, this, true);
                        },
                        setHandler: function (click, scope) {
                            this.click = click;
                            this.scope = scope;
                        },
                        setText: function (text) {
                            this.inner.innerHTML = text;
                        },
                        setTooltip: function (text) {
                            this.el.dom.title = text;
                        },
                        show: function () {
                            this.el.dom.parentNode.style.display = '';
                        },
                        hide: function () {
                            this.el.dom.parentNode.style.display = 'none';
                        },
                        disable: function () {
                            this.disabled = true;
                            if (this.el) {
                                this.el.addClass('ytb-button-disabled');
                            }
                        },
                        enable: function () {
                            this.disabled = false;
                            if (this.el) {
                                this.el.removeClass('ytb-button-disabled');
                            }
                        },
                        isDisabled: function () {
                            return this.disabled === true;
                        },
                        setDisabled: function (disabled) {
                            if (disabled) {
                                this.disable();
                            } else {
                                this.enable();
                            }
                        },
                        onClick: function () {
                            if (!this.disabled && this.click) {
                                this.click.call(this.scope || window, this);
                            }
                        },
                        onMouseOver: function () {
                            if (!this.disabled) {
                                this.el.addClass('ytb-button-over');
                                if (this.mouseover) {
                                    this.mouseover.call(this.scope || window, this);
                                }
                            }
                        },
                        onMouseOut: function () {
                            this.el.removeClass('ytb-button-over');
                            if (!this.disabled) {
                                if (this.mouseout) {
                                    this.mouseout.call(this.scope || window, this);
                                }
                            }
                        }
                    };
                    YAHOO.ext.InlineEditor = function (config, existingEl) {
                        YAHOO.ext.util.Config.apply(this, config);
                        var dh = YAHOO.ext.DomHelper;
                        this.wrap = dh.append(this.container || document.body, {
                            tag: 'div',
                            cls: 'yinline-editor-wrap'
                        }, true);
                        this.textSizeEl = dh.append(document.body, {
                            tag: 'div',
                            cls: 'yinline-editor-sizer ' + (this.cls || '')
                        });
                        if (YAHOO.ext.util.Browser.isSafari) {
                            this.textSizeEl.style.padding = '4px';
                            YAHOO.util.Dom.setStyle(this.textSizeEl, 'padding-right', '10px');
                        }
                        if (!YAHOO.ext.util.Browser.isGecko) {
                            this.wrap.setStyle('overflow', 'hidden');
                        }
                        if (existingEl) {
                            this.el = getEl(existingEl);
                        }
                        if (!this.el) {
                            this.id = this.id || YAHOO.util.Dom.generateId();
                            if (!this.multiline) {
                                this.el = this.wrap.createChild({
                                    tag: 'input',
                                    name: this.name || this.id,
                                    id: this.id,
                                    type: this.type || 'text',
                                    autocomplete: 'off',
                                    value: this.value || '',
                                    cls: 'yinline-editor ' + (this.cls || ''),
                                    maxlength: this.maxLength || ''
                                });
                            } else {
                                this.el = this.wrap.createChild({
                                    tag: 'textarea',
                                    name: this.name || this.id,
                                    id: this.id,
                                    html: this.value || '',
                                    cls: 'yinline-editor yinline-editor-multiline ' + (this.cls || ''),
                                    wrap: 'none'
                                });
                            }
                        } else {
                            this.wrap.dom.appendChild(this.el.dom);
                        }
                        this.el.addKeyMap([{
                            key: [10, 13],
                            fn: this.onEnter,
                            scope: this
                        }, {
                            key: 27,
                            fn: this.onEsc,
                            scope: this
                        }]);
                        this.el.mon('keyup', this.onKeyUp, this, true);
                        this.el.on('blur', this.onBlur, this, true);
                        this.el.swallowEvent('keydown');
                        this.events = {
                            'startedit': true,
                            'beforecomplete': true,
                            'complete': true
                        };
                        this.editing = false;
                        this.autoSizeTask = new YAHOO.ext.util.DelayedTask(this.autoSize, this);
                    };
                    YAHOO.extendX(YAHOO.ext.InlineEditor, YAHOO.ext.util.Observable, {
                        onEnter: function (k, e) {
                            if (this.multiline && (e.ctrlKey || e.shiftKey)) {
                                return;
                            } else {
                                this.completeEdit();
                                e.stopEvent();
                            }
                        },
                        onEsc: function () {
                            if (this.ignoreNoChange) {
                                this.revert(true);
                            } else {
                                this.revert(false);
                                this.completeEdit();
                            }
                        },
                        onBlur: function () {
                            if (this.editing && this.completeOnBlur !== false) {
                                this.completeEdit();
                            }
                        },
                        startEdit: function (el, value) {
                            this.boundEl = YAHOO.util.Dom.get(el);
                            if (this.hideEl !== false) {
                                this.boundEl.style.visibility = 'hidden';
                            }
                            var v = value || this.boundEl.innerHTML;
                            this.startValue = v;
                            this.setValue(v);
                            this.moveTo(YAHOO.util.Dom.getXY(this.boundEl));
                            this.editing = true;
                            if (YAHOO.ext.QuickTips) {
                                YAHOO.ext.QuickTips.disable();
                            }
                            this.show.defer(10, this);
                        },
                        onKeyUp: function (e) {
                            var k = e.getKey();
                            if (this.editing && (k < 33 || k > 40) && k != 27) {
                                this.autoSizeTask.delay(50);
                            }
                        },
                        completeEdit: function () {
                            var v = this.getValue();
                            if (this.revertBlank !== false && v.length < 1) {
                                v = this.startValue;
                                this.revert();
                            }
                            if (v == this.startValue && this.ignoreNoChange) {
                                this.hide();
                            }
                            if (this.fireEvent('beforecomplete', this, v, this.startValue) !== false) {
                                if (this.updateEl !== false && this.boundEl) {
                                    this.boundEl.innerHTML = v;
                                }
                                this.hide();
                                this.fireEvent('complete', this, v, this.startValue);
                            }
                        },
                        revert: function (hide) {
                            this.setValue(this.startValue);
                            if (hide) {
                                this.hide();
                            }
                        },
                        show: function () {
                            this.autoSize();
                            this.wrap.show();
                            this.el.focus();
                            if (this.selectOnEdit !== false) {
                                this.el.dom.select();
                            }
                        },
                        hide: function () {
                            this.editing = false;
                            this.wrap.hide();
                            this.wrap.setLeftTop(-10000, - 10000);
                            this.el.blur();
                            if (this.hideEl !== false) {
                                this.boundEl.style.visibility = 'visible';
                            }
                            if (YAHOO.ext.QuickTips) {
                                YAHOO.ext.QuickTips.enable();
                            }
                        },
                        setValue: function (v) {
                            this.el.dom.value = v;
                        },
                        getValue: function () {
                            return this.el.dom.value;
                        },
                        autoSize: function () {
                            var el = this.el;
                            var wrap = this.wrap;
                            var v = el.dom.value;
                            var ts = this.textSizeEl;
                            if (v.length < 1) {
                                ts.innerHTML = "&#160;&#160;";
                            } else {
                                v = v.replace(/[<> ]/g, '&#160;');
                                if (this.multiline) {
                                    v = v.replace(/\n/g, '<br />&#160;');
                                }
                                ts.innerHTML = v;
                            }
                            var ww = wrap.dom.offsetWidth;
                            var wh = wrap.dom.offsetHeight;
                            var w = ts.offsetWidth;
                            var h = ts.offsetHeight;
                            if (ww > w + 4) {
                                el.setWidth(w + 4);
                                wrap.setWidth(w + 8);
                            } else {
                                wrap.setWidth(w + 8);
                                el.setWidth(w + 4);
                            }
                            if (wh > h + 4) {
                                el.setHeight(h);
                                wrap.setHeight(h + 4);
                            } else {
                                wrap.setHeight(h + 4);
                                el.setHeight(h);
                            }
                        },
                        moveTo: function (xy) {
                            this.wrap.setXY(xy);
                        }
                    });
                    YAHOO.ext.QuickTips = function () {
                        var el, tipBody, tipTitle, tm, cfg, close, tagEls = {}, reader, esc, anim, removeCls = null;
                        var ce, bd, xy;
                        var visible = false,
                            disabled = true,
                            inited = false;
                        var showProc = hideProc = dismissProc = 1,
                            locks = [];
                        var E = YAHOO.util.Event,
                            dd;
                        var onOver = function (e) {
                            if (disabled) {
                                return;
                            }
                            var t = E.getTarget(e);
                            if (!t) {
                                return;
                            }
                            if (ce && t == ce.el) {
                                clearTimeout(hideProc);
                                return;
                            }
                            if (t && tagEls[t.id]) {
                                tagEls[t.id].el = t;
                                showProc = show.defer(tm.showDelay, tm, [tagEls[t.id]]);
                                return;
                            }
                            var ttp = reader.getAttribute(t, cfg.attribute);
                            if (!ttp && tm.interceptTitles && t.title) {
                                ttp = t.title;
                                t.title = '';
                                if (reader.useNS) {
                                    t.setAttributeNS('y', 'qtip', ttp);
                                } else {
                                    t.setAttribute('qtip', ttp);
                                }
                            }
                            if (ttp) {
                                xy = E.getXY(e);
                                xy[0] += 12;
                                xy[1] += 20;
                                showProc = show.defer(tm.showDelay, tm, [{
                                    el: t,
                                    text: ttp,
                                    width: reader.getAttribute(t, cfg.width),
                                    autoHide: reader.getAttribute(t, cfg.hide) != 'user',
                                    title: reader.getAttribute(t, cfg.title),
                                    cls: reader.getAttribute(t, cfg.cls)
                                }]);
                            }
                        };
                        var onOut = function (e) {
                            clearTimeout(showProc);
                            var t = E.getTarget(e);
                            if (t && ce && ce.el == t && (tm.autoHide && ce.autoHide !== false)) {
                                hideProc = setTimeout(hide, tm.hideDelay);
                            }
                        };
                        var onMove = function (e) {
                            if (disabled) {
                                return;
                            }
                            xy = E.getXY(e);
                            xy[0] += 12;
                            xy[1] += 20;
                            if (tm.trackMouse && ce) {
                                el.setXY(xy);
                            }
                        };
                        var onDown = function (e) {
                            clearTimeout(showProc);
                            clearTimeout(hideProc);
                            if (!e.within(el)) {
                                if (tm.hideOnClick && ce && ce.autoHide !== false) {
                                    hide();
                                    tm.disable();
                                }
                            }
                        };
                        var onUp = function (e) {
                            tm.enable();
                        }
                        var show = function (o) {
                            if (disabled) {
                                return;
                            }
                            clearTimeout(dismissProc);
                            stopAnim();
                            ce = o;
                            if (removeCls) {
                                el.removeClass(removeCls);
                                removeCls = null;
                            }
                            if (ce.cls) {
                                el.addClass(ce.cls);
                                removeCls = ce.cls;
                            }
                            if (ce.title) {
                                tipTitleText.update(ce.title);
                                tipTitle.show();
                            } else {
                                tipTitle.hide();
                            }
                            tipBody.update(o.text);
                            if (!ce.width) {
                                if (tipBody.dom.style.width) {
                                    tipBody.dom.style.width = '';
                                }
                                if (tipBody.dom.offsetWidth > tm.maxWidth) {
                                    tipBody.setWidth(tm.maxWidth);
                                }
                            } else {
                                tipBody.setWidth(ce.width);
                            }
                            if (!ce.autoHide) {
                                close.setDisplayed(true);
                                if (dd) {
                                    dd.unlock();
                                }
                            } else {
                                close.setDisplayed(false);
                                if (dd) {
                                    dd.lock();
                                }
                            }
                            if (xy) {
                                el.setXY(xy);
                            }
                            if (tm.animate) {
                                anim.attributes = {
                                    opacity: {
                                        to: 1
                                    }
                                };
                                el.setOpacity(.1);
                                el.setStyle('visibility', 'visible');
                                anim.animateX(afterShow);
                            } else {
                                afterShow();
                            }
                        };
                        var afterShow = function () {
                            if (ce) {
                                el.show();
                                esc.enable();
                                if (tm.autoDismiss && ce.autoHide !== false) {
                                    dismissProc = setTimeout(hide, tm.autoDismissDelay);
                                }
                            }
                        }
                        var hide = function (noanim) {
                            clearTimeout(dismissProc);
                            clearTimeout(hideProc);
                            ce = null;
                            if (el.isVisible()) {
                                esc.disable();
                                stopAnim();
                                if (noanim !== true && tm.animate) {
                                    anim.attributes = {
                                        opacity: {
                                            to: .1
                                        }
                                    };
                                    el.beforeAction();
                                    anim.animateX(afterHide);
                                } else {
                                    afterHide();
                                }
                            }
                        };
                        var afterHide = function () {
                            el.hide();
                            if (removeCls) {
                                el.removeClass(removeCls);
                                removeCls = null;
                            }
                        }
                        var stopAnim = function () {
                            if (anim && anim.isAnimated()) {
                                anim.stop();
                            }
                        }
                        return {
                            init: function () {
                                if (YAHOO.ext.util.Browser.isIE && !YAHOO.ext.util.Browser.isIE7) {
                                    return;
                                }
                                tm = YAHOO.ext.QuickTips;
                                cfg = tm.tagConfig;
                                reader = new YAHOO.ext.CustomTagReader(cfg.namespace);
                                if (!inited) {
                                    el = new YAHOO.ext.Layer({
                                        cls: 'ytip',
                                        shadow: true,
                                        useDisplay: false
                                    });
                                    el.update('<div class="ytip-hd-left"><div class="ytip-hd-right"><div class="ytip-hd"></div></div></div>');
                                    tipTitle = getEl(el.dom.firstChild);
                                    tipTitleText = getEl(el.dom.firstChild.firstChild.firstChild);
                                    tipTitle.enableDisplayMode('block');
                                    tipBody = el.createChild({
                                        tag: 'div',
                                        cls: 'ytip-bd'
                                    });
                                    close = el.createChild({
                                        tag: 'div',
                                        cls: 'ytip-close'
                                    });
                                    close.on('click', hide);
                                    d = getEl(document);
                                    d.mon('mousedown', onDown);
                                    d.on('mouseup', onUp);
                                    d.on('mouseover', onOver);
                                    d.on('mouseout', onOut);
                                    d.on('mousemove', onMove);
                                    esc = d.addKeyListener(27, hide);
                                    esc.disable();
                                    if (tm.animate) {
                                        anim = new YAHOO.util.Anim(el.dom, {}, .1);
                                    }
                                    if (YAHOO.util.DD) {
                                        dd = el.initDD('default', null, {
                                            onDrag: function () {
                                                el.sync();
                                            }
                                        });
                                        dd.setHandleElId(tipTitleText.id);
                                        dd.lock();
                                    }
                                    inited = true;
                                }
                                this.scan(document.body);
                                this.enable();
                            },
                            tips: function (config) {
                                var cs = config instanceof Array ? config : arguments;
                                for (var i = 0, len = cs.length; i < len; i++) {
                                    var c = cs[i];
                                    var target = c.target;
                                    if (target) {
                                        if (target instanceof Array) {
                                            for (var j = 0, jlen = target.length; j < jlen; j++) {
                                                tagEls[target[j]] = c;
                                            }
                                        } else {
                                            tagEls[target] = c;
                                        }
                                    }
                                }
                            },
                            enable: function () {
                                if (inited) {
                                    locks.pop();
                                    if (locks.length < 1) {
                                        disabled = false;
                                    }
                                }
                            },
                            disable: function () {
                                disabled = true;
                                clearTimeout(showProc);
                                clearTimeout(hideProc);
                                clearTimeout(dismissProc);
                                if (ce) {
                                    hide(true);
                                }
                                locks.push(1);
                            },
                            scan: function (toScan) {
                                toScan = toScan.dom ? toScan.dom : YAHOO.util.Dom.get(toScan);
                                var found = [];
                                reader.eachElement(cfg.tag, toScan, function (el) {
                                    var t = reader.getAttribute(el, cfg.target);
                                    if (t) {
                                        found.push({
                                            target: t.indexOf(',') != -1 ? t.split(',') : t,
                                            text: el.innerHTML,
                                            autoHide: reader.getAttribute(el, cfg.hide) != 'user',
                                            width: reader.getAttribute(el, cfg.width),
                                            title: reader.getAttribute(el, cfg.title),
                                            cls: reader.getAttribute(el, cfg.cls)
                                        });
                                    }
                                    el.parentNode.removeChild(el);
                                });
                                this.tips(found);
                            },
                            tagConfig: {
                                namespace: 'y',
                                tag: 'qtip',
                                attribute: 'qtip',
                                width: 'width',
                                target: 'target',
                                title: 'qtitle',
                                hide: 'hide',
                                cls: 'qclass'
                            },
                            maxWidth: 300,
                            interceptTitles: true,
                            trackMouse: false,
                            hideOnClick: true,
                            showDelay: 500,
                            hideDelay: 200,
                            autoHide: true,
                            autoDismiss: true,
                            autoDismissDelay: 5000,
                            animate: YAHOO.util.Anim && !YAHOO.ext.util.Browser.isIE7
                        }
                    }();
                    YAHOO.ext.util.CSS = new function () {
                        var rules = null;
                        var toCamel = function (property) {
                            var convert = function (prop) {
                                var test = /(-[a-z])/i.exec(prop);
                                return prop.replace(RegExp.$1, RegExp.$1.substr(1).toUpperCase());
                            };
                            while (property.indexOf('-') > -1) {
                                property = convert(property);
                            }
                            return property;
                        };
                        this.createStyleSheet = function (cssText) {
                            var ss;
                            if (YAHOO.ext.util.Browser.isIE) {
                                ss = document.createStyleSheet();
                                ss.cssText = cssText;
                            } else {
                                var head = document.getElementsByTagName("head")[0];
                                var rules = document.createElement('style');
                                rules.setAttribute('type', 'text/css');
                                try {
                                    rules.appendChild(document.createTextNode(cssText));
                                } catch (e) {
                                    rules.cssText = cssText;
                                }
                                head.appendChild(rules);
                                ss = document.styleSheets[document.styleSheets.length - 1];
                            }
                            this.cacheStyleSheet(ss);
                            return ss;
                        };
                        this.removeStyleSheet = function (id) {
                            var existing = document.getElementById(id);
                            if (existing) {
                                existing.parentNode.removeChild(existing);
                            }
                        };
                        this.swapStyleSheet = function (id, url) {
                            this.removeStyleSheet(id);
                            var ss = document.createElement('link');
                            ss.setAttribute('rel', 'stylesheet');
                            ss.setAttribute('type', 'text/css');
                            ss.setAttribute('id', id);
                            ss.setAttribute('href', url);
                            document.getElementsByTagName("head")[0].appendChild(ss);
                        };
                        this.refreshCache = function () {
                            return this.getRules(true);
                        };
                        this.cacheStyleSheet = function (ss) {
                            try {
                                var ssRules = ss.cssRules || ss.rules;
                                for (var j = ssRules.length - 1; j >= 0; --j) {
                                    rules[ssRules[j].selectorText] = ssRules[j];
                                }
                            } catch (e) {}
                        };
                        this.getRules = function (refreshCache) {
                            if (rules == null || refreshCache) {
                                rules = {};
                                var ds = document.styleSheets;
                                for (var i = 0, len = ds.length; i < len; i++) {
                                    try {
                                        this.cacheStyleSheet(ds[i]);
                                    } catch (e) {}
                                }
                            }
                            return rules;
                        };
                        this.getRule = function (selector, refreshCache) {
                            var rs = this.getRules(refreshCache);
                            if (!(selector instanceof Array)) {
                                return rs[selector];
                            }
                            for (var i = 0; i < selector.length; i++) {
                                if (rs[selector[i]]) {
                                    return rs[selector[i]];
                                }
                            }
                            return null;
                        };
                        this.updateRule = function (selector, property, value) {
                            if (!(selector instanceof Array)) {
                                var rule = this.getRule(selector);
                                if (rule) {
                                    rule.style[toCamel(property)] = value;
                                    return true;
                                }
                            } else {
                                for (var i = 0; i < selector.length; i++) {
                                    if (this.updateRule(selector[i], property, value)) {
                                        return true;
                                    }
                                }
                            }
                            return false;
                        };
                        this.apply = function (el, selector) {
                            if (!(selector instanceof Array)) {
                                var rule = this.getRule(selector);
                                if (rule) {
                                    var s = rule.style;
                                    for (var key in s) {
                                        if (typeof s[key] != 'function') {
                                            if (s[key] && String(s[key]).indexOf(':') < 0 && s[key] != 'false') {
                                                try {
                                                    el.style[key] = s[key];
                                                } catch (e) {}
                                            }
                                        }
                                    }
                                    return true;
                                }
                            } else {
                                for (var i = 0; i < selector.length; i++) {
                                    if (this.apply(el, selector[i])) {
                                        return true;
                                    }
                                }
                            }
                            return false;
                        };
                        this.applyFirst = function (el, id, selector) {
                            var selectors = ['#' + id + ' ' + selector, selector];
                            return this.apply(el, selectors);
                        };
                        this.revert = function (el, selector) {
                            if (!(selector instanceof Array)) {
                                var rule = this.getRule(selector);
                                if (rule) {
                                    for (key in rule.style) {
                                        if (rule.style[key] && String(rule.style[key]).indexOf(':') < 0 && rule.style[key] != 'false') {
                                            try {
                                                el.style[key] = '';
                                            } catch (e) {}
                                        }
                                    }
                                    return true;
                                }
                            } else {
                                for (var i = 0; i < selector.length; i++) {
                                    if (this.revert(el, selector[i])) {
                                        return true;
                                    }
                                }
                            }
                            return false;
                        };
                        this.revertFirst = function (el, id, selector) {
                            var selectors = ['#' + id + ' ' + selector, selector];
                            return this.revert(el, selectors);
                        };
                    }();
                    if (!this.JSON2) {
                        JSON2 = {};
                    }
                    (function () {
                        function f(n) {
                            return n < 10 ? '0' + n : n;
                        }
                        if (typeof Date.prototype.toJSON !== 'function') {
                            Date.prototype.toJSON = function (key) {
                                return this.getUTCFullYear() + '-' + f(this.getUTCMonth() + 1) + '-' + f(this.getUTCDate()) + 'T' + f(this.getUTCHours()) + ':' + f(this.getUTCMinutes()) + ':' + f(this.getUTCSeconds()) + 'Z';
                            };
                            String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function (key) {
                                return this.valueOf();
                            };
                        }
                        var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
                            escapeable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
                            gap, indent, meta = {
                                '\b': '\\b',
                                '\t': '\\t',
                                '\n': '\\n',
                                '\f': '\\f',
                                '\r': '\\r',
                                '"': '\\"',
                                '\\': '\\\\'
                            }, rep;

                        function quote(string) {
                            escapeable.lastIndex = 0;
                            return escapeable.test(string) ? '"' + string.replace(escapeable, function (a) {
                                var c = meta[a];
                                if (typeof c === 'string') {
                                    return c;
                                }
                                return '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
                            }) + '"' : '"' + string + '"';
                        }

                        function str(key, holder) {
                            var i, k, v, length, mind = gap,
                                partial, value = holder[key];
                            if (value && typeof value === 'object' && typeof value.toJSON === 'function') {
                                value = value.toJSON(key);
                            }
                            if (typeof rep === 'function') {
                                value = rep.call(holder, key, value);
                            }
                            switch (typeof value) {
                            case 'string':
                                return quote(value);
                            case 'number':
                                return isFinite(value) ? String(value) : 'null';
                            case 'boolean':
                            case 'null':
                                return String(value);
                            case 'object':
                                if (!value) {
                                    return 'null';
                                }
                                gap += indent;
                                partial = [];
                                if (typeof value.length === 'number' && !value.propertyIsEnumerable('length')) {
                                    length = value.length;
                                    for (i = 0; i < length; i += 1) {
                                        partial[i] = str(i, value) || 'null';
                                    }
                                    v = partial.length === 0 ? '[]' : gap ? '[\n' + gap + partial.join(',\n' + gap) + '\n' + mind + ']' : '[' + partial.join(',') + ']';
                                    gap = mind;
                                    return v;
                                }
                                if (rep && typeof rep === 'object') {
                                    length = rep.length;
                                    for (i = 0; i < length; i += 1) {
                                        k = rep[i];
                                        if (typeof k === 'string') {
                                            v = str(k, value);
                                            if (v) {
                                                partial.push(quote(k) + (gap ? ': ' : ':') + v);
                                            }
                                        }
                                    }
                                } else {
                                    for (k in value) {
                                        if (Object.hasOwnProperty.call(value, k)) {
                                            v = str(k, value);
                                            if (v) {
                                                partial.push(quote(k) + (gap ? ': ' : ':') + v);
                                            }
                                        }
                                    }
                                }
                                v = partial.length === 0 ? '{}' : gap ? '{\n' + gap + partial.join(',\n' + gap) + '\n' + mind + '}' : '{' + partial.join(',') + '}';
                                gap = mind;
                                return v;
                            }
                        }
                        if (typeof JSON2.stringify !== 'function') {
                            JSON2.stringify = function (value, replacer, space) {
                                var i;
                                gap = '';
                                indent = '';
                                if (typeof space === 'number') {
                                    for (i = 0; i < space; i += 1) {
                                        indent += ' ';
                                    }
                                } else if (typeof space === 'string') {
                                    indent = space;
                                }
                                rep = replacer;
                                if (replacer && typeof replacer !== 'function' && (typeof replacer !== 'object' || typeof replacer.length !== 'number')) {
                                    throw new Error('JSON2.stringify');
                                }
                                return str('', {
                                    '': value
                                });
                            };
                        }
                        if (typeof JSON2.parse !== 'function') {
                            JSON2.parse = function (text, reviver) {
                                var j;

                                function walk(holder, key) {
                                    var k, v, value = holder[key];
                                    if (value && typeof value === 'object') {
                                        for (k in value) {
                                            if (Object.hasOwnProperty.call(value, k)) {
                                                v = walk(value, k);
                                                if (v !== undefined) {
                                                    value[k] = v;
                                                } else {
                                                    delete value[k];
                                                }
                                            }
                                        }
                                    }
                                    return reviver.call(holder, key, value);
                                }
                                cx.lastIndex = 0;
                                if (cx.test(text)) {
                                    text = text.replace(cx, function (a) {
                                        return '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
                                    });
                                }
                                if (/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, ']').replace(/(?:^|:|,)(?:\s*\[)+/g, ''))) {
                                    j = eval('(' + text + ')');
                                    return typeof reviver === 'function' ? walk({
                                        '': j
                                    }, '') : j;
                                }
                                throw new SyntaxError('JSON2.parse');
                            };
                        }
                    })();
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    Clipperz.ByteArray_abstract = function (args) {
                        return this;
                    }
                    Clipperz.ByteArray_abstract.prototype = MochiKit.Base.update(null, {
                        'toString': function () {
                            return "Clipperz.ByteArray_abstract";
                        },
                        'equals': function (aValue) {
                            return (this.compare(aValue) == 0);
                        },
                        'compare': function (aValue) {
                            var result;
                            var i;
                            result = MochiKit.Base.compare(this.length(), aValue.length());
                            i = this.length();
                            while ((result == 0) && (i > 0)) {
                                i--;
                                result = MochiKit.Base.compare(this.byteAtIndex(i), aValue.byteAtIndex(i));
                            }
                            return result;
                        },
                        'clone': function () {
                            throw Clipperz.Base.exception.AbstractMethod;
                        },
                        'newInstance': function () {
                            throw Clipperz.Base.exception.AbstractMethod;
                        },
                        'reset': function () {
                            throw Clipperz.Base.exception.AbstractMethod;
                        },
                        'length': function () {
                            throw Clipperz.Base.exception.AbstractMethod;
                        },
                        'checkValue': function (aValue) {
                            if ((aValue & 0xff) != aValue) {
                                MochiKit.Logging.logError("Clipperz.ByteArray.appendByte: the provided value (0x" + aValue.toString(16) + ") is not a byte value.");
                                throw Clipperz.ByteArray.exception.InvalidValue;
                            }
                        },
                        'xorMergeWithBlock': function (aBlock, anAllignment, paddingMode) {
                            var result;
                            var a, b;
                            var aLength;
                            var bLength;
                            var i, c;
                            if (this.length() > aBlock.length()) {
                                a = this;
                                b = aBlock;
                            } else {
                                a = aBlock;
                                b = this;
                            }
                            aLength = a.length();
                            bLength = b.length();
                            if (aLength != bLength) {
                                if (paddingMode == 'truncate') {
                                    if (anAllignment == 'left') {
                                        a = a.split(0, bLength);
                                    } else {
                                        a = a.split(aLength - bLength);
                                    }
                                } else {
                                    var ii, cc;
                                    var padding;
                                    padding = this.newInstance();
                                    cc = aLength - bLength;
                                    for (ii = 0; ii < cc; ii++) {
                                        padding.appendByte(0);
                                    }
                                    if (anAllignment == 'left') {
                                        b = b.appendBlock(padding);
                                    } else {
                                        b = padding.appendBlock(b);
                                    }
                                }
                            }
                            result = this.newInstance();
                            c = a.length();
                            for (i = 0; i < c; i++) {
                                result.appendByte(a.byteAtIndex(i) ^ b.byteAtIndex(i));
                            }
                            return result;
                        },
                        'appendBlock': function (aBlock) {
                            throw Clipperz.Base.exception.AbstractMethod;
                        },
                        'appendByte': function (aValue) {
                            throw Clipperz.Base.exception.AbstractMethod;
                        },
                        'appendBytes': function (args) {
                            var values;
                            var i, c;
                            if (args.constructor == Array) {
                                values = args;
                            } else {
                                values = arguments;
                            }
                            c = values.length;
                            for (i = 0; i < c; i++) {
                                this.appendByte(values[i]);
                            }
                            return this;
                        },
                        'appendWord': function (aValue, isLittleEndian) {
                            var result;
                            var processAsLittleEndian;
                            processAsLittleEndian = isLittleEndian === true ? true : false;
                            if (processAsLittleEndian) {
                                result = this.appendBytes((aValue) & 0xff, (aValue >> 8) & 0xff, (aValue >> 16) & 0xff, (aValue >> 24) & 0xff);
                            } else {
                                result = this.appendBytes((aValue >> 24) & 0xff, (aValue >> 16) & 0xff, (aValue >> 8) & 0xff, (aValue) & 0xff);
                            }
                            return result;
                        },
                        'appendWords': function (args) {
                            var values;
                            var i, c;
                            if (args.constructor == Array) {
                                values = args;
                            } else {
                                values = arguments;
                            }
                            c = values.length;
                            for (i = 0; i < c; i++) {
                                this.appendWord(values[i], false);
                            }
                            return this;
                        },
                        'appendBigEndianWords': function (args) {
                            var values;
                            var i, c;
                            if (args.constructor == Array) {
                                values = args;
                            } else {
                                values = arguments;
                            }
                            c = values.length;
                            for (i = 0; i < c; i++) {
                                this.appendWord(values[i], true);
                            }
                            return this;
                        },
                        'byteAtIndex': function (anIndex) {
                            throw Clipperz.Base.exception.AbstractMethod;
                        },
                        'setByteAtIndex': function (aValue, anIndex) {
                            throw Clipperz.Base.exception.AbstractMethod;
                        },
                        'bitAtIndex': function (aBitPosition) {
                            var result;
                            var bytePosition;
                            var bitPositionInSelectedByte;
                            var selectedByte;
                            var selectedByteMask;
                            bytePosition = this.length() - Math.ceil((aBitPosition + 1) / 8);
                            bitPositionInSelectedByte = aBitPosition % 8;
                            selectedByte = this.byteAtIndex(bytePosition);
                            if (bitPositionInSelectedByte > 0) {
                                selectedByteMask = (1 << bitPositionInSelectedByte);
                            } else {
                                selectedByteMask = 1;
                            }
                            result = selectedByte & selectedByteMask ? 1 : 0;
                            return result;
                        },
                        'bitBlockAtIndexWithSize': function (aBitPosition, aSize) {
                            var result;
                            var bitValue;
                            var i, c;
                            result = 0;
                            c = aSize;
                            for (i = 0; i < c; i++) {
                                bitValue = this.bitAtIndex(aBitPosition + i);
                                result = result | bitValue << i;
                            }
                            return result;
                        },
                        'asString': function () {
                            var result;
                            var length;
                            var i;
                            result = [];
                            i = 0;
                            length = this.length();
                            while (i < length) {
                                var currentCharacter;
                                var currentByte;
                                var unicode;
                                currentByte = this.byteAtIndex(i);
                                if ((currentByte & 0x80) == 0x00) {
                                    unicode = currentByte;
                                    currentCharacter = String.fromCharCode(unicode);
                                } else if ((currentByte & 0xe0) == 0xc0) {
                                    unicode = (currentByte & 0x1f) << 6;
                                    i++;
                                    currentByte = this.byteAtIndex(i);
                                    unicode = unicode | (currentByte & 0x3f);
                                    currentCharacter = String.fromCharCode(unicode);
                                } else if ((currentByte & 0xf0) == 0xe0) {
                                    unicode = (currentByte & 0x0f) << (6 + 6);
                                    i++;
                                    currentByte = this.byteAtIndex(i);
                                    unicode = unicode | ((currentByte & 0x3f) << 6);
                                    i++;
                                    currentByte = this.byteAtIndex(i);
                                    unicode = unicode | (currentByte & 0x3f);
                                    currentCharacter = String.fromCharCode(unicode);
                                } else {
                                    unicode = (currentByte & 0x07) << (6 + 6 + 6);
                                    i++;
                                    currentByte = this.byteAtIndex(i);
                                    unicode = unicode | ((currentByte & 0x3f) << (6 + 6));
                                    i++;
                                    currentByte = this.byteAtIndex(i);
                                    unicode = unicode | ((currentByte & 0x3f) << 6);
                                    i++;
                                    currentByte = this.byteAtIndex(i);
                                    unicode = unicode | (currentByte & 0x3f);
                                    currentCharacter = String.fromCharCode(unicode);
                                }
                                result.push(currentCharacter);
                                i++;
                            }
                            return result.join("");
                        },
                        'toHexString': function () {
                            throw Clipperz.Base.exception.AbstractMethod;
                        },
                        'base64map': "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
                        'base64mapIndex': "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(''),
                        'appendBase64String': function (aValue) {
                            var i;
                            var length;
                            length = aValue.length;
                            if ((length % 4) != 0) {
                                MochiKit.Logging.logError("the value passed to the 'ByteArray.setBase64Value' is not correct");
                                throw Clipperz.ByteArray.exception.InvalidValue;
                            }
                            i = 0;
                            while (i < length) {
                                var value1, value2, value3, value4;
                                var byte1, byte2, byte3;
                                value1 = this.base64map.indexOf(aValue.charAt(i));
                                value2 = this.base64map.indexOf(aValue.charAt(i + 1));
                                value3 = this.base64map.indexOf(aValue.charAt(i + 2));
                                value4 = this.base64map.indexOf(aValue.charAt(i + 3));
                                byte1 = (value1 << 2) | ((value2 & 0x30) >> 4);
                                if (value3 != -1) {
                                    byte2 = ((value2 & 0x0f) << 4) | ((value3 & 0x3c) >> 2);
                                    if (value4 != -1) {
                                        byte3 = ((value3 & 0x03) << 6) | (value4);
                                    } else {
                                        byte3 = null;
                                    }
                                } else {
                                    byte2 = null;
                                    byte3 = null;
                                }
                                this.appendByte(byte1);
                                this.appendByte(byte2);
                                this.appendByte(byte3);
                                i += 4;
                            }
                            return this;
                        },
                        'toBase64String': function () {
                            var result;
                            var length;
                            var i;
                            var byte1, byte2, byte3;
                            var char1, char2, char3, char4;
                            i = 0;
                            length = this.length();
                            result = new Array(Math.ceil(length / 3));
                            while (i < length) {
                                byte1 = this.byteAtIndex(i);
                                if ((i + 2) < length) {
                                    byte2 = this.byteAtIndex(i + 1);
                                    byte3 = this.byteAtIndex(i + 2);
                                } else if ((i + 2) == length) {
                                    byte2 = this.byteAtIndex(i + 1);
                                    byte3 = null;
                                } else {
                                    byte2 = null;
                                    byte3 = null;
                                }
                                char1 = this.base64mapIndex[byte1 >> 2];
                                if (byte2 != null) {
                                    char2 = this.base64mapIndex[((byte1 & 0x03) << 4) | ((byte2 & 0xf0) >> 4)];
                                    if (byte3 != null) {
                                        char3 = this.base64mapIndex[((byte2 & 0x0f) << 2) | ((byte3 & 0xc0) >> 6)];
                                        char4 = this.base64mapIndex[(byte3 & 0x3f)];
                                    } else {
                                        char3 = this.base64mapIndex[(byte2 & 0x0f) << 2];
                                        char4 = "=";
                                    }
                                } else {
                                    char2 = this.base64mapIndex[(byte1 & 0x03) << 4];
                                    char3 = "=";
                                    char4 = "=";
                                }
                                result.push(char1 + char2 + char3 + char4);
                                i += 3;
                            }
                            return result.join("");
                        },
                        'base32map': "0123456789abcdefghjkmnpqrstvwxyz",
                        'base32mapIndex': "0123456789abcdefghjkmnpqrstvwxyz".split(''),
                        'appendBase32String': function (aValue) {
                            var value;
                            var i;
                            var length;
                            var value1, value2, value3, value4, value5, value6, value7, value8;
                            var byte1, byte2, byte3, byte4, byte5;
                            value = aValue.toLowerCase();
                            value = value.replace(/[\s\-]/g, '');
                            value = value.replace(/[0o]/g, '0');
                            value = value.replace(/[1il]/g, '1');
                            length = value.length;
                            if ((length % 8) != 0) {
                                MochiKit.Logging.logError("the value passed to the 'ByteArray.setBase32Value' is not correct");
                                throw Clipperz.ByteArray.exception.InvalidValue;
                            }
                            i = 0;
                            while (i < length) {
                                value1 = this.base32map.indexOf(value.charAt(i));
                                value2 = this.base32map.indexOf(value.charAt(i + 1));
                                value3 = this.base32map.indexOf(value.charAt(i + 2));
                                value4 = this.base32map.indexOf(value.charAt(i + 3));
                                value5 = this.base32map.indexOf(value.charAt(i + 4));
                                value6 = this.base32map.indexOf(value.charAt(i + 5));
                                value7 = this.base32map.indexOf(value.charAt(i + 6));
                                value8 = this.base32map.indexOf(value.charAt(i + 7));
                                byte1 = byte2 = byte3 = byte4 = byte5 = null;
                                byte1 = (value1 << 3) | ((value2 & 0x1c) >> 2);
                                if (value3 != -1) {
                                    byte2 = ((value2 & 0x03) << 6) | (value3 << 1) | ((value4 & 0x10) >> 4);
                                    if (value5 != -1) {
                                        byte3 = ((value4 & 0x0f) << 4) | ((value5 & 0x1e) >> 1);
                                        if (value6 != -1) {
                                            byte4 = ((value5 & 0x01) << 7) | (value6 << 2) | ((value7 & 0x18) >> 3);
                                            if (value8 != -1) {
                                                byte5 = ((value7 & 0x07) << 5) | (value8);
                                            }
                                        }
                                    }
                                }
                                this.appendByte(byte1);
                                this.appendByte(byte2);
                                this.appendByte(byte3);
                                this.appendByte(byte4);
                                this.appendByte(byte5);
                                i += 8;
                            }
                            return this;
                        },
                        'toBase32String': function () {
                            var result;
                            var length;
                            var i;
                            var byte1, byte2, byte3, byte4, byte5;
                            var char1, char2, char3, char4, char5, char6, char7, char8;
                            i = 0;
                            length = this.length();
                            result = new Array(Math.ceil(length / 5));
                            while (i < length) {
                                byte1 = this.byteAtIndex(i);
                                if ((i + 4) < length) {
                                    byte2 = this.byteAtIndex(i + 1);
                                    byte3 = this.byteAtIndex(i + 2);
                                    byte4 = this.byteAtIndex(i + 3);
                                    byte5 = this.byteAtIndex(i + 4);
                                } else if ((i + 4) == length) {
                                    byte2 = this.byteAtIndex(i + 1);
                                    byte3 = this.byteAtIndex(i + 2);
                                    byte4 = this.byteAtIndex(i + 3);
                                    byte5 = null;
                                } else if ((i + 3) == length) {
                                    byte2 = this.byteAtIndex(i + 1);
                                    byte3 = this.byteAtIndex(i + 2);
                                    byte4 = null;
                                    byte5 = null;
                                } else if ((i + 2) == length) {
                                    byte2 = this.byteAtIndex(i + 1);
                                    byte3 = null;
                                    byte4 = null;
                                    byte5 = null;
                                } else {
                                    byte2 = null;
                                    byte3 = null;
                                    byte4 = null;
                                    byte5 = null;
                                }
                                char1 = this.base32mapIndex[byte1 >> 3];
                                char2 = char3 = char4 = char5 = char6 = char7 = char8 = "=";
                                if (byte2 != null) {
                                    char2 = this.base32mapIndex[((byte1 & 0x07) << 2) | ((byte2 & 0xc0) >> 6)];
                                    char3 = this.base32mapIndex[((byte2 & 0x3e) >> 1)];
                                    if (byte3 != null) {
                                        char4 = this.base32mapIndex[((byte2 & 0x01) << 4) | ((byte3 & 0xf0) >> 4)];
                                        if (byte4 != null) {
                                            char5 = this.base32mapIndex[((byte3 & 0x0f) << 1) | ((byte4 & 0x80) >> 7)];
                                            char6 = this.base32mapIndex[(byte4 & 0x7c) >> 2];
                                            if (byte5 != null) {
                                                char7 = this.base32mapIndex[((byte4 & 0x03) << 3) | ((byte5 & 0xe0) >> 5)];
                                                char8 = this.base32mapIndex[(byte5 & 0x1f)];
                                            } else {
                                                char7 = this.base32mapIndex[(byte4 & 0x03) << 3];
                                            }
                                        } else {
                                            char5 = this.base32mapIndex[(byte3 & 0x0f) << 1];
                                        }
                                    } else {
                                        char4 = this.base32mapIndex[(byte2 & 0x01) << 4];
                                    }
                                } else {
                                    char2 = this.base32mapIndex[(byte1 & 0x07) << 2];
                                }
                                result.push(char1 + char2 + char3 + char4 + char5 + char6 + char7 + char8);
                                i += 5;
                            }
                            return result.join("");
                        },
                        'split': function (aStartingIndex, anEndingIndex) {
                            throw Clipperz.Base.exception.AbstractMethod;
                        },
                        'increment': function () {
                            var i;
                            var done;
                            done = false;
                            i = this.length() - 1;
                            while ((i >= 0) && (done == false)) {
                                var currentByteValue;
                                currentByteValue = this.byteAtIndex(i);
                                if (currentByteValue == 0xff) {
                                    this.setByteAtIndex(0, i);
                                    if (i >= 0) {
                                        i--;
                                    } else {
                                        done = true;
                                    }
                                } else {
                                    this.setByteAtIndex(currentByteValue + 1, i);
                                    done = true;
                                }
                            }
                        },
                        'arrayValues': function () {
                            throw Clipperz.Base.exception.AbstractMethod;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.ByteArray_hex = function (args) {
                        this._value = "";
                        if (typeof (args) != 'undefined') {
                            if (args.constructor == Array) {
                                this.appendBytes(args);
                            } else if (args.constructor == String) {
                                if (args.indexOf("0x") == 0) {
                                    var value;
                                    value = args.substring(2).toLowerCase();
                                    if (/[0123456789abcdef]*/.test(value)) {
                                        if ((value.length % 2) == 0) {
                                            this._value = value;
                                        } else {
                                            this._value = "0" + value;
                                        }
                                    } else {
                                        MochiKit.Logging.logError("Clipperz.ByteArray should be inizialized with an hex string.");
                                        throw Clipperz.ByteArray.exception.InvalidValue;
                                    }
                                } else {
                                    var value;
                                    var i, c;
                                    c = args.length;
                                    value = new Array(c);
                                    for (i = 0; i < c; i++) {
                                        value.push(Clipperz.ByteArray.unicodeToUtf8HexString(args.charCodeAt(i)));
                                    }
                                    this._value = value.join("");
                                }
                            } else {
                                this.appendBytes(MochiKit.Base.extend(null, arguments));
                            }
                        }
                        return this;
                    }
                    Clipperz.ByteArray_hex.prototype = MochiKit.Base.update(new Clipperz.ByteArray_abstract(), {
                        'toString': function () {
                            return "Clipperz.ByteArray_hex";
                        },
                        'clone': function () {
                            var result;
                            result = this.newInstance();
                            result._value = this._value;
                            return result;
                        },
                        'newInstance': function () {
                            return new Clipperz.ByteArray_hex();
                        },
                        'reset': function () {
                            this._value = "";
                        },
                        'length': function () {
                            return (this._value.length / 2);
                        },
                        'appendBlock': function (aBlock) {
                            this._value = this._value += aBlock.toHexString().substring(2);
                            return this;
                        },
                        'appendByte': function (aValue) {
                            if (aValue != null) {
                                this.checkValue(aValue);
                                this._value += Clipperz.ByteArray.byteToHex(aValue);
                            }
                            return this;
                        },
                        'byteAtIndex': function (anIndex) {
                            return parseInt(this._value.substr(anIndex * 2, 2), 16);
                        },
                        'setByteAtIndex': function (aValue, anIndex) {
                            var missingBytes;
                            this.checkValue(aValue);
                            missingBytes = anIndex - this.length();
                            if (missingBytes < 0) {
                                var currentValue;
                                var firstCutIndex;
                                var secondCutIndex;
                                firstCutIndex = anIndex * 2;
                                secondCutIndex = firstCutIndex + 2;
                                currentValue = this._value;
                                this._value = currentValue.substring(0, firstCutIndex) + Clipperz.ByteArray.byteToHex(aValue) + currentValue.substring(secondCutIndex);
                            } else if (missingBytes == 0) {
                                this.appendByte(aValue);
                            } else {
                                var i, c;
                                c = missingBytes;
                                for (i = 0; i < c; i++) {
                                    this.appendByte(0);
                                }
                                this.appendByte(aValue);
                            }
                        },
                        'toHexString': function () {
                            return "0x" + this._value;
                        },
                        'split': function (aStartingIndex, anEndingIndex) {
                            var result;
                            var startingIndex;
                            var endingIndex;
                            result = this.newInstance();
                            startingIndex = aStartingIndex * 2;
                            if (typeof (anEndingIndex) != 'undefined') {
                                endingIndex = anEndingIndex * 2;
                                result._value = this._value.substring(startingIndex, endingIndex);
                            } else {
                                result._value = this._value.substring(startingIndex);
                            }
                            return result;
                        },
                        'arrayValues': function () {
                            var result;
                            var i, c;
                            c = this.length();
                            result = new Array(c);
                            for (i = 0; i < c; i++) {
                                result[i] = this.byteAtIndex(i);
                            }
                            return result;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.ByteArray_array = function (args) {
                        if (typeof (args) != 'undefined') {
                            if (args.constructor == Array) {
                                this._value = args.slice(0);
                            } else if (args.constructor == String) {
                                var result;
                                var value;
                                var i, c;
                                if (args.indexOf("0x") == 0) {
                                    value = args.substring(2).toLowerCase();
                                    if (/[0123456789abcdef]*/.test(value)) {
                                        if ((value.length % 2) != 0) {
                                            value = "0" + value;
                                        }
                                    } else {
                                        MochiKit.Logging.logError("Clipperz.ByteArray should be inizialized with an hex string.");
                                        throw Clipperz.ByteArray.exception.InvalidValue;
                                    }
                                    c = value.length / 2
                                    result = new Array(c);
                                    for (i = 0; i < c; i++) {
                                        result[i] = parseInt(value.substr(i * 2, 2), 16);
                                    }
                                } else {
                                    var unicode;
                                    result = [];
                                    c = args.length;
                                    for (i = 0; i < c; i++) {
                                        unicode = args.charCodeAt(i);
                                        if (unicode <= 0x7f) {
                                            result.push(unicode);
                                        } else if (unicode <= 0x7ff) {
                                            result.push((unicode >> 6) | 0xc0);
                                            result.push((unicode & 0x3F) | 0x80);
                                        } else if (unicode <= 0xffff) {
                                            result.push((unicode >> 12) | 0xe0);
                                            result.push(((unicode >> 6) & 0x3f) | 0x80);
                                            result.push((unicode & 0x3f) | 0x80);
                                        } else {
                                            result.push((unicode >> 18) | 0xf0);
                                            result.push(((unicode >> 12) & 0x3f) | 0x80);
                                            result.push(((unicode >> 6) & 0x3f) | 0x80);
                                            result.push((unicode & 0x3f) | 0x80);
                                        }
                                    }
                                }
                                this._value = result;
                            } else {
                                this._value = [];
                                this.appendBytes(MochiKit.Base.extend(null, arguments));
                            }
                        } else {
                            this._value = [];
                        }
                        return this;
                    }
                    Clipperz.ByteArray_array.prototype = MochiKit.Base.update(new Clipperz.ByteArray_abstract(), {
                        'toString': function () {
                            return "Clipperz.ByteArray_array";
                        },
                        'clone': function () {
                            var result;
                            result = this.newInstance();
                            result.appendBytes(this._value);
                            return result;
                        },
                        'newInstance': function () {
                            return new Clipperz.ByteArray_array();
                        },
                        'reset': function () {
                            this._value = [];
                        },
                        'length': function () {
                            return (this._value.length);
                        },
                        'appendBlock': function (aBlock) {
                            MochiKit.Base.extend(this._value, aBlock._value);
                            return this;
                        },
                        'appendByte': function (aValue) {
                            if (aValue != null) {
                                this.checkValue(aValue);
                                this._value.push(aValue);
                            }
                            return this;
                        },
                        'byteAtIndex': function (anIndex) {
                            return this._value[anIndex];
                        },
                        'setByteAtIndex': function (aValue, anIndex) {
                            var missingBytes;
                            this.checkValue(aValue);
                            missingBytes = anIndex - this.length();
                            if (missingBytes < 0) {
                                this._value[anIndex] = aValue;
                            } else if (missingBytes == 0) {
                                this._value.push(aValue);
                            } else {
                                var i, c;
                                c = missingBytes;
                                for (i = 0; i < c; i++) {
                                    this._value.push(0);
                                }
                                this._value.push(aValue);
                            }
                        },
                        'toHexString': function () {
                            var result;
                            var i, c;
                            result = "0x";
                            c = this.length();
                            for (i = 0; i < c; i++) {
                                result += Clipperz.ByteArray.byteToHex(this._value[i]);
                            }
                            return result;
                        },
                        'split': function (aStartingIndex, anEndingIndex) {
                            var result;
                            result = this.newInstance();
                            result._value = this._value.slice(aStartingIndex, anEndingIndex ? anEndingIndex : this.length());
                            return result;
                        },
                        'arrayValues': function () {
                            return this._value.slice(0);
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.ByteArray_string = function (args) {
                        this._value = "";
                        if (typeof (args) != 'undefined') {
                            if (args.constructor == Array) {
                                this.appendBytes(args);
                            } else if (args.constructor == String) {
                                var result;
                                var value;
                                var i, c;
                                if (args.indexOf("0x") == 0) {
                                    value = args.substring(2).toLowerCase();
                                    if (/[0123456789abcdef]*/.test(value)) {
                                        if ((value.length % 2) != 0) {
                                            value = "0" + value;
                                        }
                                    } else {
                                        MochiKit.Logging.logError("Clipperz.ByteArray should be inizialized with an hex string.");
                                        throw Clipperz.ByteArray.exception.InvalidValue;
                                    }
                                } else {
                                    value = "";
                                    c = args.length;
                                    for (i = 0; i < c; i++) {
                                        value += Clipperz.ByteArray.unicodeToUtf8HexString(args.charCodeAt(i));
                                    }
                                }
                                c = value.length / 2
                                for (i = 0; i < c; i++) {
                                    this.appendByte(parseInt(value.substr(i * 2, 2), 16));
                                }
                            } else {
                                this.appendBytes(MochiKit.Base.extend(null, arguments));
                            }
                        }
                        return this;
                    }
                    Clipperz.ByteArray_string.prototype = MochiKit.Base.update(new Clipperz.ByteArray_abstract(), {
                        'toString': function () {
                            return "Clipperz.ByteArray_string";
                        },
                        'clone': function () {
                            var result;
                            result = this.newInstance();
                            result._value = this._value;
                            return result;
                        },
                        'newInstance': function () {
                            return new Clipperz.ByteArray_string();
                        },
                        'reset': function () {
                            this._value = "";
                        },
                        'length': function () {
                            return (this._value.length);
                        },
                        'appendBlock': function (aBlock) {
                            this._value += aBlock._value;
                            return this;
                        },
                        'appendByte': function (aValue) {
                            if (aValue != null) {
                                this.checkValue(aValue);
                                this._value += String.fromCharCode(aValue);
                            }
                            return this;
                        },
                        'byteAtIndex': function (anIndex) {
                            return this._value.charCodeAt(anIndex);
                        },
                        'setByteAtIndex': function (aValue, anIndex) {
                            var missingBytes;
                            this.checkValue(aValue);
                            missingBytes = anIndex - this.length();
                            if (missingBytes < 0) {
                                this._value = this._value.substring(0, anIndex) + String.fromCharCode(aValue) + this._value.substring(anIndex + 1);
                            } else if (missingBytes == 0) {
                                this.appendByte(aValue);
                            } else {
                                var i, c;
                                c = missingBytes;
                                for (i = 0; i < c; i++) {
                                    this.appendByte(0);
                                }
                                this.appendByte(aValue);
                            }
                        },
                        'toHexString': function () {
                            var result;
                            var i, c;
                            result = "0x";
                            c = this.length();
                            for (i = 0; i < c; i++) {
                                result += Clipperz.ByteArray.byteToHex(this.byteAtIndex(i));
                            }
                            return result;
                        },
                        'split': function (aStartingIndex, anEndingIndex) {
                            var result;
                            result = this.newInstance();
                            result._value = this._value.substring(aStartingIndex, anEndingIndex ? anEndingIndex : this.length());
                            return result;
                        },
                        'arrayValues': function () {
                            var result;
                            var i, c;
                            c = this.length();
                            result = new Array(c);
                            for (i = 0; i < c; i++) {
                                result[i] = this.byteAtIndex(i);
                            }
                            return result;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.ByteArray = Clipperz.ByteArray_array;
                    Clipperz.ByteArray.byteToHex = function (aByte) {
                        return ((aByte < 16) ? "0" : "") + aByte.toString(16);
                    }
                    Clipperz.ByteArray.unicodeToUtf8HexString = function (aUnicode) {
                        var result;
                        var self;
                        self = Clipperz.ByteArray;
                        if (aUnicode <= 0x7f) {
                            result = self.byteToHex(aUnicode);
                        } else if (aUnicode <= 0x7ff) {
                            result = self.byteToHex((aUnicode >> 6) | 0xc0);
                            result += self.byteToHex((aUnicode & 0x3F) | 0x80);
                        } else if (aUnicode <= 0xffff) {
                            result = self.byteToHex((aUnicode >> 12) | 0xe0);
                            result += self.byteToHex(((aUnicode >> 6) & 0x3f) | 0x80);
                            result += self.byteToHex((aUnicode & 0x3f) | 0x80);
                        } else {
                            result = self.byteToHex((aUnicode >> 18) | 0xf0);
                            result += self.byteToHex(((aUnicode >> 12) & 0x3f) | 0x80);
                            result += self.byteToHex(((aUnicode >> 6) & 0x3f) | 0x80);
                            result += self.byteToHex((aUnicode & 0x3f) | 0x80);
                        }
                        return result;
                    }
                    Clipperz.ByteArray.pushUtf8BytesOfUnicodeChar = function (anArray, aUnicode) {
                        var self;
                        self = Clipperz.ByteArray;
                        if (aUnicode <= 0x7f) {
                            anArray.push(aUnicode);
                        } else if (aUnicode <= 0x7ff) {
                            anArray.push((aUnicode >> 6) | 0xc0);
                            anArray.push((aUnicode & 0x3F) | 0x80);
                        } else if (aUnicode <= 0xffff) {
                            anArray.push((aUnicode >> 12) | 0xe0);
                            anArray.push(((aUnicode >> 6) & 0x3f) | 0x80);
                            anArray.push((aUnicode & 0x3f) | 0x80);
                        } else {
                            anArray.push((aUnicode >> 18) | 0xf0);
                            anArray.push(((aUnicode >> 12) & 0x3f) | 0x80);
                            anArray.push(((aUnicode >> 6) & 0x3f) | 0x80);
                            anArray.push((aUnicode & 0x3f) | 0x80);
                        }
                    }
                    Clipperz.ByteArray.exception = {
                        InvalidValue: new MochiKit.Base.NamedError("Clipperz.ByteArray.exception.InvalidValue")
                    };
                    Clipperz.ByteArrayIterator = function (args) {
                        args = args || {};
                        this._byteArray = args.byteArray;
                        this._blockSize = args.blockSize;
                        this._finalPadding = args.finalPadding || false;
                        this._currentPosition = 0;
                        return this;
                    }
                    Clipperz.ByteArrayIterator.prototype = MochiKit.Base.update(null, {
                        'toString': function () {
                            return "Clipperz.ByteArrayIterator";
                        },
                        'blockSize': function () {
                            var result;
                            result = this._blockSize;
                            return result;
                        },
                        'currentPosition': function () {
                            var result;
                            result = this._currentPosition;
                            return result;
                        },
                        'byteArray': function () {
                            var result;
                            result = this._byteArray;
                            return result;
                        },
                        'finalPadding': function () {
                            var result;
                            result = this._finalPadding;
                            return result;
                        },
                        'nextBlock': function () {
                            var result;
                            var currentPosition;
                            var byteArrayLength;
                            currentPosition = this._currentPosition;
                            byteArrayLength = this.byteArray().length();
                            if (currentPosition < byteArrayLength) {
                                var i, c;
                                c = this.blockSize();
                                result = new Array(c);
                                for (i = 0; i < c; i++) {
                                    if (currentPosition < byteArrayLength) {
                                        result[i] = this.byteArray().byteAtIndex(currentPosition);
                                        currentPosition++;
                                    } else if (this.finalPadding() == true) {
                                        result[i] = 0;
                                    }
                                }
                                this._currentPosition = currentPosition;
                            } else {
                                result = null;
                            }
                            return result;
                        },
                        'nextBlockArray': function () {
                            var result;
                            var nextBlock;
                            nextBlock = this.nextBlock();
                            if (nextBlock != null) {
                                result = new Clipperz.ByteArray(nextBlock);
                            } else {
                                result = null;
                            }
                            return result;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.Base) == 'undefined') {
                        Clipperz.Base = {};
                    }
                    Clipperz.Base.VERSION = "0.1";
                    Clipperz.Base.NAME = "Clipperz.Base";
                    MochiKit.Base.update(Clipperz.Base, {
                        '__repr__': function () {
                            return "[" + this.NAME + " " + this.VERSION + "]";
                        },
                        'toString': function () {
                            return this.__repr__();
                        },
                        'trim': function (aValue) {
                            return aValue.replace(/^\s+|\s+$/g, "");
                        },
                        'stringToByteArray': function (aValue) {
                            var result;
                            var i, c;
                            result = [];
                            c = aValue.length;
                            for (i = 0; i < c; i++) {
                                result[i] = aValue.charCodeAt(i);
                            }
                            return result;
                        },
                        'byteArrayToString': function (anArrayOfBytes) {
                            var result;
                            var i, c;
                            result = "";
                            c = anArrayOfBytes.length;
                            for (i = 0; i < c; i++) {
                                result += String.fromCharCode(anArrayOfBytes[i]);
                            }
                            return result;
                        },
                        'getValueForKeyInFormContent': function (aFormContent, aKey) {
                            return aFormContent[1][MochiKit.Base.find(aFormContent[0], aKey)];
                        },
                        'indexOfObjectInArray': function (anObject, anArray) {
                            var result;
                            var i, c;
                            result = -1;
                            c = anArray.length;
                            for (i = 0;
                            ((i < c) && (result < 0)); i++) {
                                if (anArray[i] === anObject) {
                                    result = i;
                                }
                            }
                            return result;
                        },
                        'removeObjectAtIndexFromArray': function (anIndex, anArray) {
                            anArray.splice(anIndex, 1);
                        },
                        'removeObjectFromArray': function (anObject, anArray) {
                            var objectIndex;
                            objectIndex = Clipperz.Base.indexOfObjectInArray(anObject, anArray);
                            if (objectIndex > -1) {
                                Clipperz.Base.removeObjectAtIndexFromArray(objectIndex, anArray);
                            } else {}
                        },
                        'removeFromArray': function (anArray, anObject) {
                            return Clipperz.Base.removeObjectFromArray(anObject, anArray);
                        },
                        'splitStringAtFixedTokenSize': function (aString, aTokenSize) {
                            var result;
                            var stringToProcess;
                            stringToProcess = aString;
                            result = [];
                            if (stringToProcess != null) {
                                while (stringToProcess.length > aTokenSize) {
                                    result.push(stringToProcess.substring(0, aTokenSize));
                                    stringToProcess = stringToProcess.substring(aTokenSize);
                                }
                                result.push(stringToProcess);
                            }
                            return result;
                        },
                        'objectType': function (anObject) {
                            var result;
                            if (anObject == null) {
                                result = null;
                            } else {
                                result = typeof (anObject);
                                if (result == "object") {
                                    if (anObject instanceof Array) {
                                        result = 'array'
                                    } else if (anObject.constructor == Boolean) {
                                        result = 'boolean'
                                    } else if (anObject instanceof Date) {
                                        result = 'date'
                                    } else if (anObject instanceof Error) {
                                        result = 'error'
                                    } else if (anObject instanceof Function) {
                                        result = 'function'
                                    } else if (anObject.constructor == Number) {
                                        result = 'number'
                                    } else if (anObject.constructor == String) {
                                        result = 'string'
                                    } else if (anObject instanceof Object) {
                                        result = 'object'
                                    } else {
                                        throw Clipperz.Base.exception.UnknownType;
                                    }
                                }
                            }
                            return result;
                        },
                        'escapeHTML': function (aValue) {
                            var result;
                            result = aValue;
                            result = result.replace(/</g, "&lt;");
                            result = result.replace(/>/g, "&gt;");
                            return result;
                        },
                        'deepClone': function (anObject) {
                            var result;
                            result = Clipperz.Base.evalJSON(Clipperz.Base.serializeJSON(anObject));
                            return result;
                        },
                        'evalJSON': function (aString) {
                            return JSON2.parse(aString);
                        },
                        'serializeJSON': function (anObject) {
                            return JSON2.stringify(anObject);
                        },
                        'sanitizeString': function (aValue) {
                            var result;
                            if (Clipperz.Base.objectType(aValue) == 'string') {
                                result = aValue;
                                result = result.replace(/</img, "&lt;");
                                result = result.replace(/>/img, "&gt;");
                            } else {
                                result = aValue;
                            }
                            return result;
                        },
                        'exception': {
                            'AbstractMethod': new MochiKit.Base.NamedError("Clipperz.Base.exception.AbstractMethod"),
                            'UnknownType': new MochiKit.Base.NamedError("Clipperz.Base.exception.UnknownType"),
                            'VulnerabilityIssue': new MochiKit.Base.NamedError("Clipperz.Base.exception.VulnerabilityIssue")
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    MochiKit.Base.registerComparator('Object dummy comparator', function (a, b) {
                        return ((a.constructor == Object) && (b.constructor == Object));
                    }, function (a, b) {
                        var result;
                        var aKeys;
                        var bKeys;
                        aKeys = MochiKit.Base.keys(a).sort();
                        bKeys = MochiKit.Base.keys(b).sort();
                        result = MochiKit.Base.compare(aKeys, bKeys);
                        if (result == 0) {
                            var i, c;
                            c = aKeys.length;
                            for (i = 0;
                            (i < c) && (result == 0); i++) {
                                result = MochiKit.Base.compare(a[aKeys[i]], b[bKeys[i]]);
                            }
                        }
                        return result;
                    }, true);
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    Clipperz.CSVProcessor = function (args) {
                        args = args || {};
                        this._quoteChar = args['quoteChar'] || "\042";
                        this._eol = args['eol'] || "";
                        this._escapeChar = args['escapeChar'] || "\042";
                        this._separatorChar = args['separatorChar'] || ",";
                        this._binary = args['binary'] || false;
                        this._alwaysQuote = args['alwaysQuote'] || false;
                        return this;
                    }
                    Clipperz.CSVProcessor.prototype = MochiKit.Base.update(null, {
                        'quoteChar': function () {
                            return this._quoteChar;
                        },
                        'eol': function () {
                            return this._eol;
                        },
                        'escapeChar': function () {
                            return this._escapeChar;
                        },
                        'separatorChar': function () {
                            return this._separatorChar;
                        },
                        'setSeparatorChar': function (aValue) {
                            this._separatorChar = aValue;
                        },
                        'binary': function () {
                            return this._binary;
                        },
                        'alwaysQuote': function () {
                            return this._alwaysQuote;
                        },
                        'deferredParse_core': function (aContext) {
                            var deferredResult;
                            if (aContext.line == "") {
                                deferredResult = MochiKit.Async.succeed(aContext.result);
                            } else {
                                var fields;
                                fields = this.parseLine(aContext);
                                if (fields != null) {
                                    aContext.result.push(fields);
                                }
                                aContext.line = aContext.line.replace(/^\n*/g, "").replace(/\n$/g, "");
                                deferredResult = new MochiKit.Async.Deferred();
                                deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'importProcessorProgressUpdate', {
                                    status: 'processing',
                                    size: aContext.size,
                                    progress: (aContext.size - aContext.line.length)
                                });
                                deferredResult.addCallback(MochiKit.Async.wait, 0.2);
                                deferredResult.addCallback(MochiKit.Base.method(this, 'deferredParse_core'))
                                deferredResult.callback(aContext);
                            }
                            return deferredResult;
                        },
                        'deferredParse': function (aValue) {
                            var deferredResult;
                            var lines;
                            var context;
                            lines = aValue.replace(/\r?\n/g, "\n").replace(/^\n*/g, "").replace(/\n$/g, "");
                            context = {
                                line: lines,
                                size: lines.length,
                                result: []
                            }
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(this, 'deferredParse_core'));
                            deferredResult.callback(context);
                            return deferredResult;
                        },
                        'parseLine': function (aParameter) {
                            var result;
                            var palatable;
                            var line;
                            var processedField;
                            result = [];
                            do {
                                processedField = this.parseField(aParameter);
                                if (processedField != null) {
                                    result.push(processedField)
                                };
                            } while (processedField != null);
                            return result;
                        },
                        'parseField': function (aParameter) {
                            var result;
                            var inQuotes;
                            var validRegExp;
                            var singleQuoteBeginRegexp;
                            var escapedQuoteBeginRegexp;
                            var singleQuoteCommaEndRegexp;
                            var singleQuoteNewLineEndRegexp;
                            var commaBeginRegexp;
                            var newlineRegexp;
                            singleQuoteBeginRegexp = new RegExp("^" + '\\' + this.quoteChar());
                            escapedQuoteBeginRegexp = new RegExp("^" + '\\' + this.escapeChar() + '\\' + this.quoteChar());
                            singleQuoteCommaEndRegexp = new RegExp("^" + '\\' + this.quoteChar() + '\\' + this.separatorChar());
                            singleQuoteNewLineEndRegexp = new RegExp("^" + '\\' + this.quoteChar() + "\n");
                            commaBeginRegexp = new RegExp("^" + '\\' + this.separatorChar());
                            newlineRegexp = new RegExp("^\n");
                            inQuotes = false;
                            if (aParameter.line == "") {
                                if (aParameter.isThereAnEmptyFinalField == true) {
                                    aParameter.isThereAnEmptyFinalField = false;
                                    result = "";
                                } else {
                                    result = null;
                                }
                            } else {
                                if (this.binary()) {
                                    validRegexp = /^./;
                                } else {
                                    validRegexp = /^[\t\040-\176]/;
                                }
                                try {
                                    var done;
                                    done = false;
                                    result = "";
                                    while (!done) {
                                        if (aParameter.line.length < 1) {
                                            if (inQuotes == true) {
                                                throw new Error("CSV Parsing error; end of string, missing closing double-quote...");
                                            } else {
                                                done = true;
                                            }
                                        } else if (escapedQuoteBeginRegexp.test(aParameter.line)) {
                                            result += this.quoteChar();
                                            aParameter.line = aParameter.line.substr(2, aParameter.line.length - 1);
                                        } else if (singleQuoteBeginRegexp.test(aParameter.line)) {
                                            if (inQuotes == true) {
                                                if (aParameter.line.length == 1) {
                                                    aParameter.line = '';
                                                    done = true;
                                                } else if (singleQuoteCommaEndRegexp.test(aParameter.line)) {
                                                    aParameter.line = aParameter.line.substr(2, aParameter.line.length - 1);
                                                    done = true;
                                                } else if (singleQuoteNewLineEndRegexp.test(aParameter.line)) {
                                                    aParameter.line = aParameter.line.substr(1, aParameter.line.length - 1);
                                                    done = true;
                                                } else {
                                                    throw new Error("CSV Parsing error; double-quote, followed by undesirable character (bad character sequence)... " + aParameter.line);
                                                }
                                            } else {
                                                if (result == "") {
                                                    inQuotes = true;
                                                    aParameter.line = aParameter.line.substr(1, aParameter.line.length - 1);
                                                } else {
                                                    throw new Error("CSV Parsing error; double-quote, outside of double-quotes (bad character sequence)...");
                                                }
                                            }
                                        } else if (commaBeginRegexp.test(aParameter.line)) {
                                            if (inQuotes) {
                                                result += aParameter.line.substr(0, 1);
                                                aParameter.line = aParameter.line.substr(1, aParameter.line.length - 1);
                                            } else {
                                                aParameter.line = aParameter.line.substr(1, aParameter.line.length - 1);
                                                if (newlineRegexp.test(aParameter.line) || aParameter.line == "") {
                                                    aParameter.isThereAnEmptyFinalField = true;
                                                };
                                                done = true;
                                            }
                                        } else if (validRegexp.test(aParameter.line)) {
                                            result += aParameter.line.substr(0, 1);
                                            aParameter.line = aParameter.line.substr(1, aParameter.line.length - 1);
                                        } else if (newlineRegexp.test(aParameter.line)) {
                                            if (inQuotes == true) {
                                                result += aParameter.line.substr(0, 1);
                                                aParameter.line = aParameter.line.substr(1, aParameter.line.length - 1);
                                            } else {
                                                if (result == "") {
                                                    if (aParameter.isThereAnEmptyFinalField == true) {
                                                        aParameter.isThereAnEmptyFinalField = false;
                                                    } else {
                                                        result = null;
                                                    }
                                                }
                                                done = true;
                                            }
                                        } else {
                                            throw new Error("CSV Parsing error; an undesirable character... '" + aParameter.line.substr(0, 1) + "'");
                                        }
                                    }
                                } catch (exception) {
                                    MochiKit.Logging.logError(exception.message);
                                    throw exception;
                                }
                            }
                            return result;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    Clipperz.KeePassExportProcessor = function (args) {
                        args = args || {};
                        return this;
                    }
                    Clipperz.KeePassExportProcessor.prototype = MochiKit.Base.update(null, {
                        'deferredParse_core': function (aContext) {
                            var deferredResult;
                            if (aContext.line == "") {
                                deferredResult = MochiKit.Async.succeed(aContext.result);
                            } else {
                                var record;
                                record = this.parseRecord(aContext);
                                if (record != null) {
                                    aContext.result.push(record);
                                }
                                aContext.line = aContext.line.replace(/^\n*/g, "").replace(/\n$/g, "");
                                deferredResult = new MochiKit.Async.Deferred();
                                deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'importProcessorProgressUpdate', {
                                    status: 'processing',
                                    size: aContext.size,
                                    progress: (aContext.size - aContext.line.length)
                                });
                                deferredResult.addCallback(MochiKit.Async.wait, 0.2);
                                deferredResult.addCallback(MochiKit.Base.method(this, 'deferredParse_core'))
                                deferredResult.callback(aContext);
                            }
                            return deferredResult;
                        },
                        'deferredParse': function (aValue) {
                            var deferredResult;
                            var lines;
                            var context;
                            lines = aValue.replace(/\r?\n/g, "\n");
                            context = {
                                line: lines,
                                size: lines.length,
                                result: []
                            }
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(this, 'deferredParse_core'));
                            deferredResult.callback(context);
                            return deferredResult;
                        },
                        'parseRecord': function (aContext) {
                            var result;
                            var recordLabelRegexp;
                            var fieldLabelRegexp;
                            var fieldValueRegexp;
                            var fullLineRegexp;
                            recordLabelRegexp = new RegExp("^\\[(.*)\\]\\n");
                            fieldLabelRegexp = new RegExp("^(Group|Group Tree|UserName|URL|Password|Notes|UUID|Icon|Creation Time|Last Access|Last Modification|Expires|Attachment Description|Attachment|Valid until): ");
                            fieldValueRegexp = new RegExp("(.*)(\\n|$)");
                            fullLineRegexp = new RegExp("^(.*\\n)");
                            if (recordLabelRegexp.test(aContext.line) == true) {
                                var line;
                                line = aContext.line;
                                result = {};
                                result['Title'] = line.match(recordLabelRegexp)[1];
                                line = line.replace(/^.*\n/, "");
                                while (fieldLabelRegexp.test(line) == true) {
                                    var fieldName;
                                    var fieldValue;
                                    fieldName = RegExp.$1;
                                    line = RegExp.rightContext;
                                    fieldValue = line.match(fieldValueRegexp)[1];
                                    line = RegExp.rightContext;
                                    if (fieldName == 'Notes') {
                                        var isMultiline;
                                        isMultiline = false;
                                        if ((line != "") && (fieldLabelRegexp.test(line) == false) && (recordLabelRegexp.test(line) == false)) {
                                            fieldValue += '\n';
                                        }
                                        while ((line != "") && (fieldLabelRegexp.test(line) == false) && (recordLabelRegexp.test(line) == false)) {
                                            var newLineValue;
                                            newLineValue = line.match(fullLineRegexp)[1];
                                            if (newLineValue != "\n") {
                                                isMultiline = true;
                                            }
                                            fieldValue += newLineValue;
                                            line = RegExp.rightContext;
                                        }
                                        if (isMultiline) {
                                            fieldValue = fieldValue.replace(/\n$/g, "");
                                        } else {
                                            fieldValue = fieldValue.replace(/\n\n$/g, "");
                                        }
                                        line = line.replace(/^\n/, '');
                                    }
                                    result[fieldName] = fieldValue;
                                }
                            } else {
                                result = null;
                            }
                            aContext.line = line;
                            return result;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.Date) == 'undefined') {
                        Clipperz.Date = {};
                    }
                    Clipperz.Date.VERSION = "0.1";
                    Clipperz.Date.NAME = "Clipperz.Date";
                    MochiKit.Base.update(Clipperz.Date, {
                        '__repr__': function () {
                            return "[" + this.NAME + " " + this.VERSION + "]";
                        },
                        'toString': function () {
                            return this.__repr__();
                        },
                        'daysInMonth': [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],
                        'englishOrdinalDaySuffixForDate': function (aDate) {
                            var result;
                            switch (aDate.getDate()) {
                            case 1:
                            case 21:
                            case 31:
                                result = "st";
                                break;
                            case 2:
                            case 22:
                                result = "nd";
                                break;
                            case 3:
                            case 23:
                                result = "rd";
                                break;
                            default:
                                result = "th";
                                break;
                            }
                            return result;
                        },
                        'isLeapYear': function (aDate) {
                            var year;
                            var result;
                            year = aDate.getFullYear();
                            result = ((year & 0x03) == 0 && (year % 100 || (year % 400 == 0 && year)));
                            return result;
                        },
                        'getDaysInMonth': function (aDate) {
                            var result;
                            if (aDate.getMonth() == 1) {
                                Clipperz.Date.isLeapYear(aDate)
                                result += Clipperz.Date.isLeapYear(aDate) ? 29 : 28;
                            } else {
                                result = Clipperz.Date.daysInMonth[aDate.getMonth()];
                            }
                            return result;
                        },
                        'getTimezone': function (aDate) {
                            var result;
                            result = aDate.toString();
                            result = result.replace(/([A-Z]{3}) [0-9]{4}/, '$1');
                            result = result.replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/, "$1$2$3");
                            return result;
                        },
                        'getGMTOffset': function (aDate) {
                            return (aDate.getTimezoneOffset() > 0 ? "-" : "+") + MochiKit.Format.numberFormatter('00')(Math.floor(this.getTimezoneOffset() / 60)) + MochiKit.Format.numberFormatter('00')(this.getTimezoneOffset() % 60);
                        },
                        'dayOfYear': function (aDate) {
                            var result;
                            var i, c;
                            result = 0;
                            c = aDate.getMonth();
                            for (i = 0; i < c; i++) {
                                if (i == 1) {
                                    result += Clipperz.Date.isLeapYear(aDate) ? 29 : 28;
                                } else {
                                    result += Clipperz.Date.daysInMonth[i];
                                }
                            }
                            return num + this.getDate() - 1;
                        },
                        'getPHPLikeFormatCode': function (aCharacter) {
                            var result;
                            switch (aCharacter) {
                            case "d":
                                result = " + MochiKit.Format.numberFormatter('00')(aDate.getDate())";
                                break;
                            case "D":
                                result = " + aLocale['shortDays'][aDate.getDay()]";
                                break;
                            case "j":
                                result = " + aDate.getDate()";
                                break;
                            case "l":
                                result = " + aLocale['days'][aDate.getDay()]";
                                break;
                            case "S":
                                result = " + Clipperz.Date.englishOrdinalDaySuffixForDate(aDate)";
                                break;
                            case "w":
                                result = " + aDate.getDay()";
                                break;
                            case "z":
                                result = " + aDate.getDayOfYear()";
                                break;
                            case "W":
                                result = " + aDate.getWeekOfYear()";
                                break;
                            case "F":
                                result = " + aLocale['months'][aDate.getMonth()]";
                                break;
                            case "m":
                                result = " + MochiKit.Format.numberFormatter('00')(aDate.getMonth() + 1)";
                                break;
                            case "M":
                                result = " + aLocale['shortMonths'][aDate.getMonth()]";
                                break;
                            case "n":
                                result = " + (aDate.getMonth() + 1)";
                                break;
                            case "t":
                                result = " + Clipperz.Date.getDaysInMonth(aDate)";
                                break;
                            case "L":
                                result = " + (Clipperz.Date.isLeapYear(aDate) ? 1 : 0)";
                                break;
                            case "Y":
                                result = " + aDate.getFullYear()";
                                break;
                            case "y":
                                result = " + ('' + aDate.getFullYear()).substring(2, 4)";
                                break;
                            case "a":
                                result = " + (aDate.getHours() < 12 ? aLocale['amDesignation'] : aLocale['pmDesignation'])";
                                break;
                            case "A":
                                result = " + (aDate.getHours() < 12 ? aLocale['amDesignation'].toUpperCase() : aLocale['pmDesignation'].toUpperCase())";
                                break;
                            case "g":
                                result = " + ((aDate.getHours() %12) ? aDate.getHours() % 12 : 12)";
                                break;
                            case "G":
                                result = " + aDate.getHours()";
                                break;
                            case "h":
                                result = " + MochiKit.Format.numberFormatter('00')((aDate.getHours() %12) ? aDate.getHours() % 12 : 12)";
                                break;
                            case "H":
                                result = " + MochiKit.Format.numberFormatter('00')(aDate.getHours())";
                                break;
                            case "i":
                                result = " + MochiKit.Format.numberFormatter('00')(aDate.getMinutes())";
                                break;
                            case "s":
                                result = " + MochiKit.Format.numberFormatter('00')(aDate.getSeconds())";
                                break;
                            case "O":
                                result = " + aDate.getGMTOffset()";
                                break;
                            case "T":
                                result = " + Clipperz.Date.getTimezone(aDate)";
                                break;
                            case "Z":
                                result = " + ( + aDate.getTimezoneOffset() * -60)";
                                break;
                            default:
                                result = " + '" + aCharacter + "'";
                                break;
                            };
                            return result;
                        },
                        'formatDateWithPHPLikeTemplateAndLocale': function (aDate, aFormat, aLocale) {
                            var result;
                            var formatterCode;
                            var formatter;
                            var i, c;
                            formatterCode = "Clipperz.Date.__scratchFormatter = function(aDate, aLocale){return ''";
                            c = aFormat.length;
                            i = 0;
                            while (i < c) {
                                var character;
                                character = aFormat.charAt(i);
                                if (character == "\\") {
                                    i++;
                                    character = aFormat.charAt(i);
                                    formatterCode += " + '" + character + "'"
                                } else {
                                    formatterCode += Clipperz.Date.getPHPLikeFormatCode(character);
                                }
                                i++;
                            }
                            formatterCode += ";}";
                            eval(formatterCode);
                            result = Clipperz.Date.__scratchFormatter.call(this, aDate, aLocale);
                            delete Clipperz.Date.__scratchFormatter;
                            return result;
                        },
                        'parseDateWithPHPLikeTemplateAndLocale': function (aString, aFormat, aLocale) {
                            return new Date();
                        },
                        'formatDateWithUTCFormatAndLocale': function (aDate, aLocale) {
                            return aDate.toString();
                        },
                        'parseDateWithUTCFormatAndLocale': function (aValue, aLocale) {
                            return new Date(Date.parse(aValue));
                        },
                        'exception': {},
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.DOM) == 'undefined') {
                        Clipperz.DOM = {};
                    }
                    Clipperz.DOM.VERSION = "0.1";
                    Clipperz.DOM.NAME = "Clipperz.DOM";
                    MochiKit.Base.update(Clipperz.DOM, {
                        '__repr__': function () {
                            return "[" + this.NAME + " " + this.VERSION + "]";
                        },
                        'toString': function () {
                            return this.__repr__();
                        },
                        'selectOptionMatchingValue': function (aSelectElement, aValue, shouldUseCaseInsensitiveTest) {
                            var selectedOptionIndex;
                            var i, c;
                            selectedOptionIndex = -1;
                            c = aSelectElement.options.length;
                            for (i = 0;
                            (i < c) && (selectedOptionIndex == -1); i++) {
                                if (shouldUseCaseInsensitiveTest == true) {
                                    if (aSelectElement.options[i].value.toLowerCase() == aValue.toLowerCase()) {
                                        selectedOptionIndex = i;
                                    }
                                } else {
                                    if (aSelectElement.options[i].value == aValue) {
                                        selectedOptionIndex = i;
                                    }
                                }
                            }
                            if (selectedOptionIndex != -1) {
                                aSelectElement.selectedIndex = selectedOptionIndex;
                            }
                        },
                        'setFormContents': function (aNode, someValues) {
                            var node;
                            var values;
                            var i, c;
                            values = {};
                            c = someValues[0].length;
                            for (i = 0; i < c; i++) {
                                values[someValues[0][i]] = someValues[1][i];
                            }
                            if (typeof (aNode) == "undefined" || aNode === null) {
                                node = MochiKit.DOM._document.body;
                            } else {
                                node = MochiKit.DOM.getElement(aNode);
                            }
                            MochiKit.Base.nodeWalk(node, function (aNode) {
                                var result;
                                var name;
                                result = null;
                                name = aNode.name;
                                if (MochiKit.Base.isNotEmpty(name) && (typeof (values[name]) != 'undefined')) {
                                    var tagName;
                                    tagName = aNode.tagName.toUpperCase();
                                    if (tagName === "INPUT" && (aNode.type == "radio" || aNode.type == "checkbox")) {
                                        aNode.checked = values[name];
                                    } else if (tagName === "SELECT") {
                                        if (aNode.type == "select-one") {
                                            Clipperz.DOM.selectOptionMatchingValue(aNode, values[name]);
                                        } else {
                                            MochiKit.Logging.logWarning("### unhandled Select.type = 'select-multiple' condition");
                                        }
                                    } else if (tagName === "FORM" || tagName === "P" || tagName === "SPAN" || tagName === "DIV") {
                                        result = aNode.childNodes;
                                    } else {
                                        aNode.value = values[name]
                                    }
                                } else {
                                    result = aNode.childNodes;
                                }
                                return result;
                            });
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.Signal) == 'undefined') {
                        Clipperz.Signal = {};
                    }
                    Clipperz.Signal.VERSION = "0.1";
                    Clipperz.Signal.NAME = "Clipperz.Signal";
                    MochiKit.Base.update(Clipperz.Signal, {
                        '__repr__': function () {
                            return "[" + this.NAME + " " + this.VERSION + "]";
                        },
                        'toString': function () {
                            return this.__repr__();
                        },
                        'fireNativeEvent': function (element, eventName) {
                            if (element.fireEvent) {
                                element.fireEvent(eventName);
                            } else {
                                var event;
                                event = document.createEvent("HTMLEvents");
                                event.initEvent(eventName.replace(/^on/, ""), true, true);
                                element.dispatchEvent(event);
                            }
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.Style) == 'undefined') {
                        Clipperz.Style = {};
                    }
                    Clipperz.Style.VERSION = "0.1";
                    Clipperz.Style.NAME = "Clipperz.DOM";
                    MochiKit.Base.update(Clipperz.Style, {
                        '__repr__': function () {
                            return "[" + this.NAME + " " + this.VERSION + "]";
                        },
                        'toString': function () {
                            return this.__repr__();
                        },
                        'applyZebraStylesToTable': function (aTable) {
                            var tbody;
                            var tbodyRows;
                            var i, c;
                            tbody = MochiKit.DOM.getFirstElementByTagAndClassName('tbody', null, aTable);
                            tbodyRows = tbody.childNodes;
                            c = tbodyRows.length;
                            for (i = 0; i < c; i++) {
                                var element;
                                element = YAHOO.ext.Element.get(tbodyRows[i]);
                                element.addClass(((i % 2 == 0) ? "zebra_odd" : "zebra_even"));
                                element.removeClass(((i % 2 == 1) ? "zebra_odd" : "zebra_even"));
                            }
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    Clipperz.Set = function (args) {
                        args = args || {};
                        if (args.items != null) {
                            this._items = args.items.slice();
                        } else {
                            this._items = [];
                        }
                        return this;
                    }
                    Clipperz.Set.prototype = MochiKit.Base.update(null, {
                        'toString': function () {
                            return "Clipperz.Set";
                        },
                        'items': function () {
                            return this._items;
                        },
                        'popAnItem': function () {
                            var result;
                            if (this.size() > 0) {
                                result = this.items().pop();
                            } else {
                                result = null;
                            }
                            return result;
                        },
                        'allItems': function () {
                            return this.items();
                        },
                        'contains': function (anItem) {
                            return (this.indexOf(anItem) != -1);
                        },
                        'indexOf': function (anItem) {
                            var result;
                            var i, c;
                            result = -1;
                            c = this.items().length;
                            for (i = 0;
                            (i < c) && (result == -1); i++) {
                                if (this.items()[i] === anItem) {
                                    result = i;
                                }
                            }
                            return result;
                        },
                        'add': function (anItem) {
                            if (anItem.constructor == Array) {
                                MochiKit.Base.map(MochiKit.Base.bind(this, add, this), anItem);
                            } else {
                                if (!this.contains(anItem)) {
                                    this.items().push(anItem);
                                }
                            }
                        },
                        'debug': function () {
                            var i, c;
                            result = -1;
                            c = this.items().length;
                            for (i = 0; i < c; i++) {
                                alert("[" + i + "] " + this.items()[i].label);
                            }
                        },
                        'remove': function (anItem) {
                            if (anItem.constructor == Array) {
                                MochiKit.Base.map(MochiKit.Base.bind(this.remove, this), anItem);
                            } else {
                                var itemIndex;
                                itemIndex = this.indexOf(anItem);
                                if (itemIndex != -1) {
                                    this.items().splice(itemIndex, 1);
                                }
                            }
                        },
                        'size': function () {
                            return this.items().length;
                        },
                        'empty': function () {
                            this.items().splice(0, this.items().length);
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.NotificationCenter) == 'undefined') {
                        Clipperz.NotificationCenter = {};
                    }
                    Clipperz.NotificationCenterEvent = function (args) {
                        args = args || {};
                        this._source = args.source || null;
                        this._event = args.event || null;
                        this._parameters = args.parameters || null;
                        this._isSynchronous = args.isSynchronous || false;
                        return this;
                    }
                    Clipperz.NotificationCenterEvent.prototype = MochiKit.Base.update(null, {
                        'toString': function () {
                            return "Clipperz.NotificationCenterEvent";
                        },
                        'source': function () {
                            return this._source;
                        },
                        'setSource': function (aValue) {
                            this._source = aValue;
                        },
                        'event': function () {
                            return this._event;
                        },
                        'setEvent': function (aValue) {
                            this._event = aValue;
                        },
                        'parameters': function () {
                            return this._parameters;
                        },
                        'setParameters': function (aValue) {
                            this._parameters = aValue;
                        },
                        'isSynchronous': function () {
                            return this._isSynchronous;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.NotificationCenter = function (args) {
                        args = args || {};
                        this._listeners = {};
                        this._useSynchronousListenerInvocation = args.useSynchronousListenerInvocation || false;
                        this._timeoutDelay = args.timeoutDelay || 0.1;
                        return this;
                    }
                    Clipperz.NotificationCenter.prototype = MochiKit.Base.update(null, {
                        'toString': function () {
                            return "Clipperz.NotificationCenter";
                        },
                        'useSynchronousListenerInvocation': function () {
                            return this._useSynchronousListenerInvocation;
                        },
                        'setUseSynchronousListenerInvocation': function (aValue) {
                            this._useSynchronousListenerInvocation = aValue;
                        },
                        'timeoutDelay': function () {
                            return this._timeoutDelay;
                        },
                        'setTimeoutDelay': function (aValue) {
                            this._timeoutDelay = aValue;
                        },
                        'listeners': function () {
                            return this._listeners;
                        },
                        'register': function (aSource, anEvent, aListener, aMethod) {
                            var eventListeners;
                            var listenerInfo;
                            var eventKey;
                            if (anEvent != null) {
                                eventKey = anEvent;
                            } else {
                                eventKey = '_notificationCenter_matchAnyEvent_key_';
                            }
                            eventListeners = this.listeners()[eventKey];
                            if (eventListeners == null) {
                                eventListeners = [];
                                this.listeners()[eventKey] = eventListeners;
                            }
                            listenerInfo = {};
                            if (aSource != null) {
                                listenerInfo['source'] = aSource;
                            } else {
                                listenerInfo['source'] = 'any';
                            }
                            listenerInfo['listener'] = aListener;
                            listenerInfo['method'] = aMethod;
                            eventListeners.push(listenerInfo);
                            return listenerInfo;
                        },
                        'removeListenerInfoFromListeners': function (aListener, someListeners) {
                            var listenerIndex;
                            var i, c;
                            if (someListeners != null) {
                                listenerIndex = -1;
                                c = someListeners.length;
                                for (i = 0; i < c; i++) {
                                    var listenerInfo;
                                    listenerInfo = someListeners[i];
                                    if (listenerInfo['listener'] === aListener) {
                                        listenerIndex = i;
                                    }
                                }
                                if (listenerIndex != -1) {
                                    Clipperz.Base.removeObjectAtIndexFromArray(listenerIndex, someListeners);
                                }
                            }
                        },
                        'unregister': function (aListener, anEvent) {
                            if (anEvent == null) {
                                var allListenerList;
                                var i, c;
                                allListenerList = MochiKit.Base.values(this.listeners());
                                c = allListenerList.length;
                                for (i = 0; i < c; i++) {
                                    this.removeListenerInfoFromListeners(aListener, allListenerList[i]);
                                }
                            } else {
                                this.removeListenerInfoFromListeners(aListener, this.listeners()[anEvent]);
                            }
                        },
                        'asysnchronousListenerNotification': function (anEventInfo, aMethod, aListener) {
                            MochiKit.Async.callLater(this.timeoutDelay(), MochiKit.Base.partial(MochiKit.Base.methodcaller(aMethod, anEventInfo), aListener));
                        },
                        'processListenerInfo': function (anEventInfo, aListenerInfo) {
                            var shouldInvokeListenerMethod;
                            if (aListenerInfo['source'] == 'any') {
                                shouldInvokeListenerMethod = true;
                            } else {
                                if (aListenerInfo['source'] === anEventInfo.source()) {
                                    shouldInvokeListenerMethod = true;
                                } else {
                                    shouldInvokeListenerMethod = false;
                                }
                            }
                            if (shouldInvokeListenerMethod) {
                                if (this.useSynchronousListenerInvocation() || anEventInfo.isSynchronous()) {
                                    try {
                                        MochiKit.Base.method(aListenerInfo['listener'], aListenerInfo['method'], anEventInfo)();
                                    } catch (exception) {
                                        MochiKit.Logging.logError('NotificationCenter ERROR: unable to invoke method \'' + aListenerInfo['method'] + '\' on object ' + aListenerInfo['listener']);
                                    }
                                } else {
                                    var asyncMethod;
                                    asyncMethod = MochiKit.Base.bind(this.asysnchronousListenerNotification, this)
                                    MochiKit.Base.map(MochiKit.Base.partial(asyncMethod, anEventInfo, aListenerInfo['method']), [aListenerInfo['listener']]);
                                }
                            }
                        },
                        'notify': function (aSource, anEvent, someEventParameters, isSynchronous) {
                            var eventInfo;
                            var processInfoMethod;
                            eventInfo = new Clipperz.NotificationCenterEvent({
                                source: aSource,
                                event: anEvent,
                                parameters: someEventParameters,
                                isSynchronous: isSynchronous
                            });
                            processInfoMethod = MochiKit.Base.bind(this.processListenerInfo, this);
                            MochiKit.Base.map(MochiKit.Base.partial(processInfoMethod, eventInfo), this.listeners()[anEvent] || []);
                            MochiKit.Base.map(MochiKit.Base.partial(processInfoMethod, eventInfo), this.listeners()['_notificationCenter_matchAnyEvent_key_'] || []);
                        },
                        'deferredNotification': function (aSource, anEvent, someEventParameters, aDeferredResult) {
                            this.notify(aSource, anEvent, someEventParameters, true);
                            return aDeferredResult;
                        },
                        'resetStatus': function () {
                            this._listeners = {};
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.NotificationCenter.defaultNotificationCenter = new Clipperz.NotificationCenter();
                    Clipperz.NotificationCenter.notify = MochiKit.Base.method(Clipperz.NotificationCenter.defaultNotificationCenter, 'notify');
                    Clipperz.NotificationCenter.register = MochiKit.Base.method(Clipperz.NotificationCenter.defaultNotificationCenter, 'register');
                    Clipperz.NotificationCenter.unregister = MochiKit.Base.method(Clipperz.NotificationCenter.defaultNotificationCenter, 'unregister');
                    Clipperz.NotificationCenter.deferredNotification = MochiKit.Base.method(Clipperz.NotificationCenter.defaultNotificationCenter, 'deferredNotification');
                    try {
                        if (typeof (Clipperz.ByteArray) == 'undefined') {
                            throw "";
                        }
                    } catch (e) {
                        throw "Clipperz.Crypto.PRNG depends on Clipperz.ByteArray!";
                    }
                    if (typeof (Clipperz.Crypto) == 'undefined') {
                        Clipperz.Crypto = {};
                    }
                    if (typeof (Clipperz.Crypto.SHA) == 'undefined') {
                        Clipperz.Crypto.SHA = {};
                    }
                    Clipperz.Crypto.SHA.VERSION = "0.3";
                    Clipperz.Crypto.SHA.NAME = "Clipperz.Crypto.SHA";
                    MochiKit.Base.update(Clipperz.Crypto.SHA, {
                        '__repr__': function () {
                            return "[" + this.NAME + " " + this.VERSION + "]";
                        },
                        'toString': function () {
                            return this.__repr__();
                        },
                        'rotateRight': function (aValue, aNumberOfBits) {
                            var result;
                            result = (aValue >>> aNumberOfBits) | (aValue << (32 - aNumberOfBits));
                            return result;
                        },
                        'shiftRight': function (aValue, aNumberOfBits) {
                            var result;
                            result = aValue >>> aNumberOfBits;
                            return result;
                        },
                        'safeAdd': function () {
                            var result;
                            var i, c;
                            result = arguments[0];
                            c = arguments.length;
                            for (i = 1; i < c; i++) {
                                var lowerBytesSum;
                                lowerBytesSum = (result & 0xffff) + (arguments[i] & 0xffff);
                                result = (((result >> 16) + (arguments[i] >> 16) + (lowerBytesSum >> 16)) << 16) | (lowerBytesSum & 0xffff);
                            }
                            return result;
                        },
                        'sha256_array': function (aValue) {
                            var result;
                            var message;
                            var h0, h1, h2, h3, h4, h5, h6, h7;
                            var k;
                            var messageLength;
                            var messageLengthInBits;
                            var _i, _c;
                            var charBits;
                            var rotateRight;
                            var shiftRight;
                            var safeAdd;
                            var bytesPerBlock;
                            var currentMessageIndex;
                            bytesPerBlock = 512 / 8;
                            rotateRight = Clipperz.Crypto.SHA.rotateRight;
                            shiftRight = Clipperz.Crypto.SHA.shiftRight;
                            safeAdd = Clipperz.Crypto.SHA.safeAdd;
                            charBits = 8;
                            h0 = 0x6a09e667;
                            h1 = 0xbb67ae85;
                            h2 = 0x3c6ef372;
                            h3 = 0xa54ff53a;
                            h4 = 0x510e527f;
                            h5 = 0x9b05688c;
                            h6 = 0x1f83d9ab;
                            h7 = 0x5be0cd19;
                            k = [0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5, 0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174, 0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da, 0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967, 0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85, 0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070, 0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3, 0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2];
                            message = aValue;
                            messageLength = message.length;
                            message.push(0x80);
                            _c = (512 - (((messageLength + 1) * charBits) % 512) - 64) / charBits;
                            for (_i = 0; _i < _c; _i++) {
                                message.push(0x00);
                            }
                            messageLengthInBits = messageLength * charBits;
                            message.push(0x00);
                            message.push(0x00);
                            message.push(0x00);
                            message.push(0x00);
                            message.push((messageLengthInBits >> 24) & 0xff);
                            message.push((messageLengthInBits >> 16) & 0xff);
                            message.push((messageLengthInBits >> 8) & 0xff);
                            message.push(messageLengthInBits & 0xff);
                            currentMessageIndex = 0;
                            while (currentMessageIndex < message.length) {
                                var w;
                                var a, b, c, d, e, f, g, h;
                                w = Array(64);
                                _c = 16;
                                for (_i = 0; _i < _c; _i++) {
                                    var _j;
                                    _j = currentMessageIndex + _i * 4;
                                    w[_i] = (message[_j] << 24) | (message[_j + 1] << 16) | (message[_j + 2] << 8) | (message[_j + 3] << 0);
                                }
                                _c = 64;
                                for (_i = 16; _i < _c; _i++) {
                                    var s0, s1;
                                    s0 = (rotateRight(w[_i - 15], 7)) ^ (rotateRight(w[_i - 15], 18)) ^ (shiftRight(w[_i - 15], 3));
                                    s1 = (rotateRight(w[_i - 2], 17)) ^ (rotateRight(w[_i - 2], 19)) ^ (shiftRight(w[_i - 2], 10));
                                    w[_i] = safeAdd(w[_i - 16], s0, w[_i - 7], s1);
                                }
                                a = h0;
                                b = h1;
                                c = h2;
                                d = h3;
                                e = h4;
                                f = h5;
                                g = h6;
                                h = h7;
                                _c = 64;
                                for (_i = 0; _i < _c; _i++) {
                                    var s0, s1, ch, maj, t1, t2;
                                    s0 = (rotateRight(a, 2)) ^ (rotateRight(a, 13)) ^ (rotateRight(a, 22));
                                    maj = (a & b) ^ (a & c) ^ (b & c);
                                    t2 = safeAdd(s0, maj);
                                    s1 = (rotateRight(e, 6)) ^ (rotateRight(e, 11)) ^ (rotateRight(e, 25));
                                    ch = (e & f) ^ ((~e) & g);
                                    t1 = safeAdd(h, s1, ch, k[_i], w[_i]);
                                    h = g;
                                    g = f;
                                    f = e;
                                    e = safeAdd(d, t1);
                                    d = c;
                                    c = b;
                                    b = a;
                                    a = safeAdd(t1, t2);
                                }
                                h0 = safeAdd(h0, a);
                                h1 = safeAdd(h1, b);
                                h2 = safeAdd(h2, c);
                                h3 = safeAdd(h3, d);
                                h4 = safeAdd(h4, e);
                                h5 = safeAdd(h5, f);
                                h6 = safeAdd(h6, g);
                                h7 = safeAdd(h7, h);
                                currentMessageIndex += bytesPerBlock;
                            }
                            result = new Array(256 / 8);
                            result[0] = (h0 >> 24) & 0xff;
                            result[1] = (h0 >> 16) & 0xff;
                            result[2] = (h0 >> 8) & 0xff;
                            result[3] = h0 & 0xff;
                            result[4] = (h1 >> 24) & 0xff;
                            result[5] = (h1 >> 16) & 0xff;
                            result[6] = (h1 >> 8) & 0xff;
                            result[7] = h1 & 0xff;
                            result[8] = (h2 >> 24) & 0xff;
                            result[9] = (h2 >> 16) & 0xff;
                            result[10] = (h2 >> 8) & 0xff;
                            result[11] = h2 & 0xff;
                            result[12] = (h3 >> 24) & 0xff;
                            result[13] = (h3 >> 16) & 0xff;
                            result[14] = (h3 >> 8) & 0xff;
                            result[15] = h3 & 0xff;
                            result[16] = (h4 >> 24) & 0xff;
                            result[17] = (h4 >> 16) & 0xff;
                            result[18] = (h4 >> 8) & 0xff;
                            result[19] = h4 & 0xff;
                            result[20] = (h5 >> 24) & 0xff;
                            result[21] = (h5 >> 16) & 0xff;
                            result[22] = (h5 >> 8) & 0xff;
                            result[23] = h5 & 0xff;
                            result[24] = (h6 >> 24) & 0xff;
                            result[25] = (h6 >> 16) & 0xff;
                            result[26] = (h6 >> 8) & 0xff;
                            result[27] = h6 & 0xff;
                            result[28] = (h7 >> 24) & 0xff;
                            result[29] = (h7 >> 16) & 0xff;
                            result[30] = (h7 >> 8) & 0xff;
                            result[31] = h7 & 0xff;
                            return result;
                        },
                        'sha256': function (aValue) {
                            var result;
                            var resultArray;
                            var valueArray;
                            valueArray = aValue.arrayValues();
                            resultArray = Clipperz.Crypto.SHA.sha256_array(valueArray);
                            result = new Clipperz.ByteArray(resultArray);
                            return result;
                        },
                        'sha_d256': function (aValue) {
                            var result;
                            var resultArray;
                            var valueArray;
                            valueArray = aValue.arrayValues();
                            resultArray = Clipperz.Crypto.SHA.sha256_array(valueArray);
                            resultArray = Clipperz.Crypto.SHA.sha256_array(resultArray);
                            result = new Clipperz.ByteArray(resultArray);
                            return result;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    try {
                        if (typeof (Clipperz.ByteArray) == 'undefined') {
                            throw "";
                        }
                    } catch (e) {
                        throw "Clipperz.Crypto.AES depends on Clipperz.ByteArray!";
                    }
                    if (typeof (Clipperz.Crypto.AES) == 'undefined') {
                        Clipperz.Crypto.AES = {};
                    }
                    Clipperz.Crypto.AES.DeferredExecutionContext = function (args) {
                        args = args || {};
                        this._key = args.key;
                        this._message = args.message;
                        this._result = args.message.clone();
                        this._nonce = args.nonce;
                        this._messageLength = this._message.length();
                        this._messageArray = this._message.arrayValues();
                        this._resultArray = this._result.arrayValues();
                        this._nonceArray = this._nonce.arrayValues();
                        this._executionStep = 0;
                        return this;
                    }
                    Clipperz.Crypto.AES.DeferredExecutionContext.prototype = MochiKit.Base.update(null, {
                        'key': function () {
                            return this._key;
                        },
                        'message': function () {
                            return this._message;
                        },
                        'messageLength': function () {
                            return this._messageLength;
                        },
                        'result': function () {
                            return new Clipperz.ByteArray(this.resultArray());
                        },
                        'nonce': function () {
                            return this._nonce;
                        },
                        'messageArray': function () {
                            return this._messageArray;
                        },
                        'resultArray': function () {
                            return this._resultArray;
                        },
                        'nonceArray': function () {
                            return this._nonceArray;
                        },
                        'elaborationChunkSize': function () {
                            return Clipperz.Crypto.AES.DeferredExecution.chunkSize;
                        },
                        'executionStep': function () {
                            return this._executionStep;
                        },
                        'setExecutionStep': function (aValue) {
                            this._executionStep = aValue;
                        },
                        'pause': function (aValue) {
                            return MochiKit.Async.wait(Clipperz.Crypto.AES.DeferredExecution.pauseTime, aValue);
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.Crypto.AES.Key = function (args) {
                        args = args || {};
                        this._key = args.key;
                        this._keySize = args.keySize || this.key().length();
                        if (this.keySize() == 128 / 8) {
                            this._b = 176;
                            this._numberOfRounds = 10;
                        } else if (this.keySize() == 256 / 8) {
                            this._b = 240;
                            this._numberOfRounds = 14;
                        } else {
                            MochiKit.Logging.logError("AES unsupported key size: " + (this.keySize() * 8) + " bits");
                            throw Clipperz.Crypto.AES.exception.UnsupportedKeySize;
                        }
                        this._stretchedKey = null;
                        return this;
                    }
                    Clipperz.Crypto.AES.Key.prototype = MochiKit.Base.update(null, {
                        'asString': function () {
                            return "Clipperz.Crypto.AES.Key (" + this.key().toHexString() + ")";
                        },
                        'key': function () {
                            return this._key;
                        },
                        'keySize': function () {
                            return this._keySize;
                        },
                        'b': function () {
                            return this._b;
                        },
                        'numberOfRounds': function () {
                            return this._numberOfRounds;
                        },
                        'keyScheduleCore': function (aWord, aRoundConstantsIndex) {
                            var result;
                            var sbox;
                            sbox = Clipperz.Crypto.AES.sbox();
                            result = [sbox[aWord[1]] ^ Clipperz.Crypto.AES.roundConstants()[aRoundConstantsIndex], sbox[aWord[2]], sbox[aWord[3]], sbox[aWord[0]]];
                            return result;
                        },
                        'xorWithPreviousStretchValues': function (aKey, aWord, aPreviousWordIndex) {
                            var result;
                            var i, c;
                            result = [];
                            c = 4;
                            for (i = 0; i < c; i++) {
                                result[i] = aWord[i] ^ aKey.byteAtIndex(aPreviousWordIndex + i);
                            }
                            return result;
                        },
                        'sboxShakeup': function (aWord) {
                            var result;
                            var sbox;
                            var i, c;
                            result = [];
                            sbox = Clipperz.Crypto.AES.sbox();
                            c = 4;
                            for (i = 0; i < c; i++) {
                                result[i] = sbox[aWord[i]];
                            }
                            return result;
                        },
                        'stretchKey': function (aKey) {
                            var currentWord;
                            var keyLength;
                            var previousStretchIndex;
                            var i, c;
                            keyLength = aKey.length();
                            previousStretchIndex = keyLength - this.keySize();
                            currentWord = [aKey.byteAtIndex(keyLength - 4), aKey.byteAtIndex(keyLength - 3), aKey.byteAtIndex(keyLength - 2), aKey.byteAtIndex(keyLength - 1)];
                            currentWord = this.keyScheduleCore(currentWord, keyLength / this.keySize());
                            if (this.keySize() == 256 / 8) {
                                c = 8;
                            } else if (this.keySize() == 128 / 8) {
                                c = 4;
                            }
                            for (i = 0; i < c; i++) {
                                if (i == 4) {
                                    currentWord = this.sboxShakeup(currentWord);
                                }
                                currentWord = this.xorWithPreviousStretchValues(aKey, currentWord, previousStretchIndex + (i * 4));
                                aKey.appendBytes(currentWord);
                            }
                            return aKey;
                        },
                        'stretchedKey': function () {
                            if (this._stretchedKey == null) {
                                var stretchedKey;
                                stretchedKey = this.key().clone();
                                while (stretchedKey.length() < this.keySize()) {
                                    stretchedKey.appendByte(0);
                                }
                                while (stretchedKey.length() < this.b()) {
                                    stretchedKey = this.stretchKey(stretchedKey);
                                }
                                this._stretchedKey = stretchedKey.split(0, this.b());
                            }
                            return this._stretchedKey;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.Crypto.AES.State = function (args) {
                        args = args || {};
                        this._data = args.block;
                        this._key = args.key;
                        return this;
                    }
                    Clipperz.Crypto.AES.State.prototype = MochiKit.Base.update(null, {
                        'key': function () {
                            return this._key;
                        },
                        'data': function () {
                            return this._data;
                        },
                        'setData': function (aValue) {
                            this._data = aValue;
                        },
                        'addRoundKey': function (aRoundNumber) {
                            var data;
                            var stretchedKey;
                            var firstStretchedKeyIndex;
                            var i, c;
                            data = this.data();
                            stretchedKey = this.key().stretchedKey();
                            firstStretchedKeyIndex = aRoundNumber * (128 / 8);
                            c = 128 / 8;
                            for (i = 0; i < c; i++) {
                                data[i] = data[i] ^ stretchedKey.byteAtIndex(firstStretchedKeyIndex + i);
                            }
                        },
                        'subBytes': function () {
                            var i, c;
                            var data;
                            var sbox;
                            data = this.data();
                            sbox = Clipperz.Crypto.AES.sbox();
                            c = 16;
                            for (i = 0; i < c; i++) {
                                data[i] = sbox[data[i]];
                            }
                        },
                        'shiftRows': function () {
                            var newValue;
                            var data;
                            var shiftMapping;
                            var i, c;
                            newValue = new Array(16);
                            data = this.data();
                            shiftMapping = Clipperz.Crypto.AES.shiftRowMapping();
                            c = 16;
                            for (i = 0; i < c; i++) {
                                newValue[i] = data[shiftMapping[i]];
                            }
                            for (i = 0; i < c; i++) {
                                data[i] = newValue[i];
                            }
                        },
                        'mixColumns': function () {
                            var data;
                            var i, c;
                            var a_1;
                            var a_2;
                            a_1 = new Array(4);
                            a_2 = new Array(4);
                            data = this.data();
                            c = 4;
                            for (i = 0; i < c; i++) {
                                var blockIndex;
                                var ii, cc;
                                blockIndex = i * 4;
                                cc = 4;
                                for (ii = 0; ii < cc; ii++) {
                                    var value;
                                    value = data[blockIndex + ii];
                                    a_1[ii] = value;
                                    a_2[ii] = (value & 0x80) ? ((value << 1) ^ 0x011b) : (value << 1);
                                }
                                data[blockIndex + 0] = a_2[0] ^ a_1[1] ^ a_2[1] ^ a_1[2] ^ a_1[3];
                                data[blockIndex + 1] = a_1[0] ^ a_2[1] ^ a_1[2] ^ a_2[2] ^ a_1[3];
                                data[blockIndex + 2] = a_1[0] ^ a_1[1] ^ a_2[2] ^ a_1[3] ^ a_2[3];
                                data[blockIndex + 3] = a_1[0] ^ a_2[0] ^ a_1[1] ^ a_1[2] ^ a_2[3];
                            }
                        },
                        'spinRound': function (aRoundNumber) {
                            this.addRoundKey(aRoundNumber);
                            this.subBytes();
                            this.shiftRows();
                            this.mixColumns();
                        },
                        'spinLastRound': function () {
                            this.addRoundKey(this.key().numberOfRounds() - 1);
                            this.subBytes();
                            this.shiftRows();
                            this.addRoundKey(this.key().numberOfRounds());
                        },
                        'encrypt': function () {
                            var i, c;
                            c = this.key().numberOfRounds() - 1;
                            for (i = 0; i < c; i++) {
                                this.spinRound(i);
                            }
                            this.spinLastRound();
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.Crypto.AES.VERSION = "0.1";
                    Clipperz.Crypto.AES.NAME = "Clipperz.Crypto.AES";
                    MochiKit.Base.update(Clipperz.Crypto.AES, {
                        '__repr__': function () {
                            return "[" + this.NAME + " " + this.VERSION + "]";
                        },
                        'toString': function () {
                            return this.__repr__();
                        },
                        '_sbox': null,
                        'sbox': function () {
                            if (Clipperz.Crypto.AES._sbox == null) {
                                Clipperz.Crypto.AES._sbox = [0x63, 0x7c, 0x77, 0x7b, 0xf2, 0x6b, 0x6f, 0xc5, 0x30, 0x01, 0x67, 0x2b, 0xfe, 0xd7, 0xab, 0x76, 0xca, 0x82, 0xc9, 0x7d, 0xfa, 0x59, 0x47, 0xf0, 0xad, 0xd4, 0xa2, 0xaf, 0x9c, 0xa4, 0x72, 0xc0, 0xb7, 0xfd, 0x93, 0x26, 0x36, 0x3f, 0xf7, 0xcc, 0x34, 0xa5, 0xe5, 0xf1, 0x71, 0xd8, 0x31, 0x15, 0x04, 0xc7, 0x23, 0xc3, 0x18, 0x96, 0x05, 0x9a, 0x07, 0x12, 0x80, 0xe2, 0xeb, 0x27, 0xb2, 0x75, 0x09, 0x83, 0x2c, 0x1a, 0x1b, 0x6e, 0x5a, 0xa0, 0x52, 0x3b, 0xd6, 0xb3, 0x29, 0xe3, 0x2f, 0x84, 0x53, 0xd1, 0x00, 0xed, 0x20, 0xfc, 0xb1, 0x5b, 0x6a, 0xcb, 0xbe, 0x39, 0x4a, 0x4c, 0x58, 0xcf, 0xd0, 0xef, 0xaa, 0xfb, 0x43, 0x4d, 0x33, 0x85, 0x45, 0xf9, 0x02, 0x7f, 0x50, 0x3c, 0x9f, 0xa8, 0x51, 0xa3, 0x40, 0x8f, 0x92, 0x9d, 0x38, 0xf5, 0xbc, 0xb6, 0xda, 0x21, 0x10, 0xff, 0xf3, 0xd2, 0xcd, 0x0c, 0x13, 0xec, 0x5f, 0x97, 0x44, 0x17, 0xc4, 0xa7, 0x7e, 0x3d, 0x64, 0x5d, 0x19, 0x73, 0x60, 0x81, 0x4f, 0xdc, 0x22, 0x2a, 0x90, 0x88, 0x46, 0xee, 0xb8, 0x14, 0xde, 0x5e, 0x0b, 0xdb, 0xe0, 0x32, 0x3a, 0x0a, 0x49, 0x06, 0x24, 0x5c, 0xc2, 0xd3, 0xac, 0x62, 0x91, 0x95, 0xe4, 0x79, 0xe7, 0xc8, 0x37, 0x6d, 0x8d, 0xd5, 0x4e, 0xa9, 0x6c, 0x56, 0xf4, 0xea, 0x65, 0x7a, 0xae, 0x08, 0xba, 0x78, 0x25, 0x2e, 0x1c, 0xa6, 0xb4, 0xc6, 0xe8, 0xdd, 0x74, 0x1f, 0x4b, 0xbd, 0x8b, 0x8a, 0x70, 0x3e, 0xb5, 0x66, 0x48, 0x03, 0xf6, 0x0e, 0x61, 0x35, 0x57, 0xb9, 0x86, 0xc1, 0x1d, 0x9e, 0xe1, 0xf8, 0x98, 0x11, 0x69, 0xd9, 0x8e, 0x94, 0x9b, 0x1e, 0x87, 0xe9, 0xce, 0x55, 0x28, 0xdf, 0x8c, 0xa1, 0x89, 0x0d, 0xbf, 0xe6, 0x42, 0x68, 0x41, 0x99, 0x2d, 0x0f, 0xb0, 0x54, 0xbb, 0x16];
                            }
                            return Clipperz.Crypto.AES._sbox;
                        },
                        '_shiftRowMapping': null,
                        'shiftRowMapping': function () {
                            if (Clipperz.Crypto.AES._shiftRowMapping == null) {
                                Clipperz.Crypto.AES._shiftRowMapping = [0, 5, 10, 15, 4, 9, 14, 3, 8, 13, 2, 7, 12, 1, 6, 11];
                            }
                            return Clipperz.Crypto.AES._shiftRowMapping;
                        },
                        '_mixColumnsMatrix': null,
                        'mixColumnsMatrix': function () {
                            if (Clipperz.Crypto.AES._mixColumnsMatrix == null) {
                                Clipperz.Crypto.AES._mixColumnsMatrix = [
                                    [2, 3, 1, 1],
                                    [1, 2, 3, 1],
                                    [1, 1, 2, 3],
                                    [3, 1, 1, 2]
                                ];
                            }
                            return Clipperz.Crypto.AES._mixColumnsMatrix;
                        },
                        '_roundConstants': null,
                        'roundConstants': function () {
                            if (Clipperz.Crypto.AES._roundConstants == null) {
                                Clipperz.Crypto.AES._roundConstants = [, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54, 108, 216, 171, 77, 154];
                            }
                            return Clipperz.Crypto.AES._roundConstants;
                        },
                        'incrementNonce': function (aNonce) {
                            var i;
                            var done;
                            done = false;
                            i = aNonce.length - 1;
                            while ((i >= 0) && (done == false)) {
                                var currentByteValue;
                                currentByteValue = aNonce[i];
                                if (currentByteValue == 0xff) {
                                    aNonce[i] = 0;
                                    if (i >= 0) {
                                        i--;
                                    } else {
                                        done = true;
                                    }
                                } else {
                                    aNonce[i] = currentByteValue + 1;
                                    done = true;
                                }
                            }
                        },
                        'encryptBlock': function (aKey, aBlock) {
                            var result;
                            var state;
                            state = new Clipperz.Crypto.AES.State({
                                block: aBlock,
                                key: aKey
                            });
                            state.encrypt();
                            result = state.data();
                            return result;
                        },
                        'encryptBlocks': function (aKey, aMessage, aNonce) {
                            var result;
                            var nonce;
                            var self;
                            var messageIndex;
                            var messageLength;
                            var blockSize;
                            self = Clipperz.Crypto.AES;
                            blockSize = 128 / 8;
                            messageLength = aMessage.length;
                            nonce = aNonce;
                            result = aMessage;
                            messageIndex = 0;
                            while (messageIndex < messageLength) {
                                var encryptedBlock;
                                var i, c;
                                self.incrementNonce(nonce);
                                encryptedBlock = self.encryptBlock(aKey, nonce);
                                if ((messageLength - messageIndex) > blockSize) {
                                    c = blockSize;
                                } else {
                                    c = messageLength - messageIndex;
                                }
                                for (i = 0; i < c; i++) {
                                    result[messageIndex + i] = result[messageIndex + i] ^ encryptedBlock[i];
                                }
                                messageIndex += blockSize;
                            }
                            return result;
                        },
                        'encrypt': function (aKey, someData, aNonce) {
                            var result;
                            var nonce;
                            var encryptedData;
                            var key;
                            key = new Clipperz.Crypto.AES.Key({
                                key: aKey
                            });
                            nonce = aNonce ? aNonce.clone() : Clipperz.Crypto.PRNG.defaultRandomGenerator().getRandomBytes(128 / 8);
                            encryptedData = Clipperz.Crypto.AES.encryptBlocks(key, someData.arrayValues(), nonce.arrayValues());
                            result = nonce.appendBytes(encryptedData);
                            return result;
                        },
                        'decrypt': function (aKey, someData) {
                            var result;
                            var nonce;
                            var encryptedData;
                            var decryptedData;
                            var dataIterator;
                            var key;
                            key = new Clipperz.Crypto.AES.Key({
                                key: aKey
                            });
                            encryptedData = someData.arrayValues();
                            nonce = encryptedData.slice(0, (128 / 8));
                            encryptedData = encryptedData.slice(128 / 8);
                            decryptedData = Clipperz.Crypto.AES.encryptBlocks(key, encryptedData, nonce);
                            result = new Clipperz.ByteArray(decryptedData);
                            return result;
                        },
                        'deferredEncryptExecutionChunk': function (anExecutionContext) {
                            var result;
                            var nonce;
                            var self;
                            var messageIndex;
                            var messageLength;
                            var blockSize;
                            var executionLimit;
                            self = Clipperz.Crypto.AES;
                            blockSize = 128 / 8;
                            messageLength = anExecutionContext.messageArray().length;
                            nonce = anExecutionContext.nonceArray();
                            result = anExecutionContext.resultArray();
                            messageIndex = anExecutionContext.executionStep();
                            executionLimit = messageIndex + anExecutionContext.elaborationChunkSize();
                            executionLimit = Math.min(executionLimit, messageLength);
                            while (messageIndex < executionLimit) {
                                var encryptedBlock;
                                var i, c;
                                self.incrementNonce(nonce);
                                encryptedBlock = self.encryptBlock(anExecutionContext.key(), nonce);
                                if ((executionLimit - messageIndex) > blockSize) {
                                    c = blockSize;
                                } else {
                                    c = executionLimit - messageIndex;
                                }
                                for (i = 0; i < c; i++) {
                                    result[messageIndex + i] = result[messageIndex + i] ^ encryptedBlock[i];
                                }
                                messageIndex += blockSize;
                            }
                            anExecutionContext.setExecutionStep(messageIndex);
                            return anExecutionContext;
                        },
                        'deferredEncryptBlocks': function (anExecutionContext) {
                            var deferredResult;
                            var messageSize;
                            var i, c;
                            var now;
                            messageSize = anExecutionContext.messageLength();
                            deferredResult = new MochiKit.Async.Deferred();
                            c = Math.ceil(messageSize / anExecutionContext.elaborationChunkSize());
                            for (i = 0; i < c; i++) {
                                deferredResult.addCallback(Clipperz.Crypto.AES.deferredEncryptExecutionChunk);
                                deferredResult.addCallback(MochiKit.Base.method(anExecutionContext, 'pause'));
                            }
                            deferredResult.callback(anExecutionContext);
                            return deferredResult;
                        },
                        'deferredEncrypt': function (aKey, someData, aNonce) {
                            var deferredResult;
                            var executionContext;
                            var result;
                            var nonce;
                            var key;
                            key = new Clipperz.Crypto.AES.Key({
                                key: aKey
                            });
                            nonce = aNonce ? aNonce.clone() : Clipperz.Crypto.PRNG.defaultRandomGenerator().getRandomBytes(128 / 8);
                            executionContext = new Clipperz.Crypto.AES.DeferredExecutionContext({
                                key: key,
                                message: someData,
                                nonce: nonce
                            });
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(Clipperz.Crypto.AES.deferredEncryptBlocks);
                            deferredResult.addCallback(function (anExecutionContext) {
                                var result;
                                result = anExecutionContext.nonce().clone();
                                result.appendBytes(anExecutionContext.resultArray());
                                return result;
                            });
                            deferredResult.callback(executionContext)
                            return deferredResult;
                        },
                        'deferredDecrypt': function (aKey, someData) {
                            var deferredResult
                            var nonce;
                            var message;
                            var key;
                            key = new Clipperz.Crypto.AES.Key({
                                key: aKey
                            });
                            nonce = someData.split(0, (128 / 8));
                            message = someData.split(128 / 8);
                            executionContext = new Clipperz.Crypto.AES.DeferredExecutionContext({
                                key: key,
                                message: message,
                                nonce: nonce
                            });
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(Clipperz.Crypto.AES.deferredEncryptBlocks);
                            deferredResult.addCallback(function (anExecutionContext) {
                                return anExecutionContext.result();
                            });
                            deferredResult.callback(executionContext);
                            return deferredResult;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.Crypto.AES.DeferredExecution = {
                        'chunkSize': 4096,
                        'pauseTime': 0.2
                    }
                    Clipperz.Crypto.AES.exception = {
                        'UnsupportedKeySize': new MochiKit.Base.NamedError("Clipperz.Crypto.AES.exception.UnsupportedKeySize")
                    };
                    try {
                        if (typeof (Clipperz.ByteArray) == 'undefined') {
                            throw "";
                        }
                    } catch (e) {
                        throw "Clipperz.Crypto.PRNG depends on Clipperz.ByteArray!";
                    }
                    try {
                        if (typeof (Clipperz.Crypto.SHA) == 'undefined') {
                            throw "";
                        }
                    } catch (e) {
                        throw "Clipperz.Crypto.PRNG depends on Clipperz.Crypto.SHA!";
                    }
                    try {
                        if (typeof (Clipperz.Crypto.AES) == 'undefined') {
                            throw "";
                        }
                    } catch (e) {
                        throw "Clipperz.Crypto.PRNG depends on Clipperz.Crypto.AES!";
                    }
                    if (typeof (Clipperz.Crypto.PRNG) == 'undefined') {
                        Clipperz.Crypto.PRNG = {};
                    }
                    Clipperz.Crypto.PRNG.EntropyAccumulator = function (args) {
                        args = args || {};
                        this._stack = new Clipperz.ByteArray();
                        this._maxStackLengthBeforeHashing = args.maxStackLengthBeforeHashing || 256;
                        return this;
                    }
                    Clipperz.Crypto.PRNG.EntropyAccumulator.prototype = MochiKit.Base.update(null, {
                        'toString': function () {
                            return "Clipperz.Crypto.PRNG.EntropyAccumulator";
                        },
                        'stack': function () {
                            return this._stack;
                        },
                        'setStack': function (aValue) {
                            this._stack = aValue;
                        },
                        'resetStack': function () {
                            this.stack().reset();
                        },
                        'maxStackLengthBeforeHashing': function () {
                            return this._maxStackLengthBeforeHashing;
                        },
                        'addRandomByte': function (aValue) {
                            this.stack().appendByte(aValue);
                            if (this.stack().length() > this.maxStackLengthBeforeHashing()) {
                                this.setStack(Clipperz.Crypto.SHA.sha_d256(this.stack()));
                            }
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.Crypto.PRNG.RandomnessSource = function (args) {
                        args = args || {};
                        MochiKit.Base.bindMethods(this);
                        this._generator = args.generator || null;
                        this._sourceId = args.sourceId || null;
                        this._boostMode = args.boostMode || false;
                        this._nextPoolIndex = 0;
                        return this;
                    }
                    Clipperz.Crypto.PRNG.RandomnessSource.prototype = MochiKit.Base.update(null, {
                        'generator': function () {
                            return this._generator;
                        },
                        'setGenerator': function (aValue) {
                            this._generator = aValue;
                        },
                        'boostMode': function () {
                            return this._boostMode;
                        },
                        'setBoostMode': function (aValue) {
                            this._boostMode = aValue;
                        },
                        'sourceId': function () {
                            return this._sourceId;
                        },
                        'setSourceId': function (aValue) {
                            this._sourceId = aValue;
                        },
                        'nextPoolIndex': function () {
                            return this._nextPoolIndex;
                        },
                        'incrementNextPoolIndex': function () {
                            this._nextPoolIndex = ((this._nextPoolIndex + 1) % this.generator().numberOfEntropyAccumulators());
                        },
                        'updateGeneratorWithValue': function (aRandomValue) {
                            if (this.generator() != null) {
                                this.generator().addRandomByte(this.sourceId(), this.nextPoolIndex(), aRandomValue);
                                this.incrementNextPoolIndex();
                            }
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.Crypto.PRNG.TimeRandomnessSource = function (args) {
                        args = args || {};
                        this._intervalTime = args.intervalTime || 1000;
                        Clipperz.Crypto.PRNG.RandomnessSource.call(this, args);
                        this.collectEntropy();
                        return this;
                    }
                    Clipperz.Crypto.PRNG.TimeRandomnessSource.prototype = MochiKit.Base.update(new Clipperz.Crypto.PRNG.RandomnessSource, {
                        'intervalTime': function () {
                            return this._intervalTime;
                        },
                        'collectEntropy': function () {
                            var now;
                            var entropyByte;
                            var intervalTime;
                            now = new Date();
                            entropyByte = (now.getTime() & 0xff);
                            intervalTime = this.intervalTime();
                            if (this.boostMode() == true) {
                                intervalTime = intervalTime / 9;
                            }
                            this.updateGeneratorWithValue(entropyByte);
                            setTimeout(this.collectEntropy, intervalTime);
                        },
                        'numberOfRandomBits': function () {
                            return 5;
                        },
                        'pollingFrequency': function () {
                            return 10;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.Crypto.PRNG.MouseRandomnessSource = function (args) {
                        args = args || {};
                        Clipperz.Crypto.PRNG.RandomnessSource.call(this, args);
                        this._numberOfBitsToCollectAtEachEvent = 4;
                        this._randomBitsCollector = 0;
                        this._numberOfRandomBitsCollected = 0;
                        MochiKit.Signal.connect(document, 'onmousemove', this, 'collectEntropy');
                        return this;
                    }
                    Clipperz.Crypto.PRNG.MouseRandomnessSource.prototype = MochiKit.Base.update(new Clipperz.Crypto.PRNG.RandomnessSource, {
                        'numberOfBitsToCollectAtEachEvent': function () {
                            return this._numberOfBitsToCollectAtEachEvent;
                        },
                        'randomBitsCollector': function () {
                            return this._randomBitsCollector;
                        },
                        'setRandomBitsCollector': function (aValue) {
                            this._randomBitsCollector = aValue;
                        },
                        'appendRandomBitsToRandomBitsCollector': function (aValue) {
                            var collectedBits;
                            var numberOfRandomBitsCollected;
                            numberOfRandomBitsCollected = this.numberOfRandomBitsCollected();
                            collectetBits = this.randomBitsCollector() | (aValue << numberOfRandomBitsCollected);
                            this.setRandomBitsCollector(collectetBits);
                            numberOfRandomBitsCollected += this.numberOfBitsToCollectAtEachEvent();
                            if (numberOfRandomBitsCollected == 8) {
                                this.updateGeneratorWithValue(collectetBits);
                                numberOfRandomBitsCollected = 0;
                                this.setRandomBitsCollector(0);
                            }
                            this.setNumberOfRandomBitsCollected(numberOfRandomBitsCollected)
                        },
                        'numberOfRandomBitsCollected': function () {
                            return this._numberOfRandomBitsCollected;
                        },
                        'setNumberOfRandomBitsCollected': function (aValue) {
                            this._numberOfRandomBitsCollected = aValue;
                        },
                        'collectEntropy': function (anEvent) {
                            var mouseLocation;
                            var randomBit;
                            var mask;
                            mask = 0xffffffff >>> (32 - this.numberOfBitsToCollectAtEachEvent());
                            mouseLocation = anEvent.mouse().client;
                            randomBit = ((mouseLocation.x ^ mouseLocation.y) & mask);
                            this.appendRandomBitsToRandomBitsCollector(randomBit)
                        },
                        'numberOfRandomBits': function () {
                            return 1;
                        },
                        'pollingFrequency': function () {
                            return 10;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.Crypto.PRNG.KeyboardRandomnessSource = function (args) {
                        args = args || {};
                        Clipperz.Crypto.PRNG.RandomnessSource.call(this, args);
                        this._randomBitsCollector = 0;
                        this._numberOfRandomBitsCollected = 0;
                        MochiKit.Signal.connect(document, 'onkeypress', this, 'collectEntropy');
                        return this;
                    }
                    Clipperz.Crypto.PRNG.KeyboardRandomnessSource.prototype = MochiKit.Base.update(new Clipperz.Crypto.PRNG.RandomnessSource, {
                        'randomBitsCollector': function () {
                            return this._randomBitsCollector;
                        },
                        'setRandomBitsCollector': function (aValue) {
                            this._randomBitsCollector = aValue;
                        },
                        'appendRandomBitToRandomBitsCollector': function (aValue) {
                            var collectedBits;
                            var numberOfRandomBitsCollected;
                            numberOfRandomBitsCollected = this.numberOfRandomBitsCollected();
                            collectetBits = this.randomBitsCollector() | (aValue << numberOfRandomBitsCollected);
                            this.setRandomBitsCollector(collectetBits);
                            numberOfRandomBitsCollected++;
                            if (numberOfRandomBitsCollected == 8) {
                                this.updateGeneratorWithValue(collectetBits);
                                numberOfRandomBitsCollected = 0;
                                this.setRandomBitsCollector(0);
                            }
                            this.setNumberOfRandomBitsCollected(numberOfRandomBitsCollected)
                        },
                        'numberOfRandomBitsCollected': function () {
                            return this._numberOfRandomBitsCollected;
                        },
                        'setNumberOfRandomBitsCollected': function (aValue) {
                            this._numberOfRandomBitsCollected = aValue;
                        },
                        'collectEntropy': function (anEvent) {},
                        'numberOfRandomBits': function () {
                            return 1;
                        },
                        'pollingFrequency': function () {
                            return 10;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.Crypto.PRNG.Fortuna = function (args) {
                        var i, c;
                        args = args || {};
                        this._key = args.seed || null;
                        if (this._key == null) {
                            this._counter = 0;
                            this._key = new Clipperz.ByteArray();
                        } else {
                            this._counter = 1;
                        }
                        this._aesKey = null;
                        this._firstPoolReseedLevel = args.firstPoolReseedLevel || 32 || 64;
                        this._numberOfEntropyAccumulators = args.numberOfEntropyAccumulators || 32;
                        this._accumulators = [];
                        c = this.numberOfEntropyAccumulators();
                        for (i = 0; i < c; i++) {
                            this._accumulators.push(new Clipperz.Crypto.PRNG.EntropyAccumulator());
                        }
                        this._randomnessSources = [];
                        this._reseedCounter = 0;
                        return this;
                    }
                    Clipperz.Crypto.PRNG.Fortuna.prototype = MochiKit.Base.update(null, {
                        'toString': function () {
                            return "Clipperz.Crypto.PRNG.Fortuna";
                        },
                        'key': function () {
                            return this._key;
                        },
                        'setKey': function (aValue) {
                            this._key = aValue;
                            this._aesKey = null;
                        },
                        'aesKey': function () {
                            if (this._aesKey == null) {
                                this._aesKey = new Clipperz.Crypto.AES.Key({
                                    key: this.key()
                                });
                            }
                            return this._aesKey;
                        },
                        'accumulators': function () {
                            return this._accumulators;
                        },
                        'firstPoolReseedLevel': function () {
                            return this._firstPoolReseedLevel;
                        },
                        'reseedCounter': function () {
                            return this._reseedCounter;
                        },
                        'incrementReseedCounter': function () {
                            this._reseedCounter = this._reseedCounter + 1;
                        },
                        'reseed': function () {
                            var newKeySeed;
                            var reseedCounter;
                            var reseedCounterMask;
                            var i, c;
                            newKeySeed = this.key();
                            this.incrementReseedCounter();
                            reseedCounter = this.reseedCounter();
                            c = this.numberOfEntropyAccumulators();
                            reseedCounterMask = 0xffffffff >>> (32 - c);
                            for (i = 0; i < c; i++) {
                                if ((i == 0) || ((reseedCounter & (reseedCounterMask >>> (c - i))) == 0)) {
                                    newKeySeed.appendBlock(this.accumulators()[i].stack());
                                    this.accumulators()[i].resetStack();
                                }
                            }
                            if (reseedCounter == 1) {
                                c = this.randomnessSources().length;
                                for (i = 0; i < c; i++) {
                                    this.randomnessSources()[i].setBoostMode(false);
                                }
                            }
                            this.setKey(Clipperz.Crypto.SHA.sha_d256(newKeySeed));
                            if (reseedCounter == 1) {
                                MochiKit.Logging.logDebug("### PRNG.readyToGenerateRandomBytes");
                                MochiKit.Signal.signal(this, 'readyToGenerateRandomBytes');
                            }
                            MochiKit.Signal.signal(this, 'reseeded');
                        },
                        'isReadyToGenerateRandomValues': function () {
                            return this.reseedCounter() != 0;
                        },
                        'entropyLevel': function () {
                            return this.accumulators()[0].stack().length() + (this.reseedCounter() * this.firstPoolReseedLevel());
                        },
                        'counter': function () {
                            return this._counter;
                        },
                        'incrementCounter': function () {
                            this._counter += 1;
                        },
                        'counterBlock': function () {
                            var result;
                            result = new Clipperz.ByteArray().appendWords(this.counter(), 0, 0, 0);
                            return result;
                        },
                        'getRandomBlock': function () {
                            var result;
                            result = new Clipperz.ByteArray(Clipperz.Crypto.AES.encryptBlock(this.aesKey(), this.counterBlock().arrayValues()));
                            this.incrementCounter();
                            return result;
                        },
                        'getRandomBytes': function (aSize) {
                            var result;
                            if (this.isReadyToGenerateRandomValues()) {
                                var i, c;
                                var newKey;
                                result = new Clipperz.ByteArray();
                                c = Math.ceil(aSize / (128 / 8));
                                for (i = 0; i < c; i++) {
                                    result.appendBlock(this.getRandomBlock());
                                }
                                if (result.length() != aSize) {
                                    result = result.split(0, aSize);
                                }
                                newKey = this.getRandomBlock().appendBlock(this.getRandomBlock());
                                this.setKey(newKey);
                            } else {
                                MochiKit.Logging.logWarning("Fortuna generator has not enough entropy, yet!");
                                throw Clipperz.Crypto.PRNG.exception.NotEnoughEntropy;
                            }
                            return result;
                        },
                        'addRandomByte': function (aSourceId, aPoolId, aRandomValue) {
                            var selectedAccumulator;
                            selectedAccumulator = this.accumulators()[aPoolId];
                            selectedAccumulator.addRandomByte(aRandomValue);
                            if (aPoolId == 0) {
                                MochiKit.Signal.signal(this, 'addedRandomByte')
                                if (selectedAccumulator.stack().length() > this.firstPoolReseedLevel()) {
                                    this.reseed();
                                }
                            }
                        },
                        'numberOfEntropyAccumulators': function () {
                            return this._numberOfEntropyAccumulators;
                        },
                        'randomnessSources': function () {
                            return this._randomnessSources;
                        },
                        'addRandomnessSource': function (aRandomnessSource) {
                            aRandomnessSource.setGenerator(this);
                            aRandomnessSource.setSourceId(this.randomnessSources().length);
                            this.randomnessSources().push(aRandomnessSource);
                            if (this.isReadyToGenerateRandomValues() == false) {
                                aRandomnessSource.setBoostMode(true);
                            }
                        },
                        'deferredEntropyCollection': function (aValue) {
                            var result;
                            if (this.isReadyToGenerateRandomValues()) {
                                result = aValue;
                            } else {
                                var deferredResult;
                                Clipperz.NotificationCenter.notify(this, 'updatedProgressState', 'collectingEntropy', true);
                                deferredResult = new MochiKit.Async.Deferred();
                                deferredResult.addCallback(MochiKit.Base.partial(MochiKit.Async.succeed, aValue));
                                MochiKit.Signal.connect(this, 'readyToGenerateRandomBytes', deferredResult, 'callback');
                                result = deferredResult;
                            }
                            return result;
                        },
                        'fastEntropyAccumulationForTestingPurpose': function () {
                            while (!this.isReadyToGenerateRandomValues()) {
                                this.addRandomByte(Math.floor(Math.random() * 32), Math.floor(Math.random() * 32), Math.floor(Math.random() * 256));
                            }
                        },
                        'dump': function (appendToDoc) {
                            var tbl;
                            var i, c;
                            tbl = document.createElement("table");
                            tbl.border = 0;
                            with(tbl.style) {
                                border = "1px solid lightgrey";
                                fontFamily = 'Helvetica, Arial, sans-serif';
                                fontSize = '8pt';
                            }
                            var hdr = tbl.createTHead();
                            var hdrtr = hdr.insertRow(0); {
                                var ntd;
                                ntd = hdrtr.insertCell(0);
                                ntd.style.borderBottom = "1px solid lightgrey";
                                ntd.style.borderRight = "1px solid lightgrey";
                                ntd.appendChild(document.createTextNode("#"));
                                ntd = hdrtr.insertCell(1);
                                ntd.style.borderBottom = "1px solid lightgrey";
                                ntd.style.borderRight = "1px solid lightgrey";
                                ntd.appendChild(document.createTextNode("s"));
                                ntd = hdrtr.insertCell(2);
                                ntd.colSpan = this.firstPoolReseedLevel();
                                ntd.style.borderBottom = "1px solid lightgrey";
                                ntd.style.borderRight = "1px solid lightgrey";
                                ntd.appendChild(document.createTextNode("base values"));
                                ntd = hdrtr.insertCell(3);
                                ntd.colSpan = 20;
                                ntd.style.borderBottom = "1px solid lightgrey";
                                ntd.appendChild(document.createTextNode("extra values"));
                            }
                            c = this.accumulators().length;
                            for (i = 0; i < c; i++) {
                                var currentAccumulator;
                                var bdytr;
                                var bdytd;
                                var ii, cc;
                                currentAccumulator = this.accumulators()[i]
                                bdytr = tbl.insertRow(true);
                                bdytd = bdytr.insertCell(0);
                                bdytd.style.borderRight = "1px solid lightgrey";
                                bdytd.style.color = "lightgrey";
                                bdytd.appendChild(document.createTextNode("" + i));
                                bdytd = bdytr.insertCell(1);
                                bdytd.style.borderRight = "1px solid lightgrey";
                                bdytd.style.color = "gray";
                                bdytd.appendChild(document.createTextNode("" + currentAccumulator.stack().length()));
                                cc = Math.max(currentAccumulator.stack().length(), this.firstPoolReseedLevel());
                                for (ii = 0; ii < cc; ii++) {
                                    var cellText;
                                    bdytd = bdytr.insertCell(ii + 2);
                                    if (ii < currentAccumulator.stack().length()) {
                                        cellText = Clipperz.ByteArray.byteToHex(currentAccumulator.stack().byteAtIndex(ii));
                                    } else {
                                        cellText = "_";
                                    }
                                    if (ii == (this.firstPoolReseedLevel() - 1)) {
                                        bdytd.style.borderRight = "1px solid lightgrey";
                                    }
                                    bdytd.appendChild(document.createTextNode(cellText));
                                }
                            }
                            if (appendToDoc) {
                                var ne = document.createElement("div");
                                ne.id = "entropyGeneratorStatus";
                                with(ne.style) {
                                    fontFamily = "Courier New, monospace";
                                    fontSize = "12px";
                                    lineHeight = "16px";
                                    borderTop = "1px solid black";
                                    padding = "10px";
                                }
                                if (document.getElementById(ne.id)) {
                                    MochiKit.DOM.swapDOM(ne.id, ne);
                                } else {
                                    document.body.appendChild(ne);
                                }
                                ne.appendChild(tbl);
                            }
                            return tbl;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.Crypto.PRNG.Random = function (args) {
                        args = args || {};
                        return this;
                    }
                    Clipperz.Crypto.PRNG.Random.prototype = MochiKit.Base.update(null, {
                        'toString': function () {
                            return "Clipperz.Crypto.PRNG.Random";
                        },
                        'getRandomBytes': function (aSize) {
                            var result;
                            var i, c;
                            result = new Clipperz.ByteArray()
                            c = aSize || 1;
                            for (i = 0; i < c; i++) {
                                result.appendByte((Math.random() * 255) & 0xff);
                            }
                            return result;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    _clipperz_crypt_prng_defaultPRNG = null;
                    Clipperz.Crypto.PRNG.defaultRandomGenerator = function () {
                        if (_clipperz_crypt_prng_defaultPRNG == null) {
                            _clipperz_crypt_prng_defaultPRNG = new Clipperz.Crypto.PRNG.Fortuna(); {
                                var newRandomnessSource;
                                newRandomnessSource = new Clipperz.Crypto.PRNG.TimeRandomnessSource({
                                    intervalTime: 111
                                });
                                _clipperz_crypt_prng_defaultPRNG.addRandomnessSource(newRandomnessSource);
                            } {
                                var newRandomnessSource;
                                newRandomnessSource = new Clipperz.Crypto.PRNG.MouseRandomnessSource();
                                _clipperz_crypt_prng_defaultPRNG.addRandomnessSource(newRandomnessSource);
                            } {
                                var newRandomnessSource;
                                newRandomnessSource = new Clipperz.Crypto.PRNG.KeyboardRandomnessSource();
                                _clipperz_crypt_prng_defaultPRNG.addRandomnessSource(newRandomnessSource);
                            }
                        }
                        return _clipperz_crypt_prng_defaultPRNG;
                    };
                    Clipperz.Crypto.PRNG.exception = {
                        NotEnoughEntropy: new MochiKit.Base.NamedError("Clipperz.Crypto.PRNG.exception.NotEnoughEntropy")
                    };
                    MochiKit.DOM.addLoadEvent(Clipperz.Crypto.PRNG.defaultRandomGenerator);
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.Crypto) == 'undefined') {
                        Clipperz.Crypto = {};
                    }
                    bpe = 0;
                    mask = 0;
                    radix = mask + 1;
                    digitsStr = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz_=!@#$%^&*()[]{}|;:,.<>/?`~ \\\'\"+-';
                    for (bpe = 0;
                    (1 << (bpe + 1)) > (1 << bpe); bpe++);
                    bpe >>= 1;
                    mask = (1 << bpe) - 1;
                    radix = mask + 1;
                    one = int2bigInt(1, 1, 1);
                    t = new Array(0);
                    ss = t;
                    s0 = t;
                    s1 = t;
                    s2 = t;
                    s3 = t;
                    s4 = t;
                    s5 = t;
                    s6 = t;
                    s7 = t;
                    T = t;
                    sa = t;
                    mr_x1 = t;
                    mr_r = t;
                    mr_a = t;
                    eg_v = t;
                    eg_u = t;
                    eg_A = t;
                    eg_B = t;
                    eg_C = t;
                    eg_D = t;
                    md_q1 = t;
                    md_q2 = t;
                    md_q3 = t;
                    md_r = t;
                    md_r1 = t;
                    md_r2 = t;
                    md_tt = t;
                    primes = t;
                    pows = t;
                    s_i = t;
                    s_i2 = t;
                    s_R = t;
                    s_rm = t;
                    s_q = t;
                    s_n1 = t;
                    s_a = t;
                    s_r2 = t;
                    s_n = t;
                    s_b = t;
                    s_d = t;
                    s_x1 = t;
                    s_x2 = t, s_aa = t;

                    function findPrimes(n) {
                        var i, s, p, ans;
                        s = new Array(n);
                        for (i = 0; i < n; i++)
                        s[i] = 0;
                        s[0] = 2;
                        p = 0;
                        for (; s[p] < n;) {
                            for (i = s[p] * s[p]; i < n; i += s[p])
                            s[i] = 1;
                            p++;
                            s[p] = s[p - 1] + 1;
                            for (; s[p] < n && s[s[p]]; s[p]++);
                        }
                        ans = new Array(p);
                        for (i = 0; i < p; i++)
                        ans[i] = s[i];
                        return ans;
                    }

                    function millerRabin(x, b) {
                        var i, j, k, s;
                        if (mr_x1.length != x.length) {
                            mr_x1 = dup(x);
                            mr_r = dup(x);
                            mr_a = dup(x);
                        }
                        copyInt_(mr_a, b);
                        copy_(mr_r, x);
                        copy_(mr_x1, x);
                        addInt_(mr_r, - 1);
                        addInt_(mr_x1, - 1);
                        k = 0;
                        for (i = 0; i < mr_r.length; i++)
                        for (j = 1; j < mask; j <<= 1)
                        if (x[i] & j) {
                            s = (k < mr_r.length + bpe ? k : 0);
                            i = mr_r.length;
                            j = mask;
                        } else k++;
                        if (s) rightShift_(mr_r, s);
                        powMod_(mr_a, mr_r, x);
                        if (!equalsInt(mr_a, 1) && !equals(mr_a, mr_x1)) {
                            j = 1;
                            while (j <= s - 1 && !equals(mr_a, mr_x1)) {
                                squareMod_(mr_a, x);
                                if (equalsInt(mr_a, 1)) {
                                    return 0;
                                }
                                j++;
                            }
                            if (!equals(mr_a, mr_x1)) {
                                return 0;
                            }
                        }
                        return 1;
                    }

                    function bitSize(x) {
                        var j, z, w;
                        for (j = x.length - 1;
                        (x[j] == 0) && (j > 0); j--);
                        for (z = 0, w = x[j]; w;
                        (w >>= 1), z++);
                        z += bpe * j;
                        return z;
                    }

                    function expand(x, n) {
                        var ans = int2bigInt(0, (x.length > n ? x.length : n) * bpe, 0);
                        copy_(ans, x);
                        return ans;
                    }

                    function randTruePrime(k) {
                        var ans = int2bigInt(0, k, 0);
                        randTruePrime_(ans, k);
                        return trim(ans, 1);
                    }

                    function mod(x, n) {
                        var ans = dup(x);
                        mod_(ans, n);
                        return trim(ans, 1);
                    }

                    function addInt(x, n) {
                        var ans = expand(x, x.length + 1);
                        addInt_(ans, n);
                        return trim(ans, 1);
                    }

                    function mult(x, y) {
                        var ans = expand(x, x.length + y.length);
                        mult_(ans, y);
                        return trim(ans, 1);
                    }

                    function powMod(x, y, n) {
                        var ans = expand(x, n.length);
                        powMod_(ans, trim(y, 2), trim(n, 2), 0);
                        return trim(ans, 1);
                    }

                    function sub(x, y) {
                        var ans = expand(x, (x.length > y.length ? x.length + 1 : y.length + 1));
                        sub_(ans, y);
                        return trim(ans, 1);
                    }

                    function add(x, y) {
                        var ans = expand(x, (x.length > y.length ? x.length + 1 : y.length + 1));
                        add_(ans, y);
                        return trim(ans, 1);
                    }

                    function inverseMod(x, n) {
                        var ans = expand(x, n.length);
                        var s;
                        s = inverseMod_(ans, n);
                        return s ? trim(ans, 1) : null;
                    }

                    function multMod(x, y, n) {
                        var ans = expand(x, n.length);
                        multMod_(ans, y, n);
                        return trim(ans, 1);
                    }

                    function randTruePrime_(ans, k) {
                        var c, m, pm, dd, j, r, B, divisible, z, zz, recSize;
                        if (primes.length == 0) primes = findPrimes(30000);
                        if (pows.length == 0) {
                            pows = new Array(512);
                            for (j = 0; j < 512; j++) {
                                pows[j] = Math.pow(2, j / 511. - 1.);
                            }
                        }
                        c = 0.1;
                        m = 20;
                        recLimit = 20;
                        if (s_i2.length != ans.length) {
                            s_i2 = dup(ans);
                            s_R = dup(ans);
                            s_n1 = dup(ans);
                            s_r2 = dup(ans);
                            s_d = dup(ans);
                            s_x1 = dup(ans);
                            s_x2 = dup(ans);
                            s_b = dup(ans);
                            s_n = dup(ans);
                            s_i = dup(ans);
                            s_rm = dup(ans);
                            s_q = dup(ans);
                            s_a = dup(ans);
                            s_aa = dup(ans);
                        }
                        if (k <= recLimit) {
                            pm = (1 << ((k + 2) >> 1)) - 1;
                            copyInt_(ans, 0);
                            for (dd = 1; dd;) {
                                dd = 0;
                                ans[0] = 1 | (1 << (k - 1)) | Math.floor(Math.random() * (1 << k));
                                for (j = 1;
                                (j < primes.length) && ((primes[j] & pm) == primes[j]); j++) {
                                    if (0 == (ans[0] % primes[j])) {
                                        dd = 1;
                                        break;
                                    }
                                }
                            }
                            carry_(ans);
                            return;
                        }
                        B = c * k * k;
                        if (k > 2 * m) for (r = 1; k - k * r <= m;)
                        r = pows[Math.floor(Math.random() * 512)];
                        else r = .5;
                        recSize = Math.floor(r * k) + 1;
                        randTruePrime_(s_q, recSize);
                        copyInt_(s_i2, 0);
                        s_i2[Math.floor((k - 2) / bpe)] |= (1 << ((k - 2) % bpe));
                        divide_(s_i2, s_q, s_i, s_rm);
                        z = bitSize(s_i);
                        for (;;) {
                            for (;;) {
                                randBigInt_(s_R, z, 0);
                                if (greater(s_i, s_R)) break;
                            }
                            addInt_(s_R, 1);
                            add_(s_R, s_i);
                            copy_(s_n, s_q);
                            mult_(s_n, s_R);
                            multInt_(s_n, 2);
                            addInt_(s_n, 1);
                            copy_(s_r2, s_R);
                            multInt_(s_r2, 2);
                            for (divisible = 0, j = 0;
                            (j < primes.length) && (primes[j] < B); j++)
                            if (modInt(s_n, primes[j]) == 0) {
                                divisible = 1;
                                break;
                            }
                            if (!divisible) if (!millerRabin(s_n, 2)) divisible = 1;
                            if (!divisible) {
                                addInt_(s_n, - 3);
                                for (j = s_n.length - 1;
                                (s_n[j] == 0) && (j > 0); j--);
                                for (zz = 0, w = s_n[j]; w;
                                (w >>= 1), zz++);
                                zz += bpe * j;
                                for (;;) {
                                    randBigInt_(s_a, zz, 0);
                                    if (greater(s_n, s_a)) break;
                                }
                                addInt_(s_n, 3);
                                addInt_(s_a, 2);
                                copy_(s_b, s_a);
                                copy_(s_n1, s_n);
                                addInt_(s_n1, - 1);
                                powMod_(s_b, s_n1, s_n);
                                addInt_(s_b, - 1);
                                if (isZero(s_b)) {
                                    copy_(s_b, s_a);
                                    powMod_(s_b, s_r2, s_n);
                                    addInt_(s_b, - 1);
                                    copy_(s_aa, s_n);
                                    copy_(s_d, s_b);
                                    GCD_(s_d, s_n);
                                    if (equalsInt(s_d, 1)) {
                                        copy_(ans, s_aa);
                                        return;
                                    }
                                }
                            }
                        }
                    }

                    function randBigInt_(b, n, s) {
                        var i, a;
                        for (i = 0; i < b.length; i++)
                        b[i] = 0;
                        a = Math.floor((n - 1) / bpe) + 1;
                        for (i = 0; i < a; i++) {
                            b[i] = Math.floor(Math.random() * (1 << (bpe - 1)));
                        }
                        b[a - 1] &= (2 << ((n - 1) % bpe)) - 1;
                        if (s) b[a - 1] |= (1 << ((n - 1) % bpe));
                    }

                    function GCD_(x, y) {
                        var i, xp, yp, A, B, C, D, q, sing;
                        if (T.length != x.length) T = dup(x);
                        sing = 1;
                        while (sing) {
                            sing = 0;
                            for (i = 1; i < y.length; i++)
                            if (y[i]) {
                                sing = 1;
                                break;
                            }
                            if (!sing) break;
                            for (i = x.length; !x[i] && i >= 0; i--);
                            xp = x[i];
                            yp = y[i];
                            A = 1;
                            B = 0;
                            C = 0;
                            D = 1;
                            while ((yp + C) && (yp + D)) {
                                q = Math.floor((xp + A) / (yp + C));
                                qp = Math.floor((xp + B) / (yp + D));
                                if (q != qp) break;
                                t = A - q * C;
                                A = C;
                                C = t;
                                t = B - q * D;
                                B = D;
                                D = t;
                                t = xp - q * yp;
                                xp = yp;
                                yp = t;
                            }
                            if (B) {
                                copy_(T, x);
                                linComb_(x, y, A, B);
                                linComb_(y, T, D, C);
                            } else {
                                mod_(x, y);
                                copy_(T, x);
                                copy_(x, y);
                                copy_(y, T);
                            }
                        }
                        if (y[0] == 0) return;
                        t = modInt(x, y[0]);
                        copyInt_(x, y[0]);
                        y[0] = t;
                        while (y[0]) {
                            x[0] %= y[0];
                            t = x[0];
                            x[0] = y[0];
                            y[0] = t;
                        }
                    }

                    function inverseMod_(x, n) {
                        var k = 1 + 2 * Math.max(x.length, n.length);
                        if (!(x[0] & 1) && !(n[0] & 1)) {
                            copyInt_(x, 0);
                            return 0;
                        }
                        if (eg_u.length != k) {
                            eg_u = new Array(k);
                            eg_v = new Array(k);
                            eg_A = new Array(k);
                            eg_B = new Array(k);
                            eg_C = new Array(k);
                            eg_D = new Array(k);
                        }
                        copy_(eg_u, x);
                        copy_(eg_v, n);
                        copyInt_(eg_A, 1);
                        copyInt_(eg_B, 0);
                        copyInt_(eg_C, 0);
                        copyInt_(eg_D, 1);
                        for (;;) {
                            while (!(eg_u[0] & 1)) {
                                halve_(eg_u);
                                if (!(eg_A[0] & 1) && !(eg_B[0] & 1)) {
                                    halve_(eg_A);
                                    halve_(eg_B);
                                } else {
                                    add_(eg_A, n);
                                    halve_(eg_A);
                                    sub_(eg_B, x);
                                    halve_(eg_B);
                                }
                            }
                            while (!(eg_v[0] & 1)) {
                                halve_(eg_v);
                                if (!(eg_C[0] & 1) && !(eg_D[0] & 1)) {
                                    halve_(eg_C);
                                    halve_(eg_D);
                                } else {
                                    add_(eg_C, n);
                                    halve_(eg_C);
                                    sub_(eg_D, x);
                                    halve_(eg_D);
                                }
                            }
                            if (!greater(eg_v, eg_u)) {
                                sub_(eg_u, eg_v);
                                sub_(eg_A, eg_C);
                                sub_(eg_B, eg_D);
                            } else {
                                sub_(eg_v, eg_u);
                                sub_(eg_C, eg_A);
                                sub_(eg_D, eg_B);
                            }
                            if (equalsInt(eg_u, 0)) {
                                if (negative(eg_C)) add_(eg_C, n);
                                copy_(x, eg_C);
                                if (!equalsInt(eg_v, 1)) {
                                    copyInt_(x, 0);
                                    return 0;
                                }
                                return 1;
                            }
                        }
                    }

                    function inverseModInt_(x, n) {
                        var a = 1,
                            b = 0,
                            t;
                        for (;;) {
                            if (x == 1) return a;
                            if (x == 0) return 0;
                            b -= a * Math.floor(n / x);
                            n %= x;
                            if (n == 1) return b;
                            if (n == 0) return 0;
                            a -= b * Math.floor(x / n);
                            x %= n;
                        }
                    }

                    function eGCD_(x, y, v, a, b) {
                        var g = 0;
                        var k = Math.max(x.length, y.length);
                        if (eg_u.length != k) {
                            eg_u = new Array(k);
                            eg_A = new Array(k);
                            eg_B = new Array(k);
                            eg_C = new Array(k);
                            eg_D = new Array(k);
                        }
                        while (!(x[0] & 1) && !(y[0] & 1)) {
                            halve_(x);
                            halve_(y);
                            g++;
                        }
                        copy_(eg_u, x);
                        copy_(v, y);
                        copyInt_(eg_A, 1);
                        copyInt_(eg_B, 0);
                        copyInt_(eg_C, 0);
                        copyInt_(eg_D, 1);
                        for (;;) {
                            while (!(eg_u[0] & 1)) {
                                halve_(eg_u);
                                if (!(eg_A[0] & 1) && !(eg_B[0] & 1)) {
                                    halve_(eg_A);
                                    halve_(eg_B);
                                } else {
                                    add_(eg_A, y);
                                    halve_(eg_A);
                                    sub_(eg_B, x);
                                    halve_(eg_B);
                                }
                            }
                            while (!(v[0] & 1)) {
                                halve_(v);
                                if (!(eg_C[0] & 1) && !(eg_D[0] & 1)) {
                                    halve_(eg_C);
                                    halve_(eg_D);
                                } else {
                                    add_(eg_C, y);
                                    halve_(eg_C);
                                    sub_(eg_D, x);
                                    halve_(eg_D);
                                }
                            }
                            if (!greater(v, eg_u)) {
                                sub_(eg_u, v);
                                sub_(eg_A, eg_C);
                                sub_(eg_B, eg_D);
                            } else {
                                sub_(v, eg_u);
                                sub_(eg_C, eg_A);
                                sub_(eg_D, eg_B);
                            }
                            if (equalsInt(eg_u, 0)) {
                                if (negative(eg_C)) {
                                    add_(eg_C, y);
                                    sub_(eg_D, x);
                                }
                                multInt_(eg_D, - 1);
                                copy_(a, eg_C);
                                copy_(b, eg_D);
                                leftShift_(v, g);
                                return;
                            }
                        }
                    }

                    function negative(x) {
                        return ((x[x.length - 1] >> (bpe - 1)) & 1);
                    }

                    function greaterShift(x, y, shift) {
                        var kx = x.length,
                            ky = y.length;
                        k = ((kx + shift) < ky) ? (kx + shift) : ky;
                        for (i = ky - 1 - shift; i < kx && i >= 0; i++)
                        if (x[i] > 0) return 1;
                        for (i = kx - 1 + shift; i < ky; i++)
                        if (y[i] > 0) return 0;
                        for (i = k - 1; i >= shift; i--)
                        if (x[i - shift] > y[i]) return 1;
                        else if (x[i - shift] < y[i]) return 0;
                        return 0;
                    }

                    function greater(x, y) {
                        var i;
                        var k = (x.length < y.length) ? x.length : y.length;
                        for (i = x.length; i < y.length; i++)
                        if (y[i]) return 0;
                        for (i = y.length; i < x.length; i++)
                        if (x[i]) return 1;
                        for (i = k - 1; i >= 0; i--)
                        if (x[i] > y[i]) return 1;
                        else if (x[i] < y[i]) return 0;
                        return 0;
                    }

                    function divide_(x, y, q, r) {
                        var kx, ky;
                        var i, j, y1, y2, c, a, b;
                        copy_(r, x);
                        for (ky = y.length; y[ky - 1] == 0; ky--);
                        for (kx = r.length; r[kx - 1] == 0 && kx > ky; kx--);
                        b = y[ky - 1];
                        for (a = 0; b; a++)
                        b >>= 1;
                        a = bpe - a;
                        leftShift_(y, a);
                        leftShift_(r, a);
                        copyInt_(q, 0);
                        while (!greaterShift(y, r, kx - ky)) {
                            subShift_(r, y, kx - ky);
                            q[kx - ky]++;
                        }
                        for (i = kx - 1; i >= ky; i--) {
                            if (r[i] == y[ky - 1]) q[i - ky] = mask;
                            else q[i - ky] = Math.floor((r[i] * radix + r[i - 1]) / y[ky - 1]);
                            for (;;) {
                                y2 = (ky > 1 ? y[ky - 2] : 0) * q[i - ky];
                                c = y2 >> bpe;
                                y2 = y2 & mask;
                                y1 = c + q[i - ky] * y[ky - 1];
                                c = y1 >> bpe;
                                y1 = y1 & mask;
                                if (c == r[i] ? y1 == r[i - 1] ? y2 > (i > 1 ? r[i - 2] : 0) : y1 > r[i - 1] : c > r[i]) q[i - ky]--;
                                else break;
                            }
                            linCombShift_(r, y, - q[i - ky], i - ky);
                            if (negative(r)) {
                                addShift_(r, y, i - ky);
                                q[i - ky]--;
                            }
                        }
                        rightShift_(y, a);
                        rightShift_(r, a);
                    }

                    function carry_(x) {
                        var i, k, c, b;
                        k = x.length;
                        c = 0;
                        for (i = 0; i < k; i++) {
                            c += x[i];
                            b = 0;
                            if (c < 0) {
                                b = -(c >> bpe);
                                c += b * radix;
                            }
                            x[i] = c & mask;
                            c = (c >> bpe) - b;
                        }
                    }

                    function modInt(x, n) {
                        var i, c = 0;
                        for (i = x.length - 1; i >= 0; i--)
                        c = (c * radix + x[i]) % n;
                        return c;
                    }

                    function int2bigInt(t, bits, minSize) {
                        var i, k;
                        k = Math.ceil(bits / bpe) + 1;
                        k = minSize > k ? minSize : k;
                        buff = new Array(k);
                        copyInt_(buff, t);
                        return buff;
                    }

                    function str2bigInt(s, base, minSize) {
                        var d, i, j, x, y, kk;
                        var k = s.length;
                        if (base == -1) {
                            x = new Array(0);
                            for (;;) {
                                y = new Array(x.length + 1);
                                for (i = 0; i < x.length; i++)
                                y[i + 1] = x[i];
                                y[0] = parseInt(s, 10);
                                x = y;
                                d = s.indexOf(',', 0);
                                if (d < 1) break;
                                s = s.substring(d + 1);
                                if (s.length == 0) break;
                            }
                            if (x.length < minSize) {
                                y = new Array(minSize);
                                copy_(y, x);
                                return y;
                            }
                            return x;
                        }
                        x = int2bigInt(0, base * k, 0);
                        for (i = 0; i < k; i++) {
                            d = digitsStr.indexOf(s.substring(i, i + 1), 0);
                            if (base <= 36 && d >= 36) d -= 26;
                            if (d < base && d >= 0) {
                                multInt_(x, base);
                                addInt_(x, d);
                            }
                        }
                        for (k = x.length; k > 0 && !x[k - 1]; k--);
                        k = minSize > k + 1 ? minSize : k + 1;
                        y = new Array(k);
                        kk = k < x.length ? k : x.length;
                        for (i = 0; i < kk; i++)
                        y[i] = x[i];
                        for (; i < k; i++)
                        y[i] = 0;
                        return y;
                    }

                    function equalsInt(x, y) {
                        var i;
                        if (x[0] != y) return 0;
                        for (i = 1; i < x.length; i++)
                        if (x[i]) return 0;
                        return 1;
                    }

                    function equals(x, y) {
                        var i;
                        var k = x.length < y.length ? x.length : y.length;
                        for (i = 0; i < k; i++)
                        if (x[i] != y[i]) return 0;
                        if (x.length > y.length) {
                            for (; i < x.length; i++)
                            if (x[i]) return 0;
                        } else {
                            for (; i < y.length; i++)
                            if (y[i]) return 0;
                        }
                        return 1;
                    }

                    function isZero(x) {
                        var i;
                        for (i = 0; i < x.length; i++)
                        if (x[i]) return 0;
                        return 1;
                    }

                    function bigInt2str(x, base) {
                        var i, t, s = "";
                        if (s6.length != x.length) s6 = dup(x);
                        else copy_(s6, x);
                        if (base == -1) {
                            for (i = x.length - 1; i > 0; i--)
                            s += x[i] + ',';
                            s += x[0];
                        } else {
                            while (!isZero(s6)) {
                                t = divInt_(s6, base);
                                s = digitsStr.substring(t, t + 1) + s;
                            }
                        }
                        if (s.length == 0) s = "0";
                        return s;
                    }

                    function dup(x) {
                        var i;
                        buff = new Array(x.length);
                        copy_(buff, x);
                        return buff;
                    }

                    function copy_(x, y) {
                        var i;
                        var k = x.length < y.length ? x.length : y.length;
                        for (i = 0; i < k; i++)
                        x[i] = y[i];
                        for (i = k; i < x.length; i++)
                        x[i] = 0;
                    }

                    function copyInt_(x, n) {
                        var i, c;
                        for (c = n, i = 0; i < x.length; i++) {
                            x[i] = c & mask;
                            c >>= bpe;
                        }
                    }

                    function addInt_(x, n) {
                        var i, k, c, b;
                        x[0] += n;
                        k = x.length;
                        c = 0;
                        for (i = 0; i < k; i++) {
                            c += x[i];
                            b = 0;
                            if (c < 0) {
                                b = -(c >> bpe);
                                c += b * radix;
                            }
                            x[i] = c & mask;
                            c = (c >> bpe) - b;
                            if (!c) return;
                        }
                    }

                    function rightShift_(x, n) {
                        var i;
                        var k = Math.floor(n / bpe);
                        if (k) {
                            for (i = 0; i < x.length - k; i++)
                            x[i] = x[i + k];
                            for (; i < x.length; i++)
                            x[i] = 0;
                            n %= bpe;
                        }
                        for (i = 0; i < x.length - 1; i++) {
                            x[i] = mask & ((x[i + 1] << (bpe - n)) | (x[i] >> n));
                        }
                        x[i] >>= n;
                    }

                    function halve_(x) {
                        var i;
                        for (i = 0; i < x.length - 1; i++) {
                            x[i] = mask & ((x[i + 1] << (bpe - 1)) | (x[i] >> 1));
                        }
                        x[i] = (x[i] >> 1) | (x[i] & (radix >> 1));
                    }

                    function leftShift_(x, n) {
                        var i;
                        var k = Math.floor(n / bpe);
                        if (k) {
                            for (i = x.length; i >= k; i--)
                            x[i] = x[i - k];
                            for (; i >= 0; i--)
                            x[i] = 0;
                            n %= bpe;
                        }
                        if (!n) return;
                        for (i = x.length - 1; i > 0; i--) {
                            x[i] = mask & ((x[i] << n) | (x[i - 1] >> (bpe - n)));
                        }
                        x[i] = mask & (x[i] << n);
                    }

                    function multInt_(x, n) {
                        var i, k, c, b;
                        if (!n) return;
                        k = x.length;
                        c = 0;
                        for (i = 0; i < k; i++) {
                            c += x[i] * n;
                            b = 0;
                            if (c < 0) {
                                b = -(c >> bpe);
                                c += b * radix;
                            }
                            x[i] = c & mask;
                            c = (c >> bpe) - b;
                        }
                    }

                    function divInt_(x, n) {
                        var i, r = 0,
                            s;
                        for (i = x.length - 1; i >= 0; i--) {
                            s = r * radix + x[i];
                            x[i] = Math.floor(s / n);
                            r = s % n;
                        }
                        return r;
                    }

                    function linComb_(x, y, a, b) {
                        var i, c, k, kk;
                        k = x.length < y.length ? x.length : y.length;
                        kk = x.length;
                        for (c = 0, i = 0; i < k; i++) {
                            c += a * x[i] + b * y[i];
                            x[i] = c & mask;
                            c >>= bpe;
                        }
                        for (i = k; i < kk; i++) {
                            c += a * x[i];
                            x[i] = c & mask;
                            c >>= bpe;
                        }
                    }

                    function linCombShift_(x, y, b, ys) {
                        var i, c, k, kk;
                        k = x.length < ys + y.length ? x.length : ys + y.length;
                        kk = x.length;
                        for (c = 0, i = ys; i < k; i++) {
                            c += x[i] + b * y[i - ys];
                            x[i] = c & mask;
                            c >>= bpe;
                        }
                        for (i = k; c && i < kk; i++) {
                            c += x[i];
                            x[i] = c & mask;
                            c >>= bpe;
                        }
                    }

                    function addShift_(x, y, ys) {
                        var i, c, k, kk;
                        k = x.length < ys + y.length ? x.length : ys + y.length;
                        kk = x.length;
                        for (c = 0, i = ys; i < k; i++) {
                            c += x[i] + y[i - ys];
                            x[i] = c & mask;
                            c >>= bpe;
                        }
                        for (i = k; c && i < kk; i++) {
                            c += x[i];
                            x[i] = c & mask;
                            c >>= bpe;
                        }
                    }

                    function subShift_(x, y, ys) {
                        var i, c, k, kk;
                        k = x.length < ys + y.length ? x.length : ys + y.length;
                        kk = x.length;
                        for (c = 0, i = ys; i < k; i++) {
                            c += x[i] - y[i - ys];
                            x[i] = c & mask;
                            c >>= bpe;
                        }
                        for (i = k; c && i < kk; i++) {
                            c += x[i];
                            x[i] = c & mask;
                            c >>= bpe;
                        }
                    }

                    function sub_(x, y) {
                        var i, c, k, kk;
                        k = x.length < y.length ? x.length : y.length;
                        for (c = 0, i = 0; i < k; i++) {
                            c += x[i] - y[i];
                            x[i] = c & mask;
                            c >>= bpe;
                        }
                        for (i = k; c && i < x.length; i++) {
                            c += x[i];
                            x[i] = c & mask;
                            c >>= bpe;
                        }
                    }

                    function add_(x, y) {
                        var i, c, k, kk;
                        k = x.length < y.length ? x.length : y.length;
                        for (c = 0, i = 0; i < k; i++) {
                            c += x[i] + y[i];
                            x[i] = c & mask;
                            c >>= bpe;
                        }
                        for (i = k; c && i < x.length; i++) {
                            c += x[i];
                            x[i] = c & mask;
                            c >>= bpe;
                        }
                    }

                    function mult_(x, y) {
                        var i;
                        if (ss.length != 2 * x.length) ss = new Array(2 * x.length);
                        copyInt_(ss, 0);
                        for (i = 0; i < y.length; i++)
                        if (y[i]) linCombShift_(ss, x, y[i], i);
                        copy_(x, ss);
                    }

                    function mod_(x, n) {
                        if (s4.length != x.length) s4 = dup(x);
                        else copy_(s4, x);
                        if (s5.length != x.length) s5 = dup(x);
                        divide_(s4, n, s5, x);
                    }

                    function multMod_(x, y, n) {
                        var i;
                        if (s0.length != 2 * x.length) s0 = new Array(2 * x.length);
                        copyInt_(s0, 0);
                        for (i = 0; i < y.length; i++)
                        if (y[i]) linCombShift_(s0, x, y[i], i);
                        mod_(s0, n);
                        copy_(x, s0);
                    }

                    function squareMod_(x, n) {
                        var i, j, d, c, kx, kn, k;
                        for (kx = x.length; kx > 0 && !x[kx - 1]; kx--);
                        k = kx > n.length ? 2 * kx : 2 * n.length;
                        if (s0.length != k) s0 = new Array(k);
                        copyInt_(s0, 0);
                        for (i = 0; i < kx; i++) {
                            c = s0[2 * i] + x[i] * x[i];
                            s0[2 * i] = c & mask;
                            c >>= bpe;
                            for (j = i + 1; j < kx; j++) {
                                c = s0[i + j] + 2 * x[i] * x[j] + c;
                                s0[i + j] = (c & mask);
                                c >>= bpe;
                            }
                            s0[i + kx] = c;
                        }
                        mod_(s0, n);
                        copy_(x, s0);
                    }

                    function trim(x, k) {
                        var i, y;
                        for (i = x.length; i > 0 && !x[i - 1]; i--);
                        y = new Array(i + k);
                        copy_(y, x);
                        return y;
                    }

                    function powMod_(x, y, n) {
                        var k1, k2, kn, np;
                        if (s7.length != n.length) s7 = dup(n);
                        if ((n[0] & 1) == 0) {
                            copy_(s7, x);
                            copyInt_(x, 1);
                            while (!equalsInt(y, 0)) {
                                if (y[0] & 1) multMod_(x, s7, n);
                                divInt_(y, 2);
                                squareMod_(s7, n);
                            }
                            return;
                        }
                        copyInt_(s7, 0);
                        for (kn = n.length; kn > 0 && !n[kn - 1]; kn--);
                        np = radix - inverseModInt_(modInt(n, radix), radix);
                        s7[kn] = 1;
                        multMod_(x, s7, n);
                        if (s3.length != x.length) s3 = dup(x);
                        else copy_(s3, x);
                        for (k1 = y.length - 1; k1 > 0 & !y[k1]; k1--);
                        if (y[k1] == 0) {
                            copyInt_(x, 1);
                            return;
                        }
                        for (k2 = 1 << (bpe - 1); k2 && !(y[k1] & k2); k2 >>= 1);
                        for (;;) {
                            if (!(k2 >>= 1)) {
                                k1--;
                                if (k1 < 0) {
                                    mont_(x, one, n, np);
                                    return;
                                }
                                k2 = 1 << (bpe - 1);
                            }
                            mont_(x, x, n, np);
                            if (k2 & y[k1]) mont_(x, s3, n, np);
                        }
                    }

                    function mont_(x, y, n, np) {
                        var i, j, c, ui, t;
                        var kn = n.length;
                        var ky = y.length;
                        if (sa.length != kn) sa = new Array(kn);
                        for (; kn > 0 && n[kn - 1] == 0; kn--);
                        copyInt_(sa, 0);
                        for (i = 0; i < kn; i++) {
                            t = sa[0] + x[i] * y[0];
                            ui = ((t & mask) * np) & mask;
                            c = (t + ui * n[0]) >> bpe;
                            t = x[i];
                            for (j = 1; j < ky; j++) {
                                c += sa[j] + t * y[j] + ui * n[j];
                                sa[j - 1] = c & mask;
                                c >>= bpe;
                            }
                            for (; j < kn; j++) {
                                c += sa[j] + ui * n[j];
                                sa[j - 1] = c & mask;
                                c >>= bpe;
                            }
                            sa[j - 1] = c & mask;
                        }
                        if (!greater(n, sa)) sub_(sa, n);
                        copy_(x, sa);
                    }
                    Clipperz.Crypto.BigInt = function (aValue, aBase) {
                        var base;
                        var value;
                        if (typeof (aValue) == 'object') {
                            this._internalValue = aValue;
                        } else {
                            if (typeof (aValue) == 'undefined') {
                                value = "0";
                            } else {
                                value = aValue + "";
                            }
                            if (typeof (aBase) == 'undefined') {
                                base = 10;
                            } else {
                                base = aBase;
                            }
                            this._internalValue = str2bigInt(value, base, 1, 1);
                        }
                        return this;
                    }
                    MochiKit.Base.update(Clipperz.Crypto.BigInt.prototype, {
                        'clone': function () {
                            return new Clipperz.Crypto.BigInt(this.internalValue());
                        },
                        'internalValue': function () {
                            return this._internalValue;
                        },
                        'isBigInt': true,
                        'toString': function (aBase) {
                            return this.asString(aBase);
                        },
                        'asString': function (aBase, minimumLength) {
                            var result;
                            var base;
                            if (typeof (aBase) == 'undefined') {
                                base = 10;
                            } else {
                                base = aBase;
                            }
                            result = bigInt2str(this.internalValue(), base).toLowerCase();
                            if ((typeof (minimumLength) != 'undefined') && (result.length < minimumLength)) {
                                var i, c;
                                c = (minimumLength - result.length);
                                for (i = 0; i < c; i++) {
                                    result = '0' + result;
                                }
                            }
                            return result;
                        },
                        'asByteArray': function () {
                            return new Clipperz.ByteArray("0x" + this.asString(16), 16);
                        },
                        'equals': function (aValue) {
                            var result;
                            if (aValue.isBigInt) {
                                result = equals(this.internalValue(), aValue.internalValue());
                            } else if (typeof (aValue) == "number") {
                                result = equalsInt(this.internalValue(), aValue);
                            } else {
                                throw Clipperz.Crypt.BigInt.exception.UnknownType;
                            }
                            return result;
                        },
                        'compare': function (aValue) {
                            var result;
                            if (equals(this.internalValue(), aValue.internalValue())) {
                                result = 0;
                            } else if (greater(this.internalValue(), aValue.internalValue())) {
                                result = 1;
                            } else {
                                result = -1;
                            }
                            return result;
                        },
                        'add': function (aValue) {
                            var result;
                            if (aValue.isBigInt) {
                                result = add(this.internalValue(), aValue.internalValue());
                            } else {
                                result = addInt(this.internalValue(), aValue);
                            }
                            return new Clipperz.Crypto.BigInt(result);
                        },
                        'subtract': function (aValue) {
                            var result;
                            var value;
                            if (aValue.isBigInt) {
                                value = aValue;
                            } else {
                                value = new Clipperz.Crypto.BigInt(aValue);
                            }
                            result = sub(this.internalValue(), value.internalValue());
                            return new Clipperz.Crypto.BigInt(result);
                        },
                        'multiply': function (aValue, aModule) {
                            var result;
                            var value;
                            if (aValue.isBigInt) {
                                value = aValue;
                            } else {
                                value = new Clipperz.Crypto.BigInt(aValue);
                            }
                            if (typeof (aModule) == 'undefined') {
                                result = mult(this.internalValue(), value.internalValue());
                            } else {
                                if (greater(this.internalValue(), value.internalValue())) {
                                    result = multMod(this.internalValue(), value.internalValue(), aModule);
                                } else {
                                    result = multMod(value.internalValue(), this.internalValue(), aModule);
                                }
                            }
                            return new Clipperz.Crypto.BigInt(result);
                        },
                        'module': function (aModule) {
                            var result;
                            var module;
                            if (aModule.isBigInt) {
                                module = aModule;
                            } else {
                                module = new Clipperz.Crypto.BigInt(aModule);
                            }
                            result = mod(this.internalValue(), module.internalValue());
                            return new Clipperz.Crypto.BigInt(result);
                        },
                        'powerModule': function (aValue, aModule) {
                            var result;
                            var value;
                            var module;
                            if (aValue.isBigInt) {
                                value = aValue;
                            } else {
                                value = new Clipperz.Crypto.BigInt(aValue);
                            }
                            if (aModule.isBigInt) {
                                module = aModule;
                            } else {
                                module = new Clipperz.Crypto.BigInt(aModule);
                            }
                            if (aValue == -1) {
                                result = inverseMod(this.internalValue(), module.internalValue());
                            } else {
                                result = powMod(this.internalValue(), value.internalValue(), module.internalValue());
                            }
                            return new Clipperz.Crypto.BigInt(result);
                        },
                        'xor': function (aValue) {
                            var result;
                            var thisByteArray;
                            var aValueByteArray;
                            var xorArray;
                            thisByteArray = new Clipperz.ByteArray("0x" + this.asString(16), 16);
                            aValueByteArray = new Clipperz.ByteArray("0x" + aValue.asString(16), 16);
                            xorArray = thisByteArray.xorMergeWithBlock(aValueByteArray, 'right');
                            result = new Clipperz.Crypto.BigInt(xorArray.toHexString(), 16);
                            return result;
                        },
                        'shiftLeft': function (aNumberOfBitsToShift) {
                            var result;
                            var internalResult;
                            var wholeByteToShift;
                            var bitsLeftToShift;
                            wholeByteToShift = Math.floor(aNumberOfBitsToShift / 8);
                            bitsLeftToShift = aNumberOfBitsToShift % 8;
                            if (wholeByteToShift == 0) {
                                internalResult = this.internalValue();
                            } else {
                                var hexValue;
                                var i, c;
                                hexValue = this.asString(16);
                                c = wholeByteToShift;
                                for (i = 0; i < c; i++) {
                                    hexValue += "00";
                                }
                                internalResult = str2bigInt(hexValue, 16, 1, 1);
                            }
                            if (bitsLeftToShift > 0) {
                                leftShift_(internalResult, bitsLeftToShift);
                            }
                            result = new Clipperz.Crypto.BigInt(internalResult);
                            return result;
                        },
                        'bitSize': function () {
                            return bitSize(this.internalValue());
                        },
                        'isBitSet': function (aBitPosition) {
                            var result;
                            if (this.asByteArray().bitAtIndex(aBitPosition) == 0) {
                                result = false;
                            } else {
                                result = true;
                            };
                            return result;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.Crypto.BigInt.randomPrime = function (aBitSize) {
                        return new Clipperz.Crypto.BigInt(randTruePrime(aBitSize));
                    }
                    Clipperz.Crypto.BigInt.ZERO = new Clipperz.Crypto.BigInt(0);
                    Clipperz.Crypto.BigInt.equals = function (a, b) {
                        return a.equals(b);
                    }
                    Clipperz.Crypto.BigInt.add = function (a, b) {
                        return a.add(b);
                    }
                    Clipperz.Crypto.BigInt.subtract = function (a, b) {
                        return a.subtract(b);
                    }
                    Clipperz.Crypto.BigInt.multiply = function (a, b, module) {
                        return a.multiply(b, module);
                    }
                    Clipperz.Crypto.BigInt.module = function (a, module) {
                        return a.module(module);
                    }
                    Clipperz.Crypto.BigInt.powerModule = function (a, b, module) {
                        return a.powerModule(b, module);
                    }
                    Clipperz.Crypto.BigInt.exception = {
                        UnknownType: new MochiKit.Base.NamedError("Clipperz.Crypto.BigInt.exception.UnknownType")
                    }
                    try {
                        if (typeof (Clipperz.Base) == 'undefined') {
                            throw "";
                        }
                    } catch (e) {
                        throw "Clipperz.Crypto.Base depends on Clipperz.Base!";
                    }
                    if (typeof (Clipperz.Crypto) == 'undefined') {
                        Clipperz.Crypto = {};
                    }
                    if (typeof (Clipperz.Crypto.Base) == 'undefined') {
                        Clipperz.Crypto.Base = {};
                    }
                    Clipperz.Crypto.Base.VERSION = "0.1";
                    Clipperz.Crypto.Base.NAME = "Clipperz.Crypto.Base";
                    var chrsz = 8;

                    function safe_add(x, y) {
                        var lsw = (x & 0xFFFF) + (y & 0xFFFF);
                        var msw = (x >> 16) + (y >> 16) + (lsw >> 16);
                        return (msw << 16) | (lsw & 0xFFFF);
                    }

                    function S(X, n) {
                        return (X >>> n) | (X << (32 - n));
                    }

                    function R(X, n) {
                        return (X >>> n);
                    }

                    function Ch(x, y, z) {
                        return ((x & y) ^ ((~x) & z));
                    }

                    function Maj(x, y, z) {
                        return ((x & y) ^ (x & z) ^ (y & z));
                    }

                    function Sigma0256(x) {
                        return (S(x, 2) ^ S(x, 13) ^ S(x, 22));
                    }

                    function Sigma1256(x) {
                        return (S(x, 6) ^ S(x, 11) ^ S(x, 25));
                    }

                    function Gamma0256(x) {
                        return (S(x, 7) ^ S(x, 18) ^ R(x, 3));
                    }

                    function Gamma1256(x) {
                        return (S(x, 17) ^ S(x, 19) ^ R(x, 10));
                    }

                    function core_sha256(m, l) {
                        var K = new Array(0x428A2F98, 0x71374491, 0xB5C0FBCF, 0xE9B5DBA5, 0x3956C25B, 0x59F111F1, 0x923F82A4, 0xAB1C5ED5, 0xD807AA98, 0x12835B01, 0x243185BE, 0x550C7DC3, 0x72BE5D74, 0x80DEB1FE, 0x9BDC06A7, 0xC19BF174, 0xE49B69C1, 0xEFBE4786, 0xFC19DC6, 0x240CA1CC, 0x2DE92C6F, 0x4A7484AA, 0x5CB0A9DC, 0x76F988DA, 0x983E5152, 0xA831C66D, 0xB00327C8, 0xBF597FC7, 0xC6E00BF3, 0xD5A79147, 0x6CA6351, 0x14292967, 0x27B70A85, 0x2E1B2138, 0x4D2C6DFC, 0x53380D13, 0x650A7354, 0x766A0ABB, 0x81C2C92E, 0x92722C85, 0xA2BFE8A1, 0xA81A664B, 0xC24B8B70, 0xC76C51A3, 0xD192E819, 0xD6990624, 0xF40E3585, 0x106AA070, 0x19A4C116, 0x1E376C08, 0x2748774C, 0x34B0BCB5, 0x391C0CB3, 0x4ED8AA4A, 0x5B9CCA4F, 0x682E6FF3, 0x748F82EE, 0x78A5636F, 0x84C87814, 0x8CC70208, 0x90BEFFFA, 0xA4506CEB, 0xBEF9A3F7, 0xC67178F2);
                        var HASH = new Array(0x6A09E667, 0xBB67AE85, 0x3C6EF372, 0xA54FF53A, 0x510E527F, 0x9B05688C, 0x1F83D9AB, 0x5BE0CD19);
                        var W = new Array(64);
                        var a, b, c, d, e, f, g, h, i, j;
                        var T1, T2;
                        m[l >> 5] |= 0x80 << (24 - l % 32);
                        m[((l + 64 >> 9) << 4) + 15] = l;
                        for (var i = 0; i < m.length; i += 16) {
                            a = HASH[0];
                            b = HASH[1];
                            c = HASH[2];
                            d = HASH[3];
                            e = HASH[4];
                            f = HASH[5];
                            g = HASH[6];
                            h = HASH[7];
                            for (var j = 0; j < 64; j++) {
                                if (j < 16) W[j] = m[j + i];
                                else W[j] = safe_add(safe_add(safe_add(Gamma1256(W[j - 2]), W[j - 7]), Gamma0256(W[j - 15])), W[j - 16]);
                                T1 = safe_add(safe_add(safe_add(safe_add(h, Sigma1256(e)), Ch(e, f, g)), K[j]), W[j]);
                                T2 = safe_add(Sigma0256(a), Maj(a, b, c));
                                h = g;
                                g = f;
                                f = e;
                                e = safe_add(d, T1);
                                d = c;
                                c = b;
                                b = a;
                                a = safe_add(T1, T2);
                            }
                            HASH[0] = safe_add(a, HASH[0]);
                            HASH[1] = safe_add(b, HASH[1]);
                            HASH[2] = safe_add(c, HASH[2]);
                            HASH[3] = safe_add(d, HASH[3]);
                            HASH[4] = safe_add(e, HASH[4]);
                            HASH[5] = safe_add(f, HASH[5]);
                            HASH[6] = safe_add(g, HASH[6]);
                            HASH[7] = safe_add(h, HASH[7]);
                        }
                        return HASH;
                    }

                    function str2binb(str) {
                        var bin = Array();
                        var mask = (1 << chrsz) - 1;
                        for (var i = 0; i < str.length * chrsz; i += chrsz)
                        bin[i >> 5] |= (str.charCodeAt(i / chrsz) & mask) << (24 - i % 32);
                        return bin;
                    }

                    function binb2hex(binarray) {
                        var hexcase = 0;
                        var hex_tab = hexcase ? "0123456789ABCDEF" : "0123456789abcdef";
                        var str = "";
                        for (var i = 0; i < binarray.length * 4; i++) {
                            str += hex_tab.charAt((binarray[i >> 2] >> ((3 - i % 4) * 8 + 4)) & 0xF) + hex_tab.charAt((binarray[i >> 2] >> ((3 - i % 4) * 8)) & 0xF);
                        }
                        return str;
                    }

                    function hex_sha256(s) {
                        return binb2hex(core_sha256(str2binb(s), s.length * chrsz));
                    }
                    var entropyData = new Array();
                    var edlen = 0;
                    addEntropyTime();
                    ce();

                    function addEntropyByte(b) {
                        entropyData[edlen++] = b;
                    }

                    function ce() {
                        addEntropyByte(Math.floor((((new Date).getMilliseconds()) * 255) / 999));
                    }

                    function addEntropy32(w) {
                        var i;
                        for (i = 0; i < 4; i++) {
                            addEntropyByte(w & 0xFF);
                            w >>= 8;
                        }
                    }

                    function addEntropyTime() {
                        addEntropy32((new Date()).getTime());
                    }
                    var mouseMotionCollect = 0;
                    var oldMoveHandler;

                    function mouseMotionEntropy(maxsamp) {
                        if (mouseMotionCollect <= 0) {
                            mouseMotionCollect = maxsamp;
                            if ((document.implementation.hasFeature("Events", "2.0")) && document.addEventListener) {
                                document.addEventListener("mousemove", mouseMoveEntropy, false);
                            } else {
                                if (document.attachEvent) {
                                    document.attachEvent("onmousemove", mouseMoveEntropy);
                                } else {
                                    oldMoveHandler = document.onmousemove;
                                    document.onmousemove = mouseMoveEntropy;
                                }
                            }
                        }
                    }
                    var mouseEntropyTime = 0;

                    function mouseMoveEntropy(e) {
                        if (!e) {
                            e = window.event;
                        }
                        if (mouseMotionCollect > 0) {
                            if (mouseEntropyTime-- <= 0) {
                                addEntropyByte(e.screenX & 0xFF);
                                addEntropyByte(e.screenY & 0xFF);
                                ce();
                                mouseMotionCollect--;
                                mouseEntropyTime = (entropyData[edlen - 3] ^ entropyData[edlen - 2] ^ entropyData[edlen - 1]) % 19;
                            }
                            if (mouseMotionCollect <= 0) {
                                if (document.removeEventListener) {
                                    document.removeEventListener("mousemove", mouseMoveEntropy, false);
                                } else if (document.detachEvent) {
                                    document.detachEvent("onmousemove", mouseMoveEntropy);
                                } else {
                                    document.onmousemove = oldMoveHandler;
                                }
                            }
                        }
                    }

                    function keyFromEntropy() {
                        var i, k = new Array(32);
                        if (edlen == 0) {
                            alert("Blooie!  Entropy vector void at call to keyFromEntropy.");
                        }
                        md5_init();
                        for (i = 0; i < edlen; i += 2) {
                            md5_update(entropyData[i]);
                        }
                        md5_finish();
                        for (i = 0; i < 16; i++) {
                            k[i] = digestBits[i];
                        }
                        md5_init();
                        for (i = 1; i < edlen; i += 2) {
                            md5_update(entropyData[i]);
                        }
                        md5_finish();
                        for (i = 0; i < 16; i++) {
                            k[i + 16] = digestBits[i];
                        }
                        return k;
                    }

                    function AESprng(seed) {
                        this.key = new Array();
                        this.key = seed;
                        this.itext = hexToByteArray("9F489613248148F9C27945C6AE62EECA3E3367BB14064E4E6DC67A9F28AB3BD1");
                        this.nbytes = 0;
                        this.next = AESprng_next;
                        this.nextbits = AESprng_nextbits;
                        this.nextInt = AESprng_nextInt;
                        this.round = AESprng_round;
                        bsb = blockSizeInBits;
                        blockSizeInBits = 256;
                        var i, ct;
                        for (i = 0; i < 3; i++) {
                            this.key = rijndaelEncrypt(this.itext, this.key, "ECB");
                        }
                        var n = 1 + (this.key[3] & 2) + (this.key[9] & 1);
                        for (i = 0; i < n; i++) {
                            this.key = rijndaelEncrypt(this.itext, this.key, "ECB");
                        }
                        blockSizeInBits = bsb;
                    }

                    function AESprng_round() {
                        bsb = blockSizeInBits;
                        blockSizeInBits = 256;
                        this.key = rijndaelEncrypt(this.itext, this.key, "ECB");
                        this.nbytes = 32;
                        blockSizeInBits = bsb;
                    }

                    function AESprng_next() {
                        if (this.nbytes <= 0) {
                            this.round();
                        }
                        return (this.key[--this.nbytes]);
                    }

                    function AESprng_nextbits(n) {
                        var i, w = 0,
                            nbytes = Math.floor((n + 7) / 8);
                        for (i = 0; i < nbytes; i++) {
                            w = (w << 8) | this.next();
                        }
                        return w & ((1 << n) - 1);
                    }

                    function AESprng_nextInt(n) {
                        var p = 1,
                            nb = 0;
                        while (n >= p) {
                            p <<= 1;
                            nb++;
                        }
                        p--;
                        while (true) {
                            var v = this.nextbits(nb) & p;
                            if (v <= n) {
                                return v;
                            }
                        }
                    }

                    function array(n) {
                        for (i = 0; i < n; i++) {
                            this[i] = 0;
                        }
                        this.length = n;
                    }

                    function integer(n) {
                        return n % (0xffffffff + 1);
                    }

                    function shr(a, b) {
                        a = integer(a);
                        b = integer(b);
                        if (a - 0x80000000 >= 0) {
                            a = a % 0x80000000;
                            a >>= b;
                            a += 0x40000000 >> (b - 1);
                        } else {
                            a >>= b;
                        }
                        return a;
                    }

                    function shl1(a) {
                        a = a % 0x80000000;
                        if (a & 0x40000000 == 0x40000000) {
                            a -= 0x40000000;
                            a *= 2;
                            a += 0x80000000;
                        } else {
                            a *= 2;
                        }
                        return a;
                    }

                    function shl(a, b) {
                        a = integer(a);
                        b = integer(b);
                        for (var i = 0; i < b; i++) {
                            a = shl1(a);
                        }
                        return a;
                    }

                    function and(a, b) {
                        a = integer(a);
                        b = integer(b);
                        var t1 = a - 0x80000000;
                        var t2 = b - 0x80000000;
                        if (t1 >= 0) {
                            if (t2 >= 0) {
                                return ((t1 & t2) + 0x80000000);
                            } else {
                                return (t1 & b);
                            }
                        } else {
                            if (t2 >= 0) {
                                return (a & t2);
                            } else {
                                return (a & b);
                            }
                        }
                    }

                    function or(a, b) {
                        a = integer(a);
                        b = integer(b);
                        var t1 = a - 0x80000000;
                        var t2 = b - 0x80000000;
                        if (t1 >= 0) {
                            if (t2 >= 0) {
                                return ((t1 | t2) + 0x80000000);
                            } else {
                                return ((t1 | b) + 0x80000000);
                            }
                        } else {
                            if (t2 >= 0) {
                                return ((a | t2) + 0x80000000);
                            } else {
                                return (a | b);
                            }
                        }
                    }

                    function xor(a, b) {
                        a = integer(a);
                        b = integer(b);
                        var t1 = a - 0x80000000;
                        var t2 = b - 0x80000000;
                        if (t1 >= 0) {
                            if (t2 >= 0) {
                                return (t1 ^ t2);
                            } else {
                                return ((t1 ^ b) + 0x80000000);
                            }
                        } else {
                            if (t2 >= 0) {
                                return ((a ^ t2) + 0x80000000);
                            } else {
                                return (a ^ b);
                            }
                        }
                    }

                    function not(a) {
                        a = integer(a);
                        return 0xffffffff - a;
                    }
                    var state = new array(4);
                    var count = new array(2);
                    count[0] = 0;
                    count[1] = 0;
                    var buffer = new array(64);
                    var transformBuffer = new array(16);
                    var digestBits = new array(16);
                    var S11 = 7;
                    var S12 = 12;
                    var S13 = 17;
                    var S14 = 22;
                    var S21 = 5;
                    var S22 = 9;
                    var S23 = 14;
                    var S24 = 20;
                    var S31 = 4;
                    var S32 = 11;
                    var S33 = 16;
                    var S34 = 23;
                    var S41 = 6;
                    var S42 = 10;
                    var S43 = 15;
                    var S44 = 21;

                    function F(x, y, z) {
                        return or(and(x, y), and(not(x), z));
                    }

                    function G(x, y, z) {
                        return or(and(x, z), and(y, not(z)));
                    }

                    function H(x, y, z) {
                        return xor(xor(x, y), z);
                    }

                    function I(x, y, z) {
                        return xor(y, or(x, not(z)));
                    }

                    function rotateLeft(a, n) {
                        return or(shl(a, n), (shr(a, (32 - n))));
                    }

                    function FF(a, b, c, d, x, s, ac) {
                        a = a + F(b, c, d) + x + ac;
                        a = rotateLeft(a, s);
                        a = a + b;
                        return a;
                    }

                    function GG(a, b, c, d, x, s, ac) {
                        a = a + G(b, c, d) + x + ac;
                        a = rotateLeft(a, s);
                        a = a + b;
                        return a;
                    }

                    function HH(a, b, c, d, x, s, ac) {
                        a = a + H(b, c, d) + x + ac;
                        a = rotateLeft(a, s);
                        a = a + b;
                        return a;
                    }

                    function II(a, b, c, d, x, s, ac) {
                        a = a + I(b, c, d) + x + ac;
                        a = rotateLeft(a, s);
                        a = a + b;
                        return a;
                    }

                    function transform(buf, offset) {
                        var a = 0,
                            b = 0,
                            c = 0,
                            d = 0;
                        var x = transformBuffer;
                        a = state[0];
                        b = state[1];
                        c = state[2];
                        d = state[3];
                        for (i = 0; i < 16; i++) {
                            x[i] = and(buf[i * 4 + offset], 0xFF);
                            for (j = 1; j < 4; j++) {
                                x[i] += shl(and(buf[i * 4 + j + offset], 0xFF), j * 8);
                            }
                        }
                        a = FF(a, b, c, d, x[0], S11, 0xd76aa478);
                        d = FF(d, a, b, c, x[1], S12, 0xe8c7b756);
                        c = FF(c, d, a, b, x[2], S13, 0x242070db);
                        b = FF(b, c, d, a, x[3], S14, 0xc1bdceee);
                        a = FF(a, b, c, d, x[4], S11, 0xf57c0faf);
                        d = FF(d, a, b, c, x[5], S12, 0x4787c62a);
                        c = FF(c, d, a, b, x[6], S13, 0xa8304613);
                        b = FF(b, c, d, a, x[7], S14, 0xfd469501);
                        a = FF(a, b, c, d, x[8], S11, 0x698098d8);
                        d = FF(d, a, b, c, x[9], S12, 0x8b44f7af);
                        c = FF(c, d, a, b, x[10], S13, 0xffff5bb1);
                        b = FF(b, c, d, a, x[11], S14, 0x895cd7be);
                        a = FF(a, b, c, d, x[12], S11, 0x6b901122);
                        d = FF(d, a, b, c, x[13], S12, 0xfd987193);
                        c = FF(c, d, a, b, x[14], S13, 0xa679438e);
                        b = FF(b, c, d, a, x[15], S14, 0x49b40821);
                        a = GG(a, b, c, d, x[1], S21, 0xf61e2562);
                        d = GG(d, a, b, c, x[6], S22, 0xc040b340);
                        c = GG(c, d, a, b, x[11], S23, 0x265e5a51);
                        b = GG(b, c, d, a, x[0], S24, 0xe9b6c7aa);
                        a = GG(a, b, c, d, x[5], S21, 0xd62f105d);
                        d = GG(d, a, b, c, x[10], S22, 0x2441453);
                        c = GG(c, d, a, b, x[15], S23, 0xd8a1e681);
                        b = GG(b, c, d, a, x[4], S24, 0xe7d3fbc8);
                        a = GG(a, b, c, d, x[9], S21, 0x21e1cde6);
                        d = GG(d, a, b, c, x[14], S22, 0xc33707d6);
                        c = GG(c, d, a, b, x[3], S23, 0xf4d50d87);
                        b = GG(b, c, d, a, x[8], S24, 0x455a14ed);
                        a = GG(a, b, c, d, x[13], S21, 0xa9e3e905);
                        d = GG(d, a, b, c, x[2], S22, 0xfcefa3f8);
                        c = GG(c, d, a, b, x[7], S23, 0x676f02d9);
                        b = GG(b, c, d, a, x[12], S24, 0x8d2a4c8a);
                        a = HH(a, b, c, d, x[5], S31, 0xfffa3942);
                        d = HH(d, a, b, c, x[8], S32, 0x8771f681);
                        c = HH(c, d, a, b, x[11], S33, 0x6d9d6122);
                        b = HH(b, c, d, a, x[14], S34, 0xfde5380c);
                        a = HH(a, b, c, d, x[1], S31, 0xa4beea44);
                        d = HH(d, a, b, c, x[4], S32, 0x4bdecfa9);
                        c = HH(c, d, a, b, x[7], S33, 0xf6bb4b60);
                        b = HH(b, c, d, a, x[10], S34, 0xbebfbc70);
                        a = HH(a, b, c, d, x[13], S31, 0x289b7ec6);
                        d = HH(d, a, b, c, x[0], S32, 0xeaa127fa);
                        c = HH(c, d, a, b, x[3], S33, 0xd4ef3085);
                        b = HH(b, c, d, a, x[6], S34, 0x4881d05);
                        a = HH(a, b, c, d, x[9], S31, 0xd9d4d039);
                        d = HH(d, a, b, c, x[12], S32, 0xe6db99e5);
                        c = HH(c, d, a, b, x[15], S33, 0x1fa27cf8);
                        b = HH(b, c, d, a, x[2], S34, 0xc4ac5665);
                        a = II(a, b, c, d, x[0], S41, 0xf4292244);
                        d = II(d, a, b, c, x[7], S42, 0x432aff97);
                        c = II(c, d, a, b, x[14], S43, 0xab9423a7);
                        b = II(b, c, d, a, x[5], S44, 0xfc93a039);
                        a = II(a, b, c, d, x[12], S41, 0x655b59c3);
                        d = II(d, a, b, c, x[3], S42, 0x8f0ccc92);
                        c = II(c, d, a, b, x[10], S43, 0xffeff47d);
                        b = II(b, c, d, a, x[1], S44, 0x85845dd1);
                        a = II(a, b, c, d, x[8], S41, 0x6fa87e4f);
                        d = II(d, a, b, c, x[15], S42, 0xfe2ce6e0);
                        c = II(c, d, a, b, x[6], S43, 0xa3014314);
                        b = II(b, c, d, a, x[13], S44, 0x4e0811a1);
                        a = II(a, b, c, d, x[4], S41, 0xf7537e82);
                        d = II(d, a, b, c, x[11], S42, 0xbd3af235);
                        c = II(c, d, a, b, x[2], S43, 0x2ad7d2bb);
                        b = II(b, c, d, a, x[9], S44, 0xeb86d391);
                        state[0] += a;
                        state[1] += b;
                        state[2] += c;
                        state[3] += d;
                    }

                    function md5_init() {
                        count[0] = count[1] = 0;
                        state[0] = 0x67452301;
                        state[1] = 0xefcdab89;
                        state[2] = 0x98badcfe;
                        state[3] = 0x10325476;
                        for (i = 0; i < digestBits.length; i++) {
                            digestBits[i] = 0;
                        }
                    }

                    function md5_update(b) {
                        var index, i;
                        index = and(shr(count[0], 3), 0x3F);
                        if (count[0] < 0xFFFFFFFF - 7) {
                            count[0] += 8;
                        } else {
                            count[1]++;
                            count[0] -= 0xFFFFFFFF + 1;
                            count[0] += 8;
                        }
                        buffer[index] = and(b, 0xff);
                        if (index >= 63) {
                            transform(buffer, 0);
                        }
                    }

                    function md5_finish() {
                        var bits = new array(8);
                        var padding;
                        var i = 0,
                            index = 0,
                            padLen = 0;
                        for (i = 0; i < 4; i++) {
                            bits[i] = and(shr(count[0], (i * 8)), 0xFF);
                        }
                        for (i = 0; i < 4; i++) {
                            bits[i + 4] = and(shr(count[1], (i * 8)), 0xFF);
                        }
                        index = and(shr(count[0], 3), 0x3F);
                        padLen = (index < 56) ? (56 - index) : (120 - index);
                        padding = new array(64);
                        padding[0] = 0x80;
                        for (i = 0; i < padLen; i++) {
                            md5_update(padding[i]);
                        }
                        for (i = 0; i < 8; i++) {
                            md5_update(bits[i]);
                        }
                        for (i = 0; i < 4; i++) {
                            for (j = 0; j < 4; j++) {
                                digestBits[i * 4 + j] = and(shr(state[i], (j * 8)), 0xFF);
                            }
                        }
                    }
                    var keySizeInBits = 256;
                    var blockSizeInBits = 128;
                    var roundsArray = [, , , , [, , , , 10, , 12, , 14], , [, , , , 12, , 12, , 14], , [, , , , 14, , 14, , 14]];
                    var shiftOffsets = [, , , , [, 1, 2, 3], , [, 1, 2, 3], , [, 1, 3, 4]];
                    var Rcon = [0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80, 0x1b, 0x36, 0x6c, 0xd8, 0xab, 0x4d, 0x9a, 0x2f, 0x5e, 0xbc, 0x63, 0xc6, 0x97, 0x35, 0x6a, 0xd4, 0xb3, 0x7d, 0xfa, 0xef, 0xc5, 0x91];
                    var SBox = [99, 124, 119, 123, 242, 107, 111, 197, 48, 1, 103, 43, 254, 215, 171, 118, 202, 130, 201, 125, 250, 89, 71, 240, 173, 212, 162, 175, 156, 164, 114, 192, 183, 253, 147, 38, 54, 63, 247, 204, 52, 165, 229, 241, 113, 216, 49, 21, 4, 199, 35, 195, 24, 150, 5, 154, 7, 18, 128, 226, 235, 39, 178, 117, 9, 131, 44, 26, 27, 110, 90, 160, 82, 59, 214, 179, 41, 227, 47, 132, 83, 209, 0, 237, 32, 252, 177, 91, 106, 203, 190, 57, 74, 76, 88, 207, 208, 239, 170, 251, 67, 77, 51, 133, 69, 249, 2, 127, 80, 60, 159, 168, 81, 163, 64, 143, 146, 157, 56, 245, 188, 182, 218, 33, 16, 255, 243, 210, 205, 12, 19, 236, 95, 151, 68, 23, 196, 167, 126, 61, 100, 93, 25, 115, 96, 129, 79, 220, 34, 42, 144, 136, 70, 238, 184, 20, 222, 94, 11, 219, 224, 50, 58, 10, 73, 6, 36, 92, 194, 211, 172, 98, 145, 149, 228, 121, 231, 200, 55, 109, 141, 213, 78, 169, 108, 86, 244, 234, 101, 122, 174, 8, 186, 120, 37, 46, 28, 166, 180, 198, 232, 221, 116, 31, 75, 189, 139, 138, 112, 62, 181, 102, 72, 3, 246, 14, 97, 53, 87, 185, 134, 193, 29, 158, 225, 248, 152, 17, 105, 217, 142, 148, 155, 30, 135, 233, 206, 85, 40, 223, 140, 161, 137, 13, 191, 230, 66, 104, 65, 153, 45, 15, 176, 84, 187, 22];
                    var SBoxInverse = [82, 9, 106, 213, 48, 54, 165, 56, 191, 64, 163, 158, 129, 243, 215, 251, 124, 227, 57, 130, 155, 47, 255, 135, 52, 142, 67, 68, 196, 222, 233, 203, 84, 123, 148, 50, 166, 194, 35, 61, 238, 76, 149, 11, 66, 250, 195, 78, 8, 46, 161, 102, 40, 217, 36, 178, 118, 91, 162, 73, 109, 139, 209, 37, 114, 248, 246, 100, 134, 104, 152, 22, 212, 164, 92, 204, 93, 101, 182, 146, 108, 112, 72, 80, 253, 237, 185, 218, 94, 21, 70, 87, 167, 141, 157, 132, 144, 216, 171, 0, 140, 188, 211, 10, 247, 228, 88, 5, 184, 179, 69, 6, 208, 44, 30, 143, 202, 63, 15, 2, 193, 175, 189, 3, 1, 19, 138, 107, 58, 145, 17, 65, 79, 103, 220, 234, 151, 242, 207, 206, 240, 180, 230, 115, 150, 172, 116, 34, 231, 173, 53, 133, 226, 249, 55, 232, 28, 117, 223, 110, 71, 241, 26, 113, 29, 41, 197, 137, 111, 183, 98, 14, 170, 24, 190, 27, 252, 86, 62, 75, 198, 210, 121, 32, 154, 219, 192, 254, 120, 205, 90, 244, 31, 221, 168, 51, 136, 7, 199, 49, 177, 18, 16, 89, 39, 128, 236, 95, 96, 81, 127, 169, 25, 181, 74, 13, 45, 229, 122, 159, 147, 201, 156, 239, 160, 224, 59, 77, 174, 42, 245, 176, 200, 235, 187, 60, 131, 83, 153, 97, 23, 43, 4, 126, 186, 119, 214, 38, 225, 105, 20, 99, 85, 33, 12, 125];

                    function cyclicShiftLeft(theArray, positions) {
                        var temp = theArray.slice(0, positions);
                        theArray = theArray.slice(positions).concat(temp);
                        return theArray;
                    }
                    var Nk = keySizeInBits / 32;
                    var Nb = blockSizeInBits / 32;
                    var Nr = roundsArray[Nk][Nb];

                    function xtime(poly) {
                        poly <<= 1;
                        return ((poly & 0x100) ? (poly ^ 0x11B) : (poly));
                    }

                    function mult_GF256(x, y) {
                        var bit, result = 0;
                        for (bit = 1; bit < 256; bit *= 2, y = xtime(y)) {
                            if (x & bit) result ^= y;
                        }
                        return result;
                    }

                    function byteSub(state, direction) {
                        var S;
                        if (direction == "encrypt") S = SBox;
                        else S = SBoxInverse;
                        for (var i = 0; i < 4; i++)
                        for (var j = 0; j < Nb; j++)
                        state[i][j] = S[state[i][j]];
                    }

                    function shiftRow(state, direction) {
                        for (var i = 1; i < 4; i++)
                        if (direction == "encrypt") state[i] = cyclicShiftLeft(state[i], shiftOffsets[Nb][i]);
                        else state[i] = cyclicShiftLeft(state[i], Nb - shiftOffsets[Nb][i]);
                    }

                    function mixColumn(state, direction) {
                        var b = [];
                        for (var j = 0; j < Nb; j++) {
                            for (var i = 0; i < 4; i++) {
                                if (direction == "encrypt") b[i] = mult_GF256(state[i][j], 2) ^ mult_GF256(state[(i + 1) % 4][j], 3) ^ state[(i + 2) % 4][j] ^ state[(i + 3) % 4][j];
                                else b[i] = mult_GF256(state[i][j], 0xE) ^ mult_GF256(state[(i + 1) % 4][j], 0xB) ^ mult_GF256(state[(i + 2) % 4][j], 0xD) ^ mult_GF256(state[(i + 3) % 4][j], 9);
                            }
                            for (var i = 0; i < 4; i++)
                            state[i][j] = b[i];
                        }
                    }

                    function addRoundKey(state, roundKey) {
                        for (var j = 0; j < Nb; j++) {
                            state[0][j] ^= (roundKey[j] & 0xFF);
                            state[1][j] ^= ((roundKey[j] >> 8) & 0xFF);
                            state[2][j] ^= ((roundKey[j] >> 16) & 0xFF);
                            state[3][j] ^= ((roundKey[j] >> 24) & 0xFF);
                        }
                    }

                    function keyExpansion(key) {
                        var expandedKey = new Array();
                        var temp;
                        Nk = keySizeInBits / 32;
                        Nb = blockSizeInBits / 32;
                        Nr = roundsArray[Nk][Nb];
                        for (var j = 0; j < Nk; j++)
                        expandedKey[j] = (key[4 * j]) | (key[4 * j + 1] << 8) | (key[4 * j + 2] << 16) | (key[4 * j + 3] << 24);
                        for (j = Nk; j < Nb * (Nr + 1); j++) {
                            temp = expandedKey[j - 1];
                            if (j % Nk == 0) temp = ((SBox[(temp >> 8) & 0xFF]) | (SBox[(temp >> 16) & 0xFF] << 8) | (SBox[(temp >> 24) & 0xFF] << 16) | (SBox[temp & 0xFF] << 24)) ^ Rcon[Math.floor(j / Nk) - 1];
                            else if (Nk > 6 && j % Nk == 4) temp = (SBox[(temp >> 24) & 0xFF] << 24) | (SBox[(temp >> 16) & 0xFF] << 16) | (SBox[(temp >> 8) & 0xFF] << 8) | (SBox[temp & 0xFF]);
                            expandedKey[j] = expandedKey[j - Nk] ^ temp;
                        }
                        return expandedKey;
                    }

                    function Round(state, roundKey) {
                        byteSub(state, "encrypt");
                        shiftRow(state, "encrypt");
                        mixColumn(state, "encrypt");
                        addRoundKey(state, roundKey);
                    }

                    function InverseRound(state, roundKey) {
                        addRoundKey(state, roundKey);
                        mixColumn(state, "decrypt");
                        shiftRow(state, "decrypt");
                        byteSub(state, "decrypt");
                    }

                    function FinalRound(state, roundKey) {
                        byteSub(state, "encrypt");
                        shiftRow(state, "encrypt");
                        addRoundKey(state, roundKey);
                    }

                    function InverseFinalRound(state, roundKey) {
                        addRoundKey(state, roundKey);
                        shiftRow(state, "decrypt");
                        byteSub(state, "decrypt");
                    }

                    function encrypt(block, expandedKey) {
                        var i;
                        if (!block || block.length * 8 != blockSizeInBits) return;
                        if (!expandedKey) return;
                        block = packBytes(block);
                        addRoundKey(block, expandedKey);
                        for (i = 1; i < Nr; i++)
                        Round(block, expandedKey.slice(Nb * i, Nb * (i + 1)));
                        FinalRound(block, expandedKey.slice(Nb * Nr));
                        return unpackBytes(block);
                    }

                    function decrypt(block, expandedKey) {
                        var i;
                        if (!block || block.length * 8 != blockSizeInBits) return;
                        if (!expandedKey) return;
                        block = packBytes(block);
                        InverseFinalRound(block, expandedKey.slice(Nb * Nr));
                        for (i = Nr - 1; i > 0; i--)
                        InverseRound(block, expandedKey.slice(Nb * i, Nb * (i + 1)));
                        addRoundKey(block, expandedKey);
                        return unpackBytes(block);
                    }

                    function byteArrayToHex(byteArray) {
                        var result = "";
                        if (!byteArray) return;
                        for (var i = 0; i < byteArray.length; i++)
                        result += ((byteArray[i] < 16) ? "0" : "") + byteArray[i].toString(16);
                        return result;
                    }

                    function hexToByteArray(hexString) {
                        var byteArray = [];
                        if (hexString.length % 2) return;
                        if (hexString.indexOf("0x") == 0 || hexString.indexOf("0X") == 0) hexString = hexString.substring(2);
                        for (var i = 0; i < hexString.length; i += 2)
                        byteArray[Math.floor(i / 2)] = parseInt(hexString.slice(i, i + 2), 16);
                        return byteArray;
                    }

                    function packBytes(octets) {
                        var state = new Array();
                        if (!octets || octets.length % 4) return;
                        state[0] = new Array();
                        state[1] = new Array();
                        state[2] = new Array();
                        state[3] = new Array();
                        for (var j = 0; j < octets.length; j += 4) {
                            state[0][j / 4] = octets[j];
                            state[1][j / 4] = octets[j + 1];
                            state[2][j / 4] = octets[j + 2];
                            state[3][j / 4] = octets[j + 3];
                        }
                        return state;
                    }

                    function unpackBytes(packed) {
                        var result = new Array();
                        for (var j = 0; j < packed[0].length; j++) {
                            result[result.length] = packed[0][j];
                            result[result.length] = packed[1][j];
                            result[result.length] = packed[2][j];
                            result[result.length] = packed[3][j];
                        }
                        return result;
                    }

                    function formatPlaintext(plaintext) {
                        var bpb = blockSizeInBits / 8;
                        var fillWithRandomBits;
                        var i;
                        if ((!((typeof plaintext == "object") && ((typeof (plaintext[0])) == "number"))) && ((typeof plaintext == "string") || plaintext.indexOf)) {
                            plaintext = plaintext.split("");
                            for (i = 0; i < plaintext.length; i++) {
                                plaintext[i] = plaintext[i].charCodeAt(0) & 0xFF;
                            }
                        }
                        i = plaintext.length % bpb;
                        if (i > 0) {
                            {
                                var paddingBytes;
                                var ii, cc;
                                paddingBytes = new Array();
                                cc = bpb - i;
                                for (ii = 0; ii < cc; ii++) {
                                    paddingBytes[ii] = cc;
                                }
                                plaintext = plaintext.concat(paddingBytes);
                            }
                        }
                        return plaintext;
                    }

                    function getRandomBytes(howMany) {
                        var i, bytes = new Array();
                        for (i = 0; i < howMany; i++) {
                            bytes[i] = prng.nextInt(255);
                        }
                        return bytes;
                    }

                    function rijndaelEncrypt(plaintext, key, mode) {
                        var expandedKey, i, aBlock;
                        var bpb = blockSizeInBits / 8;
                        var ct;
                        if (!plaintext || !key) return;
                        if (key.length * 8 != keySizeInBits) return;
                        if (mode == "CBC") {
                            ct = getRandomBytes(bpb);
                        } else {
                            mode = "ECB";
                            ct = new Array();
                        }
                        plaintext = formatPlaintext(plaintext);
                        expandedKey = keyExpansion(key);
                        for (var block = 0; block < plaintext.length / bpb; block++) {
                            aBlock = plaintext.slice(block * bpb, (block + 1) * bpb);
                            if (mode == "CBC") {
                                for (var i = 0; i < bpb; i++) {
                                    aBlock[i] ^= ct[(block * bpb) + i];
                                }
                            }
                            ct = ct.concat(encrypt(aBlock, expandedKey));
                        }
                        return ct;
                    }

                    function rijndaelDecrypt(ciphertext, key, mode) {
                        var expandedKey;
                        var bpb = blockSizeInBits / 8;
                        var pt = new Array();
                        var aBlock;
                        var block;
                        if (!ciphertext || !key || typeof ciphertext == "string") return;
                        if (key.length * 8 != keySizeInBits) return;
                        if (!mode) {
                            mode = "ECB";
                        }
                        expandedKey = keyExpansion(key);
                        for (block = (ciphertext.length / bpb) - 1; block > 0; block--) {
                            aBlock = decrypt(ciphertext.slice(block * bpb, (block + 1) * bpb), expandedKey);
                            if (mode == "CBC") for (var i = 0; i < bpb; i++)
                            pt[(block - 1) * bpb + i] = aBlock[i] ^ ciphertext[(block - 1) * bpb + i];
                            else pt = aBlock.concat(pt);
                        }
                        if (mode == "ECB") pt = decrypt(ciphertext.slice(0, bpb), expandedKey).concat(pt);
                        return pt;
                    }

                    function unicode_to_utf8(s) {
                        var utf8 = "";
                        for (var n = 0; n < s.length; n++) {
                            var c = s.charCodeAt(n);
                            if (c <= 0x7F) {
                                utf8 += String.fromCharCode(c);
                            } else if ((c >= 0x80) && (c <= 0x7FF)) {
                                utf8 += String.fromCharCode((c >> 6) | 0xC0);
                                utf8 += String.fromCharCode((c & 0x3F) | 0x80);
                            } else {
                                utf8 += String.fromCharCode((c >> 12) | 0xE0);
                                utf8 += String.fromCharCode(((c >> 6) & 0x3F) | 0x80);
                                utf8 += String.fromCharCode((c & 0x3F) | 0x80);
                            }
                        }
                        return utf8;
                    }

                    function utf8_to_unicode(utf8) {
                        var s = "",
                            i = 0,
                            b1, b2, b2;
                        while (i < utf8.length) {
                            b1 = utf8.charCodeAt(i);
                            if (b1 < 0x80) {
                                s += String.fromCharCode(b1);
                                i++;
                            } else if ((b1 >= 0xC0) && (b1 < 0xE0)) {
                                b2 = utf8.charCodeAt(i + 1);
                                s += String.fromCharCode(((b1 & 0x1F) << 6) | (b2 & 0x3F));
                                i += 2;
                            } else {
                                b2 = utf8.charCodeAt(i + 1);
                                b3 = utf8.charCodeAt(i + 2);
                                s += String.fromCharCode(((b1 & 0xF) << 12) | ((b2 & 0x3F) << 6) | (b3 & 0x3F));
                                i += 3;
                            }
                        }
                        return s;
                    }

                    function encode_utf8(s) {
                        var i, necessary = false;
                        for (i = 0; i < s.length; i++) {
                            if ((s.charCodeAt(i) == 0x9D) || (s.charCodeAt(i) > 0xFF)) {
                                necessary = true;
                                break;
                            }
                        }
                        if (!necessary) {
                            return s;
                        }
                        return String.fromCharCode(0x9D) + unicode_to_utf8(s);
                    }

                    function decode_utf8(s) {
                        if ((s.length > 0) && (s.charCodeAt(0) == 0x9D)) {
                            return utf8_to_unicode(s.substring(1));
                        }
                        return s;
                    }
                    var hexcase = 0;
                    var b64pad = "";
                    var chrsz = 8;

                    function hex_md5(s) {
                        return binl2hex(core_md5(str2binl(s), s.length * chrsz));
                    }

                    function b64_md5(s) {
                        return binl2b64(core_md5(str2binl(s), s.length * chrsz));
                    }

                    function str_md5(s) {
                        return binl2str(core_md5(str2binl(s), s.length * chrsz));
                    }

                    function hex_hmac_md5(key, data) {
                        return binl2hex(core_hmac_md5(key, data));
                    }

                    function b64_hmac_md5(key, data) {
                        return binl2b64(core_hmac_md5(key, data));
                    }

                    function str_hmac_md5(key, data) {
                        return binl2str(core_hmac_md5(key, data));
                    }

                    function md5_vm_test() {
                        return hex_md5("abc") == "900150983cd24fb0d6963f7d28e17f72";
                    }

                    function core_md5(x, len) {
                        x[len >> 5] |= 0x80 << ((len) % 32);
                        x[(((len + 64) >>> 9) << 4) + 14] = len;
                        var a = 1732584193;
                        var b = -271733879;
                        var c = -1732584194;
                        var d = 271733878;
                        for (var i = 0; i < x.length; i += 16) {
                            var olda = a;
                            var oldb = b;
                            var oldc = c;
                            var oldd = d;
                            a = md5_ff(a, b, c, d, x[i + 0], 7, - 680876936);
                            d = md5_ff(d, a, b, c, x[i + 1], 12, - 389564586);
                            c = md5_ff(c, d, a, b, x[i + 2], 17, 606105819);
                            b = md5_ff(b, c, d, a, x[i + 3], 22, - 1044525330);
                            a = md5_ff(a, b, c, d, x[i + 4], 7, - 176418897);
                            d = md5_ff(d, a, b, c, x[i + 5], 12, 1200080426);
                            c = md5_ff(c, d, a, b, x[i + 6], 17, - 1473231341);
                            b = md5_ff(b, c, d, a, x[i + 7], 22, - 45705983);
                            a = md5_ff(a, b, c, d, x[i + 8], 7, 1770035416);
                            d = md5_ff(d, a, b, c, x[i + 9], 12, - 1958414417);
                            c = md5_ff(c, d, a, b, x[i + 10], 17, - 42063);
                            b = md5_ff(b, c, d, a, x[i + 11], 22, - 1990404162);
                            a = md5_ff(a, b, c, d, x[i + 12], 7, 1804603682);
                            d = md5_ff(d, a, b, c, x[i + 13], 12, - 40341101);
                            c = md5_ff(c, d, a, b, x[i + 14], 17, - 1502002290);
                            b = md5_ff(b, c, d, a, x[i + 15], 22, 1236535329);
                            a = md5_gg(a, b, c, d, x[i + 1], 5, - 165796510);
                            d = md5_gg(d, a, b, c, x[i + 6], 9, - 1069501632);
                            c = md5_gg(c, d, a, b, x[i + 11], 14, 643717713);
                            b = md5_gg(b, c, d, a, x[i + 0], 20, - 373897302);
                            a = md5_gg(a, b, c, d, x[i + 5], 5, - 701558691);
                            d = md5_gg(d, a, b, c, x[i + 10], 9, 38016083);
                            c = md5_gg(c, d, a, b, x[i + 15], 14, - 660478335);
                            b = md5_gg(b, c, d, a, x[i + 4], 20, - 405537848);
                            a = md5_gg(a, b, c, d, x[i + 9], 5, 568446438);
                            d = md5_gg(d, a, b, c, x[i + 14], 9, - 1019803690);
                            c = md5_gg(c, d, a, b, x[i + 3], 14, - 187363961);
                            b = md5_gg(b, c, d, a, x[i + 8], 20, 1163531501);
                            a = md5_gg(a, b, c, d, x[i + 13], 5, - 1444681467);
                            d = md5_gg(d, a, b, c, x[i + 2], 9, - 51403784);
                            c = md5_gg(c, d, a, b, x[i + 7], 14, 1735328473);
                            b = md5_gg(b, c, d, a, x[i + 12], 20, - 1926607734);
                            a = md5_hh(a, b, c, d, x[i + 5], 4, - 378558);
                            d = md5_hh(d, a, b, c, x[i + 8], 11, - 2022574463);
                            c = md5_hh(c, d, a, b, x[i + 11], 16, 1839030562);
                            b = md5_hh(b, c, d, a, x[i + 14], 23, - 35309556);
                            a = md5_hh(a, b, c, d, x[i + 1], 4, - 1530992060);
                            d = md5_hh(d, a, b, c, x[i + 4], 11, 1272893353);
                            c = md5_hh(c, d, a, b, x[i + 7], 16, - 155497632);
                            b = md5_hh(b, c, d, a, x[i + 10], 23, - 1094730640);
                            a = md5_hh(a, b, c, d, x[i + 13], 4, 681279174);
                            d = md5_hh(d, a, b, c, x[i + 0], 11, - 358537222);
                            c = md5_hh(c, d, a, b, x[i + 3], 16, - 722521979);
                            b = md5_hh(b, c, d, a, x[i + 6], 23, 76029189);
                            a = md5_hh(a, b, c, d, x[i + 9], 4, - 640364487);
                            d = md5_hh(d, a, b, c, x[i + 12], 11, - 421815835);
                            c = md5_hh(c, d, a, b, x[i + 15], 16, 530742520);
                            b = md5_hh(b, c, d, a, x[i + 2], 23, - 995338651);
                            a = md5_ii(a, b, c, d, x[i + 0], 6, - 198630844);
                            d = md5_ii(d, a, b, c, x[i + 7], 10, 1126891415);
                            c = md5_ii(c, d, a, b, x[i + 14], 15, - 1416354905);
                            b = md5_ii(b, c, d, a, x[i + 5], 21, - 57434055);
                            a = md5_ii(a, b, c, d, x[i + 12], 6, 1700485571);
                            d = md5_ii(d, a, b, c, x[i + 3], 10, - 1894986606);
                            c = md5_ii(c, d, a, b, x[i + 10], 15, - 1051523);
                            b = md5_ii(b, c, d, a, x[i + 1], 21, - 2054922799);
                            a = md5_ii(a, b, c, d, x[i + 8], 6, 1873313359);
                            d = md5_ii(d, a, b, c, x[i + 15], 10, - 30611744);
                            c = md5_ii(c, d, a, b, x[i + 6], 15, - 1560198380);
                            b = md5_ii(b, c, d, a, x[i + 13], 21, 1309151649);
                            a = md5_ii(a, b, c, d, x[i + 4], 6, - 145523070);
                            d = md5_ii(d, a, b, c, x[i + 11], 10, - 1120210379);
                            c = md5_ii(c, d, a, b, x[i + 2], 15, 718787259);
                            b = md5_ii(b, c, d, a, x[i + 9], 21, - 343485551);
                            a = safe_add(a, olda);
                            b = safe_add(b, oldb);
                            c = safe_add(c, oldc);
                            d = safe_add(d, oldd);
                        }
                        return Array(a, b, c, d);
                    }

                    function md5_cmn(q, a, b, x, s, t) {
                        return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s), b);
                    }

                    function md5_ff(a, b, c, d, x, s, t) {
                        return md5_cmn((b & c) | ((~b) & d), a, b, x, s, t);
                    }

                    function md5_gg(a, b, c, d, x, s, t) {
                        return md5_cmn((b & d) | (c & (~d)), a, b, x, s, t);
                    }

                    function md5_hh(a, b, c, d, x, s, t) {
                        return md5_cmn(b ^ c ^ d, a, b, x, s, t);
                    }

                    function md5_ii(a, b, c, d, x, s, t) {
                        return md5_cmn(c ^ (b | (~d)), a, b, x, s, t);
                    }

                    function core_hmac_md5(key, data) {
                        var bkey = str2binl(key);
                        if (bkey.length > 16) bkey = core_md5(bkey, key.length * chrsz);
                        var ipad = Array(16),
                            opad = Array(16);
                        for (var i = 0; i < 16; i++) {
                            ipad[i] = bkey[i] ^ 0x36363636;
                            opad[i] = bkey[i] ^ 0x5C5C5C5C;
                        }
                        var hash = core_md5(ipad.concat(str2binl(data)), 512 + data.length * chrsz);
                        return core_md5(opad.concat(hash), 512 + 128);
                    }

                    function safe_add(x, y) {
                        var lsw = (x & 0xFFFF) + (y & 0xFFFF);
                        var msw = (x >> 16) + (y >> 16) + (lsw >> 16);
                        return (msw << 16) | (lsw & 0xFFFF);
                    }

                    function bit_rol(num, cnt) {
                        return (num << cnt) | (num >>> (32 - cnt));
                    }

                    function str2binl(str) {
                        var bin = Array();
                        var mask = (1 << chrsz) - 1;
                        for (var i = 0; i < str.length * chrsz; i += chrsz)
                        bin[i >> 5] |= (str.charCodeAt(i / chrsz) & mask) << (i % 32);
                        return bin;
                    }

                    function binl2str(bin) {
                        var str = "";
                        var mask = (1 << chrsz) - 1;
                        for (var i = 0; i < bin.length * 32; i += chrsz)
                        str += String.fromCharCode((bin[i >> 5] >>> (i % 32)) & mask);
                        return str;
                    }

                    function binl2hex(binarray) {
                        var hex_tab = hexcase ? "0123456789ABCDEF" : "0123456789abcdef";
                        var str = "";
                        for (var i = 0; i < binarray.length * 4; i++) {
                            str += hex_tab.charAt((binarray[i >> 2] >> ((i % 4) * 8 + 4)) & 0xF) + hex_tab.charAt((binarray[i >> 2] >> ((i % 4) * 8)) & 0xF);
                        }
                        return str;
                    }

                    function binl2b64(binarray) {
                        var tab = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
                        var str = "";
                        for (var i = 0; i < binarray.length * 4; i += 3) {
                            var triplet = (((binarray[i >> 2] >> 8 * (i % 4)) & 0xFF) << 16) | (((binarray[i + 1 >> 2] >> 8 * ((i + 1) % 4)) & 0xFF) << 8) | ((binarray[i + 2 >> 2] >> 8 * ((i + 2) % 4)) & 0xFF);
                            for (var j = 0; j < 4; j++) {
                                if (i * 8 + j * 6 > binarray.length * 32) str += b64pad;
                                else str += tab.charAt((triplet >> 6 * (3 - j)) & 0x3F);
                            }
                        }
                        return str;
                    }
                    MochiKit.Base.update(Clipperz.Crypto.Base, {
                        '__repr__': function () {
                            return "[" + this.NAME + " " + this.VERSION + "]";
                        },
                        'toString': function () {
                            return this.__repr__();
                        },
                        'encryptUsingSecretKey': function (aKey, aMessage) {
                            var result;
                            var plaintext;
                            var header;
                            var key;
                            key = hexToByteArray(Clipperz.Crypto.Base.computeHashValue(aKey));
                            addEntropyTime();
                            prng = new AESprng(keyFromEntropy());
                            plaintext = encode_utf8(aMessage);
                            header = Clipperz.Base.byteArrayToString(hexToByteArray(Clipperz.Crypto.Base.computeMD5HashValue(plaintext)));
                            i = plaintext.length;
                            header += String.fromCharCode(i >>> 24);
                            header += String.fromCharCode(i >>> 16);
                            header += String.fromCharCode(i >>> 8);
                            header += String.fromCharCode(i & 0xFF);
                            result = byteArrayToHex(rijndaelEncrypt(header + plaintext, key, "CBC"));
                            delete prng;
                            return result;
                        },
                        'decryptUsingSecretKey': function (aKey, aMessage) {
                            var key;
                            var decryptedText;
                            var textLength;
                            var header;
                            var headerDigest;
                            var plaintext;
                            var i;
                            key = hexToByteArray(Clipperz.Crypto.Base.computeHashValue(aKey));
                            decryptedText = rijndaelDecrypt(hexToByteArray(aMessage), key, "CBC");
                            header = decryptedText.slice(0, 20);
                            decryptedText = decryptedText.slice(20);
                            headerDigest = byteArrayToHex(header.slice(0, 16));
                            textLength = (header[16] << 24) | (header[17] << 16) | (header[18] << 8) | header[19];
                            if ((textLength < 0) || (textLength > decryptedText.length)) {
                                textLength = decryptedText.length;
                            }
                            plainText = "";
                            for (i = 0; i < textLength; i++) {
                                plainText += String.fromCharCode(decryptedText[i]);
                            }
                            if (Clipperz.Crypto.Base.computeMD5HashValue(plainText) != headerDigest) {
                                throw Clipperz.Crypto.Base.exception.CorruptedMessage;
                            }
                            result = decode_utf8(plainText);
                            return result;
                        },
                        'computeHashValue': function (aMessage) {
                            var result;
                            result = hex_sha256(aMessage);
                            return result;
                        },
                        'computeMD5HashValue': function (aMessage) {
                            var result;
                            result = hex_md5(aMessage);
                            return result;
                        },
                        'generateRandomSeed': function () {
                            var result;
                            var seed;
                            var prng;
                            var charA;
                            var i;
                            addEntropyTime();
                            seed = keyFromEntropy();
                            prng = new AESprng(seed);
                            result = "";
                            charA = ("A").charCodeAt(0);
                            for (i = 0; i < 64; i++) {
                                result += String.fromCharCode(charA + prng.nextInt(25));
                            }
                            delete prng;
                            result = Clipperz.Crypto.Base.computeHashValue(result);
                            return result;
                        },
                        'exception': {
                            'CorruptedMessage': new MochiKit.Base.NamedError("Clipperz.Crypto.Base.exception.CorruptedMessage")
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    try {
                        if (typeof (Clipperz.ByteArray) == 'undefined') {
                            throw "";
                        }
                    } catch (e) {
                        throw "Clipperz.Crypto.PRNG depends on Clipperz.ByteArray!";
                    }
                    try {
                        if (typeof (Clipperz.Crypto.BigInt) == 'undefined') {
                            throw "";
                        }
                    } catch (e) {
                        throw "Clipperz.Crypto.SRP depends on Clipperz.Crypto.BigInt!";
                    }
                    try {
                        if (typeof (Clipperz.Crypto.PRNG) == 'undefined') {
                            throw "";
                        }
                    } catch (e) {
                        throw "Clipperz.Crypto.SRP depends on Clipperz.Crypto.PRNG!";
                    }
                    if (typeof (Clipperz.Crypto.SRP) == 'undefined') {
                        Clipperz.Crypto.SRP = {};
                    }
                    Clipperz.Crypto.SRP.VERSION = "0.1";
                    Clipperz.Crypto.SRP.NAME = "Clipperz.Crypto.SRP";
                    MochiKit.Base.update(Clipperz.Crypto.SRP, {
                        '_n': null,
                        '_g': null,
                        'n': function () {
                            if (Clipperz.Crypto.SRP._n == null) {
                                Clipperz.Crypto.SRP._n = new Clipperz.Crypto.BigInt("115b8b692e0e045692cf280b436735c77a5a9e8a9e7ed56c965f87db5b2a2ece3", 16);
                            }
                            return Clipperz.Crypto.SRP._n;
                        },
                        'g': function () {
                            if (Clipperz.Crypto.SRP._g == null) {
                                Clipperz.Crypto.SRP._g = new Clipperz.Crypto.BigInt(2);
                            }
                            return Clipperz.Crypto.SRP._g;
                        },
                        'exception': {
                            'InvalidValue': new MochiKit.Base.NamedError("Clipperz.Crypto.SRP.exception.InvalidValue")
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.Crypto.SRP.Connection = function (args) {
                        args = args || {};
                        this._C = args.C;
                        this._P = args.P;
                        this.hash = args.hash;
                        this._a = null;
                        this._A = null;
                        this._s = null;
                        this._B = null;
                        this._x = null;
                        this._u = null;
                        this._K = null;
                        this._M1 = null;
                        this._M2 = null;
                        this._sessionKey = null;
                        return this;
                    }
                    Clipperz.Crypto.SRP.Connection.prototype = MochiKit.Base.update(null, {
                        'toString': function () {
                            return "Clipperz.Crypto.SRP.Connection (username: " + this.username() + "). Status: " + this.statusDescription();
                        },
                        'C': function () {
                            return this._C;
                        },
                        'P': function () {
                            return this._P;
                        },
                        'a': function () {
                            if (this._a == null) {
                                this._a = new Clipperz.Crypto.BigInt(Clipperz.Crypto.PRNG.defaultRandomGenerator().getRandomBytes(32).toHexString().substring(2), 16);
                            }
                            return this._a;
                        },
                        'A': function () {
                            if (this._A == null) {
                                this._A = Clipperz.Crypto.SRP.g().powerModule(this.a(), Clipperz.Crypto.SRP.n());
                                if (this._A.equals(0)) {
                                    MochiKit.Logging.logError("Clipperz.Crypto.SRP.Connection: trying to set 'A' to 0.");
                                    throw Clipperz.Crypto.SRP.exception.InvalidValue;
                                }
                            }
                            return this._A;
                        },
                        's': function () {
                            return this._s;
                        },
                        'set_s': function (aValue) {
                            this._s = aValue;
                        },
                        'B': function () {
                            return this._B;
                        },
                        'set_B': function (aValue) {
                            if (!aValue.equals(0)) {
                                this._B = aValue;
                            } else {
                                MochiKit.Logging.logError("Clipperz.Crypto.SRP.Connection: trying to set 'B' to 0.");
                                throw Clipperz.Crypto.SRP.exception.InvalidValue;
                            }
                        },
                        'x': function () {
                            if (this._x == null) {
                                this._x = new Clipperz.Crypto.BigInt(this.stringHash(this.s().asString(16, 64) + this.P()), 16);
                            }
                            return this._x;
                        },
                        'u': function () {
                            if (this._u == null) {
                                this._u = new Clipperz.Crypto.BigInt(this.stringHash(this.B().asString()), 16);
                            }
                            return this._u;
                        },
                        'S': function () {
                            if (this._S == null) {
                                var bigint;
                                var srp;
                                bigint = Clipperz.Crypto.BigInt;
                                srp = Clipperz.Crypto.SRP;
                                this._S = bigint.powerModule(bigint.subtract(this.B(), bigint.powerModule(srp.g(), this.x(), srp.n())), bigint.add(this.a(), bigint.multiply(this.u(), this.x())), srp.n())
                            }
                            return this._S;
                        },
                        'K': function () {
                            if (this._K == null) {
                                this._K = this.stringHash(this.S().asString());
                            }
                            return this._K;
                        },
                        'M1': function () {
                            if (this._M1 == null) {
                                this._M1 = this.stringHash(this.A().asString(10) + this.B().asString(10) + this.K());
                            }
                            return this._M1;
                        },
                        'M2': function () {
                            if (this._M2 == null) {
                                this._M2 = this.stringHash(this.A().asString(10) + this.M1() + this.K());
                            }
                            return this._M2;
                        },
                        'serverSideCredentialsWithSalt': function (aSalt) {
                            var result;
                            var s, x, v;
                            s = aSalt;
                            x = this.stringHash(s + this.P());
                            v = Clipperz.Crypto.SRP.g().powerModule(new Clipperz.Crypto.BigInt(x, 16), Clipperz.Crypto.SRP.n());
                            result = {};
                            result['C'] = this.C();
                            result['s'] = s;
                            result['v'] = v.asString(16);
                            return result;
                        },
                        'serverSideCredentials': function () {
                            var result;
                            var s;
                            s = Clipperz.Crypto.PRNG.defaultRandomGenerator().getRandomBytes(32).toHexString().substring(2);
                            result = this.serverSideCredentialsWithSalt(s);
                            return result;
                        },
                        'stringHash': function (aValue) {
                            var result;
                            result = this.hash(new Clipperz.ByteArray(aValue)).toHexString().substring(2);
                            return result;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    try {
                        if (typeof (Clipperz.Crypto.BigInt) == 'undefined') {
                            throw "";
                        }
                    } catch (e) {
                        throw "Clipperz.Crypto.RSA depends on Clipperz.Crypto.BigInt!";
                    }
                    if (typeof (Clipperz.Crypto.RSA) == 'undefined') {
                        Clipperz.Crypto.RSA = {};
                    }
                    Clipperz.Crypto.RSA.VERSION = "0.1";
                    Clipperz.Crypto.RSA.NAME = "Clipperz.RSA";
                    MochiKit.Base.update(Clipperz.Crypto.RSA, {
                        'publicKeyWithValues': function (e, d, n) {
                            var result;
                            result = {};
                            if (e.isBigInt) {
                                result.e = e;
                            } else {
                                result.e = new Clipperz.Crypto.BigInt(e, 16);
                            }
                            if (d.isBigInt) {
                                result.d = d;
                            } else {
                                result.d = new Clipperz.Crypto.BigInt(d, 16);
                            }
                            if (n.isBigInt) {
                                result.n = n;
                            } else {
                                result.n = new Clipperz.Crypto.BigInt(n, 16);
                            }
                            return result;
                        },
                        'privateKeyWithValues': function (e, d, n) {
                            return Clipperz.Crypto.RSA.publicKeyWithValues(e, d, n);
                        },
                        'encryptUsingPublicKey': function (aKey, aMessage) {
                            var messageValue;
                            var result;
                            messageValue = new Clipperz.Crypto.BigInt(aMessage, 16);
                            result = messageValue.powerModule(aKey.e, aKey.n);
                            return result.asString(16);
                        },
                        'decryptUsingPublicKey': function (aKey, aMessage) {
                            return Clipperz.Crypto.RSA.encryptUsingPublicKey(aKey, aMessage);
                        },
                        'encryptUsingPrivateKey': function (aKey, aMessage) {
                            var messageValue;
                            var result;
                            messageValue = new Clipperz.Crypto.BigInt(aMessage, 16);
                            result = messageValue.powerModule(aKey.d, aKey.n);
                            return result.asString(16);
                        },
                        'decryptUsingPrivateKey': function (aKey, aMessage) {
                            return Clipperz.Crypto.RSA.encryptUsingPrivateKey(aKey, aMessage);
                        },
                        'generatePublicKey': function (aNumberOfBits) {
                            var result;
                            var e;
                            var d;
                            var n;
                            e = new Clipperz.Crypto.BigInt("10001", 16); {
                                var p, q;
                                var phi;
                                do {
                                    p = Clipperz.Crypto.BigInt.randomPrime(aNumberOfBits);
                                } while (p.module(e).equals(1));
                                do {
                                    q = Clipperz.Crypto.BigInt.randomPrime(aNumberOfBits);
                                } while ((q.equals(p)) || (q.module(e).equals(1)));
                                n = p.multiply(q);
                                phi = (p.subtract(1).multiply(q.subtract(1)));
                                d = e.powerModule(-1, phi);
                            }
                            result = Clipperz.Crypto.RSA.publicKeyWithValues(e, d, n);
                            return result;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Strings) == 'undefined') {
                        Clipperz.PM.Strings = {};
                    }
                    if (typeof (Clipperz.PM.Strings.Languages) == 'undefined') {
                        Clipperz.PM.Strings.Languages = {};
                    }
                    Clipperz.PM.Strings.Languages['en-us'] = {
                        'clipperzServiceDescription': "\
 <!--  FIX CSS  DONE --> \
 <h2>Keep it to yourself!</h2>\
 <ul>\
  <li>\
   <h3>Clipperz is:</h3>\
   <ul>\
    <li><p>a secure and simple password manager</p></li>\
    <li><p>an effective single sign-on solution</p></li>\
    <li><p>a digital vault for your personal data</p></li>\
   </ul>\
  </li>\
  <li>\
   <h3>With Clipperz you can:</h3>\
   <ul>\
    <li><p>store and manage your passwords and online credentials</p></li>\
    <li><p>login to your web services without entering any username or password</p></li>\
    <li><p>protect all your sensitive data: codes for burglar alarms, PINs, credit card numbers, â¦</p></li>\
    <li><p>share secrets with family members and associates (coming soon)</p></li>\
   </ul>\
  </li>\
  <li>\
   <h3>Clipperz benefits:</h3>\
   <ul>\
    <li><p>free and completely anonymous</p></li>\
    <li><p>access it any time from any computer</p></li>\
    <li><p>no software to download and nothing to install</p></li>\
    <li><p>avoid keeping secrets on your PC or on paper</p></li>\
   </ul>\
  </li>\
  <li>\
   <h3>Clipperz security:</h3>\
   <ul>\
    <li><p>your secrets are locally encrypted by your browser before being uploaded to Clipperz</p></li>\
    <li><p>the encryption key is a passphrase known only to you</p></li>\
    <li><p>Clipperz hosts your sensitive data in encrypted form and could never actually access the data in its plain form</p></li>\
    <li><p>Clipperz is built upon standard encryption schemes, nothing fancies or homemade</p></li>\
    <li><p>you can review the source code anytime you like, but you need to know nothing about cryptography to be an happy user!</p></li>\
   </ul>\
  </li>\
  <li>\
   <a href=\"http://www.clipperz.com\" target=\"_parent\">Learn more</a>\
  </li>\
 </ul>",
                        'loginFormTitle': "login with your Clipperz account",
                        'loginFormUsernameLabel': "username",
                        'loginFormPassphraseLabel': "passphrase",
                        'loginFormDontHaveAnAccountLabel': "don\'t have an account?",
                        'loginFormCreateOneLabel': "create one",
                        'loginFormForgotYourCredentialsLabel': "forgot your credentials?",
                        'loginFormAarghThatsBadLabel': "aargh! that\'s bad!",
                        'loginFormAfraidOfMaliciousScriptsLabel': "afraid of malicious scripts?",
                        'loginFormVerifyTheCodeLabel': "verify the code",
                        'loginFormButtonLabel': "Login",
                        'loginFormOneTimePasswordCheckboxLabel': "use a one-time passphrase",
                        'loginFormOneTimePasswordCheckboxDescription': "",
                        'loginPanelSwithLanguageDescription': "<h5>Switch to your preferred language</h5>",
                        'browserCompatibilityDescription': "<p>Have a better and safer Clipperz experience with Firefox. However Clipperz works just fine also with Opera, Safari and MS Internet Explorer!</p>",
                        'OTPloginMessagePanelInitialTitle': "Logging in using a one-time passphrase",
                        'OTPloginMessagePanelInitialText': "Sending OTP credentials â¦",
                        'OTPloginMessagePanelLoadingTitle': "Logging in using a one-time passphrase",
                        'OTPloginMessagePanelLoadingText': "Fetching encrypted authentication data from the server â¦",
                        'OTPloginMessagePanelProcessingTitle': "Logging in using a one-time passphrase",
                        'OTPloginMessagePanelProcessingText': "Local decryption of authentication data",
                        'loginMessagePanelInitialTitle': "Logging in â¦",
                        'loginMessagePanelInitialText': "---",
                        'loginMessagePanelInitialButtonLabel': "Cancel",
                        'loginMessagePanelConnectedTitle': "Connected",
                        'loginMessagePanelConnectedText': "Done",
                        'loginMessagePanelFailureTitle': "Error",
                        'loginMessagePanelFailureText': "Login failed",
                        'loginMessagePanelFailureButtonLabel': "Close",
                        'connectionLoginSendingCredentialsMessageTitle': "Verifying credentials",
                        'connectionLoginSendingCredentialsMessageText': "Sending credentials",
                        'connectionLoginCredentialsVerificationMessageTitle': "Verifying credentials",
                        'connectionLoginCredentialsVerificationMessageText': "Performing SRP authentication",
                        'connectionLoginDoneMessageTitle': "Verifying credentials",
                        'connectionLoginDoneMessageText': "Connected",
                        'userLoginPanelUpgradingUserCredentialsMessageTitle': "Verifying credentials",
                        'userLoginPanelUpgradingUserCredentialsMessageText': "Upgrading your credentials to a new authentication schema",
                        'userLoginPanelConnectedMessageTitle': "User authenticated",
                        'userLoginPanelConnectedMessageText': "Successfully logged in",
                        'userLoginPanelTryingAnOlderConnectionSchemaMessageTitle': "Verifying credentials",
                        'userLoginPanelTryingAnOlderConnectionSchemaMessageText': "Trying an older authentication schema",
                        'userLoginPanelLoadingUserDataMessageTitle': "User authenticated",
                        'userLoginPanelLoadingUserDataMessageText': "Downloading encrypted card headers from Clipperz",
                        'userLoginPanelDecryptingUserDataMessageTitle': "User authenticated",
                        'userLoginPanelDecryptingUserDataMessageText': "Local decryption of card headers",
                        'userLoginPanelDecryptingUserStatisticsMessageTitle': "User authenticated",
                        'userLoginPanelDecryptingUserStatisticsMessageText': "Local decryption of usage statistics",
                        'splashAlertTitle': "Welcome to Clipperz!",
                        'splashAlertText': "\
 <!--  FIX CSS  DONE! --> \
 <p>Some security advice</p>\
 <ul>\
  <li><p>Storing your data at Clipperz is as secure as the passphrase you choose to protect them. Nobody can access them unless they know your passphrase.</p></li>\
  <li><p>If you are going to use Clipperz for safeguarding sensitive and critical information please make sure to use a strong passphrase. The longer the better!</p></li>\
  <li><p>Clipperz will not be able to recover a lost passphrase!</p></li>\
 </ul>\
 <p>For any further information, please refer to <a href=\"http://www.clipperz.com\" target=\"_parent\">Clipperz</a> website.</p>",
                        'splashAlertCloseButtonLabel': "Ok",
                        'registrationFormTitle': "create your account",
                        'registrationFormUsernameLabel': "username",
                        'registrationFormPassphraseLabel': "passphrase",
                        'registrationFormRetypePassphraseLabel': "re-enter passphrase",
                        'registrationFormSafetyCheckLabel': "I understand that Clipperz will not be able to recover a lost passphrase.",
                        'registrationFormTermsOfServiceCheckLabel': "I have read and agreed to the <a href='http://www.clipperz.com/terms_of_service' target='_parent'>Terms of Service</a>.",
                        'registrationFormDoYouAlreadyHaveAnAccountLabel': "do you already have an account?",
                        'registrationFormSimplyLoginLabel': "simply login",
                        'registrationFormButtonLabel': "Register",
                        'registrationFormWarningMessageNotMatchingPassphrases': "Your passphrases don't match, please re-type them.",
                        'registrationFormWarningMessageSafetyCheckNotSelected': "Please read and check all the boxes below.",
                        'registrationFormWarningMessageTermsOfServiceCheckNotSelected': "You need to agree to the Terms of Service.",
                        'registrationMessagePanelInitialTitle': "Creating account â¦",
                        'registrationMessagePanelInitialText': "---",
                        'registrationMessagePanelInitialButtonLabel': "Cancel",
                        'registrationMessagePanelRegistrationDoneTitle': "Registration",
                        'registrationMessagePanelRegistrationDoneText': "Done",
                        'registrationMessagePanelFailureTitle': "Registration failed",
                        'registrationMessagePanelFailureButtonLabel': "Close",
                        'connectionRegistrationSendingRequestMessageText': "Verifying credentials",
                        'connectionRegistrationSendingCredentialsMessageText': "Sending credentials",
                        'registrationSplashPanelTitle': "Security advice",
                        'registrationSplashPanelDescription': "<p>These are your Clipperz credentials, take good care of them. Clipperz will never display your username and passphrase a second time!</p>",
                        'registrationSplashPanelUsernameLabel': "username",
                        'registrationSplashPanelPassphraseLabel': "passphrase",
                        'registrationSplashPanelShowPassphraseButtonLabel': "show passphrase",
                        'donateHeaderLinkLabel': "donate",
                        'creditsHeaderLinkLabel': "credits",
                        'feedbackHeaderLinkLabel': "feedback",
                        'helpHeaderLinkLabel': "help",
                        'forumHeaderLinkLabel': "forum",
                        'recordMenuLabel': "cards",
                        'accountMenuLabel': "account",
                        'dataMenuLabel': "data",
                        'contactsMenuLabel': "contacts",
                        'toolsMenuLabel': "tools",
                        'logoutMenuLabel': "logout",
                        'lockMenuLabel': "lock",
                        'lockTitle': "The account is locked",
                        'lockDescription': "<p>To unlock your account, please enter your passphrase.</p>",
                        'unlockButtonLabel': "Unlock",
                        'changePasswordTabLabel': "Change your passphrase",
                        'changePasswordTabTitle': "Change your passphrase",
                        'changePasswordFormUsernameLabel': "username",
                        'changePasswordFormOldPassphraseLabel': "old passphrase",
                        'changePasswordFormNewPassphraseLabel': "new passphrase",
                        'changePasswordFormRetypePassphraseLabel': "re-enter new passphrase",
                        'changePasswordFormSafetyCheckboxLabel': "I understand that Clipperz will not be able to recover a lost passphrase.",
                        'changePasswordFormSubmitLabel': "Change passphrase",
                        'changePasswordFormWrongUsernameWarning': "Wrong username",
                        'changePasswordFormWrongPassphraseWarning': "Wrong passphrase",
                        'changePasswordFormWrongRetypePassphraseWarning': "Your passphrases don't match, please re-type them.",
                        'changePasswordFormSafetyCheckWarning': "Please read and check the box below.",
                        'changePasswordFormProgressDialogTitle': "Changing user credentials",
                        'changePasswordFormProgressDialogEmptyText': "---",
                        'changePasswordFormProgressDialogConnectedMessageTitle': "Connected",
                        'changePasswordFormProgressDialogConnectedMessageText': "Done",
                        'changePasswordFormProgressDialogErrorMessageTitle': "Error",
                        'changePasswordFormProgressDialogErrorMessageText': "Credentials change failed!",
                        'changeCredentialsPanelEncryptingDataMessageTitle': "Changing your passphrase",
                        'changeCredentialsPanelEncryptingDataMessageText': "Local encryption of card headers",
                        'changeCredentialsPanelCreatingNewCredentialsMessageTitle': "Changing your passphrase",
                        'changeCredentialsPanelCreatingNewCredentialsMessageText': "Updating your credentials",
                        'changeCredentialsPanelSendingNewCredentialsToTheServerMessageTitle': "Changing your passphrase",
                        'changeCredentialsPanelSendingNewCredentialsToTheServerMessageText': "Uploading your encrypted credentials to Clipperz",
                        'changeCredentialsPanelDoneMessageTitle': "Changing your passphrase",
                        'changeCredentialsPanelDoneMessageText': "Done",
                        'manageOTPTabLabel': "Manage your one-time passphrases",
                        'manageOTPTabTitle': "Manage your one-time passphrases",
                        'manageOTPTabDescription': "\
 <p>A one-time passphrase works like your regular passphrase, but can be used only once.</p>\
 <p>If the same passphrase is used again at a later stage in a login attempt it will be rejected and the login process will fail.</p>\
 <p>Immediately after a successful login, your one-time passphrase will be deleted preventing any fraudulent access.</p>\
 <p>One-time passphrases are an excellent choice if one is concerned about keyloggers or spyware infections that may be collecting data from compromised machines.</p>\
 <p><b>It's strongly advisable to use one-time passphrases when accessing Clipperz from public terminals, such as Internet cafes and libraries.</b></p>",
                        'oneTimePasswordReadOnlyMessage': "\
 <h6>Sorry!</h6>\
 <p>You cannot manage your one-time passphrases when using the offline version of Clipperz.</p>",
                        'oneTimePasswordLoadingMessage': "\
 <h6>Loading data</h6>\
 <p>Please wait â¦</p>",
                        'oneTimePasswordNoPasswordAvailable': "\
 <h6>No one-time passphrase available</h6>\
 <p>Click the âNewâ button above to add one-time passphrases to your account.</p>",
                        'createNewOTPButtonLabel': "New",
                        'deleteOTPButtonLabel': "Delete",
                        'printOTPButtonLabel': "Print",
                        'disabledOneTimePassword_warning': "disabled",
                        'oneTimePasswordSelectionLink_selectLabel': "Select:",
                        'oneTimePasswordSelectionLink_all': "all",
                        'oneTimePasswordSelectionLink_none': "none",
                        'oneTimePasswordSelectionLink_used': "used",
                        'oneTimePasswordSelectionLink_unused': "unused",
                        'saveOTP_encryptUserDataTitle': "Saving one-time passphrase",
                        'saveOTP_encryptUserDataText': "Processing new OTP credentials â¦",
                        'saveOTP_encryptOTPDataTitle': "Saving one-time passphrase",
                        'saveOTP_encryptOTPDataText': "Local encryption of authentication data â¦",
                        'saveOTP_sendingDataTitle': "Saving one-time passphrase",
                        'saveOTP_sendingDataText': "Sending authentication data to the server â¦",
                        'saveOTP_updatingInterfaceTitle': "Saving one-time passphrase",
                        'saveOTP_updatingInterfaceText': "Updating interface",
                        'accountPreferencesLabel': "Preferences",
                        'accountPreferencesTabTitle': "Preferences",
                        'accountPreferencesLanguageTitle': "Language",
                        'accountPreferencesLanguageDescription': "<p>Choose your preferred language from the list below.</p>",
                        'showDonationReminderPanelTitle': "Donation reminders",
                        'showDonationReminderPanelDescription': "<p>Show donation reminders</p>",
                        'saveUserPreferencesFormSubmitLabel': "Save",
                        'cancelUserPreferencesFormSubmitLabel': "Cancel",
                        'accountPreferencesSavingPanelTitle_Step1': "Saving preferences",
                        'accountPreferencesSavingPanelText_Step1': "Local encryption of your preferences",
                        'accountPreferencesSavingPanelTitle_Step2': "Saving preferences",
                        'accountPreferencesSavingPanelText_Step2': "Sending encrypted preferences to Clipperz",
                        'accountLoginHistoryLabel': "Login history",
                        'loginHistoryTabTitle': "Login history",
                        'loginHistoryReadOnlyMessage': "\
 <h6>Sorry!</h6>\
 <p>The login history is not available while using the offline version of Clipperz.</p>",
                        'loginHistoryLoadingMessage': "\
 <h6>Loading data</h6>\
 <p>Please wait â¦</p>",
                        'loginHistoryLoadedMessage': "\
 <h6>Your latest 10 logins</h6>\
 <p></p>",
                        'loginHistoryIPLabel': "IP",
                        'loginHistoryTimeLabel': "date",
                        'loginHistoryCurrentSessionText': "current session",
                        'loginHistoryReloadButtonLabel': "Reload login history",
                        'deleteAccountTabLabel': "Delete your account",
                        'deleteAccountTabTitle': "Delete your account",
                        'deleteAccountFormUsernameLabel': "username",
                        'deleteAccountFormPassphraseLabel': "passphrase",
                        'deleteAccountFormSafetyCheckboxLabel': "I understand that all my data will be deleted and that this action is irreversible.",
                        'deleteAccountFormSubmitLabel': "Delete my account",
                        'deleteAccountFormWrongUsernameWarning': "Wrong username",
                        'deleteAccountFormWrongPassphraseWarning': "Wrong passphrase",
                        'deleteAccountFormSafetyCheckWarning': "Please read and check the box below.",
                        'accountPanelDeletingAccountPanelConfirmationTitle': "ATTENTION",
                        'accountPanelDeleteAccountPanelConfirmationText': "Are your sure you want to delete your account?",
                        'accountPanelDeleteAccountPanelConfirmButtonLabel': "Yes",
                        'accountPanelDeleteAccountPanelDenyButtonLabel': "No",
                        'accountPanelDeletingAccountPanelProgressTitle': "Deleting the account data",
                        'accountPanelDeletingAccountPanelProgressText': "The operation could take long, please be patient.",
                        'offlineCopyTabLabel': "Offline copy",
                        'offlineCopyTabTitle': "Offline copy",
                        'offlineCopyTabDescription': "\
 <!--  FIX CSS  DONE! --> \
 <p>With just one click you can dump all your encrypted data from Clipperz servers to your hard disk and create a read-only offline version of Clipperz to be used when you are not connected to the Internet.</p>\
 <p>The read-only version is as secure as the read-and-write one and will not expose your data to higher risks since they both share the same code and security architecture.</p>\
 <ol>\
  <li><p>Click the link below to start the download.</p></li>\
  <li><p>The browser will ask you what to do with the âClipperz_YYYYMMDD.htmlâ file. Save it on your hard disk.</p></li>\
  <li><p>Double click on the downloaded file to launch the offline version in your browser.</p></li>\
  <li><p>Enter the usual username and passphrase.</p></li>\
 </ol>",
                        'offlineCopyDownloadLinkLabel': "Download",
                        'offlineCopyDownloadWarning': "\
 <!--  FIX CSS  DONE! --> \
 <h4><a href=\"#\" id=\"offlineCopyDownloadWarningLink\">Update your âoffline copyâ!</a></h4>\
 <p>You have recently created or modified one or more cards, it would be wise to download a new copy of the offline version.</p>",
                        'offlineCopyDownloadOk': "",
                        'sharingTabLabel': "Sharing",
                        'sharingTabTitle': "Sharing",
                        'sharingTabDescription': "\
 <p>Quite often a confidential piece of information needs to be shared with one or more persons.</p>\
 <p>This could be as simple as giving your colleague the access code of your voice mailbox when you are out of the office, or as complicated as enabling the entitled heirs to access your safe deposit box at the local bank when you pass on.</p>\
 <p>Clipperz can make sharing your secrets a secure and straightforward process.</p>\
 <p></p>\
 <p><b>Coming soon â¦</b></p>",
                        'importTabLabel': "Import",
                        'importTabTitle': "Import",
                        'importTabDescription': "<p>You can bulk import data to your Clipperz account from several file formats.</p>",
                        'printingTabLabel': "Export",
                        'printingTabTitle': "Export",
                        'printingTabDescription': "\
 <h5>Printing</h5>\
 <p>Click on the link below to open a new window displaying all your cards in a printable format.</p>\
 <p>If you are going to print for backup purposes, please consider the safer option provided by the âoffline copyâ.</p>",
                        'printingLinkLabel': "Printable version",
                        'exportTabDescription': "\
 <h5>Exporting to JSON</h5>\
 <p>JSON enables a âlosslessâ export of your cards. All the information will be preserved, including direct login configurations.</p>\
 <p>This custom format itâs quite convenient if you need to move some of all of your cards to a different Clipperz account. Or if you want to restore a card that has been accidentally deleted.</p>\
 <p>Click on the link below to start the export process.</p>",
                        'exportLinkLabel': "Export to JSON",
                        'exportDataInProgressDescription': "<h4>Exporting, please wait while your data are being processed â¦</h4>",
                        'exportDataDescription': "\
 <h4>Instructions</h4>\
 <p>Copy the text below to your favorite editor and save it. (e.g. âclipperz_export_20071217.jsonâ)</p>",
                        'contactsTabLabel': "Contacts",
                        'contactsTabTitle': "Contacts",
                        'passwordGeneratorTabLabel': "Password generator",
                        'bookmarkletTabLabel': "Bookmarklet",
                        'compactTabLabel': "Compact edition",
                        'httpAuthTabLabel': "HTTP authentication",
                        'passwordGeneratorTabTitle': "Password generator",
                        'bookmarkletTabTitle': "Bookmarklet",
                        'compactTabTitle': "Compact edition",
                        'httpAuthTabTitle': "HTTP authentication",
                        'paswordGeneratorTabDescription': "<p></p>",
                        'passwordGeneratorTabButtonLabel': "Generate password",
                        'bookmarkletTabLabel': "Bookmarklet",
                        'bookmarkletTabTitle': "Bookmarklet",
                        'bookmarkletTabDescription': "\
 <!--  FIX CSS  DONE! --> \
 <p>A bookmarklet is a simple âone-clickâ tool that can perform very useful tasks. It can be saved and used like a normal web page bookmark.</p>\
 <p>The Clipperz bookmarklet will help you to quickly create new cards and new âdirect loginsâ within existing cards.</p>\
 <p><b>Please note that the bookmarklet does not include any information related to your account (e.g. your username or passphrase), the bookmarklet is a general tool containing the same code for every Clipperz user.</b></p>\
 <h3>How to install the bookmarklet</h3>\
 <h>Firefox, Camino, Opera, Safari</h5>\
 <ol>\
  <li><p>Make sure that the âBookmarks Barâ is displayed by selecting âView > Toolbars > Bookmarksâ, or similar menu items, from the browser menu.</p></li>\
  <li><p>Drag and drop the âAdd to Clipperzâ link below to the bookmark bar.</p></li>\
 </ol>\
 \
 <h5>Internet Explorer</h5>\
 <ol>\
  <li><p>Make sure that the âLinksâ toolbar is displayed by selecting âView > Toolbars > Linksâ from the browser menu.</p></li>\
  <li><p>Right-click on the âAdd to Clipperzâ link below.</p></li>\
  <li><p>Select âAdd to favoritesâ from the contextual menu.</p></li>\
  <li><p>Click âYesâ for any security message that pops up.</p></li>\
  <li><p>Open the âLinksâ folder and click âOKâ</p></li>\
 </ol>",
                        'bookmarkletTabBookmarkletTitle': "Add to Clipperz",
                        'bookmarkletTabInstructions': "\
 <!--  FIX CSS  DONE! --> \
 <h3>How to create a new card inclusive of a âdirect loginâ link to an online service</h3>\
 <ol>\
  <li><p>Open the web page where the login form is hosted. (this is the page where you usually enter your sign-in credentials)</p></li>\
  <li><p>Launch the bookmarklet by clicking on it: a pop-up window will appear over the web page.</p></li>\
  <li><p>Copy to the clipboard the content of the large text area within the pop-up. (ctrl-C)</p></li>\
  <li><p>Enter your Clipperz account and click on the <b>Add new card</b> button.</p></li>\
  <li><p>Select the âDirect loginâ template and paste the content of the clipboard to the large text area in the form. (ctrl-V)</p></li>\
  <li><p>Press the <b>Create</b> button, complete and review the details, then click <b>Save</b>.</p></li>\
 </ol>\
 \
 <h3>How to add a âdirect loginâ link to an existing card</h3>\
 <ol>\
  <li><p>Same as above.</p></li>\
  <li><p>Same as above.</p></li>\
  <li><p>Same as above.</p></li>\
  <li><p>Enter your Clipperz account and select the card containing the credentials for the web service you just visited and click the <b>Edit</b> button.</p></li>\
  <li><p>Paste the content of the clipboard to the large text area in the âDirect loginsâ section. (ctrl-V)</p></li>\
  <li><p>Press the <b>Add direct login</b> button, review the details and then click <b>Save</b>.</p></li>\
 </ol>\
 \
 <p></p>\
 <p>Further information about the bookmarklet are <a href=\"http://www.clipperz.com/support/user_guide/bookmarklet\" target=\"_parent\">available here</a>.</p>",
                        'compactTabDescription': "\
 <!--  FIX CSS  DONE! --> \
 <p>Clipperz Compact is a special version of Clipperz designed to be opened in the Firefox sidebar.</p>\
 <p>Its purpose is to keep your collection of âdirect loginsâ always at hand. Read more <a href=\"http://www.clipperz.com/support/user_guide/clipperz_compact\", target=\"blank\">here</a></p>\
 \
 <h3>How to launch Clipperz Compact in the sidebar</h3>\
 <ol>\
  <li><p>Get Firefox! Sidebars are only available in Firefox and you need to switch to Firefox in order to enjoy the convenience of Clipperz Compact.</p></li>\
  <li>\
   <p>Add the following URL to Firefox bookmarks, or even better, drag it to the bookmark bar.</p>\
   <div id=\"compactLinkBox\"><a href=\"index.html?compact\" target=\"_search\">Clipperz Compact</a></div>\
  </li>\
  <li><p>Change the properties of the bookmark so that âload this bookmark in the sidebarâ is checked.</p></li>\
 </ol>\
 \
 <h5>Added bonus: Clipperz Compact works also in Operaâs panel.</h5>",
                        'httpAuthTabDescription': "\
 <!--  FIX CSS  DONE! --> \
 <p>HTTP authentication is a method designed to allow a web browser to provide credentials â in the form of a username and password â including them in a website address (HTTP or HTTPS URL).</p>\
 <p>Nowadays it is rarely used, but it can still be found on small, private websites. You can tell that a website is protected by HTTP authentication when the browser displays a pop-up window to enter username and password.</p>\
 <p>Unfortunately the Clipperz bookmarklet does not work on websites that use HTTP authentication. However you can still create a âdirect loginâ.</p>\
 \
 <h3>How to create a âdirect loginâ for a website that uses HTTP authentication</h3>\
 <ol>\
  <li><p>Store website URL, username and password in a new card.</p></li>\
  <li><p>Copy the configuration below and paste it to the large text area in the âDirect loginsâ section of the new card.</p></li>\
  <li><p>Press the <b>Add direct login</b> button, bind URL, username and password fields and then click <b>Save</b>.</p></li>\
 </ol>\
 \
 <h5><a href=\"http://support.microsoft.com/kb/834489\" target=\"_parent\">Warning: Internet Explorer does not support HTTP authentication.</a></h5>",
                        'mainPanelDirectLoginBlockLabel': "Direct logins",
                        'directLinkReferenceShowButtonLabel': "show",
                        'mainPanelDirectLoginBlockDescription': "\
 <!--  FIX CSS  DONE! --> \
 <p>Add âdirect loginsâ to sign in to your web accounts without typing usernames and passwords!</p>\
 <p>âDirect loginsâ greatly enhance your password security since you can:</p>\
 <ul>\
  <li><p>conveniently adopt and enter complex passwords;</p></li>\
  <li><p>never re-use the same and easy-to-guess password.</p></li>\
 </ul>\
 <p>Simple and quick configuration with the <b>Clipperz bookmarklet</b>.</p>\
 <a href=\"http://www.clipperz.com/support/user_guide/direct_logins\" target=\"_parent\">Learn more about âdirect loginsâ</a>",
                        'mainPanelRecordsBlockLabel': "Cards",
                        'mainPanelAddRecordButtonLabel': "Add new card",
                        'mainPanelRemoveRecordButtonLabel': "Delete card",
                        'mainPanelRecordFilterBlockAllLabel': "all",
                        'mainPanelRecordFilterBlockTagsLabel': "tags",
                        'mainPanelRecordFilterBlockSearchLabel': "search",
                        'recordDetailNoRecordAtAllTitle': "Welcome to Clipperz!",
                        'recordDetailNoRecordAtAllDescription': "\
 <h5>Get started by adding cards to your account.</h5>\
 <p>Cards are simple and flexible forms where you can store your passwords and any other confidential data.</p>\
 <p>Cards could contain credentials for accessing a web site, the combination of your bicycle lock, details of your credit card, â¦</p>\
 \
 <h5>Don't forget the Clipperz bookmarklet!</h5>\
 <p>Before you start, install the âAdd to Clipperzâ bookmarklet: it will make creating cards easier and more fun.</p>\
 <p>Go to the âToolsâ tab to discover how to install it and how it use it.</p>\
 <p></p>\
 <p>Then simply click the <b>\"Add new card\"</b> button and enjoy your Clipperz account.</p>\
 <p></p>\
 <a  href=\"http://www.clipperz.com/support/user_guide/managing_cards\" target=\"_parent\">Learn more about creating and managing cards</a>",
                        'newRecordWizardTitleBox': "\
 <h5>Please select a template</h5>\
 <p>Cards are simple and flexible forms where you can store passwords or any other confidential data.</p>\
 <p>Start choosing one of the templates below. You can always customize your cards later by adding or removing fields.</p>",
                        'newRecordWizardBookmarkletConfigurationTitle': "Direct login",
                        'newRecordWizardBookmarkletConfigurationDescription': "\
 <p>Paste below the configuration code generated by the Clipperz bookmarklet.</p>\
 <p>A new card complete with a direct login to your web account will be created.</p>",
                        'newRecordWizardCreateButtonLabel': "Create",
                        'newRecordWizardCancelButtonLabel': "Cancel",
                        'donateSplashPanelTitle': "Support Clipperz, make a donation today!",
                        'donateSplashPanelDescription': "\
 <!--  FIX CSS  DONE! --> \
 <p>A few good reasons to make a donation:</p>\
 <ul>\
  <li><p>support the development of new features</p></li>\
  <li><p>keep Clipperz free</p></li>\
  <li><p>show appreciation for our hard work</p></li>\
 </ul>\
 <p>For any further information, please visit our <a href=\"http://www.clipperz.com/donations\" target=\"_parent\">Donations page</a>.</p>\
 <p><b>Ready to donate?</b></p>",
                        'donateCloseButtonLabel': "Not yet",
                        'donateDonateButtonLabel': "Yes",
                        'recordTemplates': {
                            'WebAccount': {
                                'title': "Web password",
                                'description': "<p>A simple card to store login credentials for your online services.</p>",
                                'fields': [{
                                    label: "Web address",
                                    type: 'URL'
                                }, {
                                    label: "Username or email",
                                    type: 'TXT'
                                }, {
                                    label: "Password",
                                    type: 'PWD'
                                }]
                            },
                            'BankAccount': {
                                'title': "Bank account",
                                'description': "<p>Safely store your bank account number and online banking credentials.</p>",
                                'fields': [{
                                    label: "Bank",
                                    type: 'TXT'
                                }, {
                                    label: "Account number",
                                    type: 'TXT'
                                }, {
                                    label: "Bank website",
                                    type: 'URL'
                                }, {
                                    label: "Online banking ID",
                                    type: 'TXT'
                                }, {
                                    label: "Online banking password",
                                    type: 'PWD'
                                }]
                            },
                            'CreditCard': {
                                'title': "Credit card",
                                'description': "<p>Card number, expire date, CVV2 and PIN always at hand with Clipperz.</p>",
                                'fields': [{
                                    label: "Type (Visa, AmEx, â¦)",
                                    type: 'TXT'
                                }, {
                                    label: "Number",
                                    type: 'TXT'
                                }, {
                                    label: "Owner name",
                                    type: 'TXT'
                                }, {
                                    label: "Expiry date",
                                    type: 'TXT'
                                }, {
                                    label: "CVV2",
                                    type: 'TXT'
                                }, {
                                    label: "PIN",
                                    type: 'PWD'
                                }, {
                                    label: "Card website",
                                    type: 'URL'
                                }, {
                                    label: "Username",
                                    type: 'TXT'
                                }, {
                                    label: "Password",
                                    type: 'PWD'
                                }]
                            },
                            'AddressBookEntry': {
                                'title': "Address book entry",
                                'description': "<p>Clipperz could also work as your new private address book. Use this template to easily add a new entry.</p>",
                                'fields': [{
                                    label: "Name",
                                    type: 'TXT'
                                }, {
                                    label: "Email",
                                    type: 'TXT'
                                }, {
                                    label: "Phone",
                                    type: 'TXT'
                                }, {
                                    label: "Mobile",
                                    type: 'TXT'
                                }, {
                                    label: "Address",
                                    type: 'ADDR'
                                }, ]
                            },
                            'Custom': {
                                'title': "Custom card",
                                'description': "<p>No matter which kind of confidential data you need to protect, create a custom card to match your needs.</p>",
                                'fields': [{
                                    label: "Label 1",
                                    type: 'TXT'
                                }, {
                                    label: "Label 2",
                                    type: 'TXT'
                                }, {
                                    label: "Label 3",
                                    type: 'TXT'
                                }]
                            }
                        },
                        'recordFieldTypologies': {
                            'TXT': {
                                description: "simple text field",
                                shortDescription: "text"
                            },
                            'PWD': {
                                description: "simple text field, with default status set to hidden",
                                shortDescription: "password"
                            },
                            'URL': {
                                description: "simple text field in edit mode, that became an active url in view mode",
                                shortDescription: "web address"
                            },
                            'DATE': {
                                description: "a value set with a calendar helper",
                                shortDescription: "date"
                            },
                            'ADDR': {
                                description: "just like the URL, but the active link points to Google Maps (or similar service) passing the address value as argument",
                                shortDescription: "street address"
                            },
                            'CHECK': {
                                description: "check description",
                                shortDescription: "check"
                            },
                            'RADIO': {
                                description: "radio description",
                                shortDescription: "radio"
                            },
                            'SELECT': {
                                description: "select description",
                                shortDescription: "select"
                            }
                        },
                        'newRecordPanelGeneralExceptionTitle': "Error",
                        'newRecordPanelGeneralExceptionMessage': "The configuration text is not valid. Make sure to get your text from the bookmarklet pop-up and retry.",
                        'newRecordPanelWrongBookmarkletVersionExceptionTitle': "Error",
                        'newRecordPanelWrongBookmarkletVersionExceptionMessage': "The configuration text has been generated by an old version of the bookmarklet. Please update your bookmarklet and retry.",
                        'newRecordPanelExceptionPanelCloseButtonLabel': "Cancel",
                        'mainPanelDeletingRecordPanelConfirmationTitle': "Deleting selected card",
                        'mainPanelDeleteRecordPanelConfirmationText': "Do your really want to delete the selected card?",
                        'mainPanelDeleteRecordPanelConfirmButtonLabel': "Yes",
                        'mainPanelDeleteRecordPanelDenyButtonLabel': "No",
                        'mainPanelDeletingRecordPanelInitialTitle': "Deleting selected card",
                        'mainPanelDeletingRecordPanelInitialText': "---",
                        'mainPanelDeletingRecordPanelCompletedText': "Done",
                        'deleteRecordPanelCollectRecordDataMessageTitle': "Delete card",
                        'deleteRecordPanelCollectRecordDataMessageText': "Updating card list",
                        'deleteRecordPanelEncryptUserDataMessageTitle': "Delete card",
                        'deleteRecordPanelEncryptUserDataMessageText': "Local encryption of card headers",
                        'deleteRecordPanelSendingDataToTheServerMessageTitle': "Delete card",
                        'deleteRecordPanelSendingDataToTheServerMessageText': "Uploading encrypted card headers to Clipperz",
                        'deleteRecordPanelUpdatingTheInterfaceMessageTitle': "Delete card",
                        'deleteRecordPanelUpdatingTheInterfaceMessageText': "Updating the interface",
                        'recordDetailNoRecordSelectedTitle': "No card selected",
                        'recordDetailNoRecordSelectedDescription': "<p>Please select a card from the list on the left.</p>",
                        'recordDetailLoadingRecordMessage': "Downloading encrypted card from Clipperz",
                        'recordDetailDecryptingRecordMessage': "Local decryption of card\'s data",
                        'recordDetailLoadingRecordVersionMessage': "Downloading latest card version",
                        'recordDetailDecryptingRecordVersionMessage': "Local decryption of latest version",
                        'recordDetailLoadingErrorMessageTitle': "Error while downloading the card",
                        'recordDetailNotesLabel': "Notes",
                        'recordDetailLabelFieldColumnLabel': "Field label",
                        'recordDetailDataFieldColumnLabel': "Field data",
                        'recordDetailTypeFieldColumnLabel': "Type",
                        'recordDetailSavingChangesMessagePanelInitialTitle': "Saving card",
                        'recordDetailSavingChangesMessagePanelInitialText': "---",
                        'recordDetailRemoveFieldButtonLabel': "-",
                        'recordDetailAddFieldButtonLabel': "Add new field",
                        'recordDetailPasswordFieldHelpLabel': "click the stars to select the password and then Ctrl-C to copy",
                        'recordDetailPasswordFieldScrambleLabel': "scramble",
                        'recordDetailPasswordFieldUnscrambleLabel': "unscramble",
                        'recordDetailDirectLoginBlockTitle': "Direct logins",
                        'recordDetailNewDirectLoginDescription': "<p>Direct login configuration</p>",
                        'recordDetailDirectLoginBlockNoDirectLoginConfiguredDescription': "\
 <p>Does this card contain credentials to access an online service?</p>\
 <p>Use the bookmarklet to configure a âdirect loginâ from Clipperz with just one click!</p>",
                        'recordDetailDeleteDirectLoginButtonLabel': "-",
                        'recordDetailAddNewDirectLoginButtonLabel': "Add new direct login",
                        'recordDetailEditButtonLabel': "Edit",
                        'recordDetailSaveButtonLabel': "Save",
                        'recordDetailCancelButtonLabel': "Cancel",
                        'newRecordTitleLabel': "_new card_",
                        'newDirectLoginLabelSuffix': "",
                        'recordSaveChangesPanelCollectRecordInfoMessageTitle': "Save card",
                        'recordSaveChangesPanelCollectRecordInfoMessageText': "Updating card headers",
                        'recordSaveChangesPanelEncryptUserDataMessageTitle': "Save card",
                        'recordSaveChangesPanelEncryptUserDataMessageText': "Local encryption of card headers",
                        'recordSaveChangesPanelEncryptRecordDataMessageTitle': "Save card",
                        'recordSaveChangesPanelEncryptRecordDataMessageText': "Local encryption of card's data",
                        'recordSaveChangesPanelEncryptRecordVersionDataMessageTitle': "Save card",
                        'recordSaveChangesPanelEncryptRecordVersionDataMessageText': "Local encryption of card's version data",
                        'recordSaveChangesPanelSendingDataToTheServerMessageTitle': "Save card",
                        'recordSaveChangesPanelSendingDataToTheServerMessageText': "Uploading encrypted card's header to Clipperz",
                        'recordSaveChangesPanelUpdatingTheInterfaceMessageTitle': "Save card",
                        'recordSaveChangesPanelUpdatingTheInterfaceMessageText': "Updating the interface",
                        'passwordGeneratorPanelTitle': "Password generator",
                        'passwordGeneratorPanelOkLabel': "Ok",
                        'passwordGeneratorPanelCancelLabel': "Cancel",
                        'passwordGeneratorLowercaseLabel': "abc",
                        'passwordGeneratorUppercaseLabel': "ABC",
                        'passwordGeneratorNumberLabel': "012",
                        'passwordGeneratorSymbolLabel': "@#$",
                        'passwordGeneratorLengthLabel': "length:",
                        'comingSoon': "coming soon â¦",
                        'panelCollectingEntryopyMessageText': "Collecting entropy",
                        'directLoginConfigurationCheckBoxFieldSelectedValue': "Yes",
                        'directLoginConfigurationCheckBoxFieldNotSelectedValue': "No",
                        'importFormats': {
                            'CSV': {
                                'label': "CSV",
                                'description': "<p>A widely recognized file format that stores tabular data. Several password managers can export data to this format.</p>"
                            },
                            'Excel': {
                                'label': "Excel",
                                'description': "<p>The popular spreadsheet from Microsoft. Storing passwords in Excel files is very common but not advisable.</p>"
                            },
                            'KeePass': {
                                'label': "KeePass",
                                'description': "<p>The custom TXT file created by KeePass password manager.</p>"
                            },
                            'PasswordPlus': {
                                'label': "Password Plus",
                                'description': "<p>The custom CSV format produced by Password Plus, a password manager mostly used on mobile devices.</p>"
                            },
                            'Roboform': {
                                'label': "RoboForm",
                                'description': "<p>The special HTML file created by Roboform password manager when displaying Passcard and Safenotes for printing.</p>"
                            },
                            'ClipperzExport': {
                                'label': "JSON",
                                'description': "<p>The file created by Clipperz itself in JSON format. It preserves all information contained in your cards, even direct login configurations.</p>"
                            }
                        },
                        'Clipperz_ImportWizard_Title': "JSON import",
                        'importOptions_clipperz_description': "<p>Open the JSON file exported from Clipperz in a text editor. Then copy and paste its content to the text area below.</p>",
                        'CSV_ImportWizard_Title': "CSV import",
                        'importOptions_csv_description_': "\
 <p>Open the CSV file in a text editor. Then copy and paste its content to the text area below.</p>\
 <p>Please select the special characters used within your file.</p>",
                        'Excel_ImportWizard_Title': "Excel import",
                        'importOptions_excel_description_': "<p>Open the Excel file and select the cells you want to import. Then copy and paste them to the text area below.</p>",
                        'KeePass_ImportWizard_Title': "KeePass import",
                        'importOptions_keePass_description_': "<p>Open the TXT file created by Keepass in a text editor. Then copy and paste its content to the text area below.</p>",
                        'PasswordPlus_ImportWizard_Title': "Password Plus import",
                        'importOptions_passwordPlus_description': "<p>Open the CSV file created by PasswordPlus in a text editor. Then copy and paste its content to the text area below.</p>",
                        'RoboForm_ImportWizard_Title': "RoboForm import",
                        'importOptions_roboForm_description': "<p>Open the HTML file created by RoboForm in a text editor. Then copy and paste its content to the text area below.</p>",
                        'importData_parsingDataTitle': "Import",
                        'importData_parsingDataText': "Parsing data â¦",
                        'importData_previewingDataTitle': "Import",
                        'importData_previewingDataText': "Processing data â¦",
                        'importData_processingDataTitle': "Import",
                        'importData_processingDataText': "Creating new cards â¦",
                        'ImportWizard': {
                            'EDIT': "edit",
                            'PREVIEW': "preview",
                            'IMPORT': "import",
                            'KEEPASS_SETTINGS': "settings",
                            'CSV_EDIT': "paste",
                            'CSV_COLUMNS': "columns",
                            'CSV_HEADER': "labels",
                            'CSV_TITLE': "titles",
                            'CSV_NOTES': "notes",
                            'CSV_FIELDS': "types",
                            'EXCEL_EDIT': "edit"
                        },
                        'CSV_ImportWizard_Columns': "<p>Select the columns you want to import.</p>",
                        'CSV_ImportWizard_Header': "<p>If the first row of the CSV file contains field labels, tick off the checkbox below.</p>",
                        'CSV_ImportWizard_Header_Settings_firstRowHeaderLabel': "Use the first row as labels?",
                        'CSV_ImportWizard_Title': "<p>Select the column that contains titles of the cards you are importing. (mandatory)</p>",
                        'CSV_ImportWizard_Notes': "<p>Select the column that represents a \"notes\" field. (optional)</p>",
                        'CSV_ImportWizard_Notes_Settings_noSelectionLabel': "\"notes\" field not present",
                        'CSV_ImportWizard_Fields': "<p>Select the correct type for each column from the drop down lists.</p>",
                        'CSV_ImportWizard_Fields_MissingLabelWarning': "Missing label",
                        'importData_importConfirmation_title': "Import",
                        'importData_importConfirmation_text': "Do you want to import __numberOfRecords__ cards?",
                        'VulnerabilityWarning_Panel_title': "Vulnerability warning",
                        'VulnerabilityWarning_Panel_message': "The action as been aborted due to a catched vulnerability",
                        'VulnerabilityWarning_Panel_buttonLabel': "Close",
                        'WELCOME_BACK': "Welcome back!",
                        'currentConnectionText': "You are connected from ip&nbsp;__ip__, apparently from __country__, using __browser__ on __operatingSystem__.",
                        'latestConnectionText': "Your latest connection was __elapsedTimeDescription__ (__time__) from ip&nbsp;__ip__, apparently from __country__, using __browser__ on __operatingSystem__.",
                        'fullLoginHistoryLinkLabel': "show login history",
                        'elapsedTimeDescriptions': {
                            'MORE_THAN_A_MONTH_AGO': "more than a month ago",
                            'MORE_THAN_A_WEEK_AGO': "more than a week ago",
                            'MORE_THAN_*_WEEKS_AGO': "more than __elapsed__ weeks ago",
                            'YESTERDAY': "yesterday",
                            '*_DAYS_AGO': "__elapsed__ days ago",
                            'ABOUT_AN_HOUR_AGO': "about an hour ago",
                            '*_HOURS_AGO': "__elapsed__ hours ago",
                            'JUST_A_FEW_MINUTES_AGO': "just a few minutes ago",
                            'ABOUT_*_MINUTES_AGO': "about __elapsed__ minutes ago"
                        },
                        'unknown_ip': "unknown",
                        'countries': {
                            '--': "unknown",
                            'AD': "Andorra",
                            'AE': "United Arab Emirates",
                            'AF': "Afghanistan",
                            'AG': "Antigua and Barbuda",
                            'AI': "Anguilla",
                            'AL': "Albania",
                            'AM': "Armenia",
                            'AN': "Netherlands Antilles",
                            'AO': "Angola",
                            'AP': "Non-Spec Asia Pas Location",
                            'AR': "Argentina",
                            'AS': "American Samoa",
                            'AT': "Austria",
                            'AU': "Australia",
                            'AW': "Aruba",
                            'AX': "Aland Islands",
                            'AZ': "Azerbaijan",
                            'BA': "Bosnia and Herzegowina",
                            'BB': "Barbados",
                            'BD': "Bangladesh",
                            'BE': "Belgium",
                            'BF': "Burkina Faso",
                            'BG': "Bulgaria",
                            'BH': "Bahrain",
                            'BI': "Burundi",
                            'BJ': "Benin",
                            'BM': "Bermuda",
                            'BN': "Brunei Darussalam",
                            'BO': "Bolivia",
                            'BR': "Brazil",
                            'BS': "Bahamas",
                            'BT': "Bhutan",
                            'BW': "Botswana",
                            'BY': "Belarus",
                            'BZ': "Belize",
                            'CA': "Canada",
                            'CD': "Congo the Democratic Republic of the",
                            'CF': "Central African Republic",
                            'CH': "Switzerland",
                            'CI': "Cote D'ivoire",
                            'CK': "Cook Islands",
                            'CL': "Chile",
                            'CM': "Cameroon",
                            'CN': "China",
                            'CO': "Colombia",
                            'CR': "Costa Rica",
                            'CS': "Serbia and Montenegro",
                            'CU': "Cuba",
                            'CY': "Cyprus",
                            'CZ': "Czech Republic",
                            'DE': "Germany",
                            'DJ': "Djibouti",
                            'DK': "Denmark",
                            'DO': "Dominican Republic",
                            'DZ': "Algeria",
                            'EC': "Ecuador",
                            'EE': "Estonia",
                            'EG': "Egypt",
                            'ER': "Eritrea",
                            'ES': "Spain",
                            'ET': "Ethiopia",
                            'EU': "European Union",
                            'FI': "Finland",
                            'FJ': "Fiji",
                            'FM': "Micronesia Federated States of",
                            'FO': "Faroe Islands",
                            'FR': "France",
                            'GA': "Gabon",
                            'GB': "United Kingdom",
                            'GD': "Grenada",
                            'GE': "Georgia",
                            'GF': "French Guiana",
                            'GG': "Guernsey",
                            'GH': "Ghana",
                            'GI': "Gibraltar",
                            'GL': "Greenland",
                            'GM': "Gambia",
                            'GP': "Guadeloupe",
                            'GR': "Greece",
                            'GT': "Guatemala",
                            'GU': "Guam",
                            'GW': "Guinea-Bissau",
                            'GY': "Guyana",
                            'HK': "Hong Kong",
                            'HN': "Honduras",
                            'HR': "Croatia (Local Name: Hrvatska)",
                            'HT': "Haiti",
                            'HU': "Hungary",
                            'ID': "Indonesia",
                            'IE': "Ireland",
                            'IL': "Israel",
                            'IM': "Isle of Man",
                            'IN': "India",
                            'IO': "British Indian Ocean Territory",
                            'IQ': "Iraq",
                            'IR': "Iran (Islamic Republic of)",
                            'IS': "Iceland",
                            'IT': "Italy",
                            'JE': "Jersey",
                            'JM': "Jamaica",
                            'JO': "Jordan",
                            'JP': "Japan",
                            'KE': "Kenya",
                            'KG': "Kyrgyzstan",
                            'KH': "Cambodia",
                            'KI': "Kiribati",
                            'KN': "Saint Kitts and Nevis",
                            'KR': "Korea Republic of",
                            'KW': "Kuwait",
                            'KY': "Cayman Islands",
                            'KZ': "Kazakhstan",
                            'LA': "Lao People's Democratic Republic",
                            'LB': "Lebanon",
                            'LC': "Saint Lucia",
                            'LI': "Liechtenstein",
                            'LK': "Sri Lanka",
                            'LR': "Liberia",
                            'LS': "Lesotho",
                            'LT': "Lithuania",
                            'LU': "Luxembourg",
                            'LV': "Latvia",
                            'LY': "Libyan Arab Jamahiriya",
                            'MA': "Morocco",
                            'MC': "Monaco",
                            'MD': "Moldova Republic of",
                            'MG': "Madagascar",
                            'MH': "Marshall Islands",
                            'MK': "Macedonia the Former Yugoslav Republic of",
                            'ML': "Mali",
                            'MM': "Myanmar",
                            'MN': "Mongolia",
                            'MO': "Macau",
                            'MP': "Northern Mariana Islands",
                            'MR': "Mauritania",
                            'MS': "Montserrat",
                            'MT': "Malta",
                            'MU': "Mauritius",
                            'MV': "Maldives",
                            'MW': "Malawi",
                            'MX': "Mexico",
                            'MY': "Malaysia",
                            'MZ': "Mozambique",
                            'NA': "Namibia",
                            'NC': "New Caledonia",
                            'NF': "Norfolk Island",
                            'NG': "Nigeria",
                            'NI': "Nicaragua",
                            'NL': "Netherlands",
                            'NO': "Norway",
                            'NP': "Nepal",
                            'NR': "Nauru",
                            'NU': "Niue",
                            'NZ': "New Zealand",
                            'OM': "Oman",
                            'PA': "Panama",
                            'PE': "Peru",
                            'PF': "French Polynesia",
                            'PG': "Papua New Guinea",
                            'PH': "Philippines",
                            'PK': "Pakistan",
                            'PL': "Poland",
                            'PR': "Puerto Rico",
                            'PS': "Palestinian Territory Occupied",
                            'PT': "Portugal",
                            'PW': "Palau",
                            'PY': "Paraguay",
                            'QA': "Qatar",
                            'RO': "Romania",
                            'RS': "Serbia",
                            'RU': "Russian Federation",
                            'RW': "Rwanda",
                            'SA': "Saudi Arabia",
                            'SB': "Solomon Islands",
                            'SC': "Seychelles",
                            'SD': "Sudan",
                            'SE': "Sweden",
                            'SG': "Singapore",
                            'SI': "Slovenia",
                            'SK': "Slovakia (Slovak Republic)",
                            'SL': "Sierra Leone",
                            'SM': "San Marino",
                            'SN': "Senegal",
                            'SR': "Suriname",
                            'SV': "El Salvador",
                            'SY': "Syrian Arab Republic",
                            'SZ': "Swaziland",
                            'TC': "Turks and Caicos Islands",
                            'TG': "Togo",
                            'TH': "Thailand",
                            'TJ': "Tajikistan",
                            'TM': "Turkmenistan",
                            'TN': "Tunisia",
                            'TO': "Tonga",
                            'TR': "Turkey",
                            'TT': "Trinidad and Tobago",
                            'TV': "Tuvalu",
                            'TW': "Taiwan Province of China",
                            'TZ': "Tanzania United Republic of",
                            'UA': "Ukraine",
                            'UG': "Uganda",
                            'US': "United States",
                            'UY': "Uruguay",
                            'UZ': "Uzbekistan",
                            'VA': "Holy See (Vatican City State)",
                            'VE': "Venezuela",
                            'VG': "Virgin Islands (British)",
                            'VI': "Virgin Islands (U.S.)",
                            'VN': "Viet Nam",
                            'VU': "Vanuatu",
                            'WF': "Wallis and Futuna Islands",
                            'WS': "Samoa",
                            'YE': "Yemen",
                            'ZA': "South Africa",
                            'ZM': "Zambia",
                            'ZW': "Zimbabwe",
                            'ZZ': "Reserved"
                        },
                        'browsers': {
                            'UNKNOWN': "Unknown",
                            'MSIE': "Internet Explorer",
                            'FIREFOX': "Firefox",
                            'OPERA': "Opera",
                            'SAFARI': "Safari",
                            'OMNIWEB': "OmniWeb",
                            'CAMINO': "Camino",
                            'CHROME': "Chrome"
                        },
                        'operatingSystems': {
                            'UNKNOWN': "Unknown",
                            'WINDOWS': "Windows",
                            'MAC': "Mac",
                            'LINUX': "Linux",
                            'IPHONE': "iPhone",
                            'MOBILE': "Mobile",
                            'OPENBSD': "OpenBSD",
                            'FREEBSD': "FreeBSD",
                            'NETBSD': "NetBSD"
                        },
                        'calendarStrings': {
                            'months': {
                                '0': "January",
                                '1': "February",
                                '2': "March",
                                '3': "April",
                                '4': "May",
                                '5': "June",
                                '6': "July",
                                '7': "August",
                                '8': "September",
                                '9': "October",
                                '10': "November",
                                '11': "December"
                            },
                            'shortMonths': {
                                '0': "Jan",
                                '1': "Feb",
                                '2': "Mar",
                                '3': "Apr",
                                '4': "May",
                                '5': "Jun",
                                '6': "Jul",
                                '7': "Aug",
                                '8': "Sep",
                                '9': "Oct",
                                '10': "Nov",
                                '11': "Dec"
                            },
                            'days': {
                                '0': "Sunday",
                                '1': "Monday",
                                '2': "Tuesday",
                                '3': "Wednesday",
                                '4': "Thursday",
                                '5': "Friday",
                                '6': "Saturday"
                            },
                            'shortDays': {
                                '0': "Sun",
                                '1': "Mon",
                                '2': "Tue",
                                '3': "Wed",
                                '4': "Thu",
                                '5': "Fri",
                                '6': "Sat"
                            },
                            'veryShortDays': {
                                '0': "Su",
                                '1': "Mo",
                                '2': "Tu",
                                '3': "We",
                                '4': "Th",
                                '5': "Fr",
                                '6': "Sa"
                            },
                            'amDesignation': "am",
                            'pmDesignation': "pm"
                        },
                        'fullDate_format': "l, F d, Y H:i:s",
                        __syntaxFix__: "syntax fix"
                    }
                    Clipperz.PM.Strings.Languages['it-IT'.toLowerCase()] = MochiKit.Base.merge(Clipperz.PM.Strings.Languages['en-us'], {
                        'clipperzServiceDescription': "<h2>Tienilo per te!</h2> <ul> <li> <h3>Clipperz Ã¨:</h3> <ul> <li> <p>un archivio semplice e sicuro per le tue password</p> </li> <li> <p>un canale di accesso unificato a tutti i tuoi servizi online</p> </li> <li> <p>una cassaforte digitale per tutti i tuoi dati riservati</p> </li> </ul> </li> <li> <h3>Con Clipperz puoi:</h3> <ul> <li> <p>memorizzare e gestire le password e le credenziali di accesso dei tuoi servizi online</p> </li> <li> <p>accedere ai tuoi servizi online con un solo click senza bisogno di inserire username o password</p> </li> <li> <p>proteggere tutte le tue informazioni confidenziali: codice dell&#x27;allarme di casa, dati delle carte di credito, â¦</p> </li> <li> <p>condividere dati riservati con i tuoi familiari o colleghi (disponibile a breve)</p> </li> </ul> </li> <li> <h3>I vantaggi di Clipperz:</h3> <ul> <li> <p>gratuito e completamente anonimo</p> </li> <li> <p>accessibile da qualsiasi computer</p> </li> <li> <p>nessun software da scaricare e niente da installare</p> </li> <li> <p>mai piÃ¹ informazioni riservate sul tuo PC o sulla carta!</p> </li> </ul> </li> <li> <h3>La sicurezza di Clipperz:</h3> <ul> <li> <p>i dati sono criptati dal tuo browser prima di essere inviati a Clipperz</p> </li> <li> <p>la chiave per decriptare i dati Ã¨ conosciuta soltanto da te</p> </li> <li> <p>Clipperz riceve e memorizza solo i tuoi dati criptati e non ha nessuna possibilitÃ  di accedere alla versione in chiaro</p> </li> <li> <p>Clipperz utilizza solo sistemi crittografici standard, senza nessuna velleitÃ  di inventare e proporre nuovi algoritmi non validati dalla comunitÃ  scientifica</p> </li> <li> <p>tutto il codice di Clipperz Ã¨ disponibile e puÃ² essere analizzato in qualsiasi momento, ma non serve essere un esperto di crittografia per apprezzare la sicurezza e la comoditÃ  di Clipperz!</p> </li> </ul> </li> <li><a href=\"http://www.clipperz.com\" target=\"_parent\">Maggiori informazioni su Clipperz (in inglese)</a> </li> </ul> ",
                        'loginFormTitle': "accedi a Clipperz",
                        'loginFormUsernameLabel': "Utente",
                        'loginFormPassphraseLabel': "frase segreta",
                        'loginFormDontHaveAnAccountLabel': "non ti sei ancora registrato?",
                        'loginFormCreateOneLabel': "registrati adesso",
                        'loginFormForgotYourCredentialsLabel': "hai perso i dati di accesso?",
                        'loginFormAarghThatsBadLabel': "aargh! questo non Ã¨ bello!",
                        'loginFormAfraidOfMaliciousScriptsLabel': "non ti fidi?",
                        'loginFormVerifyTheCodeLabel': "controlla il codice",
                        'loginFormButtonLabel': "Accedi",
                        'loginFormOneTimePasswordCheckboxLabel': "usa un codice âusa e gettaâ",
                        'loginFormOneTimePasswordCheckboxDescription': "",
                        'loginPanelSwithLanguageDescription': "<h5>Seleziona la tua lingua preferita</h5> ",
                        'browserCompatibilityDescription': "<p>Clipperz consiglia Firefox per una maggiore sicurezza. Clipperz supporta anche Opera ed Internet Explorer.</p> ",
                        'OTPloginMessagePanelInitialTitle': "Accesso con codice âusa e gettaâ",
                        'OTPloginMessagePanelInitialText': "Invio delle credenziali OTP ...",
                        'OTPloginMessagePanelLoadingTitle': "Accesso con codice âusa e gettaâ",
                        'OTPloginMessagePanelLoadingText': "Caricamento dei dati di autenticazione criptati ...",
                        'OTPloginMessagePanelProcessingTitle': "Accesso con codice âusa e gettaâ",
                        'OTPloginMessagePanelProcessingText': "Decodifica locale dei dati di autenticazione ...",
                        'loginMessagePanelInitialTitle': "Connessione in corso ...",
                        'loginMessagePanelInitialText': "---",
                        'loginMessagePanelInitialButtonLabel': "Annulla",
                        'loginMessagePanelConnectedTitle': "Connesso",
                        'loginMessagePanelConnectedText': "Fatto",
                        'loginMessagePanelFailureTitle': "Errore",
                        'loginMessagePanelFailureText': "Connessione fallita",
                        'loginMessagePanelFailureButtonLabel': "Chiudi",
                        'connectionLoginSendingCredentialsMessageTitle': "Verifica delle credenziali",
                        'connectionLoginSendingCredentialsMessageText': "Invio delle credenziali",
                        'connectionLoginCredentialsVerificationMessageTitle': "Verifica delle credenziali",
                        'connectionLoginCredentialsVerificationMessageText': "Esecuzione dell&#x27;autenticazione SRP ...",
                        'connectionLoginDoneMessageTitle': "Verifica delle credenziali",
                        'connectionLoginDoneMessageText': "Connesso",
                        'userLoginPanelUpgradingUserCredentialsMessageTitle': "Verifica delle credenziali",
                        'userLoginPanelUpgradingUserCredentialsMessageText': "Aggiornamento delle credenziali ad un nuovo schema di autenticazione",
                        'userLoginPanelConnectedMessageTitle': "Utente autenticato",
                        'userLoginPanelConnectedMessageText': "Autenticazione eseguita con successo",
                        'userLoginPanelTryingAnOlderConnectionSchemaMessageTitle': "Verifica delle credenziali",
                        'userLoginPanelTryingAnOlderConnectionSchemaMessageText': "Tentativo con vecchio schema di autenticazione",
                        'userLoginPanelLoadingUserDataMessageTitle': "Utente autenticato",
                        'userLoginPanelLoadingUserDataMessageText': "Scarica le intestazioni criptate delle schede da Clipperz",
                        'userLoginPanelDecryptingUserDataMessageTitle': "Utente autenticato",
                        'userLoginPanelDecryptingUserDataMessageText': "Decodifica locale dell&#x27;intestazione delle schede",
                        'userLoginPanelDecryptingUserStatisticsMessageTitle': "Utente autenticato",
                        'userLoginPanelDecryptingUserStatisticsMessageText': "Decodifica locale delle statistiche d&#x27;uso",
                        'splashAlertTitle': "Benvenuto a Clipperz!",
                        'splashAlertText': "<p>Alcuni consigli per la sicurezza</p> <ul> <li> <p>La sicurezza dei tuoi dati dipende da quanto Ã¨ sicura la frase segreta che usi per proteggerli. Nessuno puÃ² accedervi a meno che non conosca la frase segreta.</p> </li> <li> <p>Se hai intenzione di usare Clipperz per conservare informazioni sensibili e riservate, scegli attentamente una frase segreta complessa. PiÃ¹ Ã¨ lunga, maggiore Ã¨ la sicurezza!</p> </li> <li> <p>E non dimenticare che Clipperz non Ã¨ in grado di recuperare la tua frase segreta in caso di smarrimento!</p> </li> </ul> <p>Per maggiori informazioni sulla sicurezza, consulta il sito <a href=\"http://www.clipperz.com\" target=\"_parent\">Clipperz</a> (in lingua inglese).</p> ",
                        'splashAlertCloseButtonLabel': "Ok",
                        'registrationFormTitle': "crea il tuo utente",
                        'registrationFormUsernameLabel': "Utente",
                        'registrationFormPassphraseLabel': "frase segreta",
                        'registrationFormRetypePassphraseLabel': "ripeti frase segreta",
                        'registrationFormSafetyCheckLabel': "Sono consapevole che Clipperz non Ã¨ in grado di recuperare una frase segreta dimenticata.",
                        'registrationFormTermsOfServiceCheckLabel': "Dichiaro di aver letto e di accettare i <a href=\"http://www.clipperz.com/terms_of_service\" target=\"_parent\">Termini del Servizio</a> .",
                        'registrationFormDoYouAlreadyHaveAnAccountLabel': "sei giÃ  un utente registrato?",
                        'registrationFormSimplyLoginLabel': "accedi subito",
                        'registrationFormButtonLabel': "Registrati",
                        'registrationFormWarningMessageNotMatchingPassphrases': "Le frasi segrete non corrispondono, ripeti l&#x27;inserimento.",
                        'registrationFormWarningMessageSafetyCheckNotSelected': "Leggi e spunta le condizioni sotto riportate.",
                        'registrationFormWarningMessageTermsOfServiceCheckNotSelected': "Per procedere devi accettare i Termini del Servizio.",
                        'registrationMessagePanelInitialTitle': "Registrazione in corso ...",
                        'registrationMessagePanelInitialText': "---",
                        'registrationMessagePanelInitialButtonLabel': "Annulla",
                        'registrationMessagePanelRegistrationDoneTitle': "Registrazione",
                        'registrationMessagePanelRegistrationDoneText': "Fatto",
                        'registrationMessagePanelFailureTitle': "Registrazione fallita",
                        'registrationMessagePanelFailureButtonLabel': "Chiudi",
                        'connectionRegistrationSendingRequestMessageText': "Verifica delle credenziali",
                        'connectionRegistrationSendingCredentialsMessageText': "Invio delle credenziali",
                        'registrationSplashPanelTitle': "Avviso di sicurezza",
                        'registrationSplashPanelDescription': "<p>Queste sono le tue credenziali di accesso a Clipperz, conservale con cura. Il tuo utente ed la tua frase segreta non ti verranno mostrati una seconda volta!</p> ",
                        'registrationSplashPanelUsernameLabel': "Utente",
                        'registrationSplashPanelPassphraseLabel': "frase segreta",
                        'registrationSplashPanelShowPassphraseButtonLabel': "mostra la frase segreta",
                        'donateHeaderLinkLabel': "donazioni",
                        'creditsHeaderLinkLabel': "credits",
                        'feedbackHeaderLinkLabel': "scrivici",
                        'helpHeaderLinkLabel': "aiuto",
                        'forumHeaderLinkLabel': "forum",
                        'recordMenuLabel': "Schede",
                        'accountMenuLabel': "profilo",
                        'dataMenuLabel': "dati",
                        'contactsMenuLabel': "Contatti",
                        'toolsMenuLabel': "strumenti",
                        'logoutMenuLabel': "esci",
                        'lockMenuLabel': "blocca",
                        'lockTitle': "Utente bloccato",
                        'lockDescription': "<p>Per sbloccare il tuo utente inserisci la frase segreta</p> ",
                        'unlockButtonLabel': "Sblocca",
                        'changePasswordTabLabel': "Cambia la tua frase segreta",
                        'changePasswordTabTitle': "Cambia la tua frase segreta",
                        'changePasswordFormUsernameLabel': "Utente",
                        'changePasswordFormOldPassphraseLabel': "attuale frase segreta",
                        'changePasswordFormNewPassphraseLabel': "nuova frase segreta",
                        'changePasswordFormRetypePassphraseLabel': "ripeti nuova frase segreta",
                        'changePasswordFormSafetyCheckboxLabel': "Sono consapevole che Clipperz non Ã¨ in grado di recuperare una frase segreta dimenticata.",
                        'changePasswordFormSubmitLabel': "Cambia frase segreta",
                        'changePasswordFormWrongUsernameWarning': "Utente errato",
                        'changePasswordFormWrongPassphraseWarning': "Frase segreta errata",
                        'changePasswordFormWrongRetypePassphraseWarning': "Le frasi segrete non corrispondono, ripeti l&#x27;inserimento.",
                        'changePasswordFormSafetyCheckWarning': "Leggi e spunta le condizioni sotto riportate.",
                        'changePasswordFormProgressDialogTitle': "Aggiornamento credenziali",
                        'changePasswordFormProgressDialogEmptyText': "---",
                        'changePasswordFormProgressDialogConnectedMessageTitle': "Connesso",
                        'changePasswordFormProgressDialogConnectedMessageText': "Fatto",
                        'changePasswordFormProgressDialogErrorMessageTitle': "Errore",
                        'changePasswordFormProgressDialogErrorMessageText': "Aggiornamento credenziali fallito!",
                        'changeCredentialsPanelEncryptingDataMessageTitle': "Cambio della frase segreta",
                        'changeCredentialsPanelEncryptingDataMessageText': "Cripta localmente l&#x27;intestazione delle schede",
                        'changeCredentialsPanelCreatingNewCredentialsMessageTitle': "Cambio della frase segreta",
                        'changeCredentialsPanelCreatingNewCredentialsMessageText': "Aggiornamento delle credenziali",
                        'changeCredentialsPanelSendingNewCredentialsToTheServerMessageTitle': "Cambio della frase segreta",
                        'changeCredentialsPanelSendingNewCredentialsToTheServerMessageText': "Carica le intestazioni criptate delle schede su Clipperz",
                        'changeCredentialsPanelDoneMessageTitle': "Cambio della frase segreta",
                        'changeCredentialsPanelDoneMessageText': "Fatto",
                        'manageOTPTabLabel': "Codici di accesso âusa e gettaâ",
                        'manageOTPTabTitle': "Codici di accesso âusa e gettaâ",
                        'manageOTPTabDescription': "<p>I codici di accesso e âusa e gettaâ funzionano come la tua normale frase segreta, ma possono essere utilizzate una sola volta.</p> <p>Se lo stesso codice âusa e gettaâ viene utilizzato per tentare ulteriori accessi il processo di autenticazione fallirÃ .</p> <p>Infatti, dopo il primo utilizzo, il codice âusa e gettaâ verrÃ  immediatamente disattivato e cancellato prevenendo cosÃ¬ eventuali accessi non autorizzati.</p> <p>L&#x27;utilizzo di codici âusa e gettaâ Ã¨ una scelta consigliata per chi teme che il computer dal quale sta accedendo a Clipperz non sia sicuro a causa di software quali keyloggers e spyware che potrebbero registrare le proprie credenziali di accesso.</p> <p><b>E&#x27; caldamente consigliato l&#x27;utilizzo di codici âusa e gettaâ quando ci si collega a Clipperz da terminali pubblici quali Internet Cafe e biblioteche.</b> </p> ",
                        'oneTimePasswordReadOnlyMessage': "<h6>Attenzione!</h6> <p>Non Ã¨ possibilie accedere ai propri codici âusa e gettaâ quando si utilizza la versione offline di Clipperz.</p> ",
                        'oneTimePasswordLoadingMessage': "<h6>Caricamento dati</h6> <p>Si prega di attendere ...</p> ",
                        'oneTimePasswordNoPasswordAvailable': "<h6>Nessun codice âusa e gettaâ disponibile</h6> <p>Per creare codici âusa e gettaâ clicca sul pulsante âNuovoâ che trovi qui sopra.</p> ",
                        'deleteOTPButtonLabel': "Elimina",
                        'printOTPButtonLabel': "Stampa",
                        'disabledOneTimePassword_warning': "disabilitato",
                        'oneTimePasswordSelectionLink_selectLabel': "Seleziona:",
                        'oneTimePasswordSelectionLink_none': "nessuno",
                        'oneTimePasswordSelectionLink_used': "utilizzati",
                        'oneTimePasswordSelectionLink_unused': "disponibili",
                        'saveOTP_encryptUserDataTitle': "Registrazione del nuovo codice âusa e gettaâ",
                        'saveOTP_encryptUserDataText': "Elaborazione delle credenziali OTP ...",
                        'saveOTP_encryptOTPDataTitle': "Registrazione del nuovo codice âusa e gettaâ",
                        'saveOTP_encryptOTPDataText': "Codifica locale dei dati di autenticazione ...",
                        'saveOTP_sendingDataTitle': "Registrazione del nuovo codice âusa e gettaâ",
                        'saveOTP_sendingDataText': "Invio dei dati di autenticazione criptati ...",
                        'saveOTP_updatingInterfaceTitle': "Registrazione del nuovo codice âusa e gettaâ",
                        'saveOTP_updatingInterfaceText': "Aggiornamento dell&#x27;interfaccia",
                        'accountPreferencesLabel': "Preferenze",
                        'accountPreferencesTabTitle': "Preferenze",
                        'accountPreferencesLanguageTitle': "Selezione della lingua",
                        'accountPreferencesLanguageDescription': "<p>Scegli la lingua preferita dall&#x27;elenco sottostante.</p> ",
                        'showDonationReminderPanelTitle': "Promemoria donazioni",
                        'showDonationReminderPanelDescription': "<p>Mostra i promemopria per le donazioni</p> ",
                        'saveUserPreferencesFormSubmitLabel': "Salva",
                        'cancelUserPreferencesFormSubmitLabel': "Annulla",
                        'accountPreferencesSavingPanelTitle_Step1': "Salvataggio preferenze",
                        'accountPreferencesSavingPanelText_Step1': "Cripta localmente le preferenze",
                        'accountPreferencesSavingPanelTitle_Step2': "Salvataggio preferenze",
                        'accountPreferencesSavingPanelText_Step2': "Carica preferenze criptate su Clipperz",
                        'accountLoginHistoryLabel': "Registro degli accessi",
                        'loginHistoryTabTitle': "Registro degli accessi",
                        'loginHistoryReadOnlyMessage': "<h6>Attenzione!</h6> <p>Il registro degli accessi non Ã¨ disponibile quando si utilizza la versione offline di Clipperz</p> ",
                        'loginHistoryLoadingMessage': "<h6>Caricamento dati</h6> <p>Si prega di attendere ...</p> ",
                        'loginHistoryLoadedMessage': "<h6>I tuoi ultimi 10 accessi</h6> <p> </p> ",
                        'loginHistoryIPLabel': "IP",
                        'loginHistoryTimeLabel': "data",
                        'loginHistoryCurrentSessionText': "sessione corrente",
                        'loginHistoryReloadButtonLabel': "Aggiorna il registro degli accessi",
                        'deleteAccountTabLabel': "Cancella il tuo utente",
                        'deleteAccountTabTitle': "Cancella il tuo utente",
                        'deleteAccountFormUsernameLabel': "Utente",
                        'deleteAccountFormPassphraseLabel': "frase segreta",
                        'deleteAccountFormSafetyCheckboxLabel': "Sono consapevole che tutti miei dati verranno cancellati e che questa azione Ã¨ irreversibile.",
                        'deleteAccountFormSubmitLabel': "Cancella il mio utente",
                        'deleteAccountFormWrongUsernameWarning': "Utente errato",
                        'deleteAccountFormWrongPassphraseWarning': "Frase segreta errata",
                        'deleteAccountFormSafetyCheckWarning': "Leggi e spunta le condizioni sotto riportate.",
                        'accountPanelDeletingAccountPanelConfirmationTitle': "ATTENZIONE",
                        'accountPanelDeleteAccountPanelConfirmationText': "Sei sicuro di voler cancellare il tuo utente?",
                        'offlineCopyTabLabel': "Copia offline",
                        'offlineCopyTabTitle': "Copia offline",
                        'offlineCopyTabDescription': "<p>Con un solo clic puoi trasferire tutti i tuoi dati dai server di Clipperz al tuo PC, creando una versione offline di Clipperz a cui potrai accedere quando non Ã¨ disponibile un collegamento ad Internet.</p> <p>La versione offline in sola lettura Ã¨ sicura quanto quella online e non espone i tuoi dati a livelli di rischio superiore in quanto entrambe condividono la medesima architettura di sicurezza.</p> <ol> <li> <p>Clicca sul link sottostante per scaricare la copia offline dei tuoi dati.</p> </li> <li> <p>Il browser ti chiederÃ  cosa fare del file âClipperz_YYYYMMDD.htmlâ. Scegli di salvarlo su un disco locale.</p> </li> <li> <p>Basta un doppio click sul file appena scaricato per lanciare la versione offline di Clipperz.</p> </li> <li> <p>Accedi utilizzando le normali credenziali di accesso.</p> </li> </ol> ",
                        'offlineCopyDownloadLinkLabel': "Scarica copia offline",
                        'offlineCopyDownloadWarning': "<h4><a href=\"#\" id=\"offlineCopyDownloadWarningLink\">Aggiorna la tua âcopia offlineâ!</a> </h4> <p>Una o piÃ¹ schede sono state recentemente create o modificate, ti consigliamo di scaricare nuovamente la tua âcopia offlineâ.</p> ",
                        'offlineCopyDownloadOk': "",
                        'sharingTabLabel': "Condividi",
                        'sharingTabTitle': "Condividi",
                        'sharingTabDescription': "<p>Spesso Ã¨ necessario condividere alcune delle proprie informazioni riservate con una o piÃ¹ persone.</p> <p>PuÃ² trattarsi di situazioni semplici come dare ad un collega il codice di accesso alla propria segreteria telefonica quando si va in vacanza, oppure complesse come regolare l&#x27;accesso dei legittimi eredi ai servizi di online banking utilizzati dal defunto.</p> <p>Con Clipperz la condivisione di segreti diviene un processo semplice e sicuro.</p> <p> </p> <p><b>Presto disponibile ...</b> </p> ",
                        'importTabLabel': "Importa",
                        'importTabTitle': "Importa",
                        'importTabDescription': "<p>Presto disponibile ...</p> ",
                        'printingTabLabel': "Esporta",
                        'printingTabTitle': "Esporta",
                        'printingTabDescription': "<h5>Stampa i tuoi dati</h5> <p>Cliccando sul link sottostante si aprirÃ  una nuova finestra in cui verranno visualizzate tutte le tue schede in un formato idoneo alla stampa.</p> <p>Se intendi utilizzare la stampa per creare una copia di sicurezza dei tuoi dati, ti suggeriamo di considerare l&#x27;opzione piÃ¹ sicura fornita della âcopia offlineâ.</p> ",
                        'printingLinkLabel': "Versione stampabile",
                        'contactsTabLabel': "Contatti",
                        'contactsTabTitle': "Contatti",
                        'passwordGeneratorTabLabel': "Generatore di password",
                        'bookmarkletTabLabel': "Bookmarklet",
                        'passwordGeneratorTabTitle': "Generatore di password",
                        'bookmarkletTabTitle': "Bookmarklet",
                        'paswordGeneratorTabDescription': "<p> </p> ",
                        'passwordGeneratorTabButtonLabel': "Genera password",
                        'bookmarkletTabLabel': "Bookmarklet",
                        'bookmarkletTabTitle': "Bookmarklet",
                        'bookmarkletTabBookmarkletTitle': "Aggiungi a Clipperz",
                        'bookmarkletTabInstructions': "<h3>Come creare una scheda con âlogin direttoâ ad un servizio online</h3> <ol> <li> <p>Aprire la pagina web che contiene la maschera di login. (ovvero la pagina dove usualmente si inseriscono nome utente e password)</p> </li> <li> <p>Cliccare sulla bookmarklet: una nuova finestrella si visualizzerÃ  sopra la pagina.</p> </li> <li> <p>Copiare il testo di configurazione del âlogin direttoâ contenuto nella finestrella. (ctrl-C)</p> </li> <li> <p>Accedere a Clipperz e cliccare sul pulsante <b>Aggiungi nuova scheda</b> .</p> </li> <li> <p>Selezionare il modello âLogin direttoâ ed incollare il testo precedentemente copiato. (ctrl-V)</p> </li> <li> <p>Cliccare sul pulsante <b>Crea</b> , completare e verificare i dettagli della scheda, quindi cliccare su <b>Salva</b> .</p> </li> </ol> <h3>Come aggiungere un âlogin direttoâ ad una scheda esistente</h3> <ol> <li> <p>Come sopra.</p> </li> <li> <p>Come sopra.</p> </li> <li> <p>Come sopra.</p> </li> <li> <p>Accedere a Clipperz e selezionare la scheda contenente le credenziali del servizio a cui si vuole accedere con il âlogin direttoâ e cliccare su <b>Modifica</b> .</p> </li> <li> <p>Incollare il testo precedentemente copiato nell&#x27;apposito campo presente nella sezione âLogin direttiâ. (ctrl-V)</p> </li> <li> <p>Cliccare il pulsante <b>Aggiungi nuovo login diretto</b> , completare e verificare i dettagli della scheda, quindi cliccare su <b>Salva</b> .</p> </li> </ol> <p> </p> <p>Ulteriori informazioni sull&#x27;utilizzo della bookmarklet sono <a href=\"http://www.clipperz.com/support/user_guide/bookmarklet\" target=\"_parent\">disponibili qui</a> .</p> ",
                        'mainPanelDirectLoginBlockLabel': "Login diretti",
                        'directLinkReferenceShowButtonLabel': "mostra",
                        'mainPanelDirectLoginBlockDescription': "<p>Crea âlogin direttiâ per accedere ai tuoi servizi web senza bisogno di inserire username e password!</p> <p>I âlogin direttiâ migliorano la tua sicurezza permettendoti di:</p> <ul> <li> <p>adottare comodamente password complesse;</p> </li> <li> <p>non riutilizzare mai la stessa password.</p> </li> </ul> <p>Semplice e rapido grazie alla <b>Clipperz bookmarklet</b> .</p><a href=\"http://www.clipperz.com/support/user_guide/direct_logins\" target=\"_parent\">Ulteriori informazioni</a> ",
                        'mainPanelRecordsBlockLabel': "Schede",
                        'mainPanelAddRecordButtonLabel': "Aggiungi nuova scheda",
                        'mainPanelRemoveRecordButtonLabel': "Elimina scheda",
                        'mainPanelRecordFilterBlockTagsLabel': "tags",
                        'recordDetailNoRecordAtAllTitle': "Benvenuto a Clipperz!",
                        'recordDetailNoRecordAtAllDescription': "<h5>Ora puoi iniziare ad aggiungere schede con le tue informazioni riservate.</h5> <p>Le schede sono semplici moduli in cui organizzare le tue password ed ogni altro tipo di dato confidenziale.</p> <p>Le schede hanno una struttura flessibile e si adattano a contenere le informazioni piÃ¹ diverse: dalle password ai dettagli delle tue carte di credito!</p> <h5>Non dimenticarti di installare la bookmarklet!</h5> <p>Prima di iniziare ti consigliamo di installare la bookmarklet âAggiungi a Clipperzâ: creare nuove schede diventerÃ  piÃ¹ rapido e divertente.</p> <p>Vai alla sezione âbookmarkletâ per scoprire come installarla ed utilizzarla.</p> <p> </p> <p>Quando sei pronto, clicca sul pulsante <b>Aggiungi nuova scheda</b> e metti al sicuro tutte le tue informazioni piÃ¹ preziose.</p> <p> </p><a href=\"http://www.clipperz.com/support/user_guide/managing_cards\" target=\"_parent\">Maggiori informazioni sulla creazione e gestione delle schede (in inglese)</a> ",
                        'newRecordWizardTitleBox': "<h5>Seleziona un modello di scheda</h5> <p>Le schede sono semplici moduli in cui organizzare le tue password ed ogni altro tipo di dato confidenziale.</p> <p>Scegli un modello dall&#x27;elenco sottostante. In seguito potrai sempre modificare la tua scheda aggiungendo o rimuovendo campi.</p> ",
                        'newRecordWizardBookmarkletConfigurationTitle': "Login diretto",
                        'newRecordWizardBookmarkletConfigurationDescription': "<p>Incolla qui sotto il codice generato dalla bookmarklet di Clipperz.</p> <p>VerrÃ  creata una nuova scheda giÃ  completa con le informazioni per il âlogin direttoâ al tuo servizio web.</p> ",
                        'newRecordWizardCreateButtonLabel': "Crea",
                        'newRecordWizardCancelButtonLabel': "Annulla",
                        'donateSplashPanelTitle': "Supporta Clipperz, fai una donazione oggi!",
                        'donateSplashPanelDescription': "<p>Alcune buone ragioni per fare una donazione:</p> <ul> <li> <p>supportare lo sviluppo di nuove funzionalitÃ </p> </li> <li> <p>mantenere il servizio gratuito per tutti</p> </li> <li> <p>mostrare la tua gratitudine per il nostro duro lavoro</p> </li> </ul> <p>Per qualunque ulteriore informazione visita la <a href=\"http://www.clipperz.com/donations\" target=\"_parent\">pagina delle donazioni</a> .</p> <p><b>Pronto a donare?</b> </p> ",
                        'donateCloseButtonLabel': "Non ancora",
                        'recordTemplates': {
                            'WebAccount': {
                                'title': "Password",
                                'description': "<p>Una scheda molto semplice per conservare le credenziali di accesso ai tuoi servizi web.</p> ",
                                'fields': {
                                    'URL': "Indirizzo web",
                                    'TXT': "Utente o email",
                                    'PWD': "Password"
                                }
                            },
                            'BankAccount': {
                                'title': "Conto corrente bancario",
                                'description': "<p>Proteggi il tuo numero di conto corrente ed i codici di accesso ai servizi di online banking.</p> ",
                                'fields': {
                                    'TXT': "Banca",
                                    'TXT': "Conto corrente n.",
                                    'URL': "Sito web della banca",
                                    'TXT': "Online banking ID",
                                    'PWD': "Online banking password"
                                }
                            },
                            'CreditCard': {
                                'title': "Carta di credito",
                                'description': "<p>Numero della carta, data di scadenza, codici CVV2 e PIN sempre a portata di mano con Clipperz.</p> ",
                                'fields': {
                                    'TXT': "Tipo (Visa, AmEx, ...)",
                                    'TXT': "Numero",
                                    'TXT': "Titolare",
                                    'TXT': "Data di scadenza",
                                    'TXT': "CVV2",
                                    'PWD': "PIN",
                                    'URL': "Sito web della carta",
                                    'TXT': "Utente",
                                    'PWD': "Password"
                                }
                            },
                            'AddressBookEntry': {
                                'title': "Voce della rubrica",
                                'description': "<p>Fai di Clipperz la tua rubrica segreta. Usa questo modello per creare una nuova voce.</p> ",
                                'fields': {
                                    'TXT': "Nome",
                                    'TXT': "Email",
                                    'TXT': "Telefono",
                                    'TXT': "Cellulare",
                                    'ADDR': "Indirizzo"
                                }
                            },
                            'Custom': {
                                'title': "Scheda personalizzata",
                                'description': "<p>Qualunque sia il tipo di informazione che desideri proteggere, Clipperz ti consente di creare una scheda su misura per i tuoi bisogni.</p> ",
                                'fields': {
                                    'TXT': "Nome del campo 1",
                                    'TXT': "Nome del campo 2",
                                    'TXT': "Nome del campo 3"
                                }
                            }
                        },
                        'recordFieldTypologies': {
                            'TXT': {
                                'description': "simple text field"
                            },
                            'PWD': {
                                'description': "simple text field, with default status set to hidden",
                                'shortDescription': "Password"
                            },
                            'URL': {
                                'description': "simple text field in edit mode, that became an active url in view mode",
                                'shortDescription': "Indirizzo web"
                            },
                            'DATE': {
                                'description': "a value set with a calendar helper",
                                'shortDescription': "data"
                            },
                            'ADDR': {
                                'description': "just like the URL, but the active link points to Google Maps (or similar service) passing the address value as argument",
                                'shortDescription': "indirizzo stradale"
                            },
                            'CHECK': {
                                'description': "check description",
                                'shortDescription': "check"
                            },
                            'RADIO': {
                                'description': "radio description",
                                'shortDescription': "radio"
                            },
                            'SELECT': {
                                'description': "select description",
                                'shortDescription': "Seleziona:"
                            }
                        },
                        'newRecordPanelGeneralExceptionTitle': "Errore",
                        'newRecordPanelGeneralExceptionMessage': "Configurazione non valida. Accertati di aver utilizzato il codice quello generato dalla bookmarklet.",
                        'newRecordPanelWrongBookmarkletVersionExceptionTitle': "Errore",
                        'newRecordPanelWrongBookmarkletVersionExceptionMessage': "La configurazione Ã¨ stato generata da una vecchia versione della bookmarklet. Sei pregato di aggiornare subito la tua bookmarklet.",
                        'newRecordPanelExceptionPanelCloseButtonLabel': "Annulla",
                        'mainPanelDeletingRecordPanelConfirmationTitle': "Eliminazione della scheda in corso",
                        'mainPanelDeleteRecordPanelConfirmationText': "Vuoi veramente eliminare la scheda selezionata?",
                        'mainPanelDeletingRecordPanelInitialTitle': "Eliminazione della scheda in corso",
                        'mainPanelDeletingRecordPanelInitialText': "---",
                        'mainPanelDeletingRecordPanelCompletedText': "Fatto",
                        'deleteRecordPanelCollectRecordDataMessageTitle': "Elimina scheda",
                        'deleteRecordPanelCollectRecordDataMessageText': "Aggiorna elenco delle schede",
                        'deleteRecordPanelEncryptUserDataMessageTitle': "Elimina scheda",
                        'deleteRecordPanelEncryptUserDataMessageText': "Cripta localmente l&#x27;intestazione delle schede",
                        'deleteRecordPanelSendingDataToTheServerMessageTitle': "Elimina scheda",
                        'deleteRecordPanelSendingDataToTheServerMessageText': "Carica le intestazioni criptate delle schede su Clipperz",
                        'deleteRecordPanelUpdatingTheInterfaceMessageTitle': "Elimina scheda",
                        'deleteRecordPanelUpdatingTheInterfaceMessageText': "Aggiornamento dell&#x27;interfaccia",
                        'recordDetailNoRecordSelectedTitle': "Nessuna scheda selezionata",
                        'recordDetailNoRecordSelectedDescription': "<p>Selezionare una scheda dall&#x27;elenco a sinistra.</p> ",
                        'recordDetailLoadingRecordMessage': "Scarica scheda criptata da Clipperz",
                        'recordDetailDecryptingRecordMessage': "Decodifica locale dei dati della scheda",
                        'recordDetailLoadingRecordVersionMessage': "Scarica l&#x27;ultima versione della scheda",
                        'recordDetailDecryptingRecordVersionMessage': "Decodifica locale dell&#x27;ultima versione",
                        'recordDetailLoadingErrorMessageTitle': "Errore nello scaricamento della scheda",
                        'recordDetailNotesLabel': "Note",
                        'recordDetailLabelFieldColumnLabel': "Nome del campo",
                        'recordDetailDataFieldColumnLabel': "Dati del campo",
                        'recordDetailTypeFieldColumnLabel': "Tipo",
                        'recordDetailSavingChangesMessagePanelInitialTitle': "Salvataggio scheda",
                        'recordDetailSavingChangesMessagePanelInitialText': "---",
                        'recordDetailRemoveFieldButtonLabel': "-",
                        'recordDetailAddFieldButtonLabel': "Aggiungi nuovo campo",
                        'recordDetailPasswordFieldHelpLabel': "clicca le stelline per copiare la password e poi Ctrl-C",
                        'recordDetailPasswordFieldScrambleLabel': "nascondi",
                        'recordDetailPasswordFieldUnscrambleLabel': "mostra",
                        'recordDetailDirectLoginBlockTitle': "Login diretti",
                        'recordDetailNewDirectLoginDescription': "<p>Configurazione del login diretto</p> ",
                        'recordDetailDirectLoginBlockNoDirectLoginConfiguredDescription': "<p>Questa scheda contiene credenziali di accesso ad un servizio online?</p> <p>In tal caso puoi utilizzare la bookmarklet per configurare un âlogin direttoâ da Clipperz con un solo clic!</p> ",
                        'recordDetailDeleteDirectLoginButtonLabel': "-",
                        'recordDetailAddNewDirectLoginButtonLabel': "Aggiungi nuovo login diretto",
                        'recordDetailEditButtonLabel': "Modifica",
                        'recordDetailSaveButtonLabel': "Salva",
                        'recordDetailCancelButtonLabel': "Annulla",
                        'newRecordTitleLabel': "_nuova scheda_",
                        'newDirectLoginLabelSuffix': "",
                        'recordSaveChangesPanelCollectRecordInfoMessageTitle': "Salva scheda",
                        'recordSaveChangesPanelCollectRecordInfoMessageText': "Aggiorna elenco delle schede",
                        'recordSaveChangesPanelEncryptUserDataMessageTitle': "Salva scheda",
                        'recordSaveChangesPanelEncryptUserDataMessageText': "Cripta localmente l&#x27;intestazione delle schede",
                        'recordSaveChangesPanelEncryptRecordDataMessageTitle': "Salva scheda",
                        'recordSaveChangesPanelEncryptRecordDataMessageText': "Cripta localmente i dati della scheda",
                        'recordSaveChangesPanelEncryptRecordVersionDataMessageTitle': "Salva scheda",
                        'recordSaveChangesPanelEncryptRecordVersionDataMessageText': "Cripta localmente la versione della scheda",
                        'recordSaveChangesPanelSendingDataToTheServerMessageTitle': "Salva scheda",
                        'recordSaveChangesPanelSendingDataToTheServerMessageText': "Carica le intestazioni criptate delle schede su Clipperz",
                        'recordSaveChangesPanelUpdatingTheInterfaceMessageTitle': "Salva scheda",
                        'recordSaveChangesPanelUpdatingTheInterfaceMessageText': "Aggiornamento dell&#x27;interfaccia",
                        'passwordGeneratorPanelTitle': "Generatore di password",
                        'passwordGeneratorPanelOkLabel': "Ok",
                        'passwordGeneratorPanelCancelLabel': "Annulla",
                        'passwordGeneratorLengthLabel': "lung . :",
                        'comingSoon': "Presto disponibile ...",
                        'panelCollectingEntryopyMessageText': "Raccolta entropia",
                        'importData_parsingDataTitle': "Importa",
                        'importData_previewingDataTitle': "Importa",
                        'importData_processingDataTitle': "Importa",
                        'ImportWizard': {
                            'EDIT': "Modifica",
                            'IMPORT': "Importa",
                            'CSV_NOTES': "Note",
                            'EXCEL_EDIT': "Modifica"
                        },
                        'importData_importConfirmation_title': "Importa",
                        'WELCOME_BACK': "Bentornato!",
                        'currentConnectionText': "Sei collegato da ip __ip__; probabilmente in __country__, utilizzando __browser__ con __operatingSystem__.",
                        'latestConnectionText': "Il tuo ultimo accesso Ã¨ stato __elapsedTimeDescription__ (__time__) da ip __ip__; probabilmente in __country__, utilizzando __browser__ con __operatingSystem__.",
                        'fullLoginHistoryLinkLabel': "vai al registro degli accessi",
                        'elapsedTimeDescriptions': {
                            'MORE_THAN_A_MONTH_AGO': "piÃ¹ di un mese fa",
                            'MORE_THAN_A_WEEK_AGO': "piÃ¹ di una settimana fa",
                            'MORE_THAN_*_WEEKS_AGO': "piÃ¹ di __elapsed__ settimane fa",
                            'YESTERDAY': "ieri",
                            '*_DAYS_AGO': "__elapsed__ giorni fa",
                            'ABOUT_AN_HOUR_AGO': "circa un&#x27;ora fa",
                            '*_HOURS_AGO': "__elapsed__ ore fa",
                            'JUST_A_FEW_MINUTES_AGO': "pochi minuti fa",
                            'ABOUT_*_MINUTES_AGO': "circa __elapsed__ minuti fa"
                        },
                        'unknown_ip': "sconosciuto",
                        'countries': {
                            '--': "sconosciuto",
                            'AD': "Andorra",
                            'AE': "Emirati arabi uniti",
                            'AF': "Afghanistan",
                            'AG': "Antigua e Barbuda",
                            'AI': "Anguilla",
                            'AL': "Albania",
                            'AM': "Armenia",
                            'AN': "Antille olandesi",
                            'AO': "Angola",
                            'AR': "Argentina",
                            'AS': "Samoa americane",
                            'AT': "Austria",
                            'AU': "Australia",
                            'AW': "Aruba",
                            'AZ': "Azerbaigian",
                            'BB': "Barbados",
                            'BD': "Bangladesh",
                            'BE': "Belgio",
                            'BF': "Burkina-Faso",
                            'BG': "Bulgaria",
                            'BH': "Bahrein",
                            'BI': "Burundi",
                            'BJ': "Benin",
                            'BM': "Bermuda",
                            'BN': "Brunei",
                            'BO': "Bolivia",
                            'BR': "Brasile",
                            'BS': "Bahamas",
                            'BT': "Bhutan",
                            'BW': "Botswana",
                            'BY': "Bielorussia",
                            'BZ': "Belize",
                            'CA': "Canada",
                            'CD': "Repubblica democratica del Congo",
                            'CF': "Repubblica centrafricana",
                            'CH': "Svizzera",
                            'CK': "Isole Cook",
                            'CL': "Cile",
                            'CM': "Camerun",
                            'CN': "Cina",
                            'CO': "Colombia",
                            'CR': "Costa Rica",
                            'CS': "Repubblica del Montenegro",
                            'CU': "Cuba",
                            'CY': "Cipro",
                            'CZ': "Repubblica ceca",
                            'DE': "Germania",
                            'DJ': "Gibuti",
                            'DK': "Danimarca",
                            'DO': "Repubblica dominicana",
                            'DZ': "Algeria",
                            'EC': "Ecuador",
                            'EE': "Estonia",
                            'EG': "Egitto",
                            'ER': "Eritrea",
                            'ES': "Spagna",
                            'ET': "Etiopia",
                            'FI': "Finlandia",
                            'FJ': "Figi",
                            'FM': "Micronesia",
                            'FO': "Isole FÃ¦r Ãer",
                            'FR': "Francia",
                            'GA': "Gabon",
                            'GB': "Regno Unito",
                            'GD': "Grenada",
                            'GE': "Georgia",
                            'GF': "Guyana francese",
                            'GG': "Guernsey",
                            'GH': "Ghana",
                            'GI': "Gibilterra",
                            'GL': "Groenlandia",
                            'GM': "Gambia",
                            'GP': "Guadalupa",
                            'GR': "Grecia",
                            'GT': "Guatemala",
                            'GU': "Guam",
                            'GW': "Guinea-Bissau",
                            'GY': "Guyana",
                            'HK': "Hong Kong",
                            'HN': "Honduras",
                            'HT': "Haiti",
                            'HU': "Ungheria",
                            'ID': "Indonesia",
                            'IE': "Irlanda",
                            'IL': "Israele",
                            'IM': "Isola di Man",
                            'IN': "India",
                            'IO': "Territorio britannico dell&#x27;Oceano Indiano",
                            'IQ': "Iraq",
                            'IR': "Iran",
                            'IS': "Islanda",
                            'IT': "Italia",
                            'JE': "Jersey",
                            'JM': "Giamaica",
                            'JO': "Giordania",
                            'JP': "Giappone",
                            'KE': "Kenya",
                            'KG': "Kirghizistan",
                            'KH': "Cambogia",
                            'KI': "Kiribati",
                            'KN': "Saint Kitts e Nevis",
                            'KR': "Corea del Sud",
                            'KW': "Kuwait",
                            'KY': "Isole Cayman",
                            'KZ': "Kazakistan",
                            'LA': "Laos",
                            'LB': "Libano",
                            'LC': "Saint Lucia",
                            'LI': "Liechtenstein",
                            'LK': "Sri Lanka",
                            'LR': "Liberia",
                            'LS': "Lesotho",
                            'LT': "Lituania",
                            'LU': "Lussemburgo",
                            'LV': "Lettonia",
                            'LY': "Libia",
                            'MA': "Marocco",
                            'MC': "Monaco",
                            'MD': "Moldova",
                            'MG': "Madagascar",
                            'MH': "Isole Marshall",
                            'ML': "Mali",
                            'MM': "Myanmar",
                            'MN': "Mongolia",
                            'MP': "Marianne settentrionali",
                            'MR': "Mauritania",
                            'MS': "Montserrat",
                            'MT': "Malta",
                            'MU': "Maurizio",
                            'MV': "Maldive",
                            'MW': "Malawi",
                            'MX': "Messico",
                            'MY': "Malaysia",
                            'MZ': "Mozambico",
                            'NA': "Namibia",
                            'NC': "Nuova Caledonia",
                            'NF': "Isola Norfolk",
                            'NG': "Nigeria",
                            'NI': "Nicaragua",
                            'NL': "Paesi Bassi",
                            'NO': "Norvegia",
                            'NP': "Nepal",
                            'NR': "Nauru",
                            'NU': "Niue",
                            'NZ': "Nuova Zelanda",
                            'OM': "Oman",
                            'PA': "Panama",
                            'PE': "PerÃ¹",
                            'PF': "Polinesia francese",
                            'PG': "Papua Nuova Guinea",
                            'PH': "Filippine",
                            'PK': "Pakistan",
                            'PL': "Polonia",
                            'PR': "Puerto Rico",
                            'PS': "Territori palestinesi",
                            'PT': "Portogallo",
                            'PW': "Palau",
                            'PY': "Paraguay",
                            'QA': "Qatar",
                            'RO': "Romania",
                            'RS': "Serbia",
                            'RU': "Russia",
                            'RW': "Ruanda",
                            'SA': "Arabia Saudita",
                            'SB': "Isole Salomone",
                            'SC': "Seicelle",
                            'SD': "Sudan",
                            'SE': "Svezia",
                            'SG': "Singapore",
                            'SI': "Slovenia",
                            'SL': "Sierra Leone",
                            'SM': "San Marino",
                            'SN': "Senegal",
                            'SR': "Suriname",
                            'SV': "El Salvador",
                            'SY': "Siria",
                            'SZ': "Swaziland",
                            'TC': "Turks e Caicos",
                            'TG': "Togo",
                            'TH': "Thailandia",
                            'TJ': "Tagikistan",
                            'TM': "Turkmenistan",
                            'TN': "Tunisia",
                            'TO': "Tonga",
                            'TR': "Turchia",
                            'TV': "Tuvalu",
                            'TW': "Taiwan",
                            'TZ': "Tanzania",
                            'UA': "Ucraina",
                            'UG': "Uganda",
                            'US': "Stati Uniti",
                            'UY': "Uruguay",
                            'UZ': "Uzbekistan",
                            'VA': "Santa Sede (Stato della CittÃ  del Vaticano)",
                            'VE': "Venezuela",
                            'VG': "Isole Vergini britanniche",
                            'VI': "Isole Vergini statunitensi",
                            'VN': "Vietnam",
                            'VU': "Vanuatu",
                            'WS': "Samoa",
                            'YE': "Yemen",
                            'ZA': "Sud Africa",
                            'ZM': "Zambia",
                            'ZW': "Zimbabwe"
                        },
                        'browsers': {
                            'UNKNOWN': "sconosciuto"
                        },
                        'operatingSystems': {
                            'UNKNOWN': "sconosciuto",
                            'MOBILE': "Cellulare"
                        },
                        'calendarStrings': {
                            'months': {
                                '0': "Gennaio",
                                '1': "Febbraio",
                                '2': "Marzo",
                                '3': "Aprile",
                                '4': "Mag",
                                '5': "Giugno",
                                '6': "Luglio",
                                '7': "Agosto",
                                '8': "Settembre",
                                '9': "Ottobre",
                                '10': "Novembre",
                                '11': "Dicembre"
                            },
                            'shortMonths': {
                                '0': "Gen",
                                '1': "Feb",
                                '2': "Mar",
                                '3': "Apr",
                                '4': "Mag",
                                '5': "Giu",
                                '6': "Lug",
                                '7': "Ago",
                                '8': "Set",
                                '9': "Ott",
                                '10': "Nov",
                                '11': "Dic"
                            },
                            'days': {
                                '0': "Domenica",
                                '1': "LunedÃ¬",
                                '2': "MartedÃ¬",
                                '3': "MercoledÃ¬",
                                '4': "GiovedÃ¬",
                                '5': "VenerdÃ¬",
                                '6': "Sabato"
                            },
                            'shortDays': {
                                '0': "Dom",
                                '2': "Mar",
                                '3': "Mer",
                                '4': "Gio",
                                '5': "Ven",
                                '6': "Sab"
                            },
                            'veryShortDays': {
                                '1': "Lu",
                                '4': "Gi",
                                '5': "Ve"
                            }
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.PM.Strings.Languages['pt-BR'.toLowerCase()] = MochiKit.Base.merge(Clipperz.PM.Strings.Languages['en-us'], {
                        'clipperzServiceDescriptionConfig': "<h2>Guarde com vocÃª!</h2> <ul> <li> <h3>Clipperz Ã©:</h3> <ul> <li> <p>um simples e seguro gerenciador de senhas</p> </li> <li> <p>uma efetiva soluÃ§Ã£o com uma Ãºnica assinatura</p> </li> <li> <p>um cofre digital para suas informaÃ§Ãµes confidenciais</p> </li> </ul> </li> <li> <h3>Com Clipperz vocÃª pode:</h3> <ul> <li> <p>guardar e gerenciar suas senhas e credenciais online</p> </li> <li> <p>logar em seus serviÃ§os web sem precisar entrar com nenhum nome de usuÃ¡rio ou senha</p> </li> <li> <p>proteger todos os seus dados sensÃ­veis: cÃ³digos de alarme, PINs, nÃºmeros de cartÃ£o de crÃ©dito, &hellip;</p> </li> <li> <p>compartilhar segredos com membros da famÃ­lia e associados (em breve)</p> </li> </ul> </li> <li> <h3>Clipperz proporciona:</h3> <ul> <li> <p>anonimato completo e gratuito</p> </li> <li> <p>acesso a qualquer hora em qualquer computador</p> </li> <li> <p>sem software ou download e nada que instalar</p> </li> <li> <p>evite guardar seus segredos em seu PC ou papel</p> </li> </ul> </li> <li> <h3>SeguranÃ§a Clipperz:</h3> <ul> <li> <p>seus segredos sÃ£o codificados localmente por seu navegador antes de ser enviado para Clipperz</p> </li> <li> <p>a chave de codificaÃ§Ã£o Ã© uma senha que sÃ³ vocÃª conhece</p> </li> <li> <p>Clipperz armazena apenas seus dados confidenciais codificados, nunca acessando os dados originais</p> </li> <li> <p>Clipperz Ã© construÃ­do a partir de esquemas de codificaÃ§Ã£o padrÃ£o, ou seja, nada Ã© exclusivo ou caseiro</p> </li> <li> <p>vocÃª pode revisar o cÃ³digo a qualquer momento, mas vocÃª nÃ£o precisa conhecer nada sobre criptograia para ser um usuÃ¡rio feliz!</p> </li> </ul> </li> <li> <a href=\"http://www.clipperz.com\" target=\"_parent\">Saiba mais</a> </li> </ul> ",
                        'loginFormTitle': "entre sua conta Clipperz",
                        'loginFormUsernameLabel': "nome do usuÃ¡rio",
                        'loginFormPassphraseLabel': "frase chave",
                        'loginFormDontHaveAnAccountLabel': "nÃ£o tem uma conta?",
                        'loginFormCreateOneLabel': "criar uma",
                        'loginFormForgotYourCredentialsLabel': "esqueceu suas credenciais?",
                        'loginFormAarghThatsBadLabel': "xiiiii! isso Ã© nÃ£o Ã© bom!",
                        'loginFormAfraidOfMaliciousScriptsLabel': "medo de scripts maliciosos?",
                        'loginFormVerifyTheCodeLabel': "verifique o cÃ³digo",
                        'loginFormButtonLabel': "Entrar",
                        'loginFormOneTimePasswordCheckboxLabel': "use uma frase chave descartÃ¡vel",
                        'loginPanelSwithLanguageDescription': "<h5>Mudar para sua linguagem preferida</h5> ",
                        'browserCompatibilityDescription': "<p>Tenha uma experiÃªncia melhor e mais segura com Clipperz, utilizando o Firefox. No entanto, Clipperz funciona bem tambÃ©m em Opera e MS Internet Explorer!</p> ",
                        'OTPloginMessagePanelInitialTitle': "Acessando usando a frase chave descartÃ¡vel",
                        'OTPloginMessagePanelInitialText': "Enviando credenciais descartÃ¡veis ...",
                        'OTPloginMessagePanelLoadingTitle': "Acessando usando a frase chave descartÃ¡vel",
                        'OTPloginMessagePanelLoadingText': "Buscando informaÃ§Ã£o de autenticaÃ§Ã£o codificada no servidor ...",
                        'OTPloginMessagePanelProcessingTitle': "Acessando usando a frase chave descartÃ¡vel",
                        'OTPloginMessagePanelProcessingText': "DecodificaÃ§Ã£o local da informaÃ§Ã£o de autenticaÃ§Ã£o ...",
                        'loginMessagePanelInitialTitle': "Entrando ...",
                        'loginMessagePanelInitialButtonLabel': "Cancelar",
                        'loginMessagePanelConnectedTitle': "Conectado",
                        'loginMessagePanelConnectedText': "ConcluÃ­do",
                        'loginMessagePanelFailureTitle': "Erro",
                        'loginMessagePanelFailureText': "Ocorreu uma falha",
                        'loginMessagePanelFailureButtonLabel': "Fechar",
                        'connectionLoginSendingCredentialsMessageTitle': "Verificando credenciais",
                        'connectionLoginSendingCredentialsMessageText': "Enviando credenciais",
                        'connectionLoginCredentialsVerificationMessageTitle': "Verificando credenciais",
                        'connectionLoginCredentialsVerificationMessageText': "Realizando autenticaÃ§Ã£o SRP",
                        'connectionLoginDoneMessageTitle': "Verificando credenciais",
                        'connectionLoginDoneMessageText': "Conectado",
                        'userLoginPanelUpgradingUserCredentialsMessageTitle': "Verificando credenciais",
                        'userLoginPanelUpgradingUserCredentialsMessageText': "Upgrade de suas credenciais para um novo esquema de autenticaÃ§Ã£o",
                        'userLoginPanelConnectedMessageTitle': "UsuÃ¡rio autenticado",
                        'userLoginPanelConnectedMessageText': "Logado com sucesso em",
                        'userLoginPanelTryingAnOlderConnectionSchemaMessageTitle': "Verificando credenciais",
                        'userLoginPanelTryingAnOlderConnectionSchemaMessageText': "Tentando esquema antigo de autenticaÃ§Ã£o",
                        'userLoginPanelLoadingUserDataMessageTitle': "UsuÃ¡rio autenticado",
                        'userLoginPanelLoadingUserDataMessageText': "Baixando cabeÃ§alhos de cartÃ£o codificados de Clipperz",
                        'userLoginPanelDecryptingUserDataMessageTitle': "UsuÃ¡rio autenticado",
                        'userLoginPanelDecryptingUserDataMessageText': "DescriÃ§Ã£o local de cabeÃ§alhos dos cartÃµes",
                        'userLoginPanelDecryptingUserStatisticsMessageTitle': "UsuÃ¡rio autenticado",
                        'userLoginPanelDecryptingUserStatisticsMessageText': "DescriÃ§Ã£o local de estatÃ­sticas de uso",
                        'splashAlertTitle': "Bem-vindo ao Clipperz!",
                        'splashAlertText': "<p>Alguns avisos de seguranÃ§a</p> <ul> <li> <p>Guardar suas informaÃ§Ãµes no Clipperz Ã© tÃ£o seguro quanto a frase chave que vocÃª escolher para protege-los. NinguÃ©m pode acessÃ¡-los sem essa frase chave.</p> </li> <li> <p>Se vocÃª vai utlizar Clipperz para armazenar suas informaÃ§Ãµes confidenciais e crÃ­ticas, escolha uma frase chave difÃ­cil de ser descoberta. Quanto mais longa, melhor!</p> </li> <li> <p>Clipperz nÃ£o serÃ¡ capaz de recuperar frase chave perdidas!</p> </li> </ul> <p>Para mais informaÃ§Ãµes, por favor vÃ¡ atÃ© <a href=\"http://www.clipperz.com\" target=\"_parent\">Clipperz</a> website.</p> ",
                        'splashAlertCloseButtonLabel': "Ok",
                        'registrationFormTitle': "crie sua conta",
                        'registrationFormUsernameLabel': "nome do usuÃ¡rio",
                        'registrationFormPassphraseLabel': "frase chave",
                        'registrationFormRetypePassphraseLabel': "entre novamente sua frase chave",
                        'registrationFormSafetyCheckLabel': "Eu compreendo que Clipperz nÃ£o serÃ¡ capaz de recuperar senhas perdidas.",
                        'registrationFormTermsOfServiceCheckLabel': "Eu li e concordo com os <a href='http://www.clipperz.com/terms_of_service' target='_parent'>Termos do ServiÃ§o</a>.",
                        'registrationFormDoYouAlreadyHaveAnAccountLabel': "vocÃª jÃ¡ tem uma conta?",
                        'registrationFormSimplyLoginLabel': "login simples",
                        'registrationFormButtonLabel': "Registrar",
                        'registrationFormWarningMessageNotMatchingPassphrases': "Suas frases chaves nÃ£o conferem, por favor tente novamente.",
                        'registrationFormWarningMessageSafetyCheckNotSelected': "Por favor leia e confira todos os campos abaixo.",
                        'registrationFormWarningMessageTermsOfServiceCheckNotSelected': "VocÃª precisa concordar com os Termos do ServiÃ§o.",
                        'registrationMessagePanelInitialTitle': "Criando conta ...",
                        'registrationMessagePanelInitialText': "---",
                        'registrationMessagePanelInitialButtonLabel': "Cancelar",
                        'registrationMessagePanelRegistrationDoneTitle': "Registro",
                        'registrationMessagePanelRegistrationDoneText': "ConcluÃ­do",
                        'registrationMessagePanelFailureTitle': "Registrou falhou",
                        'registrationMessagePanelFailureButtonLabel': "Fechar",
                        'connectionRegistrationSendingRequestMessageText': "Verificando credenciais",
                        'connectionRegistrationSendingCredentialsMessageText': "Enviando credenciais",
                        'registrationSplashPanelTitle': "Informe de seguranÃ§a",
                        'registrationSplashPanelDescription': "<p>Essas sÃ£o suas credenciais Clipperz, cuide delas com cuidado. Clipperz nunca vai mostrar seu nome de usuÃ¡rio e frase chave uma outra vez!</p> ",
                        'registrationSplashPanelUsernameLabel': "nome de usuÃ¡rio",
                        'registrationSplashPanelPassphraseLabel': "frase chave",
                        'registrationSplashPanelShowPassphraseButtonLabel': "mostrar frase chave",
                        'donateHeaderLinkLabel': "doar",
                        'creditsHeaderLinkLabel': "crÃ©ditos",
                        'feedbackHeaderLinkLabel': "feedback",
                        'helpHeaderLinkLabel': "ajuda",
                        'forumHeaderLinkLabel': "fÃ³rum",
                        'recordMenuLabel': "cartÃµes",
                        'accountMenuLabel': "conta",
                        'dataMenuLabel': "dados",
                        'contactsMenuLabel': "contatos",
                        'toolsMenuLabel': "ferramentas",
                        'logoutMenuLabel': "sair",
                        'lockMenuLabel': "bloquear",
                        'lockTitle': "A conta estÃ¡ bloqueada",
                        'lockDescription': "<p>Para desbloquear sua conta, por favor, entre com a frase chave</p> ",
                        'unlockButtonLabel': "desbloquear",
                        'changePasswordTabLabel': "Alterar sua frase chave",
                        'changePasswordTabTitle': "Alterar sua frase chave",
                        'changePasswordFormUsernameLabel': "nome de usuÃ¡rio",
                        'changePasswordFormOldPassphraseLabel': "frase chave antiga",
                        'changePasswordFormNewPassphraseLabel': "frase chave nova",
                        'changePasswordFormRetypePassphraseLabel': "re-inserir frase chave nova",
                        'changePasswordFormSafetyCheckboxLabel': "Eu compreendo que Clipperz nÃ£o poderÃ¡ recuperar a frase chave perdida.",
                        'changePasswordFormSubmitLabel': "Alterar frase chave",
                        'changePasswordFormWrongUsernameWarning': "Nome de usuÃ¡rio errado",
                        'changePasswordFormWrongPassphraseWarning': "Frase chave errada",
                        'changePasswordFormWrongRetypePassphraseWarning': "Suas frases chaves nÃ£o conferem, por favor tente novamente.",
                        'changePasswordFormSafetyCheckWarning': "Por favor leia e confira todos os campos abaixo.",
                        'changePasswordFormProgressDialogTitle': "Alterando credenciais do usuÃ¡rio",
                        'changePasswordFormProgressDialogConnectedMessageTitle': "Conectado",
                        'changePasswordFormProgressDialogConnectedMessageText': "ConcluÃ­do",
                        'changePasswordFormProgressDialogErrorMessageTitle': "Erro",
                        'changePasswordFormProgressDialogErrorMessageText': "MudanÃ§a de credenciais falhou!",
                        'changeCredentialsPanelEncryptingDataMessageTitle': "Alterando sua frase chave",
                        'changeCredentialsPanelEncryptingDataMessageText': "CodificaÃ§Ã£o local de cabeÃ§alho de cartÃµes",
                        'changeCredentialsPanelCreatingNewCredentialsMessageTitle': "Alterando sua frase chave",
                        'changeCredentialsPanelCreatingNewCredentialsMessageText': "Atualizando suas credenciais",
                        'changeCredentialsPanelSendingNewCredentialsToTheServerMessageTitle': "Alterando sua frase chave",
                        'changeCredentialsPanelSendingNewCredentialsToTheServerMessageText': "Enviando suas credenciais codificadas para Clipperz",
                        'changeCredentialsPanelDoneMessageTitle': "Alterando sua frase chave",
                        'changeCredentialsPanelDoneMessageText': "ConcluÃ­do",
                        'manageOTPTabLabel': "Gerenciar suas frases chaves descartÃ¡veis",
                        'manageOTPTabTitle': "Gerenciar suas frases chaves descartÃ¡veis",
                        'manageOTPTabDescription': "<p>Uma frase chave descartÃ¡vel funciona como uma frase chave normal, mas sÃ³ pode ser utilizada uma Ãºnica vez.</p> <p>Se a mesma frase chave for utilizada novamente num prÃ³ximo login, ela serÃ¡ rejeitada e o login nÃ£o irÃ¡ ocorrer.</p> <p>Imediatamente apÃ³s um login com sucesso, sua frase chave descartÃ¡vel serÃ¡ apagada para evitar logins fraudulentos.</p> <p>Frases chaves descartÃ¡veis sÃ£o uma excelente opÃ§Ã£o se vocÃª estÃ¡ preocupado com keyloggers ou spywares que podem estar coletando seus dados em determinadas mÃ¡quinas.</p> <p> <b>Ã recomendÃ¡vel que vocÃª utilize frases chaves descartÃ¡veis sempre que utilizar terminais pÃºblicos como Internet cafÃ©s e bibliotecas.</b> </p> ",
                        'oneTimePasswordReadOnlyMessage': "<h6>Desculpe!</h6> <p>VocÃª nÃ£o pode gerenciar sua frase chave descartÃ¡vel quando usando a versÃ£o offline do Clipperz.</p> ",
                        'oneTimePasswordLoadingMessage': "<h6>Carregando informaÃ§Ã£o</h6> <p>Por favor, aguarde ...</p> ",
                        'oneTimePasswordNoPasswordAvailable': "<h6>Nenhuma frase chave descartÃ¡vel disponÃ­vel</h6> <p>Clique o botÃ£o âNovoâ acima para adicionar uma frase chave descartÃ¡vel em sua conta.</p> ",
                        'createNewOTPButtonLabel': "Novo",
                        'deleteOTPButtonLabel': "Apagar",
                        'printOTPButtonLabel': "Imprimir",
                        'disabledOneTimePassword_warning': "desativada",
                        'oneTimePasswordSelectionLink_selectLabel': "Selecionar:",
                        'oneTimePasswordSelectionLink_all': "tudo",
                        'oneTimePasswordSelectionLink_none': "nenhum",
                        'oneTimePasswordSelectionLink_used': "usado",
                        'oneTimePasswordSelectionLink_unused': "nÃ£o usado",
                        'saveOTP_encryptUserDataTitle': "Salvando a frase chave descartÃ¡vel",
                        'saveOTP_encryptUserDataText': "Processando novas credenciais descartÃ¡veis ...",
                        'saveOTP_encryptOTPDataTitle': "Salvando a frase chave descartÃ¡vel",
                        'saveOTP_encryptOTPDataText': "CodificaÃ§Ã£o local da informaÃ§Ã£o de autenticaÃ§Ã£o ...",
                        'saveOTP_sendingDataTitle': "Salvando a frase chave descartÃ¡vel",
                        'saveOTP_sendingDataText': "Enviando informaÃ§Ã£o de autenticaÃ§Ã£o para o servidor ...",
                        'saveOTP_updatingInterfaceTitle': "Salvando a frase chave descartÃ¡vel",
                        'saveOTP_updatingInterfaceText': "Atualizando interface ...",
                        'accountPreferencesLabel': "PreferÃªncias",
                        'accountPreferencesTabTitle': "PreferÃªncias",
                        'accountPreferencesLanguageTitle': "SeleÃ§Ã£o de idioma",
                        'accountPreferencesLanguageDescription': "<p>Escolha seu idioma preferido da lista abaixo.</p> ",
                        'showDonationReminderPanelTitle': "Lembretes de doaÃ§Ã£o",
                        'showDonationReminderPanelDescription': "<p>Mostrar lembretes de doaÃ§Ã£o</p> ",
                        'saveUserPreferencesFormSubmitLabel': "Salvar",
                        'cancelUserPreferencesFormSubmitLabel': "Cancelar",
                        'accountPreferencesSavingPanelTitle_Step1': "Salvando preferÃªncias",
                        'accountPreferencesSavingPanelText_Step1': "CodificaÃ§Ã£o local de suas preferÃªncias",
                        'accountPreferencesSavingPanelTitle_Step2': "Salvando preferÃªncias",
                        'accountPreferencesSavingPanelText_Step2': "Enviando informaÃ§Ã£o codificada para o servidor",
                        'accountLoginHistoryLabel': "HistÃ³rico de conexÃ£o",
                        'loginHistoryTabTitle': "HistÃ³rico de conexÃ£o",
                        'loginHistoryReadOnlyMessage': "<h6>Desculpe!</h6> <p>Seu histÃ³rico de conexÃ£o nÃ£o estÃ¡ disponÃ­vel quando usando uma versÃ£o offline do Clipperz.</p> ",
                        'loginHistoryLoadingMessage': "<h6>Carregando informaÃ§Ã£o</h6> <p>Por favor, aguarde ...</p> ",
                        'loginHistoryLoadedMessageConfig': "<h6>Suas 10 Ãºltimas conexÃµes</h6> <p> </p> ",
                        'loginHistoryIPLabel': "IP",
                        'loginHistoryTimeLabel': "data",
                        'loginHistoryCurrentSessionText': "sessÃ£o atual",
                        'loginHistoryReloadButtonLabel': "Recarregar histÃ³rico de conexÃ£o",
                        'deleteAccountTabLabel': "Apagar sua conta",
                        'deleteAccountTabTitle': "Apagar sua conta",
                        'deleteAccountFormUsernameLabel': "nome de usuÃ¡rio",
                        'deleteAccountFormPassphraseLabel': "frase chave",
                        'deleteAccountFormSafetyCheckboxLabel': "Eu compreendo que toda minha informaÃ§Ã£o serÃ¡ apagada e que esta aÃ§Ã£o Ã© irreversÃ­vel.",
                        'deleteAccountFormSubmitLabel': "Apagar minha conta",
                        'deleteAccountFormWrongUsernameWarning': "Nome de usuÃ¡rio errado",
                        'deleteAccountFormWrongPassphraseWarning': "Frase chave errada",
                        'deleteAccountFormSafetyCheckWarning': "Por favor leia e confira os campos abaixo.",
                        'accountPanelDeletingAccountPanelConfirmationTitle': "ATENÃÃO",
                        'accountPanelDeleteAccountPanelConfirmationText': "VocÃª tem certeza que quer apagar esta conta?",
                        'accountPanelDeleteAccountPanelConfirmButtonLabel': "Sim",
                        'accountPanelDeleteAccountPanelDenyButtonLabel': "NÃ£o",
                        'offlineCopyTabLabel': "CÃ³pia offline",
                        'offlineCopyTabTitle': "CÃ³pia offline",
                        'offlineCopyTabDescription': "<p>Com apenas um click vocÃª pode passar toda sua informaÃ§Ã£o codificada dos servidores Clipperz para seu hard disk e criar uma versÃ£o read-only offline do Clipperz para ser utilizada quando vocÃª nÃ£o estiver conectado na Internet.</p> <p>Essa versÃ£o read-only Ã© tÃ£o segura quanto a versÃ£o online e nÃ£o vai expor suas informaÃ§Ãµes a riscos maiores jÃ¡ que ambas tem a mesma arquitetura de cÃ³digo e seguranÃ§a.</p> <ol> <li> <p>Clique no link abaixo para iniciar o download.</p> </li> <li> <p>O navegador vai perguntar o que fazer com o arquivo âClipperz_YYYYMMDD.htmlâ. Grave-o em seu hard disk.</p> </li> <li> <p>Clique duas vezes no arquivo baixado para abrir a versÃ£o offline em seu navegador.</p> </li> <li> <p>Entre sua frase chave e nome de usuÃ¡rio como sempre faz.</p> </li> </ol> ",
                        'offlineCopyDownloadLinkLabel': "Baixar",
                        'offlineCopyDownloadWarningConfig': "<h4> <a href=\"#\" id=\"offlineCopyDownloadWarningLink\">Atualize sua âcÃ³pia offlineâ!</a> </h4> <p>Vocie recentemente criou ou modificou um ou mais cartÃµes, seria inteligente baixar uma nova âcÃ³pia offlineâ.</p> ",
                        'sharingTabLabel': "Compartilhar",
                        'sharingTabTitle': "Compartilhar",
                        'sharingTabDescriptionConfig': "<p>Frequentemente uma informaÃ§Ã£o confidencial precisa ser compartilhada com uma ou mais pessoas.</p> <p>Isso pode ser tÃ£o simples quanto permitir o acesso de seus colegas ao seu voice mail quando vocÃª estÃ¡ fora do escritÃ³rio, ou tÃ£o complicado quanto permitir que seus herdeiros acessem seu caixa num banco quando vocÃª morrer.</p> <p>Clipperz pode fazer o processo de compartilhamento simples e seguro.</p> <p> </p> <p> <b>Em breve ...</b> </p> ",
                        'importTabLabel': "Importar",
                        'importTabTitle': "Importar",
                        'importTabDescription': "<p> <b>Em breve ...</b> <p> ",
                        'printingTabLabel': "Exportar",
                        'printingTabTitle': "Exportar",
                        'printingTabDescription': "<p> <b>VersÃ£o para impressÃ£o</b> </p> <p>Clicando no link abaixo vocÃª abre uma nova janela contendo todos os seus cartÃµes em formato de impressÃ£o.</p> <p>Se vocÃª vai impriir para backup, considere a opÃ§Ã£o mais segura criando uma âcÃ³pia offlineâ.</p> ",
                        'printingLinkLabel': "VersÃ£o para impressÃ£o",
                        'contactsTabLabel': "Contatos",
                        'contactsTabTitle': "Contatos",
                        'passwordGeneratorTabLabel': "Gerador de senhas",
                        'passwordGeneratorTabTitle': "Gerador de senhas",
                        'passwordGeneratorTabButtonLabel': "Gerar senha",
                        'bookmarkletTabLabel': "Bookmarklet",
                        'bookmarkletTabTitle': "Bookmarklet",
                        'bookmarkletTabDescription': "<p>Um bookmarklet Ã© uma ferramenta âone-clickâ que pode executar diversas tarefas Ãºteis. Pode ser salva e utilizada como uma pÃ¡gina web preferida normal.</p> <p>Os bookmarklet Clipperz vÃ£o ajudar vocÃª a a rapidamente criar novos cartÃµes e novos logins diretos a partir dos cartÃµes existentes.</p> <p> <b>Por favor, note que o bookmarklet nÃ£o inclui nenhuma informaÃ§Ã£o relacionada Ã  sua conta (e.g. seu nome de usuÃ¡rio ou frase chave), o bookmarklet Ã© um ferramenta contendo o mesmo cÃ³digo para todos ois usuÃ¡rios Clipperz.</b> </p> <h3>Como instalar o bookmarlet</h3> <h5>Firefox, Camino, Opera, Safari</h5> <ol> <li> <p>Assegure-se que a âBarra de Bookmarksâ estÃ¡ visÃ­vel, selecionando âView > Toolbars > Bookmarksâ, ou menu similar no menu do navegador</p> </li> <li> <p>Arraste o link âAdicionar ao Clipperzâ abaixo para a barra de bookmark.</p> </li> </ol> <h5>Internet Explorer</h5> <ol> <li> <p>Assegure-se que o barra de âLinksâ estÃ¡ visÃ­vel selecionando âView > Toolbar > Linksâ no menu do navegador.</p> </li> <li> <p>Clique com o botÃ£o direito no link âAdicionar ao Clipperzâ abaixo.</p> </li> <li> <p>Select âSelecione âAdd to favoritesâ no menu contextual.</p> </li> <li> <p>Clique âYesâ para qualquer mensagem de seguranÃ§a que surgir em pop-up.</p> </li> <li> <p>Abra o folder âLinksâ e clique âOKâ.</p> </li> </ol> ",
                        'bookmarkletTabBookmarkletTitle': "Adicionar ao Clipperz",
                        'bookmarkletTabInstructions': "<h3>Como criar um novo cartÃ£o para acessar diretamente um serviÃ§o online</h3> <ol> <li> <p>Abra a pÃ¡gina web onde o formulÃ¡rio de login estÃ¡. (Ã© a pÃ¡gina onde vocÃª usualmente entra com suas credenciais)</p> </li> <li> <p>Dispare a preferÃªncia clicando nela: um pop-up vai aparecer sobre a pÃ¡gina.</p> </li> <li> <p>Copie para o clipboard o conteÃºdo da Ã¡rea de texto do pop-up. (ctrl-C)</p> </li> <li> <p>Entre em sua conta Clipperz e clique no botÃ£o <b>Adicionar novo cartÃ£o</b>.</p> </li> <li> <p>Selecione o template de \"Login Direto\" e cole o conteÃºdo do clipboard para a grande Ã¡rea de texto do formulÃ¡rio. (ctrl-V)</p> </li> <li> <p>Pressione o botÃ£o <b>Criar</b>, reveja os detalhes e clique <b>Save</b>.</p> </li> </ol> <h3>Como adicionar login direto a um cartÃ£o existente</h3> <ol> <li> <p>Idem acima.</p> </li> <li> <p>Idem acima.</p> </li> <li> <p>Idem acima.</p> </li> <li> <p>Entre em sua conta Clipperz e selecione o cartÃ£o contendo as credenciais para o serviÃ§o web que vocÃª visitou e clique no botÃ£o <b>Editar</b>.</p> </li> <li> <p>Cole o conteÃºdo do clipboard para a grande Ã¡rea de texto da sessÃ£o âLogins diretosâ. (ctrl-V)</p> </li> <li> <p>Pressione o botÃ£o <b>Adicionar login direto</b>, reveja os detalhes e clique <b>Salvar</b>.</p> </li> </ol> <p> </p> <p>Mais informaÃ§Ãµes sobre as preferÃªncias estÃ£o <a href=\"http://www.clipperz.com/support/user_guide/bookmarklet\" target=\"_parent\">disponÃ­veis aqui</a>.</p> ",
                        'mainPanelDirectLoginBlockLabel': "Logins diretos",
                        'directLinkReferenceShowButtonLabel': "mostrar",
                        'mainPanelDirectLoginBlockDescription': "<p>Adicionar âlogins diretosâ para entrar em pÃ¡ginas web sem ter que digitar nome de usuÃ¡rio e senhas!</p> <p>âLogins diretosâ ampliam a seguranÃ§a de sus senha jÃ¡ que vocÃª pode:</p> <ul> <li> <p>utilizar senhas mais complexas;</p> </li> <li> <p>nunca re-utilizar a mesma senha fÃ¡cil-de-lembrar.</p> </li> </ul> <p>ConfiguraÃ§Ã£o simples e rÃ¡pida com os <b>bookmarklet</b> Clipperz.</p> <a href=\"http://www.clipperz.com/support/user_guide/direct_logins\" target=\"_parent\">Saiba mais sobre âlogins diretosâ</a> ",
                        'mainPanelRecordsBlockLabel': "CartÃµes",
                        'mainPanelAddRecordButtonLabel': "Adicionar novo cartÃ£o",
                        'mainPanelRemoveRecordButtonLabel': "Apagar cartÃ£o",
                        'mainPanelRecordFilterBlockAllLabel': "todos",
                        'mainPanelRecordFilterBlockTagsLabel': "tags",
                        'mainPanelRecordFilterBlockSearchLabel': "buscar",
                        'recordDetailNoRecordAtAllTitle': "Bem-vindo ao Clipperz!",
                        'recordDetailNoRecordAtAllDescription': "<h5>Inicie criando cartÃµes para sua conta.</h5> <p>CartÃµes sÃ£o formulÃ¡rios simples e flexÃ­veis onde vocÃª guarda senhas e outras informaÃ§Ãµes confidenciais.</p> <p>CartÃµes podem conter credenciais de login a sites, a combinaÃ§Ã£o do seu cadeado da bicicleta, detalhes do seu cartÃ£o de crÃ©dito, ...</p> <h5>NÃ£o esqueÃ§a o bookmarklet</h5> <p>Antes de comeÃ§ar, instale o bookmarklet âAdicionar ao Clipperzâ: ele vai tornar o processo de criar cartÃµes mais fÃ¡cil e divertido.</p> <p> </p> <p>Depois, apenas click no botÃ£o <b>Adicionar novo cartÃ£o</b> e aproveite sua conta Clipperz.</p> <p> </p> <a href=\"http://www.clipperz.com/support/user_guide/managing_cards\" target=\"_parent\">Saiba mais sobre criar e gerenciar cartÃµes</a> ",
                        'newRecordWizardTitleBox': "<h5>Por favor selecione um template</h5> <p>CartÃµes sÃ£o formulÃ¡rios simples e flexÃ­veis onde vocÃª pode arquivar suas senhas ou outras informaÃ§Ãµes confidenciais.</p> <p>Comece escolhendo um dos templates abaixo. VocÃª poderÃ¡ customizar seus cartÃµes mais tarde, adicionando e removendo campos.</p> ",
                        'newRecordWizardBookmarkletConfigurationTitle': "Login direto",
                        'newRecordWizardBookmarkletConfigurationDescription': "<p>Coloque abaixo o cÃ³digo de configuraÃ§Ã£o gerado pelo bookmarklet Clipperz.</p> <p>Um novo cartÃ£o completo com login direto para sua conta web serÃ¡ criado.</p> ",
                        'newRecordWizardCreateButtonLabel': "Criar",
                        'newRecordWizardCancelButtonLabel': "Cancelar",
                        'donateSplashPanelTitle': "Apoie Clipperz, faÃ§a uma doaÃ§Ã£o hoje!",
                        'donateSplashPanelDescription': "<p>Algumas boas razÃµes para doar:</p> <ul> <li> <p>apoie o desenvolvimento de novas funcionalidades</p> </li> <li> <p>mantenha Clipperz gratuito</p> </li> <li> <p>mostrar apreciaÃ§Ã£o por trabalho duro</p> </li> </ul> <p>Para qualquer informaÃ§Ã£o adicional, por favor visite nossa <a href=\"http://www.clipperz.com/donations\" target=\"_parent\">pÃ¡gina de DoaÃ§Ãµes</a>.</p> <p> <b>Pronto para doar?</b> </p> ",
                        'donateCloseButtonLabel': "NÃ£o ainda",
                        'donateDonateButtonLabel': "Sim",
                        'recordTemplates': {
                            'WebAccount': {
                                'title': "Senha web",
                                'description': "<p>Um cartÃ£o simples para arquivar credenciais de login para seus serviÃ§os online.</p> ",
                                'fields': {
                                    'URL': "EndereÃ§o web",
                                    'TXT': "Nome de usuÃ¡rio ou email",
                                    'PWD': "Senha"
                                }
                            },
                            'BankAccount': {
                                'title': "Conta bancÃ¡ria",
                                'description': "<p>Arquive com seguranÃ§a o nÃºmero de sua conta corrente e suas credenciais de online banking.</p> ",
                                'fields': {
                                    'TXT': "Banco",
                                    'TXT': "NÃºmero da conta",
                                    'URL': "Website do banco",
                                    'TXT': "ID de online banking",
                                    'PWD': "Senha de online banking"
                                }
                            },
                            'CreditCard': {
                                'title': "CartÃ£o de crÃ©dito",
                                'description': "<p>NÃºmero do cartÃ£o, validade, CVV2 e PIN sempre disponÃ­veis no Clipperz</p> ",
                                'fields': {
                                    'TXT': "Tipo (Visa, AmEx, ...)",
                                    'TXT': "NÃºmero",
                                    'TXT': "Nome do proprietÃ¡rio",
                                    'TXT': "Prazo  de  validade",
                                    'TXT': "CVV2",
                                    'PWD': "PIN",
                                    'URL': "Website do cartÃ£o",
                                    'TXT': "Nome do usuÃ¡rio",
                                    'PWD': "Senha"
                                }
                            },
                            'AddressBookEntry': {
                                'title': "Agenda de endereÃ§os",
                                'description': "<p>Clipperz pode tambÃ©m funcionar como sua agenda de endereÃ§os particular. Use esse template para facilmente adicionar novas entradas.</p> ",
                                'fields': {
                                    'TXT': "Nome",
                                    'TXT': "Email",
                                    'TXT': "Fone",
                                    'TXT': "Mobile",
                                    'ADDR': "EndereÃ§o"
                                }
                            },
                            'Custom': {
                                'title': "CartÃ£o customizado",
                                'description': "<p>NÃ£o importa o tipo de informaÃ§Ã£o confidencial vocÃª precisa proteger, crie um cartÃ£o customizado para sua necessidade.</p> ",
                                'fields': {
                                    'TXT': "Label 1",
                                    'TXT': "Label 2",
                                    'TXT': "Label 3"
                                }
                            }
                        },
                        'recordFieldTypologies': {
                            'TXT': {
                                'description': "simple text field",
                                'shortDescription': "texto"
                            },
                            'PWD': {
                                'description': "simple text field, with default status set to hidden",
                                'shortDescription': "senha"
                            },
                            'URL': {
                                'description': "simple text field in edit mode, that became an active url in view mode",
                                'shortDescription': "endereÃ§o web"
                            },
                            'DATE': {
                                'description': "a value set with a calendar helper",
                                'shortDescription': "data"
                            },
                            'ADDR': {
                                'description': "just like the URL, but the active link points to Google Maps (or similar service) passing the address value as argument",
                                'shortDescription': "endereÃ§o"
                            },
                            'CHECK': {
                                'description': "check description",
                                'shortDescription': "check"
                            },
                            'RADIO': {
                                'description': "radio description",
                                'shortDescription': "radio"
                            },
                            'SELECT': {
                                'description': "select description",
                                'shortDescription': "select"
                            }
                        },
                        'newRecordPanelGeneralExceptionTitle': "Erro",
                        'newRecordPanelGeneralExceptionMessage': "O texto de configuraÃ§Ã£o nÃ£o Ã© vÃ¡lido. Certifique-se do texto no pop-up de bookmarklet e tente novamente.",
                        'newRecordPanelWrongBookmarkletVersionExceptionTitle': "Erro",
                        'newRecordPanelWrongBookmarkletVersionExceptionMessage': "O texto de configuraÃ§Ã£o foi gerado por uma velha versÃ£o de bookmarklet. Por favor, atualize seus preferidos e tente novamente.",
                        'newRecordPanelExceptionPanelCloseButtonLabel': "Cancelar",
                        'mainPanelDeletingRecordPanelConfirmationTitle': "Apagando o cartÃ£o selecionado",
                        'mainPanelDeleteRecordPanelConfirmationText': "VocÃª quer mesmo apagar o cartÃ£o selecionado?",
                        'mainPanelDeleteRecordPanelConfirmButtonLabel': "Sim",
                        'mainPanelDeleteRecordPanelDenyButtonLabel': "NÃ£o",
                        'mainPanelDeletingRecordPanelInitialTitle': "Apagando o cartÃ£o selecionado",
                        'mainPanelDeletingRecordPanelCompletedText': "ConcluÃ­do",
                        'deleteRecordPanelCollectRecordDataMessageTitle': "Apagar cartÃ£o",
                        'deleteRecordPanelCollectRecordDataMessageText': "Atualizando lista de cartÃµes",
                        'deleteRecordPanelEncryptUserDataMessageTitle': "Apagar cartÃ£o",
                        'deleteRecordPanelEncryptUserDataMessageText': "CodificaÃ§Ã£o local de cabeÃ§alhos de cartÃ£o",
                        'deleteRecordPanelSendingDataToTheServerMessageTitle': "Apagar cartÃ£o",
                        'deleteRecordPanelSendingDataToTheServerMessageText': "Enviando os cabeÃ§alhos de cartÃ£o codificados para Clipperz",
                        'deleteRecordPanelUpdatingTheInterfaceMessageTitle': "Apagar cartÃ£o",
                        'deleteRecordPanelUpdatingTheInterfaceMessageText': "Atualizando a interface",
                        'recordDetailNoRecordSelectedTitle': "Nenhum cartÃ£o selecionado",
                        'recordDetailNoRecordSelectedDescription': "<p>Por favor selecione um cartÃ£o da lista na esquerda.</p> ",
                        'recordDetailLoadingRecordMessage': "Baixando cartÃ£o codificados do Clipperz",
                        'recordDetailDecryptingRecordMessage': "DescriÃ§Ã£o local dos dados do cartÃ£o",
                        'recordDetailLoadingRecordVersionMessage': "Baixando a versÃ£o mais recente do cartÃ£o",
                        'recordDetailDecryptingRecordVersionMessage': "DescriÃ§Ã£o local da versÃ£o mais recente",
                        'recordDetailLoadingErrorMessageTitle': "Erro enquanto baixando o cartÃ£o",
                        'recordDetailNotesLabel': "Notas",
                        'recordDetailLabelFieldColumnLabel': "Legenda do campo",
                        'recordDetailDataFieldColumnLabel': "Dados do campo",
                        'recordDetailTypeFieldColumnLabel': "Tipo",
                        'recordDetailSavingChangesMessagePanelInitialTitle': "Salvando cartÃ£o",
                        'recordDetailAddFieldButtonLabel': "Adicionar novo campo",
                        'recordDetailPasswordFieldHelpLabel': "para copiar a senha para o clipboard clique nas estrelas e em seguida Ctrl-C",
                        'recordDetailPasswordFieldScrambleLabel': "misturar",
                        'recordDetailPasswordFieldUnscrambleLabel': "mostrar",
                        'recordDetailDirectLoginBlockTitle': "Logins diretos",
                        'recordDetailNewDirectLoginDescription': "<p>ConfiguraÃ§Ã£o de login direto</p> ",
                        'recordDetailDirectLoginBlockNoDirectLoginConfiguredDescriptionConfig': "<p>Este cartÃ£o contÃ©m credenciais para acessar um serviÃ§o online?</p> <p>Use o bookmarklet para configurar um âlogin diretoâ desde o Clipperz com apenas um click!</p> ",
                        'recordDetailAddNewDirectLoginButtonLabel': "Adicionar novo login direto",
                        'recordDetailEditButtonLabel': "Editar",
                        'recordDetailSaveButtonLabel': "Salvar",
                        'recordDetailCancelButtonLabel': "Cancelar",
                        'newRecordTitleLabel': "_novo cartÃ£o_",
                        'recordSaveChangesPanelCollectRecordInfoMessageTitle': "Salvar cartÃ£o",
                        'recordSaveChangesPanelCollectRecordInfoMessageText': "Subindo cabeÃ§alhos de cartÃ£o",
                        'recordSaveChangesPanelEncryptUserDataMessageTitle': "Salvar cartÃ£o",
                        'recordSaveChangesPanelEncryptUserDataMessageText': "CodificaÃ§Ã£o local do cabeÃ§alho do cartÃ£o",
                        'recordSaveChangesPanelEncryptRecordDataMessageTitle': "Salvar cartÃ£o",
                        'recordSaveChangesPanelEncryptRecordDataMessageText': "CodificaÃ§Ã£o local da informaÃ§Ã£o do cartÃ£o",
                        'recordSaveChangesPanelEncryptRecordVersionDataMessageTitle': "Salvar cartÃ£o",
                        'recordSaveChangesPanelEncryptRecordVersionDataMessageText': "CodificaÃ§Ã£o local da informaÃ§Ã£o de versÃ£o do cartÃ£o",
                        'recordSaveChangesPanelSendingDataToTheServerMessageTitle': "Salvar cartÃ£o",
                        'recordSaveChangesPanelSendingDataToTheServerMessageText': "Subindo o cabeÃ§alho do cartÃ£o codificado para Clipperz",
                        'recordSaveChangesPanelUpdatingTheInterfaceMessageTitle': "Salvar cartÃ£o",
                        'recordSaveChangesPanelUpdatingTheInterfaceMessageText': "Atualizando a interface",
                        'passwordGeneratorPanelTitle': "Gerador de senhas",
                        'passwordGeneratorPanelOkLabel': "Ok",
                        'passwordGeneratorPanelCancelLabel': "Cancelar",
                        'passwordGeneratorLengthLabel': "compr.:",
                        'comingSoon': "em breve ...",
                        'panelCollectingEntryopyMessageText': "Coletando entropia",
                        'directLoginConfigurationCheckBoxFieldSelectedValue': "Sim",
                        'directLoginConfigurationCheckBoxFieldNotSelectedValue': "NÃ£o",
                        'WELCOME_BACK': "Welcome back!",
                        'currentConnectionText': "VocÃª estÃ¡ conectado do ip&nbsp;__ip__, aparentemente desde __country__, usando __browser__ num __operatingSystem__.",
                        'latestConnectionText': "Sua Ãºlitima conexÃ£o foi __elapsedTimeDescription__ (__time__) do ip&nbsp;__ip__, aparentemente desde __country__, usando __browser__ num __operatingSystem__.",
                        'fullLoginHistoryLinkLabel': "mostrar o histÃ³rico de logins completos",
                        'elapsedTimeDescriptions': {
                            'MORE_THAN_A_MONTH_AGO': "mais de um mÃªs atrÃ¡s",
                            'MORE_THAN_A_WEEK_AGO': "mais de uma semana atrÃ¡s",
                            'MORE_THAN_*_WEEKS_AGO': "mais de __elapsed__ semanas atrÃ¡s",
                            'YESTERDAY': "ontem",
                            '*_DAYS_AGO': "__elapsed__ dias atrÃ¡s",
                            'ABOUT_AN_HOUR_AGO': "cerca de uma hora atrÃ¡s",
                            '*_HOURS_AGO': "__elapsed__ horas atrÃ¡s",
                            'JUST_A_FEW_MINUTES_AGO': "apenas alguns minutos atrÃ¡s",
                            'ABOUT_*_MINUTES_AGO': "cerca de __elapsed__ minutos atrÃ¡s"
                        },
                        'unknown_ip': "desconhecido",
                        'calendarStrings': {
                            'months': {
                                '0': "Janeiro",
                                '1': "Fevereiro",
                                '2': "MarÃ§o",
                                '3': "Abril",
                                '4': "Maio",
                                '5': "Junho",
                                '6': "Julho",
                                '7': "Agosto",
                                '8': "Setembro",
                                '9': "Outubro",
                                '10': "Novembro",
                                '11': "Dezembro"
                            },
                            'shortMonths': {
                                '0': "Jan",
                                '1': "Fev",
                                '2': "Mar",
                                '3': "Abr",
                                '4': "Mai",
                                '5': "Jun",
                                '6': "Jul",
                                '7': "Ago",
                                '8': "Set",
                                '9': "Out",
                                '10': "Nov",
                                '11': "Dez"
                            },
                            'days': {
                                '0': "Domingo",
                                '1': "Segunda-feira",
                                '2': "TerÃ§a-feira",
                                '3': "Quarta-feira",
                                '4': "Quinta-feira",
                                '5': "Sexta-feira",
                                '6': "SÃ¡bado"
                            },
                            'shortDays': {
                                '0': "Dom",
                                '1': "Seg",
                                '2': "Ter",
                                '3': "Qua",
                                '4': "Quin",
                                '5': "Sex",
                                '6': "Sab"
                            },
                            'veryShortDays': {
                                '0': "Do",
                                '1': "Se",
                                '2': "Te",
                                '3': "Qa",
                                '4': "Qi",
                                '5': "Se",
                                '6': "Sa"
                            },
                            'amDesignation': "am",
                            'pmDesignation': "pm"
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.PM.Strings.Languages['ja-JP'.toLowerCase()] = MochiKit.Base.merge(Clipperz.PM.Strings.Languages['en-us'], {
                        'clipperzServiceDescription': "<h2>èªåã§ç®¡çãããï¼</h2> <ul> <li> <h3>Clipperz ã¯</h3> <ul> <li> <p>å®å¨ã§ã·ã³ãã«ãªãã¹ã¯ã¼ãããã¼ã¸ã£ã§ã</p> </li> <li> <p>ã·ã³ã°ã«ãµã¤ã³ãªã³ãæä¾ãã¾ã</p> </li> <li> <p>æ©å¯æå ±ã®ãã¸ã¿ã«æ ¼ç´åº«ã§ã</p> </li> </ul> </li> <li> <h3>Clipperz ã§ã§ãããã¨</h3> <ul> <li> <p>ãã¹ã¯ã¼ããä¿ç®¡ãã¦ç®¡çã§ãã¾ã</p> </li> <li> <p>ã¦ã¼ã¶ã¼åããã¹ã¯ã¼ããå¥åããã«ç»é²ããã¦ã§ããµã¼ãã¹ã«ã­ã°ã¤ã³ã§ãã¾ã</p> </li> <li> <p>æè¨¼çªå·ãã¯ã¬ã¸ããã«ã¼ãçªå·ãªã©ããããæ©å¯æå ±ãå®ãã¾ã</p> </li> <li> <p>å®¶æãä¿¡ç¨ã§ããç¸æã¨æ©å¯æå ±ãå±æã§ãã¾ãï¼æä¾äºå®ï¼</p> </li> </ul> </li> <li> <h3>Clipperz ã®ããã¨ãã</h3> <ul> <li> <p>ç¡æã§å¿åå©ç¨ã§ãã¾ã</p> </li> <li> <p>ãã¤ã§ãã©ã®ã³ã³ãã¥ã¼ã¿ããã§ãã¢ã¯ã»ã¹ã§ãã¾ã</p> </li> <li> <p>ã½ããã¦ã§ã¢ã®ãã¦ã³ã­ã¼ããã¤ã³ã¹ãã¼ã«ã¯ä¸è¦ã§ã</p> </li> <li> <p>PC ãç´ã«æ©å¯æå ±ãæ®ãå¿è¦ãããã¾ãã</p> </li> </ul> </li> <li> <h3>Clipperz ã®ã»ã­ã¥ãªãã£</h3> <ul> <li> <p>ãã¼ã¿ã¯ãã©ã¦ã¶ã§æå·åããã¦ãã Clipprez ã«éä¿¡ããã¾ã</p> </li> <li> <p>æå·åã®ã­ã¼ã¯ããªãã ããç¥ã£ã¦ãããã¹ãã¬ã¼ãºã§ã</p> </li> <li> <p>ä¿ç®¡ãããã¼ã¿ã¯æå·åããã¦ãã¦ãä¿ç®¡ä¸­ã«ã¯æ±ºãã¦ä¸­èº«ãè¦ããã¨ãã§ãã¾ãã</p> </li> <li> <p>æ¨æºãç¢ºç«ãããæå·åæé ãæ¡ç¨ãã¦ãã¾ã</p> </li> <li> <p>ã½ã¼ã¹ã³ã¼ãã¯ãã¤ã§ãåç§ã§ãã¾ãããæå·åã«ã¤ãã¦ä½ãç¥ããªãã¦ãä½¿ãã¾ã</p> </li> </ul> </li> <li><a href=\"http://www.clipperz.com\" target=\"_parent\">ãã£ã¨è¦ã</a> </li> </ul> ",
                        'loginFormTitle': "Clipperz ã®ã¢ã«ã¦ã³ãã§ã­ã°ã¤ã³",
                        'loginFormUsernameLabel': "ã¦ã¼ã¶ã¼å",
                        'loginFormPassphraseLabel': "ãã¹ãã¬ã¼ãº",
                        'loginFormDontHaveAnAccountLabel': "ã¢ã«ã¦ã³ããæã£ã¦ããªã?",
                        'loginFormCreateOneLabel': "æ°è¦ä½æ",
                        'loginFormForgotYourCredentialsLabel': "ãã¹ãã¬ã¼ãºãå¿ãã?",
                        'loginFormAarghThatsBadLabel': "ããã¯å°ã£ãï¼",
                        'loginFormAfraidOfMaliciousScriptsLabel': "å½ãµã¤ãããï¼",
                        'loginFormVerifyTheCodeLabel': "ç¢ºèªãã",
                        'loginFormButtonLabel': "ã­ã°ã¤ã³",
                        'loginFormOneTimePasswordCheckboxLabel': "ã¯ã³ã¿ã¤ã ãã¹ãã¬ã¼ãºä½¿ç¨",
                        'loginFormOneTimePasswordCheckboxDescription': "",
                        'loginPanelSwithLanguageDescription': "<h5>è¨èªè¨­å®ã®å¤æ´</h5> ",
                        'browserCompatibilityDescription': "<p>Clipperz ã¯ Firefox ã«æé©åããã¦ãã¾ãã ããã Clipperz ã¯ Opera ã Safari ããã¦ã¤ã³ã¿ã¼ãããã¨ã¯ã¹ãã­ã¼ã©ã§ãåååä½ãã¾ãã</p> ",
                        'OTPloginMessagePanelInitialTitle': "ã¯ã³ã¿ã¤ã ãã¹ãã¬ã¼ãºã§ã­ã°ã¤ã³ä¸­",
                        'OTPloginMessagePanelInitialText': "OTP æå ±éä¿¡ä¸­ ...",
                        'OTPloginMessagePanelLoadingTitle': "ã¯ã³ã¿ã¤ã ãã¹ãã¬ã¼ãºã§ã­ã°ã¤ã³ä¸­",
                        'OTPloginMessagePanelLoadingText': "èªè¨¼æå ±ãåå¾ä¸­ ...",
                        'OTPloginMessagePanelProcessingTitle': "ã¯ã³ã¿ã¤ã ãã¹ãã¬ã¼ãºã§ã­ã°ã¤ã³ä¸­",
                        'OTPloginMessagePanelProcessingText': "èªè¨¼æå ±ãå¾©å·ä¸­ ...",
                        'loginMessagePanelInitialTitle': "ã­ã°ã¤ã³ä¸­ ...",
                        'loginMessagePanelInitialText': "---",
                        'loginMessagePanelInitialButtonLabel': "ã­ã£ã³ã»ã«",
                        'loginMessagePanelConnectedTitle': "æ¥ç¶å®äº",
                        'loginMessagePanelConnectedText': "å®äº",
                        'loginMessagePanelFailureTitle': "ã¨ã©ã¼",
                        'loginMessagePanelFailureText': "ã­ã°ã¤ã³ã«å¤±æãã¾ãã",
                        'loginMessagePanelFailureButtonLabel': "éãã",
                        'connectionLoginSendingCredentialsMessageTitle': "èªè¨¼ç¢ºèªä¸­",
                        'connectionLoginSendingCredentialsMessageText': "èªè¨¼éä¿¡ä¸­",
                        'connectionLoginCredentialsVerificationMessageTitle': "èªè¨¼ç¢ºèªä¸­",
                        'connectionLoginCredentialsVerificationMessageText': "SRP èªè¨¼ä¸­",
                        'connectionLoginDoneMessageTitle': "èªè¨¼ç¢ºèªä¸­",
                        'connectionLoginDoneMessageText': "æ¥ç¶å®äº",
                        'userLoginPanelUpgradingUserCredentialsMessageTitle': "èªè¨¼ç¢ºèªä¸­",
                        'userLoginPanelUpgradingUserCredentialsMessageText': "èªè¨¼æ´æ°ä¸­",
                        'userLoginPanelConnectedMessageTitle': "èªè¨¼å®äº",
                        'userLoginPanelConnectedMessageText': "ã­ã°ã¤ã³å®äº",
                        'userLoginPanelTryingAnOlderConnectionSchemaMessageTitle': "èªè¨¼ç¢ºèªä¸­",
                        'userLoginPanelTryingAnOlderConnectionSchemaMessageText': "èªè¨¼å¾©åä¸­",
                        'userLoginPanelLoadingUserDataMessageTitle': "èªè¨¼å®äº",
                        'userLoginPanelLoadingUserDataMessageText': "æå·åãã¼ã¿ãåä¿¡ä¸­",
                        'userLoginPanelDecryptingUserDataMessageTitle': "èªè¨¼å®äº",
                        'userLoginPanelDecryptingUserDataMessageText': "å¾©å·ä¸­",
                        'userLoginPanelDecryptingUserStatisticsMessageTitle': "èªè¨¼å®äº",
                        'userLoginPanelDecryptingUserStatisticsMessageText': "å¾©å·ä¸­",
                        'splashAlertTitle': "Clipperz ã¸ãããã",
                        'splashAlertText': "<p>ã»ã­ã¥ãªãã£ã¢ããã¤ã¹</p> <ul> <li> <p>Clipperz ã«ä¿ç®¡ãããã¼ã¿ã¯ãã¹ãã¬ã¼ãºã«ãã£ã¦ä¿è­·ããã¾ãã ãã¹ãã¬ã¼ãºãç¥ããªãäººã¯ãã¼ã¿ã«ã¢ã¯ã»ã¹ã§ãã¾ããã</p> </li> <li> <p>Clipperz ã«éè¦ãªãã¼ã¿ãä¿ç®¡ããããã«ãã¹ãã¬ã¼ãºãé¡æ¨ããã«ãããã®ã«ãã¦ãã ããã é·ãã»ã©å®å¨ã§ãã</p> </li> <li> <p>ãã¹ãã¬ã¼ãºãå¿ãã¦ãã¾ã£ãã Clipperz ã§ã¯ãã¼ã¿ãå¾©åã§ãã¾ããã</p> </li> </ul> <p>ããã«è©³ããã¯ Clipperz ã®ãµã¤ããããããã ããã</p> ",
                        'splashAlertCloseButtonLabel': "OK",
                        'registrationFormTitle': "æ°è¦ã¢ã«ã¦ã³ãä½æ",
                        'registrationFormUsernameLabel': "ã¦ã¼ã¶ã¼å",
                        'registrationFormPassphraseLabel': "ãã¹ãã¬ã¼ãº",
                        'registrationFormRetypePassphraseLabel': "ãã¹ãã¬ã¼ãºãããä¸åº¦",
                        'registrationFormSafetyCheckLabel': "ãã¹ãã¬ã¼ãºãå¿ãããå¾©æ´»ã§ããªããã¨ãäºæ¿ãã¾ãã",
                        'registrationFormTermsOfServiceCheckLabel': "å©ç¨è¨±è«¾ã«åæãã¾ã ã",
                        'registrationFormDoYouAlreadyHaveAnAccountLabel': "ã¢ã«ã¦ã³ããæã£ã¦ããï¼",
                        'registrationFormSimplyLoginLabel': "ããã«ã­ã°ã¤ã³",
                        'registrationFormButtonLabel': "ç»é²",
                        'registrationFormWarningMessageNotMatchingPassphrases': "ãã¹ãã¬ã¼ãºã®å¥åã«èª¤ããããã¾ãã åå¥åãã¦ãã ããã",
                        'registrationFormWarningMessageSafetyCheckNotSelected': "èª¬æãèª­ãã§ä¸ã®ããã¯ã¹ãå¨ã¦ãã§ãã¯ãã¦ãã ããã",
                        'registrationFormWarningMessageTermsOfServiceCheckNotSelected': "å©ç¨è¨±è«¾ã«åæãã¦ãã ããã",
                        'registrationMessagePanelInitialTitle': "ã¢ã«ã¦ã³ãä½æä¸­ ...",
                        'registrationMessagePanelInitialText': "---",
                        'registrationMessagePanelInitialButtonLabel': "ã­ã£ã³ã»ã«",
                        'registrationMessagePanelRegistrationDoneTitle': "ç»é²",
                        'registrationMessagePanelRegistrationDoneText': "å®äº",
                        'registrationMessagePanelFailureTitle': "ç»é²å¤±æ",
                        'registrationMessagePanelFailureButtonLabel': "éãã",
                        'connectionRegistrationSendingRequestMessageText': "èªè¨¼ç¢ºèªä¸­",
                        'connectionRegistrationSendingCredentialsMessageText': "èªè¨¼éä¿¡ä¸­",
                        'registrationSplashPanelTitle': "ã»ã­ã¥ãªãã£ã¢ããã¤ã¹",
                        'registrationSplashPanelDescription': "<p>Clipperz ã®èªè¨¼æå ±ã§ãã å¤§åã«ä¿ç®¡ãã¦ãã ããã ã¦ã¼ã¶ã¼åã¨ãã¹ãã¬ã¼ãºã¯äºåº¦ã¨è¡¨ç¤ºããã¾ããã</p> ",
                        'registrationSplashPanelUsernameLabel': "ã¦ã¼ã¶ã¼å",
                        'registrationSplashPanelPassphraseLabel': "ãã¹ãã¬ã¼ãº",
                        'registrationSplashPanelShowPassphraseButtonLabel': "ãã¹ãã¬ã¼ãºãè¡¨ç¤º",
                        'donateHeaderLinkLabel': "å¯ä»",
                        'creditsHeaderLinkLabel': "ã¯ã¬ã¸ãã",
                        'feedbackHeaderLinkLabel': "ãã£ã¼ãããã¯",
                        'helpHeaderLinkLabel': "ãã«ã",
                        'forumHeaderLinkLabel': "ãã©ã¼ã©ã ",
                        'recordMenuLabel': "ã«ã¼ã",
                        'accountMenuLabel': "ã¢ã«ã¦ã³ã",
                        'dataMenuLabel': "ãã¼ã¿",
                        'contactsMenuLabel': "ã³ã³ã¿ã¯ã",
                        'toolsMenuLabel': "ãã¼ã«",
                        'logoutMenuLabel': "ã­ã°ã¢ã¦ã",
                        'lockMenuLabel': "ã­ãã¯",
                        'lockTitle': "ã¢ã«ã¦ã³ãã¯ã­ãã¯ããã¾ãã",
                        'lockDescription': "<p>ã­ãã¯ãè§£é¤ããã«ã¯ãã¹ãã¬ã¼ãºãå¥åãã¦ãã ããã</p> ",
                        'unlockButtonLabel': "è§£é¤",
                        'changePasswordTabLabel': "ãã¹ãã¬ã¼ãºã®å¤æ´",
                        'changePasswordTabTitle': "ãã¹ãã¬ã¼ãºã®å¤æ´",
                        'changePasswordFormUsernameLabel': "ã¦ã¼ã¶ã¼å",
                        'changePasswordFormOldPassphraseLabel': "ä»ã®ãã¹ãã¬ã¼ãº",
                        'changePasswordFormNewPassphraseLabel': "æ°ãããã¹ãã¬ã¼ãº",
                        'changePasswordFormRetypePassphraseLabel': "ãã¹ãã¬ã¼ãºãããä¸åº¦",
                        'changePasswordFormSafetyCheckboxLabel': "ãã¹ãã¬ã¼ãºãå¿ãããå¾©æ´»ã§ããªããã¨ãäºæ¿ãã¾ãã",
                        'changePasswordFormSubmitLabel': "å¤æ´",
                        'changePasswordFormWrongUsernameWarning': "ã¦ã¼ã¶ã¼åãéãã¾ã",
                        'changePasswordFormWrongPassphraseWarning': "ãã¹ãã¬ã¼ãºãéãã¾ã",
                        'changePasswordFormWrongRetypePassphraseWarning': "ãã¹ãã¬ã¼ãºã®å¥åã«èª¤ããããã¾ãã åå¥åãã¦ãã ããã",
                        'changePasswordFormSafetyCheckWarning': "èª¬æãèª­ãã§ããã¯ã¹ããã§ãã¯ãã¦ãã ããã",
                        'changePasswordFormProgressDialogTitle': "èªè¨¼æå ±ãå¤æ´ä¸­",
                        'changePasswordFormProgressDialogEmptyText': "---",
                        'changePasswordFormProgressDialogConnectedMessageTitle': "æ¥ç¶å®äº",
                        'changePasswordFormProgressDialogConnectedMessageText': "å®äº",
                        'changePasswordFormProgressDialogErrorMessageTitle': "ã¨ã©ã¼",
                        'changePasswordFormProgressDialogErrorMessageText': "å¤æ´ã«å¤±æãã¾ãã",
                        'changeCredentialsPanelEncryptingDataMessageTitle': "ãã¹ãã¬ã¼ãºãå¤æ´ä¸­",
                        'changeCredentialsPanelEncryptingDataMessageText': "ã«ã¼ããããæå·å",
                        'changeCredentialsPanelCreatingNewCredentialsMessageTitle': "ãã¹ãã¬ã¼ãºãå¤æ´ä¸­",
                        'changeCredentialsPanelCreatingNewCredentialsMessageText': "èªè¨¼æå ±ãéä¿¡ä¸­",
                        'changeCredentialsPanelSendingNewCredentialsToTheServerMessageTitle': "ãã¹ãã¬ã¼ãºãå¤æ´ä¸­",
                        'changeCredentialsPanelSendingNewCredentialsToTheServerMessageText': "æå·åãã¼ã¿ãéä¿¡ä¸­",
                        'changeCredentialsPanelDoneMessageTitle': "ãã¹ãã¬ã¼ãºãå¤æ´ä¸­",
                        'changeCredentialsPanelDoneMessageText': "å®äº",
                        'manageOTPTabLabel': "ã¯ã³ã¿ã¤ã ãã¹ãã¬ã¼ãºç®¡ç",
                        'manageOTPTabTitle': "ã¯ã³ã¿ã¤ã ãã¹ãã¬ã¼ãºç®¡ç",
                        'manageOTPTabDescription': "<p>ã¯ã³ã¿ã¤ã ãã¹ãã¬ã¼ãºã¯éå¸¸ã®ãã¹ãã¬ã¼ã ã¨åæ§ã«æ©è½ãã¾ãããä¸åéãã®ä½¿ãæ¨ã¦ãã¹ãã¬ã¼ãºã§ãã</p> <p>åããã¹ãã¬ã¼ãºã§ååº¦ã­ã°ã¤ã³ãããã¨ã¯ã§ãã¾ããã</p> <p>ä¸æ­£ã¢ã¯ã»ã¹é²æ­¢ã®ããã«ã­ã°ã¤ã³ã«æåãããç´ã¡ã«ã¯ã³ã¿ã¤ã ãã¹ãã¬ã¼ãºã¯åé¤ããã¾ã</p> <p>ã¯ã³ã¿ã¤ã ãã¹ãã¬ã¼ãºã¯ã­ã¼ã­ã¬ã¼ãã¹ãã¤ã¦ã§ã¢ãããã¹ãã¬ã¼ãºãå®ããã°ãããæ©è½ã§ã</p> <p><b>ã¤ã³ã¿ã¼ãããã«ãã§ãå³æ¸é¤¨ãªã©ãã Clipperz ã«ã¢ã¯ã»ããå ´åã«ã¯ã¯ã³ã¿ã¤ã ãã¹ãã¬ã¼ãºãå©ç¨ãããã¨ãå¼·ããè¦ããã¾ãã</b> </p> ",
                        'oneTimePasswordReadOnlyMessage': "<h6>ããããªãã</h6> <p>ã­ã¼ã«ã«ã³ãã¼ä½¿ç¨ä¸­ã¯ã¯ã³ã¿ã¤ã ãã¹ãã¬ã¼ãºãå©ç¨ã§ãã¾ããã</p> ",
                        'oneTimePasswordLoadingMessage': "<h6>ã­ã¼ãä¸­</h6> <p>ãå¾ã¡ãã ãã ...</p> ",
                        'oneTimePasswordNoPasswordAvailable': "<h6>æå¹ãªã¯ã³ã¿ã¤ã ãã¹ãã¬ã¼ãºãããã¾ãã</h6> <p>ãæ°è¦ããã¿ã³ãã¯ãªãã¯ãã¦ã¯ã³ã¿ã¤ã ãã¹ãã¬ã¼ãºãä½æãã¦ãã ããã</p> ",
                        'createNewOTPButtonLabel': "æ°è¦",
                        'deleteOTPButtonLabel': "åé¤",
                        'printOTPButtonLabel': "å°å·",
                        'disabledOneTimePassword_warning': "ç¡å¹",
                        'oneTimePasswordSelectionLink_selectLabel': "é¸æ:",
                        'oneTimePasswordSelectionLink_all': "ãã¹ã¦",
                        'oneTimePasswordSelectionLink_none': "è§£é¤",
                        'oneTimePasswordSelectionLink_used': "ä½¿ç¨æ¸",
                        'oneTimePasswordSelectionLink_unused': "æªä½¿ç¨",
                        'saveOTP_encryptUserDataTitle': "ã¯ã³ã¿ã¤ã ãã¹ãã¬ã¼ãºãä¿å­ä¸­",
                        'saveOTP_encryptUserDataText': "OTP èªè¨¼è­²æ­©ãä½æä¸­ ...",
                        'saveOTP_encryptOTPDataTitle': "ã¯ã³ã¿ã¤ã ãã¹ãã¬ã¼ãºãä¿å­ä¸­",
                        'saveOTP_encryptOTPDataText': "æå·åãã¼ã¿ãä½æä¸­ ...",
                        'saveOTP_sendingDataTitle': "ã¯ã³ã¿ã¤ã ãã¹ãã¬ã¼ãºãä¿å­ä¸­",
                        'saveOTP_sendingDataText': "æå·åãã¼ã¿ãéä¿¡ä¸­ ...",
                        'saveOTP_updatingInterfaceTitle': "ã¯ã³ã¿ã¤ã ãã¹ãã¬ã¼ãºãä¿å­ä¸­",
                        'saveOTP_updatingInterfaceText': "ã¤ã³ã¿ã¼ãã§ã¤ã¹ãæ´æ°ä¸­ ...",
                        'accountPreferencesLabel': "è¨­å®",
                        'accountPreferencesTabTitle': "è¨­å®",
                        'accountPreferencesLanguageTitle': "è¨èªè¨­å®",
                        'accountPreferencesLanguageDescription': "<p>ãªã¹ãããä½¿ç¨ããè¨èªãé¸æãã¦ãã ããã</p> ",
                        'showDonationReminderPanelTitle': "ããã¼ã·ã§ã³ãªãã¤ã³ã",
                        'showDonationReminderPanelDescription': "<p>ããã¼ã·ã§ã³ãªãã¤ã³ããè¡¨ç¤º</p> ",
                        'saveUserPreferencesFormSubmitLabel': "ä¿å­",
                        'cancelUserPreferencesFormSubmitLabel': "ã­ã£ã³ã»ã«",
                        'accountPreferencesSavingPanelTitle_Step1': "ä¿å­ä¸­",
                        'accountPreferencesSavingPanelText_Step1': "æå·åä¸­",
                        'accountPreferencesSavingPanelTitle_Step2': "ä¿å­ä¸­",
                        'accountPreferencesSavingPanelText_Step2': "éä¿¡ä¸­",
                        'accountLoginHistoryLabel': "ã­ã°ã¤ã³å±¥æ­´",
                        'loginHistoryTabTitle': "ã­ã°ã¤ã³å±¥æ­´",
                        'loginHistoryReadOnlyMessage': "<h6>ããããªãã</h6> <p>ã­ã¼ã«ã«ã³ãã¼ä½¿ç¨ä¸­ã¯ã­ã°ã¤ã³å±¥æ­´ãå©ç¨ã§ãã¾ããã</p> ",
                        'loginHistoryLoadingMessage': "<h6>ã­ã¼ãä¸­</h6> <p>ãå¾ã¡ãã ãã ...</p> ",
                        'loginHistoryLoadedMessage': "<h6>æè¿ 10 åã®ã­ã°ã¤ã³</h6> <p> </p> ",
                        'loginHistoryIPLabel': "IP",
                        'loginHistoryTimeLabel': "æ¥ä»",
                        'loginHistoryCurrentSessionText': "ç¾å¨ã®ã­ã°ã¤ã³",
                        'loginHistoryReloadButtonLabel': "ã­ã°ã¤ã³å±¥æ­´ãæ´æ°",
                        'deleteAccountTabLabel': "ã¢ã«ã¦ã³ãåé¤",
                        'deleteAccountTabTitle': "ã¢ã«ã¦ã³ãåé¤",
                        'deleteAccountFormUsernameLabel': "ã¦ã¼ã¶ã¼å",
                        'deleteAccountFormPassphraseLabel': "ãã¹ãã¬ã¼ãº",
                        'deleteAccountFormSafetyCheckboxLabel': "å¨ã¦ã®ãã¼ã¿ãæ¶å»ããã¦å¾©åä¸å¯è½ã«ãªããã¨ãäºæ¿ãã¾ãã",
                        'deleteAccountFormSubmitLabel': "ã¢ã«ã¦ã³ãåé¤",
                        'deleteAccountFormWrongUsernameWarning': "ã¦ã¼ã¶ã¼åãéãã¾ã",
                        'deleteAccountFormWrongPassphraseWarning': "ãã¹ãã¬ã¼ãºãéãã¾ã",
                        'deleteAccountFormSafetyCheckWarning': "èª¬æãèª­ãã§ããã¯ã¹ããã§ãã¯ãã¦ãã ããã",
                        'accountPanelDeletingAccountPanelConfirmationTitle': "ç¢ºèª",
                        'accountPanelDeleteAccountPanelConfirmationText': "æ¬å½ã«ã¢ã«ã¦ã³ããåé¤ãã¾ããï¼",
                        'accountPanelDeleteAccountPanelConfirmButtonLabel': "ã¯ã",
                        'accountPanelDeleteAccountPanelDenyButtonLabel': "ããã",
                        'accountPanelDeletingAccountPanelProgressTitle': "ã¢ã«ã¦ã³ãæå ±åé¤ä¸­",
                        'accountPanelDeletingAccountPanelProgressText': "ãã°ãããå¾ã¡ãã ãã",
                        'offlineCopyTabLabel': "ã­ã¼ã«ã«ã³ãã¼",
                        'offlineCopyTabTitle': "ã­ã¼ã«ã«ã³ãã¼",
                        'offlineCopyTabDescription': "<p>ãã¦ã³ã­ã¼ãã®ãªã³ã¯ãã¯ãªã¯ããã¨ã¤ã³ã¿ã¼ãããã«æ¥ç¶ãã¦ããªãã¨ãã§ãå©ç¨ã§ããèª­ã¿åãå°ç¨ã®ã­ã¼ã«ã«çããã¦ã³ã­ã¼ãã§ãã¾ãã</p> <p>ã­ã¼ã«ã«çã¯ãªã³ã©ã¤ã³çã¨åãæå·åå¦çãããã¦ãããããç·¨éå¯è½ãªãªã³ã©ã¤ã³çã¨åãå®å¨æ§ãããã¾ãã</p> <ol> <li> <p>ä¸ã®ããã¦ã³ã­ã¼ãããã¯ãªãã¯ãã¾ãã</p> </li> <li> <p>ãã©ã¦ã¶ã¼ã &quot;Clipperz_YYYYMMDD.html&quot; ããã¦ã³ã­ã¼ããããç¢ºèªãã¾ãã ãã¡ã¤ã«ããã¼ããã£ã¹ã¯ã«ä¿å­ãã¦ãã ããã</p> </li> <li> <p>ã­ã¼ã«ã«ã³ãã¼ãããã«ã¯ãªãã¯ãã¦èµ·åãã¦ãã ããã</p> </li> <li> <p>ãªã³ã©ã¤ã³çã¨åãã¦ã¼ã¶ã¼åã¨ãã¹ãã¬ã¼ãºãå¥åãã¦ãã ããã</p> </li> </ol> ",
                        'offlineCopyDownloadLinkLabel': "ãã¦ã³ã­ã¼ã",
                        'offlineCopyDownloadWarning': "<h4><a href=\"#\" id=\"offlineCopyDownloadWarningLink\">ã­ã¼ã«ã«ã³ãã¼ãæ´æ°ãã¦ãã ãã</a> </h4> <p>ã­ã¼ã«ã«ã³ãã¼ãä½æå¾ã«æ°ããã«ã¼ããè¿½å ã¾ãã¯ç·¨éãã¦ãã¾ãã ææ°ã®æå ±ãä¿ã¤ããã­ã¼ã«ã«ã³ãã¼ãæ´æ°ãã¦ãã ããã</p> ",
                        'offlineCopyDownloadOk': "",
                        'sharingTabLabel': "å±æ",
                        'sharingTabTitle': "å±æ",
                        'sharingTabDescription': "<p>æè¨¼çªå·ãªã©ãä»äººã«æããå¿è¦ããããã¨ã¯æ¥å¸¸çæ´»ã§å¾ãã«ãã¦çºçãã¾ãã</p> <p>ååã«çå®çªé»è©±ã®ã¡ãã»ã¼ã¸ãä»£ããã«èãã¦ãããããã«æè¨¼çªå·ãæããããç§æ¸ã«ä»£ããã«éè¡ã«è¡ã£ã¦ãããããã«æè¨¼çªå·ãæãããã¨ãããã¨ã¯ãããããã¨ã§ãã</p> <p>Clipperz ã§ã¯æ©å¯æå ±ãå®å¨ã«ãããã¦ç°¡åã«å±æã§ãã¾ãã</p> <p> </p> <p><b>è¿æ¥ç»å ´ ...</b> </p> ",
                        'importTabLabel': "ã¤ã³ãã¼ã",
                        'importTabTitle': "ã¤ã³ãã¼ã",
                        'importTabDescription': "<p>ã³ã³ãã¥ã¼ã¿ãã Clipperz ã«ãã¼ã¿ãä¸æ¬ã¤ã³ãã¼ãã§ãã¾ãã</p> ",
                        'printingTabLabel': "ã¨ã¯ã¹ãã¼ã",
                        'printingTabTitle': "ã¨ã¯ã¹ãã¼ã",
                        'printingTabDescription': "<h5>å°å·</h5> <p>ãå°å·ç¨ãã¼ã¿ãã®ãªã³ã¯ãã¯ãªãã¯ããã¨ã¦ã£ã³ãã¦ãéãã¦å¨ã¦ã®ãã¼ã¿ãå°å·å¯è½ãªç¶æã§è¡¨ç¤ºããã¾ãã</p> <p>ããã¯ã¢ãããç®çãªããèª°ã§ãè¦ããã¨ãã§ããå°å·çããã¯å®å¨ãªã­ã¼ã«ã«ã³ãã¼ããè¦ããã¾ãã</p> ",
                        'printingLinkLabel': "å°å·ç¨ãã¼ã¿",
                        'exportTabDescription': "<h5>JSON ã¨ã¯ã¹ãã¼ã</h5> <p>JSON ã¯ãã¹ã¦ã®ãã¼ã¿ãã¨ã¯ã¹ãã¼ãã§ãã¾ãã ãã¤ã¬ã¯ãã­ã°ã¤ã³ãå«ããã¹ã¦ã®æå ±ãä¿å­ããã¾ãã</p> <p>ãã®ãã©ã¼ãããã¯ãã¹ã¦ã®ãã¼ã¿ãå¥ã® Clipperz ã¢ã«ã¦ã³ãã«ç§»åããã¨ãã«ä¾¿å©ã§ãã ãã©ãã«ãçºçããã¨ãã«ãã¼ã¿ãå¾©æ§ããã®ã«ãå½¹ç«ã¡ã¾ãã</p> <p>ãJSON åºåï½£ã®ãªã³ã¯ãã¯ãªãã¯ããã¨ã¨ã¯ã¹ãã¼ããéå§ããã¾ãã</p> ",
                        'exportLinkLabel': "JSON åºå",
                        'exportDataInProgressDescription': "<h4>åºåä¸­ããã°ãããå¾ã¡ãã ãã ...</h4> ",
                        'exportDataDescription': "<h4>å©ç¨æ³</h4> <p>ä¸ã®ãã­ã¹ããä»»æã®ã¨ãã£ã¿ã¼ã«ã³ãã¼ãã¦ä¿å­ãã¾ãã ï¼ä¾ï¼ ãclipperz_export_20071217.jsonãï¼</p> ",
                        'contactsTabLabel': "ã³ã³ã¿ã¯ã",
                        'contactsTabTitle': "ã³ã³ã¿ã¯ã",
                        'passwordGeneratorTabLabel': "ãã¹ã¯ã¼ãã¸ã§ãã¬ã¼ã¿",
                        'bookmarkletTabLabel': "ããã¯ãã¼ã¯ã¬ãã",
                        'compactTabLabel': "ã³ã³ãã¯ãç",
                        'httpAuthTabLabel': "HTTP èªè¨¼",
                        'passwordGeneratorTabTitle': "ãã¹ã¯ã¼ãã¸ã§ãã¬ã¼ã¿",
                        'bookmarkletTabTitle': "ããã¯ãã¼ã¯ã¬ãã",
                        'compactTabTitle': "ã³ã³ãã¯ãç",
                        'httpAuthTabTitle': "HTTP èªè¨¼",
                        'paswordGeneratorTabDescription': "<p> </p> ",
                        'passwordGeneratorTabButtonLabel': "ãã¹ã¯ã¼ãçæ",
                        'bookmarkletTabLabel': "ããã¯ãã¼ã¯ã¬ãã",
                        'bookmarkletTabTitle': "ããã¯ãã¼ã¯ã¬ãã",
                        'bookmarkletTabDescription': "<p>ããã¯ãã¼ã¯ã¬ããã¯ãã©ã¦ã¶ã®ããã¯ãã¼ã¯ã«ç»é²ãã¦ä½¿ãå°ããªãã­ã°ã©ã ã§ãã éå¸¸ã®ã¦ã§ããã¼ã¸ã®ããã¯ãã¼ã¯ã¨åãããã«ãã©ã¦ã¶ã«ç»é²ã§ãã¾ãã</p> <p>Clipperz ã®ããã¯ãã¼ã¯ã¬ãããä½¿ãã°ç°¡åã«æ°è¦ã«ã¼ããè¿½å ããããæ¢å­ã®ã«ã¼ãã«ãã¤ã¬ã¯ãã­ã°ã¤ã³ãè¿½å ãããã§ãã¾ãã</p> <p><b>Clipperz ã®ããã¯ãã¼ã¯ã¬ããã«ã¯ã¦ã¼ã¶ã¼åããã¹ãã¬ã¼ãºãªã©ã®åäººæå ±ã¯å«ã¾ãã¦ãã¾ãããããã¯ãã¼ã¯ã¬ããã¯å¨ã¦ã¼ã¶ã¼å±éã®ãã®ã§ãã</b> </p> <h3>ããã¯ãã¼ã¯ã¬ããã®ç»é²æ¹æ³</h3> <h>Firefox, Camino, Opera, Safari <ol> <li> <p>ããã¯ãã¼ã¯ãã¼ï¼ãã¼ã½ãã«ãã¼ï¼ãè¡¨ç¤ºããã¦ãããã¨ãç¢ºèªãã¾ãã ï¼ãè¡¨ç¤ºãã¡ãã¥ã¼ï¼ãè¡¨ç¤ºï¼ãã¼ã«ãã¼ããµãã¡ãã¥ã¼ã®å ´åãããï¼ããå¤æ´ã§ãã¾ããï¼</p> </li> <li> <p>ä¸ã®ãClipperz ã«è¿½å ããããã¯ãã¼ã¯ãã¼ï¼ãã¼ã½ãã«ãã¼ï¼ã«ãã©ãã°ãã¾ãã</p> </li> </ol> <h5>ã¤ã³ã¿ã¼ãããã¨ã¯ã¹ãã­ã¼ã©ã¼</h5> <ol> <li> <p>ã¢ãã¬ã¹ãã¼ãè¡¨ç¤ºããã¦ãããã¨ãç¢ºèªãã¾ãã ï¼ãè¡¨ç¤ºï¼ãã¼ã«ãã¼ï¼ã¢ãã¬ã¹ãã¼ãã¡ãã¥ã¼ããå¤æ´ã§ãã¾ããï¼</p> </li> <li> <p>ä¸ã®ãClipperz ã«è¿½å ããå³ã¯ãªãã¯ãã¾ãã</p> </li> <li> <p>ã³ã³ãã­ã¹ãã¡ãã¥ã¼ããããæ°ã«å¥ãã«è¿½å ããé¸æãã¾ãã</p> </li> <li> <p>ã»ã­ã¥ãªãã£è­¦åãè¡¨ç¤ºããã¾ãã®ã§ãã¯ãããã¯ãªãã¯ãã¾ãã</p> </li> <li> <p>ä¿å­åã®ããªã³ã¯ããã©ã«ãã¼ãéããOKããã¯ãªãã¯ãã¾ãã</p> </li> </ol> ",
                        'bookmarkletTabBookmarkletTitle': "Clipperz ã«è¿½å ",
                        'bookmarkletTabInstructions': "<h3>ãã¤ã¬ã¯ãã­ã°ã¤ã³ç¨ã®æ°è¦ã«ã¼ãã®ä½ææ¹æ³</h3> <ol> <li> <p>ä¿å­ããããµã¼ãã¹ã®ã­ã°ã¤ã³ãã¼ã¸ãéãã¾ãã ï¼ãã¹ã¯ã¼ããªã©ãå¥åããç»é¢ãããã¨ããã§ãï¼</p> </li> <li> <p>ããã¯ãã¼ã¯ã¬ãããã¯ãªãã¯ãã¾ãã ç»é¢ä¸ã«ã¦ã£ã³ãã¦ããããã¢ãããã¾ãã</p> </li> <li> <p>ãããã¢ããããã¦ã£ã³ãã¦ã«è¡¨ç¤ºãããç»é²ç¨ã³ã¼ããã³ãã¼ãã¾ãã ï¼ctrl-C)</p> </li> <li> <p>Clipperz ã«ã­ã°ã¤ã³ãã¦ ãæ°è¦ã«ã¼ãè¿½å ãã®ãã¿ã³ãã¯ãªãã¯ãã¾ãã</p> </li> <li> <p>ããã¤ã¬ã¯ãã­ã°ã¤ã³ãã®ãã³ãã¬ã¼ããé¸ãã§ã³ã¼ãå¥åç¨ã®ã¹ãã¼ã¹ã«åã»ã©ã³ãã¼ããã³ã¼ããè²¼ãä»ãã¾ãã (ctrl-V)</p> </li> <li> <p>ãä½æããã¿ã³ãã¯ãªãã¯ãã¦ãåå®¹ãç¢ºèªãã¦ãä¿å­ããã¿ã³ãã¯ãªãã¯ãã¾ãã</p> </li> </ol> <h3>æ¢å­ã«ã¼ãã¸ã®ãã¤ã¬ã¯ãã­ã°ã¤ã³ã®è¿½å æ¹æ³</h3> <ol> <li> <p>ä¸è¨ã¨åãã§ãã</p> </li> <li> <p>ä¸è¨ã¨åãã§ãã</p> </li> <li> <p>ä¸è¨ã¨åãã§ãã</p> </li> <li> <p>Clipperz ã«ã­ã°ã¤ã³ãã¦å¤æ´ãããã«ã¼ããé¸æå¾ãç·¨éããã¿ã³ãã¯ãªãã¯ãã¾ãã</p> </li> <li> <p>ãã¤ã¬ã¯ãã­ã°ã¤ã³ã³ã¼ãç¨ã®ã¹ãã¼ã¹ã«åã»ã©ã³ãã¼ããã³ã¼ããè²¼ãä»ãã¾ãã (ctrl-V)</p> </li> <li> <p>ããã¤ã¬ã¯ãã­ã°ã¤ã³è¿½å ããã¿ã³ãã¯ãªãã¯ãã¦ãåå®¹ãç¢ºèªãã¦ãä¿å­ããã¿ã³ãã¯ãªãã¯ãã¾ãã</p> </li> </ol> <p> </p> <p>ããã¯ãã¼ã¯ã¬ããã«é¢ããè©³ããæå ±ã¯ãã¡ãã</p> ",
                        'compactTabDescription': "<p>Clipprez Compact ã¯ Firefox ã®ãµã¤ããã¼ã§å©ç¨ãããããã¶ã¤ã³ããã Clipperz ã®ç¹å¥çã§ãã</p> <p>ãã¤ã¬ã¯ãã­ã°ã¤ã³ãå¸¸æã¢ã¯ã»ã¹å¯è½ã«ãã¾ãã ããã«è©³ãã </p> <h3>Clipperz Compact ã®å©ç¨æ³</h3> <ol> <li> <p>Firefox ãå¥æãã¾ãã ãµã¤ããã¼ã¯ Firefox ã ãã§å©ç¨ã§ããããã Clipperz Compact ãå©ç¨ããã«ã¯ Firefox ãå¿é ã§ãã</p> </li> <li> <p>ä¸ã®ãClipperz Compactã URL ã Firefox ã®ããã¯ãã¼ã¯ã«ç»é²ãã¾ããããã¯ãã¼ã¯ãã¼ã«ãã©ãã°ããã®ãç°¡åã§ãã</p> <div id=\"compactLinkBox\"><a href=\"https://www.clipperz.com/beta/index.html?compact\" target=\"_search\">Clipperz Compact</a> </div> </li> <li> <p>ããã¯ãã¼ã¯ãå³ã¯ãªãã¯ãã¦ãæå ±ãè¦ãï½£ãé¸æå¾ãããã®ããã¯ãã¼ã¯ããµã¤ããã¼ã«èª­ã¿è¾¼ãï½£ã«ãã§ãã¯ãå¥ãã¾ãã</p> </li> </ol> <h5>è¿½å æå ±ï¼Clipperz Compact ã¯ Opera ã®ããã«ã§ãæä½ãã¾ãã</h5> ",
                        'httpAuthTabDescription': "<p>HTTP èªè¨¼ã¯ HTML ã®åºæ¬æ©è½ãä½¿ã£ã¦ãã©ã¦ã¶ããã¦ã¼ã¶ã¼åã¨ãã¹ã¯ã¼ãã§ã­ã°ã¤ã³ããæ¹å¼ã§ãã</p> <p>ãã§ã«ä¸»æµã§ã¯ããã¾ããããã¾ããã©ã¤ãã¼ããªãµã¤ããªã©ã§ä½¿ããã¦ãã¾ãã HTTP èªè¨¼ãå¿è¦ãªãµã¤ãã«ã¢ã¯ã»ã¹ãããã¨ããã¨ããã©ã¦ã¶ããããã¢ããã¦ã£ã³ãã¦ãéãã¦ã¦ã¼ã¶ã¼åã¨ãã¹ã¯ã¼ãã®å¥åãè¦æ±ãã¦ãã¾ãã</p> <p>æ®å¿µãªããã Clipperz ã®ããã¯ãã¼ã¯ã¬ããã¯ HTTP èªè¨¼ã«ã¯å¯¾å¿ãã¦ãã¾ããã ãããããã¤ã¬ã¯ãã­ã°ã¤ã³ãè¨­å®ããæ¹æ³ã¯ããã¾ãã</p> <h3>HTTP èªè¨¼ãµã¤ãã§ã®ãã¤ã¬ã¯ãã­ã°ã¤ã³è¨­å®æ¹æ³</h3> <ol> <li> <p>ãµã¤ãã® URL ã¨ã¦ã¼ã¶ã¼åããã¹ã¯ã¼ããæ°è¦ã«ã¼ãã«ç»é²ãã¾ãã</p> </li> <li> <p>ä¸è¨ã®è¨­å®ãã³ãã¼ãã¦ãã«ã¼ãç·¨éç»é¢ã®ããã¤ã¬ã¯ãã­ã°ã¤ã³è¨­å®ãã®ã»ã¯ã·ã§ã³ã«è²¼ãä»ãã¾ãã</p> </li> <li> <p>ãæ°è¦ãã¤ã¬ã¯ãã­ã°ã¤ã³è¿½å ï½£ãã¿ã³ãã¯ãªãã¯ãã¦ã URL ã¨ã¦ã¼ã¶ã¼åããã¹ã¯ã¼ããå¥åãã¦ä¿å­ãã¾ãã</p> </li> </ol> <h5><a href=\"http://support.microsoft.com/kb/834489\" target=\"_parent\">è­¦åï¼ã¤ã³ã¿ã¼ãããã¨ã¯ã¹ãã­ã¼ã©ã¯ HTTP èªè¨¼ã«å¯¾å¿ãã¦ãã¾ããã</a> </h5> ",
                        'mainPanelDirectLoginBlockLabel': "ãã¤ã¬ã¯ãã­ã°ã¤ã³",
                        'directLinkReferenceShowButtonLabel': "è¡¨ç¤º",
                        'mainPanelDirectLoginBlockDescription': "<p>ãã¤ã¬ã¯ãã­ã°ã¤ã³ãè¨­å®ãã¦ã¦ã¼ã¶ã¼åããã¹ã¯ã¼ããå¥åãããã¨ãªãã­ã°ã¤ã³ã§ããããã«ãã¾ãããã</p> <p>ãã¤ã¬ã¯ãã­ã°ã¤ã³ã§ããã«ã»ã­ã¥ãªãã£ãå¼·åããããã«ï¼</p> <ul> <li> <p>ããè¤éãªãã¹ã¯ã¼ããè¨­å®ãã¾ããã</p> </li> <li> <p>æ¨æ¸¬ãããããåããã¹ã¯ã¼ããè¤æ°ã®ãµã¤ãã§ä½¿ããªãããã«ãã¾ãããã</p> </li> </ul> <p>ããã¯ãã¼ã¯ã¬ãããä½¿ãã¨ç°¡åã«è¨­å®ã§ãã¾ãã</p><a href=\"http://www.clipperz.com/support/user_guide/direct_logins\" target=\"_parent\">ãã¤ã¬ã¯ãã­ã°ã¤ã³ã«é¢ããè©³ããæå ±</a> ",
                        'mainPanelRecordsBlockLabel': "ã«ã¼ã",
                        'mainPanelAddRecordButtonLabel': "æ°è¦ã«ã¼ãè¿½å ",
                        'mainPanelRemoveRecordButtonLabel': "ã«ã¼ãåé¤",
                        'mainPanelRecordFilterBlockAllLabel': "ãã¹ã¦",
                        'mainPanelRecordFilterBlockTagsLabel': "ã¿ã°",
                        'mainPanelRecordFilterBlockSearchLabel': "æ¤ç´¢",
                        'recordDetailNoRecordAtAllTitle': "Clipperz ã¸ãããã",
                        'recordDetailNoRecordAtAllDescription': "<h5>ã¾ãæåã«ã«ã¼ããè¿½å ãã¾ãããã</h5> <p>ã«ã¼ãã¯ãã¹ã¯ã¼ãããã®ä»ã®éè¦ãªæå ±ãä¿ç®¡ããããã®ã·ã³ãã«ã§ãã¬ã­ã·ãã«ãªãã©ã¼ã ã§ãã</p> <p>ã«ã¼ãã«ã¯ã¦ã§ããµã¤ãã®ã­ã°ã¤ã³ãã¹ã¯ã¼ããèªè»¢è»ã®éµã®çªå·ãã¯ã¬ã¸ããã«ã¼ãã®çªå·ãªã©ä½ã§ãè¨å¥ã§ãã¾ãã</p> <h5>ããã¯ãã¼ã¯ã¬ãããæ´»ç¨ãã¾ãããã</h5> <p>ã¾ãã¯ç°¡åã«ã«ã¼ããè¿½å ã§ããããã¯ãã¼ã¯ã¬ãããã¤ã³ã¹ãã¼ã«ãã¾ãããã</p> <p>ããã¯ãã¼ã¯ã¬ããã®ã¿ããã¯ãªãã¯ãã¦ã¤ã³ã¹ãã¼ã«æ¹æ³ã¨å©ç¨æ¹æ³ãç¢ºèªãã¾ãããã</p> <p> </p> <p>ããã¯ãã¼ã¯ã¬ãããã¤ã³ã¹ãã¼ã«ããã Clipperz ãæ´»ç¨ãã¾ãããã</p> <p> </p><a href=\"http://www.clipperz.com/support/user_guide/managing_cards\" target=\"_parent\">ã«ã¼ãã«é¢ããè©³ããæå ±</a> ",
                        'newRecordWizardTitleBox': "<h5>ãã³ãã¬ã¼ãé¸æ</h5> <p>ã«ã¼ãã¯ã·ã³ãã«ã§ãã¹ã¯ã¼ããéè¦ãªæå ±ãä½ã§ãä¿å­ã§ããæè»æ§ãããã¾ãã</p> <p>ã¾ãã¯ãã³ãã¬ã¼ããé¸ãã§ãã ããã  ã«ã¼ãã¯ãã¤ã§ãèªç±ã«å¤æ´ã§ãã¾ãã</p> ",
                        'newRecordWizardBookmarkletConfigurationTitle': "ãã¤ã¬ã¯ãã­ã°ã¤ã³",
                        'newRecordWizardBookmarkletConfigurationDescription': "<p>ããã¯ãã¼ã¯ã¬ãããçæããã³ã¼ããä¸ã«è²¼ãä»ãã¦ãã ããã</p> <p>ãã¤ã¬ã¯ãã­ã°ã¤ã³æå ±ãå«ãæ°ããã«ã¼ããä½æããã¾ãã</p> ",
                        'newRecordWizardCreateButtonLabel': "ä½æ",
                        'newRecordWizardCancelButtonLabel': "ã­ã£ã³ã»ã«",
                        'donateSplashPanelTitle': "Clipperz ã®ããã«ä»ããå¯ä»ããã",
                        'donateSplashPanelDescription': "<p>å¯ä»ããçç±:</p> <ul> <li> <p>æ°æ©è½è¿½å ããµãã¼ããã¾ã</p> </li> <li> <p>Clipperz ãç¡æã«ä¿ã¡ã¾ã</p> </li> <li> <p>éçºé£ã®ä»äºã«æè¬ãã¾ã</p> </li> </ul> <p>è©³ããã¯å¯ä»ã®ãã¼ã¸ãããããã ãã .</p> <p><b>å¯ä»ãã¾ããï¼</b> </p> ",
                        'donateCloseButtonLabel': "ãã¨ã§ãã",
                        'donateDonateButtonLabel': "ã¯ã",
                        'recordTemplates': {
                            'WebAccount': {
                                'title': "ã¦ã§ããã¹ã¯ã¼ã",
                                'description': "<p>ã­ã°ã¤ã³æå ±ç¨ã®ã·ã³ãã«ãªã«ã¼ãã§ãã</p> ",
                                'fields': {
                                    'URL': "ã¦ã§ãã¢ãã¬ã¹",
                                    'TXT': "ã¦ã¼ã¶ã¼åã¾ãã¯ã¡ã¼ã«ã¢ãã¬ã¹",
                                    'PWD': "ãã¹ã¯ã¼ã"
                                }
                            },
                            'BankAccount': {
                                'title': "éè¡å£åº§",
                                'description': "<p>å£åº§çªå·ã¨ãªã³ã©ã¤ã³ãã³ã­ã³ã°æå ±ç¨ã®ã«ã¼ãã§ãã</p> ",
                                'fields': {
                                    'TXT': "éè¡",
                                    'TXT': "å£åº§çªå·",
                                    'URL': "éè¡ãµã¤ã",
                                    'TXT': "ãªã³ã©ã¤ã³ãã³ã­ã³ã° ID",
                                    'PWD': "ãªã³ã©ã¤ã³ãã³ã­ã³ã°ãã¹ã¯ã¼ã"
                                }
                            },
                            'CreditCard': {
                                'title': "ã¯ã¬ã¸ããã«ã¼ã",
                                'description': "<p>ã¯ã¬ã¸ããã«ã¼ãã«é¢ããããããæå ±ãä¿ç®¡ã§ãã¾ãã</p> ",
                                'fields': {
                                    'TXT': "ç¨®é¡ï¼Visa ã AMEX ãªã©ï¼",
                                    'TXT': "çªå·",
                                    'TXT': "ææèå",
                                    'TXT': "æå¹æé",
                                    'TXT': "CVV2 çªå·",
                                    'PWD': "æè¨¼çªå·",
                                    'URL': "ã«ã¼ãä¼ç¤¾ãµã¤ã",
                                    'TXT': "ã¦ã¼ã¶ã¼å",
                                    'PWD': "ãã¹ã¯ã¼ã"
                                }
                            },
                            'AddressBookEntry': {
                                'title': "ã¢ãã¬ã¹å¸³",
                                'description': "<p>Clipperz ã¯ãã©ã¤ãã¼ããªã¢ãã¬ã¹å¸³ã¨ãã¦ãæ©è½ãã¾ãã ãã®ãã³ãã¬ã¼ããå©ç¨ãã¦ç°¡åã«æ°ããä½æãè¿½å ã§ãã¾ãã</p> ",
                                'fields': {
                                    'TXT': "åå",
                                    'TXT': "ã¡ã¼ã«ã¢ãã¬ã¹",
                                    'TXT': "é»è©±çªå·",
                                    'TXT': "æºå¸¯é»è©±",
                                    'ADDR': "ä½æ"
                                }
                            },
                            'Custom': {
                                'title': "ã«ã¹ã¿ã ã«ã¼ã",
                                'description': "<p>ã«ã¹ã¿ã ã«ã¼ããä½¿ãã°ã©ããªæå ±ã§ãä¿ç®¡ã§ãã¾ãã</p> ",
                                'fields': {
                                    'TXT': "ã©ãã« 1",
                                    'TXT': "ã©ãã« 2",
                                    'TXT': "ã©ãã« 3"
                                }
                            }
                        },
                        'recordFieldTypologies': {
                            'TXT': {
                                'description': "ãã­ã¹ãå¥åæ¬",
                                'shortDescription': "ãã­ã¹ã"
                            },
                            'PWD': {
                                'description': "éå¸¸ã¯éè¡¨ç¤ºã«ãªããã­ã¹ãå¥åæ¬",
                                'shortDescription': "ãã¹ã¯ã¼ã"
                            },
                            'URL': {
                                'description': "è¡¨ç¤ºã¢ã¼ãã§ã¯ã¯ãªãã¯ã§ãã URL å¥åæ¬",
                                'shortDescription': "ã¦ã§ãã¢ãã¬ã¹"
                            },
                            'DATE': {
                                'description': "æ¥ä»å¥åæ¬",
                                'shortDescription': "æ¥ä»"
                            },
                            'ADDR': {
                                'description': "Google ãããç¨ã® URL ã«ä¼¼ãæå­å",
                                'shortDescription': "ä½æ"
                            },
                            'CHECK': {
                                'description': "ãã§ãã¯ããã¯ã¹ã®è©³ç´°",
                                'shortDescription': "ãã§ãã¯ããã¯ã¹"
                            },
                            'RADIO': {
                                'description': "ã©ã¸ãªãã¿ã³ã®è©³ç´°",
                                'shortDescription': "ã©ã¸ãªãã¿ã³"
                            },
                            'SELECT': {
                                'description': "ã»ã¬ã¯ããªã¹ãã®è©³ç´°",
                                'shortDescription': "ã»ã¬ã¯ããªã¹ã"
                            }
                        },
                        'newRecordPanelGeneralExceptionTitle': "ã¨ã©ã¼",
                        'newRecordPanelGeneralExceptionMessage': "ã³ã¼ããä¸æ­£ã§ãã ããã¯ãã¼ã¯ã¬ãããç¢ºèªãã¦ããä¸åº¦ããç´ãã¦ãã ããã",
                        'newRecordPanelWrongBookmarkletVersionExceptionTitle': "ã¨ã©ã¼",
                        'newRecordPanelWrongBookmarkletVersionExceptionMessage': "å¤ããã¼ã¸ã§ã³ã®ããã¯ãã¼ã¯ã¬ããã§çæãããã³ã¼ãã§ãã ããã¯ãã¼ã¯ã¬ãããæ´æ°ãã¦ããç´ãã¦ãã ããã",
                        'newRecordPanelExceptionPanelCloseButtonLabel': "ã­ã£ã³ã»ã«",
                        'mainPanelDeletingRecordPanelConfirmationTitle': "ã«ã¼ãåé¤ä¸­",
                        'mainPanelDeleteRecordPanelConfirmationText': "æ¬å½ã«åé¤ãã¾ããï¼",
                        'mainPanelDeleteRecordPanelConfirmButtonLabel': "ã¯ã",
                        'mainPanelDeleteRecordPanelDenyButtonLabel': "ããã",
                        'mainPanelDeletingRecordPanelInitialTitle': "ã«ã¼ãåé¤ä¸­",
                        'mainPanelDeletingRecordPanelInitialText': "---",
                        'mainPanelDeletingRecordPanelCompletedText': "å®äº",
                        'deleteRecordPanelCollectRecordDataMessageTitle': "ã«ã¼ãåé¤",
                        'deleteRecordPanelCollectRecordDataMessageText': "ã«ã¼ããªã¹ãæ´æ°ä¸­",
                        'deleteRecordPanelEncryptUserDataMessageTitle': "ã«ã¼ãåé¤",
                        'deleteRecordPanelEncryptUserDataMessageText': "ã«ã¼ããããæå·å",
                        'deleteRecordPanelSendingDataToTheServerMessageTitle': "ã«ã¼ãåé¤",
                        'deleteRecordPanelSendingDataToTheServerMessageText': "éä¿¡ä¸­",
                        'deleteRecordPanelUpdatingTheInterfaceMessageTitle': "ã«ã¼ãåé¤",
                        'deleteRecordPanelUpdatingTheInterfaceMessageText': "æ´æ°ä¸­",
                        'recordDetailNoRecordSelectedTitle': "ã«ã¼ããé¸æããã¦ãã¾ãã",
                        'recordDetailNoRecordSelectedDescription': "<p>å·¦ã®ãªã¹ãããã«ã¼ããé¸æãã¦ãã ããã</p> ",
                        'recordDetailLoadingRecordMessage': "ãã¼ã¿åä¿¡ä¸­",
                        'recordDetailDecryptingRecordMessage': "ãã¼ã¿å¾©åä¸­",
                        'recordDetailLoadingRecordVersionMessage': "ææ°æå ±ãåä¿¡ä¸­",
                        'recordDetailDecryptingRecordVersionMessage': "ææ°æå ±ãå¾©åä¸­",
                        'recordDetailLoadingErrorMessageTitle': "åä¿¡ã¨ã©ã¼",
                        'recordDetailNotesLabel': "ãã¼ã",
                        'recordDetailLabelFieldColumnLabel': "ã©ãã«",
                        'recordDetailDataFieldColumnLabel': "ãã¼ã¿",
                        'recordDetailTypeFieldColumnLabel': "ã¿ã¤ã",
                        'recordDetailSavingChangesMessagePanelInitialTitle': "ä¿å­ä¸­",
                        'recordDetailSavingChangesMessagePanelInitialText': "---",
                        'recordDetailRemoveFieldButtonLabel': "-",
                        'recordDetailAddFieldButtonLabel': "ãã£ã¼ã«ãè¿½å ",
                        'recordDetailPasswordFieldHelpLabel': "ãã¹ã¯ã¼ããã³ãã¼ããã«ã¯æãã¼ã¯ãã¯ãªãã¯ãã¦ ctrl-C ãã¿ã¤ããã¾ã",
                        'recordDetailPasswordFieldScrambleLabel': "é ã",
                        'recordDetailPasswordFieldUnscrambleLabel': "å¯è¦å",
                        'recordDetailDirectLoginBlockTitle': "ãã¤ã¬ã¯ãã­ã°ã¤ã³",
                        'recordDetailNewDirectLoginDescription': "<p>ãã¤ã¬ã¯ãã­ã°ã¤ã³è¨­å®</p> ",
                        'recordDetailDirectLoginBlockNoDirectLoginConfiguredDescription': "<p>ãªã³ã©ã¤ã³ãµã¼ãã¹ã®ã­ã°ã¤ã³æå ±ãå«ãã§ãã¾ããï¼</p> <p>ããã¯ãã¼ã¯ã¬ãããä½¿ã£ã¦ãã¤ã¬ã¯ãã­ã°ã¤ã³ãè¨­å®ãã¾ãããï¼</p> ",
                        'recordDetailDeleteDirectLoginButtonLabel': "-",
                        'recordDetailAddNewDirectLoginButtonLabel': "æ°è¦ãã¤ã¬ã¯ãã­ã°ã¤ã³è¿½å ",
                        'recordDetailEditButtonLabel': "ç·¨é",
                        'recordDetailSaveButtonLabel': "ä¿å­",
                        'recordDetailCancelButtonLabel': "ã­ã£ã³ã»ã«",
                        'newRecordTitleLabel': "_æ°è¦ã«ã¼ã_",
                        'newDirectLoginLabelSuffix': "",
                        'recordSaveChangesPanelCollectRecordInfoMessageTitle': "ã«ã¼ãä¿å­",
                        'recordSaveChangesPanelCollectRecordInfoMessageText': "æ´æ°ä¸­",
                        'recordSaveChangesPanelEncryptUserDataMessageTitle': "ã«ã¼ãä¿å­",
                        'recordSaveChangesPanelEncryptUserDataMessageText': "ã«ã¼ããããæå·å",
                        'recordSaveChangesPanelEncryptRecordDataMessageTitle': "ã«ã¼ãä¿å­",
                        'recordSaveChangesPanelEncryptRecordDataMessageText': "ã«ã¼ããã¼ã¿æå·å",
                        'recordSaveChangesPanelEncryptRecordVersionDataMessageTitle': "ã«ã¼ãä¿å­",
                        'recordSaveChangesPanelEncryptRecordVersionDataMessageText': "ãã¼ã¸ã§ã³ãã¼ã¿æå·å",
                        'recordSaveChangesPanelSendingDataToTheServerMessageTitle': "ã«ã¼ãä¿å­",
                        'recordSaveChangesPanelSendingDataToTheServerMessageText': "ã«ã¼ãéä¿¡ä¸­",
                        'recordSaveChangesPanelUpdatingTheInterfaceMessageTitle': "ã«ã¼ãä¿å­",
                        'recordSaveChangesPanelUpdatingTheInterfaceMessageText': "æ´æ°ä¸­",
                        'passwordGeneratorPanelTitle': "ãã¹ã¯ã¼ãã¸ã§ãã¬ã¼ã¿",
                        'passwordGeneratorPanelOkLabel': "OK",
                        'passwordGeneratorPanelCancelLabel': "ã­ã£ã³ã»ã«",
                        'passwordGeneratorLowercaseLabel': "abc",
                        'passwordGeneratorUppercaseLabel': "ABC",
                        'passwordGeneratorNumberLabel': "012",
                        'passwordGeneratorSymbolLabel': "@#$",
                        'passwordGeneratorLengthLabel': "æå­æ°:",
                        'comingSoon': "è¿æ¥ç»å ´ ...",
                        'panelCollectingEntryopyMessageText': "æ´é ä¸­",
                        'directLoginConfigurationCheckBoxFieldSelectedValue': "ã¯ã",
                        'directLoginConfigurationCheckBoxFieldNotSelectedValue': "ããã",
                        'importFormats': {
                            'CSV': {
                                'label': "CSV",
                                'description': "<p>åºãæ®åãã¦ãããã©ã¼ãããã§ãã ããã¤ãã®ãã¹ã¯ã¼ãããã¼ã¸ã£ã¯ CSV ã§ã®ã¨ã¯ã¹ãã¼ãã«å¯¾å¿ãã¦ãã¾ãã</p>"
                            },
                            'Excel': {
                                'label': "ã¨ã¯ã»ã«",
                                'description': "<p>ãã¤ã¯ã­ã½ããã®æåãªè¡¨è¨ç®ã½ããã§ãã ã¨ã¯ã»ã«ã®ãã¡ã¤ã«ã§ãã¹ã¯ã¼ããä¿å­ãããã¨ã¯åºãè¡ããã¦ãã¾ããããããã§ãã¾ããã</p>"
                            },
                            'KeePass': {
                                'label': "KeePass",
                                'description': "<p>ãã¹ã¯ã¼ãããã¼ã¸ã£ KeePass ã§çæããããã­ã¹ããã¡ã¤ã«ã§ãã</p>"
                            },
                            'PasswordPlus': {
                                'label': "Password Plus",
                                'description': "<p>ãã¹ã¯ã¼ãããã¼ã¸ã£ Password Plus ã§çæããã CSV ãã¡ã¤ã«ã§ãã</p>"
                            },
                            'Roboform': {
                                'label': "RoboForm",
                                'description': "<p>ãã¹ã¯ã¼ãããã¼ã¸ã£ Roboform ã§å°å·ç¨ã«è¡¨ç¤ºããã HTML ãã¡ã¤ã«ã§ãã</p>"
                            },
                            'ClipperzExport': {
                                'label': "JSON",
                                'description': "<p>Clipperz ã§çæããããã©ã¼ãããã§ãã ãã¤ã¬ã¯ãã­ã°ã¤ã³ãå«ããã¹ã¦ã®æå ±ãå«ã¾ãã¾ãã</p>"
                            }
                        },
                        'Clipperz_ImportWizard_Title': "JSON ã¤ã³ãã¼ã",
                        'importOptions_clipperz_description': "<p>Clipperz ã§çæããã JSON ãã¡ã¤ã«ããã­ã¹ãã¨ãã£ã¿ã§éãã¾ãã æ¬¡ã«ä¸ã®ãã­ã¹ãã¨ãªã¢ã«ãã¡ã¤ã«ã®åå®¹ãã³ãã¼ãã¾ãã</p> ",
                        'CSV_ImportWizard_Title': "CSV ã¤ã³ãã¼ã",
                        'importOptions_csv_description_': "<p>CSV ãã¡ã¤ã«ããã­ã¹ãã¨ãã£ã¿ã§éãã¾ãã ä¸ã®ãã­ã¹ãã¨ãªã¢ã«ãã¡ã¤ã«ã®åå®¹ãã³ãã¼ãã¾ãã</p> <p>åºåãè¨å·ãªã©ãé¸æãã¾ãã</p> ",
                        'Excel_ImportWizard_Title': "ã¨ã¯ã»ã«ã¤ã³ãã¼ã",
                        'importOptions_excel_description_': "<p>ã¨ã¯ã»ã«ã§ãã¡ã¤ã«ãéãã¦ã¤ã³ãã¼ããããã»ã«ãé¸æãã¾ãã æ¬¡ã«ä¸ã®ãã­ã¹ãã¨ãªã¢ã«é¸æããã»ã«ãã³ãã¼ãã¾ãã</p> ",
                        'KeePass_ImportWizard_Title': "KeePass ã¤ã³ãã¼ã",
                        'importOptions_keePass_description_': "<p>KeePas ã§çæããããã¡ã¤ã«ããã­ã¹ãã¨ãã£ã¿ã§éãã¾ãã æ¬¡ã«ä¸ã®ãã­ã¹ãã¨ãªã¢ã«ãã¡ã¤ã«ã®åå®¹ãã³ãã¼ãã¾ãã</p> ",
                        'PasswordPlus_ImportWizard_Title': "Password Plus ã¤ã³ãã¼ã",
                        'importOptions_passwordPlus_description': "<p>Password Plus ã§çæããã CSV ãã¡ã¤ã«ããã­ã¹ãã¨ãã£ã¿ã§éãã¾ãã ä¸ã®ãã­ã¹ãã¨ãªã¢ã«ãã¡ã¤ã«ã®åå®¹ãã³ãã¼ãã¾ãã</p> ",
                        'RoboForm_ImportWizard_Title': "RoboForm ã¤ã³ãã¼ã",
                        'importOptions_roboForm_description': "<p>RoboForm ã§çæããã HTML ãã¡ã¤ã«ããã­ã¹ãã¨ãã£ã¿ã§éãã¾ãã æ¬¡ã«ä¸ã®ãã­ã¹ãã¨ãªã¢ã«ãã¡ã¤ã«ã®åå®¹ãã³ãã¼ãã¾ãã</p> ",
                        'importData_parsingDataTitle': "ã¤ã³ãã¼ã",
                        'importData_parsingDataText': "åæä¸­ ...",
                        'importData_previewingDataTitle': "ã¤ã³ãã¼ã",
                        'importData_previewingDataText': "å¤æä¸­ ...",
                        'importData_processingDataTitle': "ã¤ã³ãã¼ã",
                        'importData_processingDataText': "ã«ã¼ãä½æä¸­ ...",
                        'ImportWizard': {
                            'EDIT': "ç·¨é",
                            'PREVIEW': "ãã¬ãã¥ã¼",
                            'IMPORT': "ã¤ã³ãã¼ã",
                            'KEEPASS_SETTINGS': "è¨­å®",
                            'CSV_EDIT': "è²¼ãä»ã",
                            'CSV_COLUMNS': "å",
                            'CSV_HEADER': "ã©ãã«",
                            'CSV_TITLE': "ã¿ã¤ãã«",
                            'CSV_NOTES': "ãã¼ã",
                            'CSV_FIELDS': "ã¿ã¤ã",
                            'EXCEL_EDIT': "ç·¨é"
                        },
                        'CSV_ImportWizard_Columns': "<p>ã¤ã³ãã¼ãããåãé¸æãã¦ãã ããã</p> ",
                        'CSV_ImportWizard_Header': "<p>æåã®è¡ã«ã©ãã«ãå«ã¾ãã¦ããå ´åãä¸ã®ãã§ãã¯ããã¯ã¹ããã§ãã¯ãã¦ãã ããã</p> ",
                        'CSV_ImportWizard_Header_Settings_firstRowHeaderLabel': "åé ­è¡ãã©ãã«ã¨ãã¦å©ç¨ãã",
                        'CSV_ImportWizard_Title': "<p>ã«ã¼ãã®ã¿ã¤ãã«ã«ãªãåãé¸æãã¦ãã ããã ï¼å¿é ï¼</p>",
                        'CSV_ImportWizard_Notes': "<p>ãã¼ãã«ç¸å½ããåãé¸æãã¦ãã ããã ï¼ãªãã·ã§ã³ï¼</p> ",
                        'CSV_ImportWizard_Notes_Settings_noSelectionLabel': "ãã¼ãã¯å©ç¨ã§ãã¾ãã",
                        'CSV_ImportWizard_Fields': "<p>ããããã®åã®ãã¼ã¿ã¿ã¤ãããã­ãããã¦ã³ãªã¹ãããé¸æãã¦ãã ããã</p> ",
                        'CSV_ImportWizard_Fields_MissingLabelWarning': "ã©ãã«ãããã¾ãã",
                        'importData_importConfirmation_title': "ã¤ã³ãã¼ã",
                        'importData_importConfirmation_text': "__numberOfRecords__ æã®ã«ã¼ããã¤ã³ãã¼ããã¾ããï¼",
                        'WELCOME_BACK': "ãããããªãã",
                        'currentConnectionText': "ããªãã®å©ç¨ IP ã¢ãã¬ã¹ã¯ __ip__, ã§ãã country__, ãã __operatingSystem__ ç __browser__ ãå©ç¨ãã¦ãã¾ãã",
                        'latestConnectionText': "ååã®å©ç¨ã¯ __elapsedTimeDescription__ (__time__)ãIP ã¢ãã¬ã¹ã¯ __ip__, ã§ããã country__ ãã __operatingSystem__ ç __browser__ ãå©ç¨ãã¾ããã",
                        'fullLoginHistoryLinkLabel': "ã­ã°ã¤ã³å±¥æ­´ãè©³ããè¦ã",
                        'elapsedTimeDescriptions': {
                            'MORE_THAN_A_MONTH_AGO': "1 ãæä»¥ä¸å",
                            'MORE_THAN_A_WEEK_AGO': "1 é±éä»¥ä¸å",
                            'MORE_THAN_*_WEEKS_AGO': "elapsed__ é±éä»¥ä¸å",
                            'YESTERDAY': "æ¨æ¥",
                            '*_DAYS_AGO': "__elapsed__ æ¥å",
                            'ABOUT_AN_HOUR_AGO': "ç´ 1 æéå",
                            '*_HOURS_AGO': "__elapsed__ æéå",
                            'JUST_A_FEW_MINUTES_AGO': "ç´å",
                            'ABOUT_*_MINUTES_AGO': "ç´ __elapsed__ åå"
                        },
                        'unknown_ip': "ä¸æ",
                        'countries': {
                            '--': "ä¸æ",
                            'AD': "ã¢ã³ãã©",
                            'AE': "ã¢ã©ãé¦é·å½é£é¦",
                            'AF': "ã¢ãã¬ãã¹ã¿ã³",
                            'AG': "ã¢ã³ãã£ã°ã¢ãã¼ãã¼ã",
                            'AI': "ã¢ã³ã°ã¤ã©",
                            'AL': "ã¢ã«ããã¢",
                            'AM': "ã¢ã«ã¡ãã¢",
                            'AN': "ãªã©ã³ã ã¢ã³ãã£ã«è«¸å³¶",
                            'AO': "ã¢ã³ã´ã©",
                            'AP': "ãã®ä»ã®ã¢ã¸ã¢ãã·ãã£ãã¯å°å",
                            'AR': "ã¢ã«ã¼ã³ãã³",
                            'AS': "ç±³å½é ãµã¢ã¢",
                            'AT': "ãªã¼ã¹ããªã¢",
                            'AU': "ãªã¼ã¹ãã©ãªã¢",
                            'AW': "ã¢ã«ã¼ã",
                            'AX': "ã¢ã¼ã©ã³ãè«¸å³¶",
                            'AZ': "ã¢ã¼ã«ãã¤ã¸ã£ã³",
                            'BA': "ãã¹ãã¢ã»ãã«ãã§ã´ãã",
                            'BB': "ãã«ããã¹",
                            'BD': "ãã³ã°ã©ãã·ã¥",
                            'BE': "ãã«ã®ã¼",
                            'BF': "ãã«ã­ããã¡ã½",
                            'BG': "ãã«ã¬ãªã¢",
                            'BH': "ãã¼ã¬ã¼ã³",
                            'BI': "ãã«ã³ã¸",
                            'BJ': "ããã³",
                            'BN': "ãã«ãã¤ãã«ãµã©ã¼ã ",
                            'BO': "ããªãã¢",
                            'BR': "ãã©ã¸ã«",
                            'BS': "ããã",
                            'BT': "ãã¼ã¿ã³",
                            'BW': "ããã¯ã",
                            'BY': "ãã©ã«ã¼ã·",
                            'BZ': "ããªã¼ãº",
                            'CA': "ã«ãã",
                            'CD': "ã³ã³ã´æ°ä¸»å±åå½",
                            'CF': "ä¸­å¤®ã¢ããªã«å±åå½",
                            'CH': "ã¹ã¤ã¹",
                            'CI': "ã³ã¼ãã¸ãã¯ã¼ã«",
                            'CK': "ã¯ãã¯è«¸å³¶",
                            'CL': "ããª",
                            'CM': "ã«ã¡ã«ã¼ã³",
                            'CN': "ä¸­å½",
                            'CO': "ã³ã­ã³ãã¢",
                            'CR': "ã³ã¹ã¿ãªã«",
                            'CS': "ã»ã«ãã¢ã»ã¢ã³ããã°ã­",
                            'CU': "ã­ã¥ã¼ã",
                            'CY': "ã­ãã­ã¹",
                            'CZ': "ãã§ã³å±åå½",
                            'DE': "ãã¤ã",
                            'DJ': "ã¸ãã",
                            'DK': "ãã³ãã¼ã¯",
                            'DO': "ãããã«å±åå½",
                            'DZ': "ã¢ã«ã¸ã§ãªã¢",
                            'EC': "ã¨ã¯ã¢ãã«",
                            'EE': "ã¨ã¹ããã¢",
                            'EG': "ã¨ã¸ãã",
                            'ER': "ã¨ãªããªã¢",
                            'ES': "ã¹ãã¤ã³",
                            'ET': "ã¨ããªãã¢",
                            'EU': "æ¬§å·é£å",
                            'FI': "ãã£ã³ã©ã³ã",
                            'FJ': "ãã£ã¸ã¼",
                            'FM': "ãã¯ã­ãã·ã¢é£é¦é¦å½",
                            'FR': "ãã©ã³ã¹",
                            'GA': "ã¬ãã³",
                            'GB': "è±å½",
                            'GD': "ã°ã©ãã",
                            'GE': "ã°ã«ã¸ã¢",
                            'GF': "ä»é ã®ã¢ã",
                            'GG': "ã¬ã¼ã³ã¸ã¼",
                            'GH': "ã¬ã¼ã",
                            'GI': "ã¸ãã©ã«ã¿ã«",
                            'GL': "ã°ãªã¼ã³ã©ã³ã",
                            'GP': "ã°ã¢ãã­ã¼ã",
                            'GR': "ã®ãªã·ã£",
                            'GT': "ã«ã¿ã­ãã¢",
                            'GU': "ã°ã¢ã ",
                            'GW': "ã®ãã¢ããµã¦",
                            'GY': "ã¬ã¤ã¢ã",
                            'HK': "é¦æ¸¯",
                            'HN': "ãã³ãã¥ã©ã¹",
                            'HR': "ã¯ã­ã¢ãã¢",
                            'HT': "ãã¤ã",
                            'HU': "ãã³ã¬ãªã¼",
                            'ID': "ã¤ã³ããã·ã¢",
                            'IE': "ã¢ã¤ã«ã©ã³ã",
                            'IL': "ã¤ã¹ã©ã¨ã«",
                            'IM': "ãã³å³¶",
                            'IN': "ã¤ã³ã",
                            'IO': "è±é ã¤ã³ãæ´æ¤æ°å°",
                            'IQ': "ã¤ã©ã¯",
                            'IR': "ã¤ã©ã³ã»ã¤ã¹ã©ã å±åå½",
                            'IS': "ã¢ã¤ã¹ã©ã³ã",
                            'IT': "ã¤ã¿ãªã¢",
                            'JE': "ã¸ã£ã¼ã¸ã¼",
                            'JO': "ã¨ã«ãã³",
                            'JP': "æ¥æ¬",
                            'KE': "ã±ãã¢",
                            'KG': "ã­ã«ã®ã¹ã¿ã³",
                            'KH': "ã«ã³ãã¸ã¢",
                            'KI': "ã­ãªãã¹",
                            'KN': "ã»ã³ãã­ãããã´ã£ã¹",
                            'KR': "å¤§éæ°å½ (éå½)",
                            'KW': "ã¯ã¦ã§ã¼ã",
                            'KY': "ã«ã¤ãã³è«¸å³¶",
                            'KZ': "ã«ã¶ãã¹ã¿ã³",
                            'LA': "ã©ãªã¹äººæ°æ°ä¸»å±åå½",
                            'LB': "ã¬ããã³",
                            'LC': "ã»ã³ãã«ã·ã¢",
                            'LI': "ãªããã³ã·ã¥ã¿ã¤ã³",
                            'LK': "ã¹ãªã©ã³ã«",
                            'LR': "ãªããªã¢",
                            'LS': "ã¬ã½ã",
                            'LT': "ãªãã¢ãã¢",
                            'LU': "ã«ã¯ã»ã³ãã«ã°",
                            'LV': "ã©ããã¢",
                            'LY': "ãªãã¢ã»ã¢ã©ãã»Jamahiriya",
                            'MA': "ã¢ã­ãã³",
                            'MC': "ã¢ãã³",
                            'MD': "ã¢ã«ããå±åå½",
                            'MG': "ããã¬ã¹ã«ã«",
                            'MH': "ãã¼ã·ã£ã«è«¸å³¶",
                            'MK': "ãã±ããã¢å±åå½",
                            'ML': "ããª",
                            'MM': "ãã£ã³ãã¼",
                            'MN': "ã¢ã³ã´ã«",
                            'MO': "ãã«ãª",
                            'MP': "åããªã¢ãè«¸å³¶",
                            'MR': "ã¢ã¼ãªã¿ãã¢",
                            'MT': "ãã«ã¿",
                            'MU': "ã¢ã¼ãªã·ã£ã¹",
                            'MV': "ã¢ã«ã¸ã´",
                            'MW': "ãã©ã¦ã¤",
                            'MX': "ã¡ã­ã·ã³",
                            'MY': "ãã¬ã¼ã·ã¢",
                            'MZ': "ã¢ã¶ã³ãã¼ã¯",
                            'NA': "ãããã¢",
                            'NC': "ãã¥ã¼ã«ã¬ããã¢",
                            'NF': "ãã¼ãã©ã¼ã¯è«¸å³¶",
                            'NG': "ãã¤ã¸ã§ãªã¢",
                            'NI': "ãã«ã©ã°ã¢",
                            'NL': "ãªã©ã³ã",
                            'NO': "ãã«ã¦ã§ã¼",
                            'NP': "ããã¼ã«",
                            'NR': "ãã¦ã«",
                            'NU': "ãã¦ã¨",
                            'NZ': "ãã¥ã¼ã¸ã¼ã©ã³ã",
                            'OM': "ãªãã¼ã³",
                            'PA': "ããã",
                            'PE': "ãã«ã¼",
                            'PF': "ä»é ããªãã·ã¢",
                            'PG': "ããã¢ãã¥ã¼ã®ãã¢",
                            'PH': "ãã£ãªãã³",
                            'PK': "ãã­ã¹ã¿ã³",
                            'PL': "ãã¼ã©ã³ã",
                            'PR': "ãã¨ã«ããªã³",
                            'PS': "ãã¬ã¹ããå é å°åº",
                            'PT': "ãã«ãã¬ã«",
                            'PW': "ãã©ãª",
                            'PY': "ãã©ã°ã¢ã¤",
                            'QA': "ã«ã¿ã¼ã«",
                            'RO': "ã«ã¼ããã¢",
                            'RS': "ã»ã«ãã¢",
                            'RU': "ã­ã·ã¢é£é¦",
                            'RW': "ã«ã¯ã³ã",
                            'SA': "ãµã¦ã¸ã¢ã©ãã¢",
                            'SB': "ã½ã­ã¢ã³è«¸å³¶",
                            'SC': "ã»ã¤ã·ã§ã«",
                            'SD': "ã¹ã¼ãã³",
                            'SE': "ã¹ã¦ã§ã¼ãã³",
                            'SG': "ã·ã³ã¬ãã¼ã«",
                            'SI': "ã¹ã­ããã¢",
                            'SK': "ã¹ã­ãã­ã¢",
                            'SL': "ã·ã¨ã©ã¬ãªã",
                            'SM': "ãµã³ããªã",
                            'SN': "ã»ãã¬ã«",
                            'SR': "ã¹ãªãã ",
                            'SV': "ã¨ã«ãµã«ããã«",
                            'SY': "ã·ãªã¢ã¢ã©ãå±åå½",
                            'SZ': "ã¹ã¯ã¸ã©ã³ã",
                            'TC': "ã¿ã¼ã¯ã¹ã¢ã³ãã±ã¼ã³ã¹è«¸å³¶",
                            'TG': "ãã¼ã´",
                            'TH': "ã¿ã¤",
                            'TJ': "ã¿ã¸ã­ã¹ã¿ã³",
                            'TM': "ãã«ã¯ã¡ãã¹ã¿ã³",
                            'TN': "ãã¥ãã¸ã¢",
                            'TO': "ãã³ã¬",
                            'TR': "ãã«ã³",
                            'TT': "ããªããã¼ãããã³",
                            'TV': "ãã´ã¡ã«",
                            'TW': "ä¸­å½é ã»å°æ¹¾",
                            'TZ': "ã¿ãã¶ãã¢é£åå±åå½",
                            'UA': "ã¦ã¯ã©ã¤ã",
                            'UG': "ã¦ã¬ã³ã",
                            'US': "ã¢ã¡ãªã«åè¡å½",
                            'UY': "ã¦ã«ã°ã¢ã¤",
                            'UZ': "ã¦ãºãã­ã¹ã¿ã³",
                            'VA': "èåº (ããã«ã³å¸å½)",
                            'VE': "ãããºã§ã©",
                            'VG': "è±å½ã´ã¡ã¼ã¸ã³è«¸å³¶",
                            'VI': "ç±³å½ã´ã¡ã¼ã¸ã³è«¸å³¶",
                            'VN': "ãããã ",
                            'VU': "ããã¢ã",
                            'WF': "ã¯ãªã¼ã¨ããã¥ã¼ãè«¸å³¶",
                            'WS': "ãµã¢ã¢",
                            'YE': "ã¤ã¨ã¡ã³",
                            'ZA': "åã¢ããªã«",
                            'ZM': "ã¶ã³ãã¢",
                            'ZW': "ã¸ã³ããã¨",
                            'ZZ': "Reserved"
                        },
                        'browsers': {
                            'UNKNOWN': "ä¸æ",
                            'MSIE': "ã¤ã³ã¿ã¼ãããã¨ã¯ã¹ãã­ã¼ã©ã¼",
                            'FIREFOX': "Firefox",
                            'OPERA': "Opera",
                            'SAFARI': "Safari",
                            'OMNIWEB': "OmniWeb",
                            'CAMINO': "Camino"
                        },
                        'operatingSystems': {
                            'UNKNOWN': "ä¸æ",
                            'WINDOWS': "ã¦ã£ã³ãã¦ãº",
                            'MAC': "Mac",
                            'LINUX': "Linux",
                            'IPHONE': "iPhone",
                            'MOBILE': "æºå¸¯é»è©±",
                            'OPENBSD': "OpenBSD",
                            'FREEBSD': "FreeBSD",
                            'NETBSD': "NetBSD"
                        },
                        'calendarStrings': {
                            'months': {
                                '0': "1 æ",
                                '1': "2 æ",
                                '2': "3 æ",
                                '3': "4 æ",
                                '4': "5",
                                '5': "6 æ",
                                '6': "7 æ",
                                '7': "8 æ",
                                '8': "9 æ",
                                '9': "10 æ",
                                '10': "11 æ",
                                '11': "12 æ"
                            },
                            'shortMonths': {
                                '0': "1",
                                '1': "2",
                                '2': "3",
                                '3': "4",
                                '4': "5",
                                '5': "6",
                                '6': "7",
                                '7': "8",
                                '8': "9",
                                '9': "10",
                                '10': "11",
                                '11': "12"
                            },
                            'days': {
                                '0': "æ¥ææ¥",
                                '1': "æææ¥",
                                '2': "ç«ææ¥",
                                '3': "æ°´ææ¥",
                                '4': "æ¨ææ¥",
                                '5': "éææ¥",
                                '6': "åææ¥"
                            },
                            'shortDays': {
                                '0': "æ¥",
                                '1': "æ",
                                '2': "ç«",
                                '3': "æ°´",
                                '4': "æ¨",
                                '5': "é",
                                '6': "å"
                            },
                            'veryShortDays': {
                                '0': "æ",
                                '1': "æ",
                                '2': "æ¥",
                                '3': "é",
                                '4': "æ¨",
                                '5': "é",
                                '6': "æ°´"
                            },
                            'amDesignation': "å",
                            'pmDesignation': "åå¾"
                        },
                        'fullDate_format': "l, F d, Y H:i:s",
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.PM.Strings.Languages['zh-CN'.toLowerCase()] = MochiKit.Base.merge(Clipperz.PM.Strings.Languages['en-us'], {
                        'clipperzServiceDescription': "<h2>åªæä½ ç¥é</h2> <ul> <li> <h3>Clipperz æ¯:</h3> <ul> <li> <p>ä¸ä¸ªç®åèåå®å¨çå¯ç ç®¡çå</p> </li> <li> <p>ä¸ä¸ªææçåä¸ç»å½è§£å³æ¹æ¡</p> </li> <li> <p>ä¸ä¸ªæ¨ä¿å¯çèµææ°æ®åº</p> </li> </ul> </li> <li> <h3> ä½¿ç¨ Clipperz ä½ è½:</h3> <ul> <li> <p>å¨å­åç®¡çä½ çå¯ç åç½ä¸è¯ä¹¦</p> </li> <li> <p>æ éè¾å¥å¯ç èªå¨å¸®å©ä½ ç»å½ç½ç«æå¡</p> </li> <li> <p>ä¿æ¤ä½ çæææ°æ®:éè®¯å½,å£ä»¤,ä¿¡ç¨å¡å·ç , ...</p> </li> <li> <p>ä¸å®¶äººåä¼ä¼´åäº«ç§å¯(å°è¦ä¸çº¿)</p> </li> </ul> </li> <li> <h3>Clipperz çç¹ç¹:</h3> <ul> <li> <p>åè´¹ï¼å½»åºå¿å</p> </li> <li> <p>å¨ä»»ä½æ¶é´ ä»»ä½çµèé½å¯ä»¥è½»æ¾è·åä½ çå¯ç </p> </li> <li> <p>æ éä¸è½½åå®è£ä»»ä½è½¯ä»¶</p> </li> <li> <p>åä¹æ éå¨çµèæèçº¸ä¸è®°å½å¯ç äº</p> </li> </ul> </li> <li> <h3>Clipperz çå®å¨æ§:</h3> <ul> <li> <p>å¯ç å°å¨æ¬å°æµè§å¨å å¯ï¼ç¶åä¸ä¼ è³ Clipperz</p> </li> <li> <p>å å¯å¯é¥æ¯ä¸ä¸ªåªæä½ ç¥éçå¯ç ç­è¯­</p> </li> <li> <p>Clipperz æå¡ä¼å å¯ä½ çæææ°æ®ï¼å¹¶ä¸ä¼åºç°æ°æ®çåå§å½¢å¼</p> </li> <li> <p>Clipperz åºäºå å¯æ åï¼æ²¡æä»»ä½çè±å¨</p> </li> <li> <p>åªè¦ä½ æ¿æï¼ä½ éæ¶é½å¯ä»¥æ¥çæºä»£ç ï¼ä½æ¯åä¸ºä¸ä¸ªä½¿ç¨èæ¥è¯´å®å¨æ²¡æå»å¿è¦å»äºè§£é£äºç¹ççå å¯åç</p> </li> </ul> </li> <li> <a href=\"http://www.clipperz.com\" target=\"_parent\">æ´å¤</a> </li> </ul> ",
                        'loginFormTitle': "ç¨ä½ ç Clipperz å¸æ·ç»å½",
                        'loginFormUsernameLabel': "ç¨æ·å",
                        'loginFormPassphraseLabel': "å¯ç ç­è¯­",
                        'loginFormDontHaveAnAccountLabel': "è¿æªå»ºç«å¸æ·ï¼",
                        'loginFormCreateOneLabel': "åå»ºä¸ä¸ªæ°å¸æ·",
                        'loginFormForgotYourCredentialsLabel': "å¿è®°ä½ çè¯ä¹¦ï¼",
                        'loginFormAarghThatsBadLabel': "åï¼è¿ä¸ç³ç³äº",
                        'loginFormAfraidOfMaliciousScriptsLabel': "å®³æææ¶æèæ¬ï¼",
                        'loginFormVerifyTheCodeLabel': "éªè¯ä»£ç ",
                        'loginFormButtonLabel': "ç»å½",
                        'loginFormOneTimePasswordCheckboxLabel': "ä½¿ç¨ä¸æ¬¡æ§å¯ç ç­è¯­",
                        'loginPanelSwithLanguageDescription': "<h5>éæ©ä½ çç¬¬ä¸è¯­è¨</h5> ",
                        'browserCompatibilityDescription': "<p>ä½¿ç¨ Firefox å°å¾å°æ´å¿«æ´å®å¨ç Clipperz æå¡ãä¸è¿ Clipperz åæ ·å¯ä»¥å¾å¥½çå·¥ä½å¨ Opera å å¾®è½¯ç IE ä¸­ã</p> ",
                        'OTPloginMessagePanelInitialTitle': "ç¨ä¸æ¬¡æ§å¯ç ç­è¯­ç»å½",
                        'OTPloginMessagePanelInitialText': "åé OTP è¯ä¹¦ ...",
                        'OTPloginMessagePanelLoadingTitle': "ç¨ä¸æ¬¡æ§å¯ç ç­è¯­ç»å½",
                        'OTPloginMessagePanelLoadingText': "ä»æå¡å¨è¯»åå å¯è®¤è¯æ°æ® ...",
                        'OTPloginMessagePanelProcessingTitle': "ç¨ä¸æ¬¡æ§å¯ç ç­è¯­ç»å½",
                        'OTPloginMessagePanelProcessingText': "æ¬å°è§£å¯è®¤è¯æ°æ®",
                        'loginMessagePanelInitialTitle': "ç»å½ä¸­...",
                        'loginMessagePanelInitialButtonLabel': "åæ¶",
                        'loginMessagePanelConnectedTitle': "è¿æ¥æå",
                        'loginMessagePanelConnectedText': "å®æ",
                        'loginMessagePanelFailureTitle': "éè¯¯",
                        'loginMessagePanelFailureText': "ç»å½å¤±è´¥",
                        'loginMessagePanelFailureButtonLabel': "åæ¶",
                        'connectionLoginSendingCredentialsMessageTitle': "éªè¯è¯ä¹¦",
                        'connectionLoginSendingCredentialsMessageText': "ä¼ éè¯ä¹¦",
                        'connectionLoginCredentialsVerificationMessageTitle': "éªè¯è¯ä¹¦",
                        'connectionLoginCredentialsVerificationMessageText': "è¿è¡ SRP è®¤è¯",
                        'connectionLoginDoneMessageTitle': "éªè¯è¯ä¹¦",
                        'connectionLoginDoneMessageText': "å·²è¿æ¥",
                        'userLoginPanelUpgradingUserCredentialsMessageTitle': "éªè¯è¯ä¹¦",
                        'userLoginPanelUpgradingUserCredentialsMessageText': "åçº§è¯ä¹¦å°æ°çè®¤è¯æ¨¡å¼",
                        'userLoginPanelConnectedMessageTitle': "ç¨æ·è¯å«",
                        'userLoginPanelConnectedMessageText': "æåç»å½",
                        'userLoginPanelTryingAnOlderConnectionSchemaMessageTitle': "éªè¯è¯ä¹¦",
                        'userLoginPanelTryingAnOlderConnectionSchemaMessageText': "æ§è®¤è¯æ¨¡å¼å¤±æ",
                        'userLoginPanelLoadingUserDataMessageTitle': "ç¨æ·è¯å«",
                        'userLoginPanelLoadingUserDataMessageText': "æ­£å¨ä» Clipperz ä¸è½½å å¯å¡æ¥å¤´",
                        'userLoginPanelDecryptingUserDataMessageTitle': "ç¨æ·è¯å«",
                        'userLoginPanelDecryptingUserDataMessageText': "å å¯å¡æ¥å¤´æ¬å°è§£å¯",
                        'userLoginPanelDecryptingUserStatisticsMessageTitle': "ç¨æ·è¯å«",
                        'userLoginPanelDecryptingUserStatisticsMessageText': "æ¬å°è§£å¯ä½¿ç¨ç»è®¡",
                        'splashAlertTitle': "Clipperz æ¬¢è¿æ¨",
                        'splashAlertText': "<p>å®å¨å¿ å</p> <ul> <li> <p>å¨ Clipperz ï¼ç¨ä½ éæ©çå¯ç ç­è¯­ä¿å­æ°æ®æ¯å®å¨çãæ²¡æäººè½å¤å¾å°è¿äºæ°æ®ï¼é¤éä»ä»¬æä½ çå¯ç ã</p> </li> <li> <p> å¦æä½ å³å®ä½¿ç¨ Clipperz ä¿æ¤æææ°æ®åå³é®èµæï¼è¯·å¡å¿éç¨ä¸ä¸ªå¤æçå¯ç ç­è¯­ãè¶é¿è¶å¥½</p> </li> <li> <p>æ³¨æ:Clipperzå°æ æ³æ¾åå¿è®°çå¯ç ç ç­è¯­!</p> </li> </ul> <p>è·å¾æ´å¤çè¯´æï¼è¯·åå¾ <a href=\"http://www.clipperz.com\" target=\"_parent\">Clipperz</a> ç½ç«.</p> ",
                        'splashAlertCloseButtonLabel': "ç¡®å®",
                        'registrationFormTitle': "åå»ºä½ çå¸æ·",
                        'registrationFormUsernameLabel': "ç¨æ·å",
                        'registrationFormPassphraseLabel': "å¯ç ç­è¯­",
                        'registrationFormRetypePassphraseLabel': "ç¡®è®¤å¯ç ç­è¯­",
                        'registrationFormSafetyCheckLabel': "ææç½ Clipperz æ æ³æ¾åå¿è®°çå¯ç ç­è¯­.",
                        'registrationFormTermsOfServiceCheckLabel': "æåææ¥å <a href='http://www.clipperz.com/terms_of_service' target='_parent'>æå¡æ¡æ¬¾</a> æ¬¾.",
                        'registrationFormDoYouAlreadyHaveAnAccountLabel': "å¦æå·²æä¸ä¸ª Clipperz å¸æ·",
                        'registrationFormSimplyLoginLabel': "å¨æ­¤ç»å½",
                        'registrationFormButtonLabel': "æ³¨å",
                        'registrationFormWarningMessageNotMatchingPassphrases': "ä¸¤æ¬¡å¯ç ç­è¯­ä¸åï¼è¯·éæ°è¾å¥",
                        'registrationFormWarningMessageSafetyCheckNotSelected': "è¯·éè¯»å¹¶æ£æ¥ä¸é¢çéé¡¹æ¡",
                        'registrationFormWarningMessageTermsOfServiceCheckNotSelected': "æ¨éè¦åææå¡æ¡æ¬¾",
                        'registrationMessagePanelInitialTitle': "åå»ºè´¦æ·...",
                        'registrationMessagePanelInitialButtonLabel': "åæ¶",
                        'registrationMessagePanelRegistrationDoneTitle': "æ³¨å",
                        'registrationMessagePanelRegistrationDoneText': "å®æ",
                        'registrationMessagePanelFailureTitle': "æ³¨åå¤±è´¥",
                        'registrationMessagePanelFailureButtonLabel': "å³é­",
                        'connectionRegistrationSendingRequestMessageText': "éªè¯è¯ä¹¦",
                        'connectionRegistrationSendingCredentialsMessageText': "ä¼ éè¯ä¹¦",
                        'registrationSplashPanelTitle': "å®å¨å¿ å",
                        'registrationSplashPanelDescription': "<p>è¿æ¯ä½ ç Clipperz è¯ä¹¦ï¼è¯·ä¿å­å¥½ãClipperz æ°¸è¿ä¸ä¼ç¬¬äºæ¬¡æ¾ç¤ºä½ çç¨æ·ååå¯ç ç­è¯­</p> ",
                        'registrationSplashPanelUsernameLabel': "ç¨æ·å",
                        'registrationSplashPanelPassphraseLabel': "å¯ç ç­è¯­",
                        'registrationSplashPanelShowPassphraseButtonLabel': "æ¾ç¤ºå¯ç ç­è¯­",
                        'donateHeaderLinkLabel': "æèµ ",
                        'creditsHeaderLinkLabel': "è´è°¢",
                        'feedbackHeaderLinkLabel': "åé¦",
                        'helpHeaderLinkLabel': "å¸®å©",
                        'forumHeaderLinkLabel': "è®ºå",
                        'recordMenuLabel': "å¯ç å¡ç",
                        'accountMenuLabel': "è´¦æ·",
                        'dataMenuLabel': "èµæ",
                        'contactsMenuLabel': "èç³»",
                        'toolsMenuLabel': "å·¥å·",
                        'logoutMenuLabel': "ææ¶ç¦»å¼",
                        'lockMenuLabel': "å®å¨é",
                        'lockTitle': "è´¦æ·è¢«éå®",
                        'lockDescription': "<p>è¯·è¾å¥ä½ çå¯ç ç­è¯­è§£å¼è´¦æ·</p> ",
                        'unlockButtonLabel': "è§£é",
                        'changePasswordTabLabel': "ä¿®æ¹å¯ç ç­è¯­",
                        'changePasswordTabTitle': "ä¿®æ¹å¯ç ç­è¯­",
                        'changePasswordFormUsernameLabel': "ç¨æ·å",
                        'changePasswordFormOldPassphraseLabel': "æ§å¯ç ç­è¯­",
                        'changePasswordFormNewPassphraseLabel': "æ°å¯ç ç­è¯­",
                        'changePasswordFormRetypePassphraseLabel': "ç¡®è®¤å¯ç ç­è¯­",
                        'changePasswordFormSafetyCheckboxLabel': "æç¥é Clipperz ä¸è½æ¾åä¸¢å¤±çå¯ç ç­è¯­",
                        'changePasswordFormSubmitLabel': "ä¿®æ¹å¯ç ç­è¯­",
                        'changePasswordFormWrongUsernameWarning': "ç¨æ·åéè¯¯",
                        'changePasswordFormWrongPassphraseWarning': "æ§å¯ç ç­è¯­éè¯¯",
                        'changePasswordFormWrongRetypePassphraseWarning': "ä¸¤æ¬¡å¯ç ç­è¯­ä¸åï¼è¯·éæ°è¾å¥",
                        'changePasswordFormSafetyCheckWarning': "è¯·éè¯»å¹¶æ£æ¥ä¸é¢çéé¡¹æ¡",
                        'changePasswordFormProgressDialogTitle': "æ­£å¨ä¿®æ¹å¯ç ç­è¯­",
                        'changePasswordFormProgressDialogConnectedMessageTitle': "è¿æ¥",
                        'changePasswordFormProgressDialogConnectedMessageText': "å®æ",
                        'changePasswordFormProgressDialogErrorMessageTitle': "éè¯¯",
                        'changePasswordFormProgressDialogErrorMessageText': "è¯ä¹¦ä¿®æ¹å¤±è´¥",
                        'changeCredentialsPanelEncryptingDataMessageTitle': "æ­£å¨ä¿®æ¹ä½ çå¯ç ç­è¯­",
                        'changeCredentialsPanelEncryptingDataMessageText': "å å¯å¡æ¥å¤´æ¬å°è§£å¯",
                        'changeCredentialsPanelCreatingNewCredentialsMessageTitle': "æ­£å¨ä¿®æ¹ä½ çå¯ç ç­è¯­",
                        'changeCredentialsPanelCreatingNewCredentialsMessageText': "æ´æ°ä½ çè¯ä¹¦",
                        'changeCredentialsPanelSendingNewCredentialsToTheServerMessageTitle': "æ­£å¨ä¿®æ¹ä½ çå¯ç ç­è¯­",
                        'changeCredentialsPanelSendingNewCredentialsToTheServerMessageText': "æ­£å¨ä¸ä¼ æ¬å°è¯ä¹¦å° Clipperz",
                        'changeCredentialsPanelDoneMessageTitle': "æ­£å¨ä¿®æ¹ä½ çå¯ç ç­è¯­",
                        'changeCredentialsPanelDoneMessageText': "å®æ",
                        'manageOTPTabLabel': "ç®¡çä½ çä¸æ¬¡æ§å¯ç ç­è¯­",
                        'manageOTPTabTitle': "ç®¡çä½ çä¸æ¬¡æ§å¯ç ç­è¯­",
                        'manageOTPTabDescription': "<p>ä¸æ¬¡æ§å¯ç ç­è¯­å·¥ä½èµ·æ¥åä¸è¬çå¯ç ç­è¯­ä¸æ ·ï¼ä½æ¯åªå¯ä»¥ä½¿ç¨ä¸æ¬¡</p> <p>å¦æåæ ·çå¯ç ç­è¯­å¨ä¸æ®µæ¶é´ä»¥ååæ¬¡ç»å½ï¼ä¼è¢«æç»ãç»å½è¿ç¨å°ä¼å¤±è´¥ã</p> <p>ä¸ºäºé²æ­¢ä»»ä½æ¬ºè¯ç»å½ï¼å¨æåç»éä¹åï¼ä½ çä¸æ¬¡æ§å¯ç å°ä¼ç«å³è¢«å é¤ï¼</p> <p>å¦æä¸æ¬¡æ§å¯ç è¢«é®çè®°å½ç¨åºæèé´è°è½¯ä»¶å¾å°ï¼å¯è½ä¼ä»è¢«ææçæºå¨ä¸æ¶éæ°æ®ï¼è¿æ ·çè¯ï¼ä¸æ¬¡æ§å¯ç ç»å¯¹æ¯ä¸ªå¾å¥½çéæ©ã</p> <p> <b>å¼ºçå»ºè®®å¨å¬å±åºåç»å½ Clipperz æ¶ï¼ä½¿ç¨ä¸æ¬¡æ§å¯ç ãæ¯å¦å¬å³è®¡ç®æºï¼ç½å§ï¼å¾ä¹¦é¦ç­</b> </p> ",
                        'oneTimePasswordReadOnlyMessage': "<h6>å¯¹ä¸èµ·ï¼</h6> <p>ä½ ä¸è½ä»ç¦»çº¿çæ¬ç®¡çä½ çä¸æ¬¡æ§å¯ç ç­è¯­</p> ",
                        'oneTimePasswordLoadingMessage': "<h6>å è½½æ°æ®</h6> <p>è¯·ç­å¾ ...</p> ",
                        'oneTimePasswordNoPasswordAvailable': "<h6>ä¸æ¬¡æ§å¯ç ç­è¯­æ²¡ææ¿æ´»</h6> <p>ç¹å»âæ°å»ºâæé®æ·»å ä¸æ¬¡æ§å¯ç ç­è¯­å°ä½ çå¸æ·</p> ",
                        'createNewOTPButtonLabel': "æ°å»º",
                        'deleteOTPButtonLabel': "å é¤",
                        'printOTPButtonLabel': "æå°",
                        'disabledOneTimePassword_warning': "ç¦ç¨",
                        'oneTimePasswordSelectionLink_selectLabel': "éæ©:",
                        'oneTimePasswordSelectionLink_all': "ææ",
                        'oneTimePasswordSelectionLink_none': "æ²¡æ",
                        'oneTimePasswordSelectionLink_used': "è¢«ä½¿ç¨",
                        'oneTimePasswordSelectionLink_unused': "æªä½¿ç¨",
                        'saveOTP_encryptUserDataTitle': "ä¿å­ä¸æ¬¡æ§å¯ç ç­è¯­",
                        'saveOTP_encryptUserDataText': "å¤çæ°ç OTP è¯ä¹¦ ...",
                        'saveOTP_encryptOTPDataTitle': "ä¿å­ä¸æ¬¡æ§å¯ç ç­è¯­",
                        'saveOTP_encryptOTPDataText': "æ¬å°è§£å¯è®¤è¯æ°æ® ...",
                        'saveOTP_sendingDataTitle': "ä¿å­ä¸æ¬¡æ§å¯ç ç­è¯­",
                        'saveOTP_sendingDataText': "åéä¿¡ä»»æ°æ®å°æå¡å¨ ...",
                        'saveOTP_updatingInterfaceTitle': "ä¿å­ä¸æ¬¡æ§å¯ç ç­è¯­",
                        'saveOTP_updatingInterfaceText': "æ´æ°çé¢...",
                        'accountPreferencesLabel': "ä½¿ç¨åå¥½",
                        'accountPreferencesTabTitle': "ä½¿ç¨åå¥½",
                        'accountPreferencesLanguageTitle': "çé¢è¯­è¨éæ©",
                        'accountPreferencesLanguageDescription': "<p>å¨ä¸æèåä¸­éæ©ä½ çé¦éè¯­è¨</p> ",
                        'showDonationReminderPanelTitle': "æèµ æç¤º",
                        'showDonationReminderPanelDescription': "<p>æ¾ç¤ºæèµ æç¤º</p> ",
                        'saveUserPreferencesFormSubmitLabel': "ä¿å­",
                        'cancelUserPreferencesFormSubmitLabel': "åæ¶",
                        'accountPreferencesSavingPanelTitle_Step1': "ä¿å­ä½¿ç¨åå¥½",
                        'accountPreferencesSavingPanelText_Step1': "æ¬å°å å¯ä½ çä½¿ç¨åå¥½",
                        'accountPreferencesSavingPanelTitle_Step2': "ä¿å­ä½¿ç¨åå¥½",
                        'accountPreferencesSavingPanelText_Step2': "æ­£å¨å Clipperz ä¼ éå å¯åçä½¿ç¨åå¥½",
                        'accountLoginHistoryLabel': "ç»å½åå²",
                        'loginHistoryTabTitle': "ç»å½åå²",
                        'loginHistoryReadOnlyMessage': "<h6>å¯¹ä¸èµ·ï¼</h6> <p>å½ä½ ä½¿ç¨ç¦»çº¿çæ¬æ¶ç»å½åå²æ¯æ æ³æ¾ç¤ºç</p> ",
                        'loginHistoryLoadingMessage': "<h6>å è½½æ°æ®</h6> <p>è¯·ç­å¾ ...</p> ",
                        'loginHistoryLoadedMessage': "<h6>æ¨çæè¿ 10 æ¬¡ç»é</h6> <p> </p> ",
                        'loginHistoryIPLabel': "IP",
                        'loginHistoryTimeLabel': "æ¶é´",
                        'loginHistoryCurrentSessionText': "å½åç»å½ä¿¡æ¯",
                        'loginHistoryReloadButtonLabel': "å·æ°ç»å½åå²",
                        'deleteAccountTabLabel': "å é¤ä½ çè´¦æ·",
                        'deleteAccountTabTitle': "å é¤ä½ çè´¦æ·",
                        'deleteAccountFormUsernameLabel': "ç¨æ·å",
                        'deleteAccountFormPassphraseLabel': "å¯ç ç­è¯­",
                        'deleteAccountFormSafetyCheckboxLabel': "æç¥éæçæææ°æ®å°è¢«å é¤,å¹¶ä¸æ¯ä¸å¯åå¤ç.",
                        'deleteAccountFormSubmitLabel': "å é¤æçè´¦æ·",
                        'deleteAccountFormWrongUsernameWarning': "ç¨æ·åéè¯¯",
                        'deleteAccountFormWrongPassphraseWarning': "å¯ç ç­è¯­éè¯¯",
                        'deleteAccountFormSafetyCheckWarning': "è¯·éè¯»å¹¶æ£æ¥ä¸é¢çéé¡¹æ¡",
                        'accountPanelDeletingAccountPanelConfirmationTitle': "æ³¨æ",
                        'accountPanelDeleteAccountPanelConfirmationText': "ä½ ç¡®è®¤è¦å é¤ä½ çå¸æ·",
                        'accountPanelDeleteAccountPanelConfirmButtonLabel': "æ¯",
                        'accountPanelDeleteAccountPanelDenyButtonLabel': "å¦",
                        'offlineCopyTabLabel': "ç¦»çº¿æ·è´",
                        'offlineCopyTabTitle': "ç¦»çº¿æ·è´",
                        'offlineCopyTabDescription': "<p>åªéç¹å»ä¸æ¬¡å°±å¯ä»¥ä» Clipperz æå¡å¨ä¸è½½ææå å¯æ°æ®å°ä½ çç¡¬çï¼è®©ä½ å¨ä¸è½è¿æ¥äºèç½çæ¶åä½¿ç¨ç¦»çº¿åªè¯»çæ¬ç Clipperzã</p> <p>ä½ ä¸è½½çç¦»çº¿æ°æ®åç»éæä»¬ç½ç«å¨çº¿ä½¿ç¨æ¯ä¸æ ·å®å¨çï¼å®ä»¬ä½¿ç¨äºåæ ·çå¯ç åå®å¨ä½ç³»ï¼é½ä¸ä¼ææ´é²æ°æ®çé£é©ã</p> <ol> <li> <p>ç¹å»é¾æ¥åå¼å§ä¸è½½ã</p> </li> <li> <p>æµè§å¨ä¼é®ä½ å¦ä½å¤ç âClipperz_YYYYMMDD.htmlâ æä»¶ãä¿å­è¿ä¸ªæä»¶å°ä½ çç¡¬çã</p> </li> <li> <p>åå»ä¸è½½çæä»¶å¨æµè§å¨è¿è¡ç¦»çº¿çæ¬ã</p> </li> <li> <p>è¾å¥ä½ çç¨æ·ååå¯ç ç­è¯­ã</p> </li> </ol> ",
                        'offlineCopyDownloadLinkLabel': "ä¸è½½",
                        'offlineCopyDownloadWarning': "<h4> <a href=\"#\" id=\"offlineCopyDownloadWarningLink\">æ´æ°ä½ çâç¦»çº¿çæ¬â!</a> </h4> <p>ä½ æè¿åå»ºæä¿®æ¹äºå¡çï¼éè¦ä¸è½½æ°çâç¦»çº¿çæ¬â</p> ",
                        'sharingTabLabel': "å±äº«",
                        'sharingTabTitle': "å±äº«",
                        'sharingTabDescription': "<p>å¾å¾ä¸ä¸ªæºå¯çèµæéè¦å¦å¤ä¸ä¸ªäººæèå¤äººå±åä½¿ç¨</p> <p>ä½ å¯ä»¥å¨è¿éè®¾ç½®ä¸ä¸ªç®åçææç ,ä»¥ä¾¿å¨ç¦»å¼åå¬å®¤çæ¶åä½ çåäºå¯ä»¥è®¿é®ä½ çé®ç®±ï¼æèè®¾ç½®ä¸ä¸ªå¤æçï¼å½ä½ å»ä¸åå­å­å¯ä»¥å¨è¿éæ¾å°åå¾é¶è¡ä¿é©ç®±çæ¹æ³ã</p> <p>Clipperz å¯ä»¥å®å¨å¹¶ä¸ç®åçåäº«ä½ çå¯ç </p> <p> </p> <p> <b>å³å°åå¸...</b> </p> ",
                        'importTabLabel': "å¯¼å¥",
                        'importTabTitle': "å¯¼å¥",
                        'importTabDescription': "<p> <b>å³å°åå¸ ...</b> </p> ",
                        'printingTabLabel': "å¯¼åº",
                        'printingTabTitle': "å¯¼åº",
                        'printingTabDescription': "<p> <b>æå°ä½ çæ°æ®</b> </p> <p>ç¹å»ä¸é¢çé¾æ¥ï¼å°ä¼æå¼ä¸ä¸ªæ°çªå£ï¼ä»¥æå°æ ¼å¼æ¾ç¤ºä½ çå¯ç å¡ç</p> <p>å¦æä½ æå°ä¸æ¥æ¯ä¸ºäºå¤ä»½ï¼è¯·èèä½¿ç¨æä»¬æä¾ç\"ç¦»çº¿çæ¬\"ï¼è¿æ¯æå°æ´å®å¨ã</p> ",
                        'printingLinkLabel': "æå°çæ¬",
                        'contactsTabLabel': "èç³»",
                        'contactsTabTitle': "èç³»",
                        'passwordGeneratorTabLabel': "éæºå¯ç çæå¨",
                        'passwordGeneratorTabTitle': "éæºå¯ç çæå¨",
                        'passwordGeneratorTabButtonLabel': "çæéæºå¯ç ",
                        'bookmarkletTabLabel': "ä¹¦ç­¾æé®",
                        'bookmarkletTabTitle': "ä¹¦ç­¾æé®",
                        'bookmarkletTabDescription': "<p>è¿ä¸ªä¹¦ç­¾æé®æ¯ä¸ä¸ªç®åçéå¸¸æç¨çâä¸é®âå·¥å·ï¼å®è½åä¸è¬ç½ç«ä¸æ ·å¨å­å¹¶ä¸ä½¿ç¨</p> <p>Clipperz æé®ä¹¦ç­¾å¯ä»¥å¸®å©ä½ å¿«éå»ºç«å¯ç å¡çå¹¶ä¸ç¨å­å¨çå¯ç å¡çç´æ¥ç»å½</p> <p> <b>è¯·æ³¨æï¼è¿ä¸ªä¹¦ç­¾æé®ä¸åå«ä½ è´¦æ·ä¸­çä»»ä½ä¿¡æ¯ï¼ä¾å¦ä½ çç¨æ·ååå¯ç ï¼ï¼å¯¹ææç Clipperz ä½¿ç¨èï¼è¿ä¸ªä¹¦ç­¾æé®æ¯å¤§å®¶çå·¥å·ï¼ä»£ç é½æ¯ç¸åçã</b> </p> <h3>ææ ·å®è£ä¹¦ç­¾æé®</h3> <h5>Firefox, Camino, Opera, Safari</h5> <ol> <li> <p>éæ© âæ¥ç > å·¥å·æ  > ä¹¦ç­¾å·¥å·æ â ç¡®è®¤ âä¹¦ç­¾å·¥å·æ â æ¾ç¤ºå¨æµè§å¨èåä¸ã</p> </li> <li> <p>æå¨ âæ·»å å° Clipperzâ é¾æ¥å°ä¹¦ç­¾å·¥å·æ ã</p> </li> </ol> <h5>Internet Explorer</h5> <ol> <li> <p>éæ© âæ¥ç > å·¥å·æ  > é¾æ¥â ç¡®è®¤ âé¾æ¥â æ¾ç¤ºå¨æµè§å¨èåä¸ã</p> </li> <li> <p>å³é® âæ·»å å° Clipperzâ</p> </li> <li> <p>éæ© âæ·»å å°æ¶èå¤¹â</p> </li> <li> <p>å¦æå¼¹åºå®å¨æç¤ºéæ© âæ¯â</p> </li> <li> <p>æå¼ âé¾æ¥â æä»¶å¤¹ååå» âæ·»å â</p> </li> </ol> ",
                        'bookmarkletTabBookmarkletTitle': "æ·»å å° Clipperz",
                        'bookmarkletTabInstructions': "<h3>å¦ä½å¨ä¸ä¸ªå¨çº¿æå¡ä¸­åå»ºå¯ä»¥ç´æ¥ç»å½çæ°çå¯ç å¡ç</h3> <ol> <li> <p>æå¼ä½ è¦ç»å½çé¡µé¢ï¼è¿ä¸ªé¡µé¢éå¸¸å°±æ¯ä½ è¾å¥ç»å½ä¿¡æ¯çé¡µé¢ï¼</p> </li> <li> <p>ç¹å»ä¹¦ç­¾æé®ï¼ä¼åºç°ä¸ä¸ªæ°çå¼¹åºçªå£</p> </li> <li> <p>å¤å¶å¼¹åºçªå£ä¸­çææææ¬å°åªè´´æ¿ï¼ctrl+cï¼</p> </li> <li> <p>ç»å½ä½ ç Clipperz è´¦æ·ï¼ç¶åç¹å» <b>æ°å»ºå¯ç å¡ç</b> æé®</p> </li> <li> <p>éæ©âç´æ¥ç»å½âæ¨¡æ¿ï¼ä¹åç²è´´åªè´´æ¿ä¸­çåå®¹å°å¤§ææ¬æ¡ï¼ctrl+vï¼</p> </li> <li> <p>æä¸ <b>åå»º</b> æé®ï¼æ£æ¥ç»èå¹¶ä¸ç¹å» <b>ä¿å­</b>.</p> </li> </ol> <h3>å¯¹äºå·²ç»å­å¨çå¯ç å¡çå¦ä½æ·»å ç´æ¥ç»é</h3> <ol> <li> <p>ä¸ä¸é¢çæ­¥éª¤ç¸å</p> </li> <li> <p>ä¸ä¸é¢çæ­¥éª¤ç¸å</p> </li> <li> <p>ä¸ä¸é¢çæ­¥éª¤ç¸å</p> </li> <li> <p>è¾å¥ä½ ç Clipperz å¸å·ï¼éæ©ä½ ååè®¿é®çç½ç»æå¡çå¯ç å¡çç¶åç¹å» <b>ç¼è¾</b> æé®.</p> </li> <li> <p>å°åªè´´æ¿ä¸­çåå®¹ç²è´´å°âç´æ¥ç»å½âåºåçå¤§ææ¬æ¡ä¸­ (ctrl-V)</p> </li> <li> <p>ç¹å»æ·»å  <b>èªå¨ç»å½</b> æé®ï¼æ£æ¥ç»èå¹¶ä¸ç¹å»k <b>ä¿å­</b>.</p> </li> </ol> <p> </p> <p>å¦æéè¦å³äºä¹¦ç­¾æé®çè¿ä¸æ­¥èµæå¯ä»¥å¨ <a href=\"http://www.clipperz.com/support/user_guide/bookmarklet\" target=\"_parent\">è¿éè·å¾</a>.</p> ",
                        'mainPanelDirectLoginBlockLabel': "ç´æ¥ç»å½",
                        'directLinkReferenceShowButtonLabel': "æ¾ç¤º",
                        'mainPanelDirectLoginBlockDescription': "<p>æ·»å  âç´æ¥ç»å½â å¯ä»¥è®©ä½ ä¸ç¨è¾å¥ç¨æ·ååå¯ç å³å¯ç»å½ç½ç»è´¦æ·</p> <p>âç´æ¥ç»å½â å¯ä»¥å¤§å¤§æé«ä½ çå¯ç å®å¨æ§ï¼å ä¸ºä½ å¯ä»¥ï¼</p> <ul> <li> <p>æ¹ä¾¿éæ©åè¾å¥å¤æçå¯ç </p> </li> <li> <p>æ°¸è¿ä¸åä½¿ç¨ç¸åçï¼å®¹æçæµçå¯ç </p> </li> </ul> <p>ç¨ Clipperz ä¹¦ç­¾æé®ç®åå¿«éçéç½®</p> <a href=\"http://www.clipperz.com/support/user_guide/direct_logins\" target=\"_parent\">å³äº âç´æ¥ç»å½â çæ´å¤ä¿¡æ¯</a> ",
                        'mainPanelRecordsBlockLabel': "å¯ç å¡ç",
                        'mainPanelAddRecordButtonLabel': "æ·»å æ°å¯ç å¡ç",
                        'mainPanelRemoveRecordButtonLabel': "å é¤å¯ç å¡ç",
                        'mainPanelRecordFilterBlockAllLabel': "ææ",
                        'mainPanelRecordFilterBlockTagsLabel': "æ ç­¾",
                        'mainPanelRecordFilterBlockSearchLabel': "æç´¢",
                        'recordDetailNoRecordAtAllTitle': "æ¬¢è¿æ¥å° Clipperz!",
                        'recordDetailNoRecordAtAllDescription': "<h5>ä»ä½ çè´¦æ·æ·»å å¯ç å¡çå¼å§</h5> <p>å¯ç å¡çæ¯ç®åçµæ´»çæ¹å¼ï¼å¨è¿éä½ å¯ä»¥ä¿å­ä½ çå¯ç åå¶ä»æºå¯èµæ.</p> <p>å¯ç å¡çå«æä¸ä¸ªå¨æè®¿é®ç½ç«çè¯ä¹¦,ä½ çéè®¯å½ï¼ä½ çä¿¡ç¨å¡ä¿¡æ¯,â¦â¦</p> <h5>ä¸è¦å¿è®°ä¹¦ç­¾æé®</h5> <p>å¨ä½ å¼å§åï¼å®è£ âæ·»å å° Clipperzâ ä¹¦ç­¾æé®ï¼å®å°ä½¿åå»ºå¯ç å¡çåå¾ç®åå¹¶ä¸æè¶£</p> <p>å»ä¹¦ç­¾æé®æ ç­¾äºè§£å¦ä½å®è£å¹¶ä½¿ç¨å®</p> <p> </p> <p>ç¶ååªéåå» âæ·»å å¯ç å¡çâ æé®ï¼å³å¯å°½æäº«å Clipperz å¸æ·.</p> <p> <a href=\"http://www.clipperz.com/support/user_guide/managing_cards\" target=\"_parent\">å³äºåå»ºåç®¡çå¯ç å¡ççæ´å¤ä¿¡æ¯</a> </p> ",
                        'newRecordWizardTitleBox': "<h5>è¯·éæ©ä¸ä¸ªæ¨¡æ¿</h5> <p>å¯ç å¡çæ¯ç®åçµæ´»çæ¹å¼ï¼å¨è¿éä½ å¯ä»¥ä¿å­ä½ çå¯ç åå¶ä»æºå¯èµæ.</p> <p>é¦åéæ©ä¸é¢çä¸ä¸ªæ¨¡æ¿ãå¨æ·»å æèå é¤ä»¥å,å¯ä»¥éæ¶å®å¶ä½ çå¯ç å¡ç.</p> ",
                        'newRecordWizardBookmarkletConfigurationTitle': "ç´æ¥ç»é",
                        'newRecordWizardBookmarkletConfigurationDescription': "<p>å°ä» Clipperz ä¹¦ç­¾æé®å¾å°çä»£ç ç²è´´å°ä¸é¢çææ¬æ¡ä¸­</p> <p>ä¸ä¸ªç´æ¥ç»éä½ çç½ç»è´¦æ·çæ°å¯ç å¡çå°è¦è¢«åå»ºå®æ</p> ",
                        'newRecordWizardCreateButtonLabel': "åå»º",
                        'newRecordWizardCancelButtonLabel': "åæ¶",
                        'donateSplashPanelTitle': "ä»å¤©å°±æèµ æ¯æ Clipperz!",
                        'donateSplashPanelDescription': "<p>æèµ æä»¬çåå :</p> <ul> <li> <p>æ¯ææ°ç¹æ§çå¼å</p> </li> <li> <p>ä¿æ Clipperz çåè´¹</p> </li> <li> <p>å¯¹æä»¬çè¾å¤å·¥ä½è¡¨ç¤ºæè°¢</p> </li> </ul> <p> <a href=\"http://www.clipperz.com/donations\" target=\"_parent\">è¿ä¸æ­¥èµæï¼è¯·æµè§æä»¬çææ¬¾é¡µ</a>.</p> <p> <b>æ¿æææ¬¾ï¼</b> </p> ",
                        'donateCloseButtonLabel': "ä¸å¿äº",
                        'donateDonateButtonLabel': "æ¯",
                        'recordTemplates': {
                            'WebAccount': {
                                'title': "ç½ç«å¯ç ",
                                'description': "<p>ä¸ºæ¨çç½ä¸æå¡æä¾ç®åçå¯ç å¨å­ï¼èªå¨ç»å½æå¡.</p> ",
                                'fields': {
                                    'URL': "ç½å",
                                    'TXT': "ç¨æ·åæèçµå­é®ä»¶å°å",
                                    'PWD': "å¯ç "
                                }
                            },
                            'BankAccount': {
                                'title': "é¶è¡å¸æ·",
                                'description': "<p>å®å¨å¨å­ä½ çé¶è¡è´¦å·åç½ä¸é¶è¡è¯ä¹¦.</p> ",
                                'fields': {
                                    'TXT': "é¶è¡",
                                    'TXT': "å¸å·",
                                    'URL': "é¶è¡ç½ç«",
                                    'TXT': "å¨çº¿é¶è¡ ID",
                                    'PWD': "å¨çº¿é¶è¡å¯ç "
                                }
                            },
                            'CreditCard': {
                                'title': "ä¿¡ç¨å¡",
                                'description': "<p>ä¿¡ç¨å¡å·ç ï¼æææ¥æï¼CVV2åPIN é½ç± Clipperz ç®¡ç</p> ",
                                'fields': {
                                    'TXT': "ç±»å(VISA, AmEx, ...)",
                                    'TXT': "å·ç ",
                                    'TXT': "æå¡äººå§å",
                                    'TXT': "æææ¥æ",
                                    'TXT': "CVV2",
                                    'PWD': "PIN",
                                    'URL': "ä¿¡ç¨å¡ç½ç«",
                                    'TXT': "ç¨æ·å",
                                    'PWD': "å¯ç "
                                }
                            },
                            'AddressBookEntry': {
                                'title': "éè®¯å½æ¡ç®",
                                'description': "<p>Clipperz åæ ·å¯ä»¥ä¸ºä½ çç§äººéè®¯å½æå¡. ä½¿ç¨è¿ä¸ªæ¨¡æ¿ï¼è½»ææ·»å æ°çæ¡ç®.</p> ",
                                'fields': {
                                    'TXT': "å§å",
                                    'TXT': "çµå­é®ä»¶",
                                    'TXT': "çµè¯",
                                    'TXT': "ææº",
                                    'ADDR': "å°å"
                                }
                            },
                            'Custom': {
                                'title': "å®å¶å¯ç å¡ç",
                                'description': "<p>æ è®ºä½ éè¦ä¿æ¤åªç§ç±»åçæºå¯æ°æ®ï¼åå»ºå®å¶å¯ç å¡çä¾¿å¯æ»¡è¶³ä½ çéæ±</p> ",
                                'fields': {
                                    'TXT': "æ ç­¾ 1",
                                    'TXT': "æ ç­¾ 2",
                                    'TXT': "æ ç­¾ 3"
                                }
                            }
                        },
                        'recordFieldTypologies': {
                            'TXT': {
                                'description': "simple text field",
                                'shortDescription': "æå­"
                            },
                            'PWD': {
                                'description': "simple text field, with default status set to hidden",
                                'shortDescription': "å¯ç "
                            },
                            'URL': {
                                'description': "simple text field in edit mode, that became an active url in view mode",
                                'shortDescription': "ç½å"
                            },
                            'DATE': {
                                'description': "a value set with a calendar helper",
                                'shortDescription': "æ°æ®"
                            },
                            'ADDR': {
                                'description': "just like the URL, but the active link points to Google Maps (or similar service) passing the address value as argument",
                                'shortDescription': "å°å"
                            },
                            'CHECK': {
                                'description': "check description",
                                'shortDescription': "check"
                            },
                            'RADIO': {
                                'description': "radio description",
                                'shortDescription': "radio"
                            },
                            'SELECT': {
                                'description': "select description",
                                'shortDescription': "select"
                            }
                        },
                        'newRecordPanelGeneralExceptionTitle': "éè¯¯",
                        'newRecordPanelGeneralExceptionMessage': "éç½®ææ¬ä¸æ­£ç¡®ï¼è¯·ä»ä¹¦ç­¾ä¸­ç¡®è®¤ä½ çææ¬å¹¶ä¸åè¯ä¸æ¬¡",
                        'newRecordPanelWrongBookmarkletVersionExceptionTitle': "éè¯¯",
                        'newRecordPanelWrongBookmarkletVersionExceptionMessage': "éç½®ææ¬å·²ç»äº§çäºä¸ä¸ªæ§çæ¬ä¹¦ç­¾ï¼è¯·æ´æ°ä½ çä¹¦ç­¾ç¶ååè¯è¯ã",
                        'newRecordPanelExceptionPanelCloseButtonLabel': "åæ¶",
                        'mainPanelDeletingRecordPanelConfirmationTitle': "å é¤æéå¯ç å¡ç",
                        'mainPanelDeleteRecordPanelConfirmationText': "ç¡®è®¤è¦å é¤éå®çå¯ç å¡çï¼",
                        'mainPanelDeleteRecordPanelConfirmButtonLabel': "æ¯",
                        'mainPanelDeleteRecordPanelDenyButtonLabel': "å¦",
                        'mainPanelDeletingRecordPanelInitialTitle': "å é¤éå®çå¯ç å¡ç",
                        'mainPanelDeletingRecordPanelCompletedText': "å®æ",
                        'deleteRecordPanelCollectRecordDataMessageTitle': "å é¤å¯ç å¡ç",
                        'deleteRecordPanelCollectRecordDataMessageText': "æ´æ°å¯ç å¡çåè¡¨",
                        'deleteRecordPanelEncryptUserDataMessageTitle': "å é¤å¯ç å¡ç",
                        'deleteRecordPanelEncryptUserDataMessageText': "å å¯å¡æ¥å¤´æ¬å°è§£å¯",
                        'deleteRecordPanelSendingDataToTheServerMessageTitle': "å é¤å¯ç å¡ç",
                        'deleteRecordPanelSendingDataToTheServerMessageText': "ä» Clipperz æ´æ°å å¯å¡æ¥å¤´",
                        'deleteRecordPanelUpdatingTheInterfaceMessageTitle': "å é¤å¯ç å¡ç",
                        'deleteRecordPanelUpdatingTheInterfaceMessageText': "æ´æ°çé¢",
                        'recordDetailNoRecordSelectedTitle': "æªéæ©å¯ç å¡ç",
                        'recordDetailNoRecordSelectedDescription': "<p>ä»å·¦è¾¹çåè¡¨ä¸­éæ©ä¸ä¸ªå¯ç å¡ç</p> ",
                        'recordDetailLoadingRecordMessage': "æ­£å¨ä» Clipperz ä¸è½½å å¯å¡ç",
                        'recordDetailDecryptingRecordMessage': "å¯ç å¡çæ°æ®æ¬å°è§£å¯",
                        'recordDetailLoadingRecordVersionMessage': "ä¸è½½ææ°çæ¬çå¯ç å¡ç",
                        'recordDetailDecryptingRecordVersionMessage': "æ¬å°è§£å¯ææ°çæ¬å¯ç å¡ç",
                        'recordDetailLoadingErrorMessageTitle': "å¯ç å¡çä¸è½½éè¯¯",
                        'recordDetailNotesLabel': "æ³¨é",
                        'recordDetailLabelFieldColumnLabel': "æ ç­¾åºå",
                        'recordDetailDataFieldColumnLabel': "æ°æ®åºå",
                        'recordDetailTypeFieldColumnLabel': "ç±»å",
                        'recordDetailSavingChangesMessagePanelInitialTitle': "ä¿å­å¯ç å¡ç",
                        'recordDetailAddFieldButtonLabel': "æ·»å æ°åºå",
                        'recordDetailPasswordFieldHelpLabel': "ç¹å»ææå¤å¶å¯ç å°åªè´´æ¿ï¼ç¶åç¨ Ctrl+V ä½¿ç¨",
                        'recordDetailPasswordFieldScrambleLabel': "éèå¯ç ",
                        'recordDetailPasswordFieldUnscrambleLabel': "æ¾ç¤ºå¯ç ",
                        'recordDetailDirectLoginBlockTitle': "ç´æ¥ç»å½",
                        'recordDetailNewDirectLoginDescription': "<p>ç´æ¥ç»å½éç½®</p> ",
                        'recordDetailDirectLoginBlockNoDirectLoginConfiguredDescription': "<p>è¿ä¸ªå¯ç å¡çåå«å¨çº¿æå¡è¯ä¹¦åï¼</p> <p>ä»ä»åå»å°±å¯ä»¥ä» Clipperz ä½¿ç¨ä¹¦ç­¾éç½® âç´æ¥ç»å½â</p> ",
                        'recordDetailAddNewDirectLoginButtonLabel': "æ·»å æ°çç´æ¥ç»å½",
                        'recordDetailEditButtonLabel': "ç¼è¾",
                        'recordDetailSaveButtonLabel': "ä¿å­",
                        'recordDetailCancelButtonLabel': "åæ¶",
                        'newRecordTitleLabel': "_æ°å¯ç å¡ç_",
                        'recordSaveChangesPanelCollectRecordInfoMessageTitle': "ä¿å­å¯ç å¡ç",
                        'recordSaveChangesPanelCollectRecordInfoMessageText': "æ´æ°å¯ç å¡çæ¥å¤´",
                        'recordSaveChangesPanelEncryptUserDataMessageTitle': "ä¿å­å¯ç å¡ç",
                        'recordSaveChangesPanelEncryptUserDataMessageText': "æ¬å°å å¯å¡çæ¥å¤´",
                        'recordSaveChangesPanelEncryptRecordDataMessageTitle': "ä¿å­å¯ç å¡ç",
                        'recordSaveChangesPanelEncryptRecordDataMessageText': "æ¬å°å å¯å¡çæ°æ®",
                        'recordSaveChangesPanelEncryptRecordVersionDataMessageTitle': "ä¿å­å¯ç å¡ç",
                        'recordSaveChangesPanelEncryptRecordVersionDataMessageText': "æ¬å°å å¯å¯ç å¡ççæ¬æ°æ®",
                        'recordSaveChangesPanelSendingDataToTheServerMessageTitle': "ä¿å­å¯ç å¡ç",
                        'recordSaveChangesPanelSendingDataToTheServerMessageText': "ä» Clipperz æ´æ°å å¯å¡æ¥å¤´",
                        'recordSaveChangesPanelUpdatingTheInterfaceMessageTitle': "ä¿å­å¯ç å¡ç",
                        'recordSaveChangesPanelUpdatingTheInterfaceMessageText': "æ´æ°çé¢",
                        'passwordGeneratorPanelTitle': "å¯ç çæå¨",
                        'passwordGeneratorPanelOkLabel': "ç¡®è®¤",
                        'passwordGeneratorPanelCancelLabel': "åæ¶",
                        'passwordGeneratorLengthLabel': "é¿åº¦:",
                        'comingSoon': "å³å°å°æ¥ããã",
                        'panelCollectingEntryopyMessageText': "æ¶éå¹³åä¿¡æ¯",
                        'directLoginConfigurationCheckBoxFieldSelectedValue': "æ¯",
                        'directLoginConfigurationCheckBoxFieldNotSelectedValue': "å¦",
                        'WELCOME_BACK': "æ¬¢è¿åæ¥!",
                        'currentConnectionText': "ä½ çè¿æ¥ IP å°åæ¯&nbsp;__ip__; æ¥èª __country__, å¨ __browser__ ä¸ä½¿ç¨ __operatingSystem__ã",
                        'latestConnectionText': "ä½ ä¸æ¬¡çç»å½ IP æ¯&nbsp;__ip__ å¨ __elapsedTimeDescription__ (__time__); æ¥èª __country__, å¨ __browser__ ä¸ä½¿ç¨ __operatingSystem__ã",
                        'fullLoginHistoryLinkLabel': "æ¾ç¤ºææç»å½åå²",
                        'elapsedTimeDescriptions': {
                            'MORE_THAN_A_MONTH_AGO': "ä¸ä¸ªæä¹å",
                            'MORE_THAN_A_WEEK_AGO': "ä¸å¨ä¹å",
                            'MORE_THAN_*_WEEKS_AGO': "__elapsed__ å¨ä»¥å",
                            'YESTERDAY': "æ¨å¤©",
                            '*_DAYS_AGO': "__elapsed__ å¤©ä¹å",
                            'ABOUT_AN_HOUR_AGO': "å¤§çº¦ä¸ä¸ªå°æ¶å",
                            '*_HOURS_AGO': "__elapsed__ å°æ¶å",
                            'JUST_A_FEW_MINUTES_AGO': "ä»ä»å åéä¹å",
                            'ABOUT_*_MINUTES_AGO': "å¤§çº¦ __elapsed__ å åéå"
                        },
                        'unknown_ip': "æªç¥",
                        'calendarStrings': {
                            'months': {
                                '0': "ä¸æ",
                                '1': "äºæ",
                                '2': "ä¸æ",
                                '3': "åæ",
                                '4': "äºæ",
                                '5': "å­æ",
                                '6': "ä¸æ",
                                '7': "å«æ",
                                '8': "ä¹æ",
                                '9': "åæ",
                                '10': "åä¸æ",
                                '11': "åäºæ"
                            },
                            'shortMonths': {
                                '0': "ä¸æ",
                                '1': "äºæ",
                                '2': "ä¸æ",
                                '3': "åæ",
                                '4': "äºæ",
                                '5': "å­æ",
                                '6': "ä¸æ",
                                '7': "å«æ",
                                '8': "ä¹æ",
                                '9': "åæ",
                                '10': "åä¸æ",
                                '11': "åäºæ"
                            },
                            'days': {
                                '0': "æææ¥",
                                '1': "ææä¸",
                                '2': "ææäº",
                                '3': "ææä¸",
                                '4': "ææå",
                                '5': "ææäº",
                                '6': "ææå­"
                            },
                            'shortDays': {
                                '0': "æ¥",
                                '1': "ä¸",
                                '2': "äº",
                                '3': "ä¸",
                                '4': "å",
                                '5': "äº",
                                '6': "å­"
                            },
                            'veryShortDays': {
                                '0': "æ¥",
                                '1': "ä¸",
                                '2': "äº",
                                '3': "ä¸",
                                '4': "å",
                                '5': "äº",
                                '6': "å­"
                            },
                            'amDesignation': "ä¸å",
                            'pmDesignation': "ä¸å"
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.PM.Strings.Languages['es-ES'.toLowerCase()] = MochiKit.Base.merge(Clipperz.PM.Strings.Languages['en-us'], {
                        'clipperzServiceDescription': "<h2>GuÃ¡rdelo usted mismo!</h2> <ul> <li> <h3>Clipperz es:</h3> <ul> <li> <p>un simple y seguro administrador de contraseÃ±as</p> </li> <li> <p>una efectiva y simple soluciÃ³n de logueo</p> </li> <li> <p>un maletÃ­n digital para sus datos confidenciales</p> </li> </ul> </li> <li> <h3>Con Clipperz usted puede:</h3> <ul> <li> <p>administrar y almacenar en lÃ­nea sus contraseÃ±as y credenciales digitales</p> </li> <li> <p>ingresar en sus servicios  web  sin ningÃºn nombre de usuario o contraseÃ±a</p> </li> <li> <p>protejer todos sus datos sensibles: cÃ³digos de alarmas, PINs y nÃºmeros de tarjetas de crÃ©dito, &hellip;</p> </li> <li> <p>compartir secretos con sus familiares y socios</p> </li> </ul> </li> <li> <h3>Beneficios de Clipperz:</h3> <ul> <li> <p>es gratis y completamente anÃ³nimo</p> </li> <li> <p>con acceso en cualquier momento y desde cualquier ordenador</p> </li> <li> <p>no necesita instalar o descargar ningÃºn programa</p> </li> <li> <p>no necesita guardar secretos en papel o en el ordenador</p> </li> </ul> </li> <li> <h3>Seguridad de Clipperz:</h3> <ul> <li> <p>sus secretos son localmente encriptados por su navegador antes de ser almacenados en  Clipperz</p> </li> <li> <p>la llave de encriptaciÃ³n es una frase clave conocida solo por usted</p> </li> <li> <p>Clipperz almacena sus datos de manera encriptada y nunca accede a ellos en forma de texto plano</p> </li> <li> <p>Clipperz esta basado en esquemas estÃ¡ndares de encriptaciÃ³n, no hemos inventado nada</p> </li> <li> <p>usted puede revisar el cÃ³digo todas las veces que lo desee, Â¡ pero no necesita conocer algo de encriptaciÃ³n para ser un usuario feliz!</p> </li> </ul> </li> <li> <a href=\"http://www.clipperz.com\" target=\"_parent\">Aprender mÃ¡s</a> </li> </ul> ",
                        'loginFormTitle': "ingrese con su usuario Clipperz",
                        'loginFormUsernameLabel': "usuario",
                        'loginFormPassphraseLabel': "frase clave",
                        'loginFormDontHaveAnAccountLabel': "Â¿no tiene una cuenta?",
                        'loginFormCreateOneLabel': "crear una",
                        'loginFormForgotYourCredentialsLabel': "Â¿perdiÃ³ sus credenciales?",
                        'loginFormAarghThatsBadLabel': "Â¡Ahhh! Â¡eso es malo!",
                        'loginFormAfraidOfMaliciousScriptsLabel': "Â¿evitar scripts maliciosos?",
                        'loginFormVerifyTheCodeLabel': "verificar el cÃ³digo",
                        'loginFormButtonLabel': "Ingresar",
                        'loginFormOneTimePasswordCheckboxLabel': "usar una frase clave desechable",
                        'loginPanelSwithLanguageDescription': "<h5>Cambiar a su lenguaje preferido</h5> ",
                        'browserCompatibilityDescription': "<p>Obtenga una mejor y mÃ¡s segura experiencia con Firefox. De todas maneras Clipperz funciona tambiÃ©n con Opera y MS Explorer!</p> ",
                        'OTPloginMessagePanelInitialTitle': "Ingresar usando una frase clave desechable",
                        'OTPloginMessagePanelInitialText': "Enviando credenciales OTP ...",
                        'OTPloginMessagePanelLoadingTitle': "Ingresar usando una frase clave desechable",
                        'OTPloginMessagePanelLoadingText': "Descargando datos de autenticaciÃ³n encriptados desde el servidor ...",
                        'OTPloginMessagePanelProcessingTitle': "Ingresar usando una frase clave desechable",
                        'OTPloginMessagePanelProcessingText': "DesencriptaciÃ³n local de datos de autenticaciÃ³n ...",
                        'loginMessagePanelInitialTitle': "Ingresando ...",
                        'loginMessagePanelInitialButtonLabel': "Cancelar",
                        'loginMessagePanelConnectedTitle': "Conectado",
                        'loginMessagePanelConnectedText': "Hecho",
                        'loginMessagePanelFailureTitle': "Error",
                        'loginMessagePanelFailureText': "Ingreso fallido",
                        'loginMessagePanelFailureButtonLabel': "Cerrar",
                        'connectionLoginSendingCredentialsMessageTitle': "Verificando credenciales",
                        'connectionLoginSendingCredentialsMessageText': "Enviando credenciales",
                        'connectionLoginCredentialsVerificationMessageTitle': "Verificando credenciales",
                        'connectionLoginCredentialsVerificationMessageText': "Realizando una autenticaciÃ³n SRP",
                        'connectionLoginDoneMessageTitle': "Verificando credenciales",
                        'connectionLoginDoneMessageText': "Conectado",
                        'userLoginPanelUpgradingUserCredentialsMessageTitle': "Verificando credenciales",
                        'userLoginPanelUpgradingUserCredentialsMessageText': "Actualizando sus credenciales al nuevo esquema de autenticaciÃ³n",
                        'userLoginPanelConnectedMessageTitle': "Usuario autenticado",
                        'userLoginPanelConnectedMessageText': "Exitosamente logueado",
                        'userLoginPanelTryingAnOlderConnectionSchemaMessageTitle': "Verifying credentials",
                        'userLoginPanelTryingAnOlderConnectionSchemaMessageText': "Probando un esquema de autenticaciÃ³n antiguo",
                        'userLoginPanelLoadingUserDataMessageTitle': "Usuario autenticado",
                        'userLoginPanelLoadingUserDataMessageText': "Descargando encabezamientos encriptados desde Clipperz",
                        'userLoginPanelDecryptingUserDataMessageTitle': "Usuario autenticado",
                        'userLoginPanelDecryptingUserDataMessageText': "DesencriptaciÃ³n local de datos",
                        'userLoginPanelDecryptingUserStatisticsMessageTitle': "Usuario autenticado",
                        'userLoginPanelDecryptingUserStatisticsMessageText': "DesencriptaciÃ³n local de estadÃ­sticas de uso",
                        'splashAlertTitle': "Â¡Bienvenido a Clipperz!",
                        'splashAlertText': "<p>Algunas advertencias sobre seguridad</p> <ul> <li> <p>Almacenar sus datos en Clipperz es tan seguro como la frase clave que usted elija para protegerlos. Nadie puede acceder a ellos a no ser que conozca la frase clave.</p> </li> <li> <p>Si usted va a usar Clipperz para guardar informaciÃ³n sensible y crÃ­tica, estÃ© seguro de elegir una frase clave fuerte. Â¡Cuanto mÃ¡s larga mejor!</p> </li> <li> <p>Clipperz no le permitirÃ¡ recuperar una frase clave perdida.</p> </li> </ul> <p>Si necesita mÃ¡s informaciÃ³n, por favor visite  el sitio de <a href=\"http://www.clipperz.com\" target=\"_parent\">Clipperz</a>.</p> ",
                        'splashAlertCloseButtonLabel': "Aceptar",
                        'registrationFormTitle': "Abrir su cuenta",
                        'registrationFormUsernameLabel': "usuario",
                        'registrationFormPassphraseLabel': "frase clave",
                        'registrationFormRetypePassphraseLabel': "reingrese la frase clave",
                        'registrationFormSafetyCheckLabel': "Yo entiendo que Clipperz no me permite recuperar frases clave perdidas",
                        'registrationFormTermsOfServiceCheckLabel': "He leÃ­do y estoy de acuerdo con los <a href='http://www.clipperz.com/terms_of_service' target='_parent'>TÃ©rminos de Servicio</a>.",
                        'registrationFormDoYouAlreadyHaveAnAccountLabel': "Â¿usted ya tiene una cuenta?",
                        'registrationFormSimplyLoginLabel': "ingreso simple",
                        'registrationFormButtonLabel': "Registrarse",
                        'registrationFormWarningMessageNotMatchingPassphrases': "Su frase clave no coincide, por favor reescrÃ­bala.",
                        'registrationFormWarningMessageSafetyCheckNotSelected': "Por favor, lea y chequee todas las casillas debajo.",
                        'registrationFormWarningMessageTermsOfServiceCheckNotSelected': "Usted necesita estar de acuerdo con los TÃ©rminos de Servicio.",
                        'registrationMessagePanelInitialTitle': "Creando cuenta ...",
                        'registrationMessagePanelInitialButtonLabel': "Cancelar",
                        'registrationMessagePanelRegistrationDoneTitle': "RegistraciÃ³n",
                        'registrationMessagePanelRegistrationDoneText': "Hecho",
                        'registrationMessagePanelFailureTitle': "RegistraciÃ³n fallada",
                        'registrationMessagePanelFailureButtonLabel': "Cerrar",
                        'connectionRegistrationSendingRequestMessageText': "Verificando credenciales",
                        'connectionRegistrationSendingCredentialsMessageText': "Enviando credenciales",
                        'registrationSplashPanelTitle': "Aviso de seguridad",
                        'registrationSplashPanelDescriptionConfig': "<p>Estas son sus credenciales de Clipperz, cuÃ­delas. Â¡Clipperz nunca mÃ¡s le mostrarÃ¡ su cuenta y frase clave por segunda vez!</p> ",
                        'registrationSplashPanelUsernameLabel': "usuario",
                        'registrationSplashPanelPassphraseLabel': "frase clave",
                        'registrationSplashPanelShowPassphraseButtonLabel': " mostrar frase clave",
                        'donateHeaderLinkLabel': "donaciones",
                        'creditsHeaderLinkLabel': "crÃ©ditos",
                        'feedbackHeaderLinkLabel': "contacto",
                        'helpHeaderLinkLabel': "ayuda",
                        'forumHeaderLinkLabel': "foro",
                        'recordMenuLabel': "tarjetas",
                        'accountMenuLabel': "cuenta",
                        'dataMenuLabel': "datos",
                        'contactsMenuLabel': "contactos",
                        'toolsMenuLabel': "herramientas",
                        'logoutMenuLabel': "salir",
                        'lockMenuLabel': "bloquear",
                        'lockTitle': "La cuenta estÃ¡ bloqueada",
                        'lockDescriptionConfig': "<p>Para desbloquear su cuenta, por favor ingrese su frase clave</p> ",
                        'unlockButtonLabel': "desbloquear",
                        'changePasswordTabLabel': "Cambiar su frase clave",
                        'changePasswordTabTitle': "Cambiar su frase clave",
                        'changePasswordFormUsernameLabel': "usuario",
                        'changePasswordFormOldPassphraseLabel': "frase clave anterior",
                        'changePasswordFormNewPassphraseLabel': "nueva frase clave",
                        'changePasswordFormRetypePassphraseLabel': "reingrese su nueva frase clave",
                        'changePasswordFormSafetyCheckboxLabel': "Yo entiendo que Clipperz no me permite recuperar una frase clave perdida.",
                        'changePasswordFormSubmitLabel': "Cambiar",
                        'changePasswordFormWrongUsernameWarning': "Usuario incorrecto",
                        'changePasswordFormWrongPassphraseWarning': "Frase clave incorrecta",
                        'changePasswordFormWrongRetypePassphraseWarning': "Sus frases claves no coinciden, por favor reescrÃ­balas.",
                        'changePasswordFormSafetyCheckWarning': "Por favor lea y seleccione la casilla de abajo.",
                        'changePasswordFormProgressDialogTitle': "Cambiando credenciales de usuario",
                        'changePasswordFormProgressDialogConnectedMessageTitle': "Conectado",
                        'changePasswordFormProgressDialogConnectedMessageText': "Hecho",
                        'changePasswordFormProgressDialogErrorMessageTitle': "Error",
                        'changePasswordFormProgressDialogErrorMessageText': "Â¡Cambio de credenciales fallado!",
                        'changeCredentialsPanelEncryptingDataMessageTitle': "Cambiando su frase clave",
                        'changeCredentialsPanelEncryptingDataMessageText': "EncriptaciÃ³n local de encabezados de tarjetas",
                        'changeCredentialsPanelCreatingNewCredentialsMessageTitle': "Cambiando su frase clave",
                        'changeCredentialsPanelCreatingNewCredentialsMessageText': "Actualizando su credenciales",
                        'changeCredentialsPanelSendingNewCredentialsToTheServerMessageTitle': "Cambiando su frase clave",
                        'changeCredentialsPanelSendingNewCredentialsToTheServerMessageText': "Subiendo sus credenciales encriptadas a Clipperz",
                        'changeCredentialsPanelDoneMessageTitle': "Cambiando su frase clave",
                        'changeCredentialsPanelDoneMessageText': "Hecho",
                        'manageOTPTabLabel': "Administrar su frases clave desechables",
                        'manageOTPTabTitle': "Administrar su frases clave desechables",
                        'manageOTPTabDescription': "<p>Una frase clave desechable uso funciona como una frase clave regular, pero puede ser usada solo una vez.</p> <p>Si las misma frase clave es usada nuevamente en un segundo intento de acceso, esta serÃ¡ rechazada y el proceso de acceso fallarÃ¡.</p> <p>Inmediatamente despuÃ©s de un acceso exitoso, su on-time frase clave serÃ¡ borrada previniendo accesos fraudulentos.</p> <p>Frases claves desechables son una excelente elecciÃ³n para protegerse de keyloggers y spywares, que pueden recolectar datos desde mÃ¡quinas comprometidas.</p> <p> <b>Le recomendamos muy fuertemente que use frases claves desechables uso cuando acceda a Clipperz desde terminales pÃºblicas, como Internet CafÃ©s, CybercafÃ©s y bibliotecas.</b> </p> ",
                        'oneTimePasswordReadOnlyMessage': "<h6>Â¡Disculpe!</h6> <p>Usted no puede usar su frases clave desechables mientras usa la versiÃ³n fuera de lÃ­nea de Clipperz.</p> ",
                        'oneTimePasswordLoadingMessage': "<h6>Cargando datos</h6> <p>Por favor espere ...</p> ",
                        'oneTimePasswordNoPasswordAvailable': "<h6>No hay frase clave desechables disponible</h6> <p>Haga click en el botÃ³n âNuevaâ para agregar una frase clave desechables a su cuenta.</p> ",
                        'createNewOTPButtonLabel': "Nueva",
                        'deleteOTPButtonLabel': "Borrar",
                        'printOTPButtonLabel': "Imprimir",
                        'disabledOneTimePassword_warning': "desabilitado",
                        'oneTimePasswordSelectionLink_selectLabel': "Seleccionar:",
                        'oneTimePasswordSelectionLink_all': "todo",
                        'oneTimePasswordSelectionLink_none': "ninguna",
                        'oneTimePasswordSelectionLink_used': "usada",
                        'oneTimePasswordSelectionLink_unused': "sin uso",
                        'saveOTP_encryptUserDataTitle': "Guardando frase clave desechable",
                        'saveOTP_encryptUserDataText': "Procesando nuevas credenciales OTP ...",
                        'saveOTP_encryptOTPDataTitle': "Guardando frase clave desechable",
                        'saveOTP_encryptOTPDataText': "EncriptaciÃ³n local de datos de autenticaciÃ³n ...",
                        'saveOTP_sendingDataTitle': "Guardando frase clave desechable",
                        'saveOTP_sendingDataText': "Enviando datos de autenticaciÃ³n al servidor ...",
                        'saveOTP_updatingInterfaceTitle': "Guardando frase clave desechable",
                        'saveOTP_updatingInterfaceText': "Actualizando interface ...",
                        'accountPreferencesLabel': "Preferencias",
                        'accountPreferencesTabTitle': "Preferencias",
                        'accountPreferencesLanguageTitle': "Seleccione el lenguaje",
                        'accountPreferencesLanguageDescription': "<p>Elija su lenguaje preferido de la siguiente lista.<p> ",
                        'showDonationReminderPanelTitle': "Recordatorios de donaciones",
                        'showDonationReminderPanelDescription': "<p>Mostrar recordatorios de donaciones</p> ",
                        'accountPreferencesInterfaceTitle': "PersonalizaciÃ³n de la interface",
                        'accountPreferencesInterfaceDescription': "<p>Ajuste Clipperz a sus necesidades.</p> ",
                        'saveUserPreferencesFormSubmitLabel': "Guardar",
                        'cancelUserPreferencesFormSubmitLabel': "Cancelar",
                        'accountPreferencesSavingPanelTitle_Step1': "Guardando preferencias",
                        'accountPreferencesSavingPanelText_Step1': "EncriptaciÃ³n local de sus preferencias",
                        'accountPreferencesSavingPanelTitle_Step2': "Guardando preferencias",
                        'accountPreferencesSavingPanelText_Step2': "Enviando preferencias encriptadas a Clipperz",
                        'accountLoginHistoryLabel': "Historial de accesos",
                        'loginHistoryTabTitle': "Historial de accesos",
                        'loginHistoryReadOnlyMessage': "<h6>Â¡PerdÃ³n!</h6> <p>El historial de acceso no estÃ¡ disponible mientras usa la versiÃ³n fuera de lÃ­nea de Clipperz.</p> ",
                        'loginHistoryLoadingMessage': "<h6>Cargando datos</h6> <p>Por favor espere ...</p> ",
                        'loginHistoryLoadedMessage': "<h6>Sus Ãºltimos 10 accesos</h6> <p> </p> ",
                        'loginHistoryIPLabel': "IP",
                        'loginHistoryTimeLabel': "fecha",
                        'loginHistoryCurrentSessionText': "sesiÃ³n actual",
                        'loginHistoryReloadButtonLabel': "Refrescar historial de acceso",
                        'deleteAccountTabLabel': "Borrar su cuenta",
                        'deleteAccountTabTitle': "Borrar su cuenta",
                        'deleteAccountFormUsernameLabel': "usuario",
                        'deleteAccountFormPassphraseLabel': "frase clave",
                        'deleteAccountFormSafetyCheckboxLabel': "Yo entiendo que todos mis datos serÃ¡n borrados y que esta acciÃ³n es irreversible.",
                        'deleteAccountFormSubmitLabel': "Borrar mi cuenta",
                        'deleteAccountFormWrongUsernameWarning': "Usuario incorrecto",
                        'deleteAccountFormWrongPassphraseWarning': "Frase clave incorrecta",
                        'deleteAccountFormSafetyCheckWarning': "Por favor, lÃ©a y marque la opciÃ³n debajo.",
                        'accountPanelDeletingAccountPanelConfirmationTitle': "ATENCIÃN",
                        'accountPanelDeleteAccountPanelConfirmationText': "Â¿Esta Ud. seguro que desea borrar esta cuenta?",
                        'accountPanelDeleteAccountPanelConfirmButtonLabel': "SÃ­",
                        'accountPanelDeleteAccountPanelDenyButtonLabel': "No",
                        'offlineCopyTabLabel': "Copia fuera de lÃ­nea",
                        'offlineCopyTabTitle': "Copia fuera de lÃ­nea",
                        'offlineCopyTabDescription': "<p>Con solo un clik usted puede descargar todos sus datos encriptados desde los servidores de Clipperz a su disco rÃ­gido y crear una versiÃ³n solo-lectura fuera de lÃ­nea para ser usada cuando usted no estÃ¡ conectado a Internet.</p> <p>La versiÃ³n solo-lectura es tan segura como la lectura-escritura y no expondrÃ¡ sus datos a mayores riegos desde el momento que ambas comparten el mismo cÃ³digo y arquitectura de seguridad.</p> <ol> <li> <p>Haga click en el link debajo para comenzar la descarga.</p> </li> <li> <p>El navegador le preguntarÃ¡ que hacer con el archivo âClipperz_YYYYMMDD.htmlâ. GuÃ¡rdelo en su disco rÃ­gido.</p> </li> <li> <p>Haga doble click en el archivo descargado para ejecutar la versiÃ³n fuera de lÃ­nea en su navegador.</p> </li> <li> <p>Ingrese el usuario y la frase clave habitual.</p> </li> </ol> ",
                        'offlineCopyDownloadLinkLabel': "Descargar",
                        'offlineCopyDownloadWarning': "<h4> <a href=\"#\" id=\"offlineCopyDownloadWarningLink\">Â¡Actualize su âcopia fuera de lÃ­neaâ!</a> </h4> <p>Usted ha recientemente creado o modificado una o mÃ¡s tarjetas, podrÃ­a ser necesario que realize una nueva âcopia fuera de lÃ­neaâ.</p> ",
                        'sharingTabLabel': "Compartir",
                        'sharingTabTitle': "Compartir",
                        'sharingTabDescription': "<p>Muy frecuentemente una pieza de informaciÃ³n confidencial necesita ser compartida con una o mÃ¡s personas.</p> <p>Esto deberÃ­a ser tan simple como darle a sus colegas el accese al cÃ³digo de su casilla de voz cuando estÃ¡ fuera de la oficina, o tan complicado con habilitarles a sus herederos el derecho de acceder a su caja de seguridad en su banco.</p> <p>Clipperz puede permitirle compartir sus secretos de una forma segura y directa.</p> <p> </p> <p> <b>Proximamente ...</b> </p> ",
                        'importTabLabel': "Importar",
                        'importTabTitle': "Importar",
                        'importTabDescription': "<p> <b>Proximamente ...</b> </p> ",
                        'printingTabLabel': "Exportar",
                        'printingTabTitle': "Exportar",
                        'printingTabDescription': "<p> <b>Imprima sus datos</b> </p> <p>Haciendo click en el enlace que sigue se abrirÃ¡ una nueva ventana mostrando todas sus tarjetas en un formato imprimible.</p> <p>Si usted estÃ¡ imprimiendo con propÃ³sitos de respaldo, por favor considere la opciÃ³n mÃ¡s segura provista por la creaciÃ³n de una âcopia fuera de lÃ­neaâ.</p> ",
                        'printingLinkLabel': "VersiÃ³n imprimible",
                        'contactsTabLabel': "Contactos",
                        'contactsTabTitle': "Contactos",
                        'passwordGeneratorTabLabel': "Generador de contraseÃ±as",
                        'passwordGeneratorTabTitle': "Generador de contraseÃ±as",
                        'paswordGeneratorTabDescriptionConfig': "<p> </p> ",
                        'passwordGeneratorTabButtonLabel': "Generar contraseÃ±a",
                        'bookmarkletTabLabel': "Bookmarklet",
                        'bookmarkletTabTitle': "Bookmarklet",
                        'bookmarkletTabDescription': "<p>Un bookmarklet es una simple herramienta de \"un click\" que puede realizar tareas muy Ãºtiles. Este puede ser grabado y usado como un marcador normal de una pÃ¡gina web.</p> <p>El Clipperz bookmarklet le ayudarÃ¡ a usted a crear rapidamente tarjetas nuevas y accesos directos dentro de las tarjetas existentes.</p> <p> <b>Por favor tenga en cuenta que el bookmarklet no incluye ninguna informaciÃ³n relacionadas con su cuenta (ej: su nombre de usuario o clave), el bookmarklet es una herramienta general que contiene el mismo cÃ³digo para todos los usuarios de Clipperz.</b> </p> <h3>How to install the bookmarklet</h3> <h5>Firefox, Camino, Opera, Safari</h5> <ol> <li> <p>AsegÃºrese que la âBarra de marcadoresâ estÃ¡ mostrada seleccionando âVer > Barra de herramientas > Barra de marcadoresâ, menÃº similar, desde el menÃº del navegador.</p> </li> <li> <p>Arrastre el enlace âAgregar a Clipperzâ sobre la barra de marcadores.</p> </li> </ol> <h5>Internet Explorer</h5> <ol> <li> <p>AsegÃºrese que la barra âVÃ­nculosâ es mostrada seleccionando âVer > Barra de Herramientas > Herramientas > VÃ­nculosâ desde el menÃº del navegador.</p> </li> <li> <p>Haga click con el botÃ³n derecho del mouse en el link âAgregar a Clipperzâ.</p> </li> <li> <p>Seleccione âAgregar a favoritosâ desde el menÃº contextual.</p> </li> <li> <p>Haga click en âSiâ o âAceptoâ a cualquier advertencia de seguridad que le aparezca.</p> </li> <li> <p>Abra la carpeta âVÃ­nculosâ y haga click en âOKâ</p> </li> </ol> ",
                        'bookmarkletTabBookmarkletTitle': "Agregar a Clipperz",
                        'bookmarkletTabInstructions': "<h3>Como crear una nueva tarjeta que incluya un enlace de âacceso directoâ a un servicio en lÃ­nea.</h3> <ol> <li> <p>Abra una pÃ¡gina web dÃ³nde el formulario de logueo estÃ¡ almacenado (es la pÃ¡gina donde usualmente ingresa sus credenciales firmadas)</p> </li> <li> <p>Ejecute  el bookmarklet haciendo click en Ã©ste: una ventana emergente (pop-up) aparecerÃ¡ sobre la pÃ¡gina web.</p> </li> <li> <p>Copie al portapapeles el contenido de todo el texto dentro de la ventana emergente (pop-up) (Ctrl-C)</p> </li> <li> <p>Ingrese en su cuenta Clipperz y haga click en el botÃ³n <b>Agregar nueva tarjeta</b>.</p> </li> <li> <p>Seleccione la plantilla âAcceso directoâ y pegue el contenido del portapapeles en el formulario (Ctrl-V)</p> </li> <li> <p>Haga click en el botÃ³n <b>Crear</b>, revise los datos y luego haga click en <b>Guardar</b>.</p> </li> </ol> <h3>CÃ³mo agregar un enlace âacceso directoâ a una tarjeta existente</h3> <ol> <li> <p>Igual que arriba.</p> </li> <li> <p>Igual que arriba.</p> </li> <li> <p>Igual que arriba.</p> </li> <li> <p>Ingrese en su cuenta Clipperz y seleccione una tarjeta conteniendo las credenciales de un servicio web que usted visitÃ³ y haga click en el botÃ³n <b>Editar</b>.</p> </li> <li> <p>Pegue el contenido del portapapeles en el Ã¡rea de texto de la secciÃ³n âAcceso directoâ (Ctrl-V)</p> </li> <li> <p>Haga click en el botÃ³n <b>Agregar acceso directo</b>, revise los detalles y luego haga click en <b>Guardar</b>.</p> </li> </ol> <p> </p> <p>MÃ¡s informaciÃ³n sobre bookmarklet estÃ¡ <a href=\"http://www.clipperz.com/support/user_guide/bookmarklet\" target=\"_parent\">disponible aquÃ­</a>.</p> ",
                        'mainPanelDirectLoginBlockLabel': "Accesos directos",
                        'directLinkReferenceShowButtonLabel': "ver",
                        'mainPanelDirectLoginBlockDescription': "<p>Â¡ Agregar âaccesos directosâ para ingresar en sus cuentas de la web sin necesidad de escribir nombres de usuarios o claves!</p> <p>âAccesos directosâ incrementa notablemente la seguridad de sus claves desde que ud. puede:</p> <ul> <li> <p>usar claves complejas con comodidad;</p> </li> <li> <p>nunca mÃ¡s reusar la misma clave simple.</p> </li> </ul> <p> </p> <a href=\"http://www.clipperz.com/support/user_guide/direct_logins\" target=\"_parent\">Apreender mÃ¡s sobre âaccesos directosâ</a> ",
                        'mainPanelRecordsBlockLabel': "Tarjetas",
                        'mainPanelAddRecordButtonLabel': "Agregar tarjeta nueva",
                        'mainPanelRemoveRecordButtonLabel': "Borrar tarjeta",
                        'mainPanelRecordFilterBlockAllLabel': "todo",
                        'mainPanelRecordFilterBlockTagsLabel': "tags",
                        'mainPanelRecordFilterBlockSearchLabel': "buscar",
                        'recordDetailNoRecordAtAllTitle': "Â¡Bienvenido a Clipperz!",
                        'recordDetailNoRecordAtAllDescription': "<h5>Comienze agregando tarjetas a su cuenta.</h5> <p>Tarjetas son formularios simples y flexibles donde Usted puede almacenar sus claves y cualquier otro dato confidencial.</p> <p>Tarjetas pueden contener credenciales para acceder a un sitio web, la conbinaciÃ³n del candado de su bicicleta, detalles de su tarjeta de crÃ©dito, ....</p> <h5>Â¡No olvide los bookmarklet!</h5> <p>Antes de comenzar, instale el âAgregar a Clipperzâ bookmarklet: esta harÃ¡ la creaciÃ³n de tarjetas mÃ¡s fÃ¡cil y mÃ¡s divertida.</p> <p>Vaya al marcador âherramientasâ para descubrir como instalar y usarlo.</p> <p> </p> <p>Luego simplemente haga click en el botÃ³n âAgregar nueva tarjetaâ y disfrute su cuenta Clipperz.</p> <p> </p> <a href=\"http://www.clipperz.com/support/user_guide/managing_cards\" target=\"_parent\">Apreender mÃ¡s acerca de la creaciÃ³n y administraciÃ³n de las tarjetas</a> ",
                        'newRecordWizardTitleBox': "<h5>Por favor seleccione una plantilla</h5> <p>Tarjetas son formularios simples y flexibles donde usted puede almacenar claves y cualquier otro dato confidencial.</p> <p>Comienze eligiendo una de las plantillas que se encuentran debajo. Usted siempre puede personalizar sus tarjetas mÃ¡s tarde agregando o borrando campos.</p> ",
                        'newRecordWizardBookmarkletConfigurationTitle': "Acceso directo",
                        'newRecordWizardBookmarkletConfigurationDescription': "<p>Pegue debajo el cÃ³digo de configuraciÃ³n generado por el bookmarklet Clipperz.</p> <p>Una nueva tarjeta con un acceso directo a su cuenta web serÃ¡ creada.</p> ",
                        'newRecordWizardCreateButtonLabel': "Crear",
                        'newRecordWizardCancelButtonLabel': "Cancelar",
                        'donateSplashPanelTitle': "Â¡Apoye a Clipperz, haga una donaciÃ³n hoy!",
                        'donateSplashPanelDescription': "<p>Una pocas buenas razones para hacer una donaciÃ³n:</p> <ul> <li> <p>apoyar el desarrollo de nuevas utilidades</p> </li> <li> <p>mantener Clipperz gratuito</p> </li> <li> <p>mostrar su aprecio por nuestro duro trabajo</p> </li> </ul> <p>Por cualquier informaciÃ³n adicional, por favor visite nuestra <a href=\"http://www.clipperz.com/donations\" target=\"_parent\">pÃ¡gina de donaciones</a>.</p> <p> <b>Â¿Listo para hacer una donaciÃ³n?</b> </p> ",
                        'donateCloseButtonLabel': "No todavÃ­a",
                        'donateDonateButtonLabel': "Si",
                        'recordTemplates': {
                            'WebAccount': {
                                'title': "ContraseÃ±a web",
                                'description': "<p>Una simple tarjeta para almacenar sus credenciales de acceso a sus servicios online.</p> ",
                                'fields': {
                                    'URL': "DirecciÃ³n web",
                                    'TXT': "Usuario o correo  electrÃ³nico",
                                    'PWD': "ContraseÃ±a"
                                }
                            },
                            'BankAccount': {
                                'title': "Cuenta bancaria",
                                'description': "<p>Almacene en forma segura su nÃºmero de cuenta bancaria y credenciales de servicios bancarios en lÃ­nea.</p> ",
                                'fields': {
                                    'TXT': "Banco",
                                    'TXT': "NÃºmero de cuenta",
                                    'URL': "Sitio web del Banco",
                                    'TXT': "ID del servicio bancario en lÃ­nea",
                                    'PWD': "ContraseÃ±a del servicio bancario en lÃ­nea"
                                }
                            },
                            'CreditCard': {
                                'title': "Tarjeta de crÃ©dito",
                                'description': "<p>NÃºmero de tarjeta, fecha de vencimiento, CVV2 y PIN siempre a mano con Clipperz.</p> ",
                                'fields': {
                                    'TXT': "Tipo (Visa, AmEx, ...)",
                                    'TXT': "NÃºmero",
                                    'TXT': "Nombre del  propietario",
                                    'TXT': "Fecha de vencimiento",
                                    'TXT': "CVV2",
                                    'PWD': "PIN cajero automÃ¡tico",
                                    'URL': "Sitio web tarjeta",
                                    'TXT': "Usuario",
                                    'PWD': "ContraseÃ±a"
                                }
                            },
                            'AddressBookEntry': {
                                'title': "Libreta de direcciones",
                                'description': "<p>Clipperz puede tambiÃ©n funcionar como su nueva libreta privada de direcciones. Use esta plantilla para crear fÃ¡cilmente nuevas entradas.</p> ",
                                'fields': {
                                    'TXT': "Nombre",
                                    'TXT': "Correo electrÃ³nico",
                                    'TXT': "TelÃ©fono",
                                    'TXT': "MÃ³vil",
                                    'ADDR': "DirecciÃ³n"
                                }
                            },
                            'Custom': {
                                'title': " Tarjeta personalizada",
                                'description': "<p>No importa que tipo de dato confidencial usted necesita proteger, puede crear la tarjeta que necesite.</p> ",
                                'fields': {
                                    'TXT': "Etiqueta 1",
                                    'TXT': "Etiqueta 2",
                                    'TXT': "Etiqueta 3"
                                }
                            }
                        },
                        'recordFieldTypologies': {
                            'TXT': {
                                'description': "simple text field",
                                'shortDescription': "texto"
                            },
                            'PWD': {
                                'description': "simple text field, with default status set to hidden",
                                'shortDescription': "contraseÃ±a"
                            },
                            'URL': {
                                'description': "simple text field in edit mode, that became an active url in view mode",
                                'shortDescription': "direcciÃ³n web"
                            },
                            'DATE': {
                                'description': "a value set with a calendar helper",
                                'shortDescription': "fecha"
                            },
                            'ADDR': {
                                'description': "just like the URL, but the active link points to Google Maps (or similar service) passing the address value as argument",
                                'shortDescription': "direcciÃ³n postal"
                            },
                            'CHECK': {
                                'description': "check description",
                                'shortDescription': "check"
                            },
                            'RADIO': {
                                'description': "radio description",
                                'shortDescription': "radio"
                            },
                            'SELECT': {
                                'description': "select description",
                                'shortDescription': "select"
                            }
                        },
                        'newRecordPanelGeneralExceptionTitle': "Error",
                        'newRecordPanelGeneralExceptionMessage': "El texto de configuraciÃ³n no es vÃ¡lido. AsegÃºrese que toma su texto desde la ventana emergente del bookmarklet.",
                        'newRecordPanelWrongBookmarkletVersionExceptionTitle': "Error",
                        'newRecordPanelWrongBookmarkletVersionExceptionMessage': "El texto de configuraciÃ³n ha sido generado por una versiÃ³n anterior de bookmarklet. Por favor actualize su bookmarklet y pruebe nuevamente.",
                        'newRecordPanelExceptionPanelCloseButtonLabel': "Cancelar",
                        'mainPanelDeletingRecordPanelConfirmationTitle': "Eliminando tarjeta seleccionada",
                        'mainPanelDeleteRecordPanelConfirmationText': "Â¿Desea realmente eliminar la tarjeta seleccionada?",
                        'mainPanelDeleteRecordPanelConfirmButtonLabel': "SÃ­",
                        'mainPanelDeleteRecordPanelDenyButtonLabel': "No",
                        'mainPanelDeletingRecordPanelInitialTitle': "Eliminando tarjeta seleccionada",
                        'mainPanelDeletingRecordPanelCompletedText': "Hecho",
                        'deleteRecordPanelCollectRecordDataMessageTitle': "Eliminar tarjeta",
                        'deleteRecordPanelCollectRecordDataMessageText': "Actualizando lista de tarjetas",
                        'deleteRecordPanelEncryptUserDataMessageTitle': "Eliminar tarjeta",
                        'deleteRecordPanelEncryptUserDataMessageText': "EncriptaciÃ³n local de encabezamiento de tarjetas",
                        'deleteRecordPanelSendingDataToTheServerMessageTitle': "Eliminar tarjeta",
                        'deleteRecordPanelSendingDataToTheServerMessageText': "Subiendo encabezamiento de tarjetas encriptadas a Clipperz",
                        'deleteRecordPanelUpdatingTheInterfaceMessageTitle': "Eliminar tarjeta",
                        'deleteRecordPanelUpdatingTheInterfaceMessageText': "Actualizando interface",
                        'recordDetailNoRecordSelectedTitle': "No hay tarjetas seleccionadas",
                        'recordDetailNoRecordSelectedDescription': "<p>Por favor seleccione una tarjeta de la lista de la izquierda.</p> ",
                        'recordDetailLoadingRecordMessage': "Descargando tarjetas encriptadas desde Clipperz",
                        'recordDetailDecryptingRecordMessage': "DesencriptaciÃ³n local de los datos de las tarjetas",
                        'recordDetailLoadingRecordVersionMessage': "Descargando Ãºltima versiÃ³n de la tarjeta",
                        'recordDetailDecryptingRecordVersionMessage': "DesencriptaciÃ³n local de la Ãºltima versiÃ³n",
                        'recordDetailLoadingErrorMessageTitle': "Error mientras descargaba la tarjeta",
                        'recordDetailNotesLabel': "Notas",
                        'recordDetailLabelFieldColumnLabel': "Campo tÃ­tulo",
                        'recordDetailDataFieldColumnLabel': "Campo de datos",
                        'recordDetailTypeFieldColumnLabel': "Tipo",
                        'recordDetailSavingChangesMessagePanelInitialTitle': "Guardando tarjeta",
                        'recordDetailAddFieldButtonLabel': "Agregar nuevo campo",
                        'recordDetailPasswordFieldHelpLabel': "para copiar la contraseÃ±a al portapapeles, haga click en la estrella y luego Ctrl-C",
                        'recordDetailPasswordFieldScrambleLabel': "ocultar",
                        'recordDetailPasswordFieldUnscrambleLabel': "mostrar",
                        'recordDetailDirectLoginBlockTitle': "Acceso directos",
                        'recordDetailNewDirectLoginDescription': "<p>ConfiguraciÃ³n de los accesos directos</p> ",
                        'recordDetailDirectLoginBlockNoDirectLoginConfiguredDescription': "<p>Â¿Esta tarjeta contiene credenciales para acceder a un servicio en lÃ­nea?</p> <p>Â¡Use los bookmarklet para configurar un \"acceso directo\" desde Clpperz con solo un click!</p> ",
                        'recordDetailAddNewDirectLoginButtonLabel': "Agregar nuevo acceso directo",
                        'recordDetailEditButtonLabel': "Editar",
                        'recordDetailSaveButtonLabel': "Guardar",
                        'recordDetailCancelButtonLabel': "Cancelar",
                        'newRecordTitleLabel': "_nueva tarjeta_",
                        'recordSaveChangesPanelCollectRecordInfoMessageTitle': "Guardar tarjeta",
                        'recordSaveChangesPanelCollectRecordInfoMessageText': "Actualizando encabezamiento de tarjetas",
                        'recordSaveChangesPanelEncryptUserDataMessageTitle': "Guardar tarjeta",
                        'recordSaveChangesPanelEncryptUserDataMessageText': "EncriptaciÃ³n local de encabezamiento de tarjetas",
                        'recordSaveChangesPanelEncryptRecordDataMessageTitle': "Guardar tarjeta",
                        'recordSaveChangesPanelEncryptRecordDataMessageText': "EncriptaciÃ³n local de los datos de la tarjeta",
                        'recordSaveChangesPanelEncryptRecordVersionDataMessageTitle': "Guardar tarjeta",
                        'recordSaveChangesPanelEncryptRecordVersionDataMessageText': "EncriptaciÃ³n local de la versiÃ³n de los datos de la tarjeta",
                        'recordSaveChangesPanelSendingDataToTheServerMessageTitle': "Guardar tarjeta",
                        'recordSaveChangesPanelSendingDataToTheServerMessageText': "Subiendo encabezamiento de tarjeta encriptada a Clipperz",
                        'recordSaveChangesPanelUpdatingTheInterfaceMessageTitle': "Guardar tarjeta",
                        'recordSaveChangesPanelUpdatingTheInterfaceMessageText': "Actualizando la interface",
                        'passwordGeneratorPanelTitle': "Generador de contraseÃ±as",
                        'passwordGeneratorPanelOkLabel': "Ok",
                        'passwordGeneratorPanelCancelLabel': "Cancelar",
                        'passwordGeneratorLengthLabel': "longitud:",
                        'comingSoon': "prÃ³ximamente ...",
                        'panelCollectingEntryopyMessageText': "Recogiendo entropÃ­a",
                        'directLoginConfigurationCheckBoxFieldSelectedValue': "SÃ­",
                        'directLoginConfigurationCheckBoxFieldNotSelectedValue': "No",
                        'WELCOME_BACK': "Â¡Bienvenido!",
                        'currentConnectionText': "Usted estÃ¡ ahora conectado desde ip&nbsp;__ip__, aparentemente desde __country__, usando __browser__ en __operatingSystem__.",
                        'latestConnectionText': "Su Ãºltima conexiÃ³n fue __elapsedTimeDescription__ (__time__) desde ip&nbsp;__ip__, aparentemente desde __country__, usando __browser__ en __operatingSystem__.",
                        'fullLoginHistoryLinkLabel': "mostrar historial de acceso",
                        'elapsedTimeDescriptions': {
                            'MORE_THAN_A_MONTH_AGO': "mÃ¡s de un mes atrÃ¡s",
                            'MORE_THAN_A_WEEK_AGO': "mÃ¡s de una semana atrÃ¡s",
                            'MORE_THAN_*_WEEKS_AGO': "mÃ¡s de __elapsed__ semanas atrÃ¡s",
                            'YESTERDAY': "ayer",
                            '*_DAYS_AGO': "__elapsed__ dÃ­as atrÃ¡s",
                            'ABOUT_AN_HOUR_AGO': "about an hour ago",
                            '*_HOURS_AGO': "__elapsed__ hours ago",
                            'JUST_A_FEW_MINUTES_AGO': "hace unos minutos",
                            'ABOUT_*_MINUTES_AGO': "hace __elapsed__ minutos atrÃ¡s"
                        },
                        'unknown_ip': "desconocida",
                        'calendarStrings': {
                            'months': {
                                '0': "Enero",
                                '1': "Febrero",
                                '2': "Marzo",
                                '3': "Abril",
                                '4': "Mayo",
                                '5': "Junio",
                                '6': "Julio",
                                '7': "Agosto",
                                '8': "Setiembre",
                                '9': "Octubre",
                                '10': "Noviembre",
                                '11': "Diciembre"
                            },
                            'shortMonths': {
                                '0': "Ene",
                                '1': "Feb",
                                '2': "Mar",
                                '3': "Abr",
                                '4': "May",
                                '5': "Jun",
                                '6': "Jul",
                                '7': "Ago",
                                '8': "Set",
                                '9': "Oct",
                                '10': "Nov",
                                '11': "Dic"
                            },
                            'days': {
                                '0': "Domingo",
                                '1': "Lunes",
                                '2': "Martes",
                                '3': "MiÃ©rcoles",
                                '4': "Jueves",
                                '5': "Viernes",
                                '6': "SÃ¡bado"
                            },
                            'shortDays': {
                                '0': "Dom",
                                '1': "Lun",
                                '2': "Mar",
                                '3': "Mie",
                                '4': "Jue",
                                '5': "Vie",
                                '6': "Sab"
                            },
                            'veryShortDays': {
                                '0': "Do",
                                '1': "Lu",
                                '2': "Ma",
                                '3': "Mi",
                                '4': "Ju",
                                '5': "Vi",
                                '6': "Sa"
                            },
                            'amDesignation': "am",
                            'pmDesignation': "pm"
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.PM.Strings.Languages['fr-FR'.toLowerCase()] = MochiKit.Base.merge(Clipperz.PM.Strings.Languages['en-us'], {
                        'clipperzServiceDescription': "<h2>Gardez le pour vous!</h2> <ul> <li> <h3>Clipperz est:</h3> <ul> <li> <p>un gestionnaire de mots de passe sÃ©curisÃ©</p> </li> <li> <p>une solution fiable dâauthentification unique</p> </li> <li> <p>une chambre forte numÃ©rique pour vos donnÃ©es confidentielles</p> </li> </ul> </li> <li> <h3>Avec Clipperz vous pouvez:</h3> <ul> <li> <p>enregistrer et gÃ©rer vos mots de passe et autres informations d'identification en ligne</p> </li> <li> <p>vous identifier sur vos sites web sans avoir besoin de saisir votre nom dâutilisateur ou votre mot de passe</p> </li> <li> <p>protÃ©ger toutes vos donnÃ©es sensibles: codes dâalarmes, PINs (tÃ©lÃ©phone portable), carte de crÃ©dits, &hellip;</p> </li> <li> <p>partager certaines donnÃ©es confidentielles avec vos proches et vos associÃ©s (bientÃ´t disponible!)</p> </li> </ul> </li> <li> <h3>Les avantages de Clipperz:</h3> <ul> <li> <p>c'est gratuit et totalement anonyme</p> </li> <li> <p>accÃ©der Ã  vos donnÃ©es depuis nâimporte quel ordinateur</p> </li> <li> <p>vous n'avez besoin d'aucun logiciel et rien n'est Ã  installer sur votre poste</p> </li> <li> <p>cela vous Ã©vite de garder des mots de passe sur votre PC ou sur des bouts de papier</p> </li> </ul> </li> <li> <h3>La sÃ©curitÃ© de Clipperz:</h3> <ul> <li> <p>vos mots de passe sont localement chiffrÃ©s par votre navigateur avant dâÃªtre tÃ©lÃ©chargÃ© Ã  Clipperz</p> </li> <li> <p>la clÃ© de cryptage est une phrase secrÃ¨te dÃ©tenue uniquement par vous mÃªme</p> </li> <li> <p>hÃ©berge vos donnÃ©es sensibles dans des formulaires cryptÃ©s et ne peuvent Ãªtre consultÃ©es directement en clair</p> </li> <li> <p>est dÃ©veloppÃ© sur des standard de cryptage rÃ©putÃ© sans aucune fantaisie ni de bricolage fait maison</p> </li> <li> <p>vous pouvez consulter le code source autant que vous le souhaitez</p> </li> </ul> </li> <li> <a href=\"http://www.clipperz.com\" target=\"_parent\">Plus dâinformations</a> </li> </ul> ",
                        'loginFormTitle': "identifiez-vous avec votre compte Clipperz",
                        'loginFormUsernameLabel': "nom dâutilisateur",
                        'loginFormPassphraseLabel': "phrase secrÃ¨te",
                        'loginFormDontHaveAnAccountLabel': "vous nâavez pas de compte?",
                        'loginFormCreateOneLabel': "crÃ©ez votre compte",
                        'loginFormForgotYourCredentialsLabel': "vous avez oubliÃ© votre certificat?",
                        'loginFormAarghThatsBadLabel': "câest fort dommage pour vous!",
                        'loginFormAfraidOfMaliciousScriptsLabel': "vous avez peur des script malicieux?",
                        'loginFormVerifyTheCodeLabel': "vÃ©rifiez le code",
                        'loginFormButtonLabel': "Sâidentifer",
                        'loginPanelSwithLanguageDescription': "<p>SÃ©lectionnez votre langue prÃ©fÃ©rÃ©</p> ",
                        'browserCompatibilityDescription': "<p>Have a better and safer Clipperz experience with Firefox. However Clipperz works just fine also with Opera and MS Internet Explorer!</p> ",
                        'loginMessagePanelInitialTitle': "En cours dâidentification ...",
                        'loginMessagePanelInitialButtonLabel': "Annuler",
                        'loginMessagePanelConnectedTitle': "ConnectÃ©",
                        'loginMessagePanelConnectedText': "TerminÃ©",
                        'loginMessagePanelFailureTitle': "Erreur",
                        'loginMessagePanelFailureText': "Identification Ã©chouÃ©",
                        'loginMessagePanelFailureButtonLabel': "Fermer",
                        'connectionLoginSendingCredentialsMessageTitle': "VÃ©rification des identifiants",
                        'connectionLoginSendingCredentialsMessageText': "Envoi des identifiants",
                        'connectionLoginCredentialsVerificationMessageTitle': "VÃ©rification des identifiants",
                        'connectionLoginCredentialsVerificationMessageText': "Authentification SRP en cours",
                        'connectionLoginDoneMessageTitle': "VÃ©rification des identifiants",
                        'connectionLoginDoneMessageText': "ConnectÃ©",
                        'userLoginPanelUpgradingUserCredentialsMessageTitle': "VÃ©rification des identifiants",
                        'userLoginPanelUpgradingUserCredentialsMessageText': "Mise Ã  jour de vos identifiants Ã  un nouveau schÃ©ma dâauthentification",
                        'userLoginPanelConnectedMessageTitle': "Utilisateur identifiÃ©",
                        'userLoginPanelConnectedMessageText': "Vous vous Ãªtes identifiÃ© avec succÃ¨s",
                        'userLoginPanelTryingAnOlderConnectionSchemaMessageTitle': "VÃ©rification des identifiants",
                        'userLoginPanelTryingAnOlderConnectionSchemaMessageText': "Nous essayons un ancien schÃ©ma dâauthentification",
                        'userLoginPanelLoadingUserDataMessageTitle': "Utilisateur identifiÃ©",
                        'userLoginPanelLoadingUserDataMessageText': "TÃ©lÃ©chargement des cartes dâen-tÃªtes chiffrÃ©s depuis Clipperz",
                        'userLoginPanelDecryptingUserDataMessageTitle': "Utilisateur identifiÃ©",
                        'userLoginPanelDecryptingUserDataMessageText': "DÃ©cryptage local des en-tÃªtes chiffrÃ©s",
                        'userLoginPanelDecryptingUserStatisticsMessageTitle': "Utilisateur identifiÃ©",
                        'userLoginPanelDecryptingUserStatisticsMessageText': "DÃ©cryptage local des statistiques",
                        'splashAlertTitle': "Bienvenue sur Clipperz!",
                        'splashAlertText': "<p>Conseils de sÃ©curitÃ©</p> <ul> <li> <p>Le stockage de vos mots de passe sur Clipperz est aussi sÃ©curisÃ© que la phrase que vous avez sÃ©lectionnÃ©e pour les protÃ©ger. Personne ne peux y accÃ©der tant que personne ne connait votre phrase secrÃ¨te.</p> </li> <li> <p>Si vous allez utiliser Clipperz pour sauvegarder des informations sensibles et critiques assurez-vous dâutiliser une phrase secrÃ¨te compliquÃ©e. Plus elle sera longue mieux ce sera!</p> </li> <li> <p>Clipperz ne sera pas capable de rÃ©cupÃ©rer votre phrase secrÃ¨te!</p> </li> </ul> <p>Pour toute autre information, veuillez vous rÃ©fÃ©rer au site <a href=\"http://www.clipperz.com\" target=\"_parent\">Clipperz</a>.</p> ",
                        'splashAlertCloseButtonLabel': "Ok",
                        'registrationFormTitle': "crÃ©er votre compte",
                        'registrationFormUsernameLabel': "nom dâutilisateur",
                        'registrationFormPassphraseLabel': "phrase secrÃ¨te",
                        'registrationFormRetypePassphraseLabel': "re-saisissez votre phrase secrÃ¨te",
                        'registrationFormSafetyCheckLabel': "Jâaccepte que Clipperz ne pourra pas rÃ©cupÃ©rer ma phrase secrÃ¨te.",
                        'registrationFormTermsOfServiceCheckLabel': "Jâai lu et jâaccepte les <a href='http://www.clipperz.com/terms_of_service' target='_parent'>Conditions dâUtilisation du Service</a>.",
                        'registrationFormDoYouAlreadyHaveAnAccountLabel': "avez-vous dÃ©jÃ  un compte?",
                        'registrationFormSimplyLoginLabel': "identifiez-vous",
                        'registrationFormButtonLabel': "Sâinscrire",
                        'registrationFormWarningMessageNotMatchingPassphrases': "Vos phrases secrÃ¨tes ne correspondent pas, veuillez les saisir Ã  nouveau.",
                        'registrationFormWarningMessageSafetyCheckNotSelected': "Veuillez lire et cocher les cases-Ã -cocher ci-dessous.",
                        'registrationFormWarningMessageTermsOfServiceCheckNotSelected': "Vous devez accepter les âConditions dâUtilisation du Serviceâ.",
                        'registrationMessagePanelInitialTitle': "CrÃ©ation du compte en cours ...",
                        'registrationMessagePanelInitialButtonLabel': "Annuler",
                        'registrationMessagePanelRegistrationDoneTitle': "Enregistrement",
                        'registrationMessagePanelRegistrationDoneText': "TerminÃ©",
                        'registrationMessagePanelFailureTitle': "Enregistrement Ã©chouÃ©",
                        'registrationMessagePanelFailureButtonLabel': "Fermer",
                        'connectionRegistrationSendingRequestMessageText': "VÃ©rification en cours des identifiants",
                        'connectionRegistrationSendingCredentialsMessageText': "Envoi des identifiants",
                        'registrationSplashPanelTitle': "Conseils de sÃ©curitÃ©",
                        'registrationSplashPanelDescription': "<p>Ce sont vos identifiants Clipperz, gardez les biens. Clipperz ne va plus jamais vous montrer votre nom dâutilisateur et votre phrase secrÃ¨te!</p> ",
                        'registrationSplashPanelUsernameLabel': "nom dâutilisateur",
                        'registrationSplashPanelPassphraseLabel': "phrase secrÃ¨te",
                        'registrationSplashPanelShowPassphraseButtonLabel': "afficher la phrase secrÃ¨te",
                        'donateHeaderLinkLabel': "faites un don",
                        'creditsHeaderLinkLabel': "crÃ©dits",
                        'feedbackHeaderLinkLabel': "votre avis",
                        'helpHeaderLinkLabel': "aide",
                        'forumHeaderLinkLabel': "forum",
                        'recordMenuLabel': "cartes",
                        'accountMenuLabel': "compte",
                        'dataMenuLabel': "donnÃ©es",
                        'contactsMenuLabel': "contacts",
                        'toolsMenuLabel': "outils",
                        'logoutMenuLabel': "dÃ©connexion",
                        'lockMenuLabel': "verrouiller",
                        'lockTitle': "Le compte est verrouillÃ©",
                        'lockDescription': "<p>Pour dÃ©verrouiller votre compte, veuillez saisir votre phrase secrÃ¨te</p> ",
                        'unlockButtonLabel': "DÃ©verrouiller",
                        'changePasswordTabLabel': "Changer votre phrase secrÃ¨te",
                        'changePasswordTabTitle': "Changer votre phrase secrÃ¨te",
                        'changePasswordFormUsernameLabel': "nom dâutilisateur",
                        'changePasswordFormOldPassphraseLabel': "ancienne phrase secrÃ¨te",
                        'changePasswordFormNewPassphraseLabel': "nouvelle phrase secrÃ¨te",
                        'changePasswordFormRetypePassphraseLabel': "re-saisissez phrase secrÃ¨te",
                        'changePasswordFormSafetyCheckboxLabel': "Je sais que Clipperz ne pourra pas rÃ©cupÃ©rer ma phrase secrÃ¨te.",
                        'changePasswordFormSubmitLabel': "Changer ma phrase secrÃ¨te",
                        'changePasswordFormWrongUsernameWarning': "Nom dâutilisateur incorrect",
                        'changePasswordFormWrongPassphraseWarning': "Phrase secrÃ¨te incorrect",
                        'changePasswordFormWrongRetypePassphraseWarning': "Votre phrase secrÃ¨te ne correspond pas, veuillez la saisir Ã  nouveau",
                        'changePasswordFormSafetyCheckWarning': "Veuillez lire et cocher la case-Ã -cocher ci-dessous",
                        'changePasswordFormProgressDialogTitle': "Changement des identifiants utilisateurs",
                        'changePasswordFormProgressDialogConnectedMessageTitle': "ConnectÃ©",
                        'changePasswordFormProgressDialogConnectedMessageText': "TerminÃ©",
                        'changePasswordFormProgressDialogErrorMessageTitle': "Erreur",
                        'changePasswordFormProgressDialogErrorMessageText': "Changement de identifiants Ã©chouÃ©!",
                        'changeCredentialsPanelEncryptingDataMessageTitle': "Changement de votre phrase secrÃ¨te",
                        'changeCredentialsPanelEncryptingDataMessageText': "Cryptage local des identifiants",
                        'changeCredentialsPanelCreatingNewCredentialsMessageTitle': "Modifier votre phrase secrÃ¨te",
                        'changeCredentialsPanelCreatingNewCredentialsMessageText': "Mettre Ã  jour vos identifiants",
                        'changeCredentialsPanelSendingNewCredentialsToTheServerMessageTitle': "Modifier votre phrase secrÃ¨te",
                        'changeCredentialsPanelSendingNewCredentialsToTheServerMessageText': "TÃ©lÃ©chargement de vos identifiants sur Clipperz.com",
                        'changeCredentialsPanelDoneMessageTitle': "Modifier votre phrase secrÃ¨te",
                        'changeCredentialsPanelDoneMessageText': "TerminÃ©",
                        'manageOTPTabLabel': "Mettre Ã  jour votre phrase secrÃ¨te Ã  usage unique",
                        'manageOTPTabTitle': "Mettre Ã  jour votre phrase secrÃ¨te Ã  usage unique",
                        'manageOTPTabDescription': "<p>Une phrase secrÃ¨te Ã  usage unique fonctionne comme votre phrase secrÃ¨te habituelle, mais elle ne peut Ãªtre utilisÃ© qu'une seule fois.</p> <p>Si la phrase secrÃ¨te est utilisÃ© de nouveau et que vous tentÃ© de vous identifier Ã  nouveau, vous serez rejetÃ© et le processus d'identification Ã©chouera.</p> <p>Juste aprÃ¨s une identification correcte, votre phrase secrÃ¨te Ã  usage unique sera effacÃ©e pour interdire tout accÃ¨s frauduleux.</p> <p>Les phrases secrÃ¨tes Ã  usage unique sont un excellent choix si vous craignez qu'un logiciel espion ne vole vos donnÃ©es aprÃ¨s avoir infectÃ© votre machine.</p> <p> <b>Il est fortement recommandÃ© d'utiliser des phrases secrÃ¨tes Ã  usage unique lorsque vous accÃ©dez Ã  Clipperz depuis un terminal public, comme un cybercafÃ© ou une borne Internet.</b> </p> ",
                        'accountPreferencesLabel': "PrÃ©fÃ©rences",
                        'accountPreferencesTabTitle': "PrÃ©fÃ©rences",
                        'accountPreferencesLanguageTitle': "Choix de la langue",
                        'accountPreferencesLanguageDescription': "<p>Choisissez la langue d'affichage de Clipperz dans la liste suivante.</p> ",
                        'accountPreferencesInterfaceTitle': "Personnalisation de l'interface",
                        'accountPreferencesInterfaceDescription': "<p>Ajustez l'interface de Clipperz Ã  vos besoins.</p> ",
                        'saveUserPreferencesFormSubmitLabel': "Enregistrer",
                        'cancelUserPreferencesFormSubmitLabel': "Annuler",
                        'accountPreferencesSavingPanelTitle_Step1': "Enregistrement des prÃ©fÃ©rences",
                        'accountPreferencesSavingPanelText_Step1': "Chiffrement local de vos prÃ©fÃ©rences",
                        'accountPreferencesSavingPanelTitle_Step2': "Enregistrement des prÃ©fÃ©rences",
                        'accountPreferencesSavingPanelText_Step2': "Transmission des prÃ©fÃ©rences chiffrÃ©es au serveur",
                        'deleteAccountTabLabel': "Supprimer votre compte",
                        'deleteAccountTabTitle': "Supprimer votre compte",
                        'deleteAccountFormUsernameLabel': "nom dâutilisateur",
                        'deleteAccountFormPassphraseLabel': "phrase secrÃ¨te",
                        'deleteAccountFormSafetyCheckboxLabel': "Je sais que toute mes donnÃ©es seront supprimÃ©s et que cette action sera irrÃ©versible.",
                        'deleteAccountFormSubmitLabel': "Supprimer mon compte",
                        'deleteAccountFormWrongUsernameWarning': "Nom dâutilisateur incorrect",
                        'deleteAccountFormWrongPassphraseWarning': "Phrase secrÃ¨te incorrect",
                        'deleteAccountFormSafetyCheckWarning': "Veuillez lire et cocher la case-Ã -cocher ci-dessous.",
                        'accountPanelDeletingAccountPanelConfirmationTitle': "ATTENTION",
                        'accountPanelDeleteAccountPanelConfirmationText': "Ãtes-vous sÃ»r de vouloir supprimer ce compte?",
                        'accountPanelDeleteAccountPanelConfirmButtonLabel': "Oui",
                        'accountPanelDeleteAccountPanelDenyButtonLabel': "Non",
                        'offlineCopyTabLabel': "Copie locale",
                        'offlineCopyTabTitle': "Copie locale",
                        'offlineCopyTabDescription': "<p>D'un seul click, vous pouvez tÃ©lÃ©charger toutes vos donnÃ©es chiffrÃ©es des serveurs Clipperz sur votre disque dur, crÃ©ant ainsi une version dÃ©connectÃ© de Clipperz utilisable lorsque vous n'Ãªtes pas connectÃ©s Ã  Internet.</p> <p>Cette version en lecture seule est aussi sÃ©curisÃ©e que la version en lecture-Ã©criture, et n'expose pas vos donnÃ©es Ã  un risque plus Ã©levÃ©. Elles partagent en effet le mÃªme code et la mÃªme architecture de sÃ©curitÃ©.</p> <ol> <li> <p>Cliquez sur le liens ci-dessous pour lancer le tÃ©lÃ©chargement.</p> </li> <li> <p>Votre navigateur vous demandera que faire du fichier âClipperz_YYYYMMDD.htmlâ. Sauvez le sur votre disque dur.</p> </li> <li> <p>Puis double-cliquez sur le fichier tÃ©lÃ©chargÃ© pour lancer la version dÃ©connectÃ©e dans votre navigateur.</p> </li> <li> <p>Utilisez vos nom dâutilisateur et phrase secrÃ¨te habituels.</p> </li> </ol> ",
                        'offlineCopyDownloadLinkLabel': "TÃ©lÃ©charger",
                        'sharingTabLabel': "Partager",
                        'sharingTabTitle': "Partager",
                        'sharingTabDescription': "<p>De temps en temps il est nÃ©cessaire de partager des parties de vos informations confidentiels avec une ou plusieurs personnes.</p> <p>Cela pourrait Ãªtre aussi simple que lâoctroi Ã  un collÃ¨gue de votre code dâaccÃ¨s Ã  votre messagerie vocale quand vous Ãªtes hors du bureau, ou aussi compliquÃ©s que la permission dâayant droit aux hÃ©ritiers pour avoir accÃ¨s Ã  votre boÃ®te de coffre-fort Ã  la banque locale.</p> <p>Clipperz vous permez donc de partager vos mots de passe grÃ¢ce Ã  un processe sÃ»r et direct.</p> <p> </p> <p> <b>Prochainement disponible ...</b> </p> ",
                        'importTabLabel': "Importer",
                        'importTabTitle': "Importer",
                        'importTabDescription': "<p> <b>Prochainement disponible ...</b> </p> ",
                        'printingTabLabel': "Exporter",
                        'printingTabTitle': "Exporter",
                        'printingTabDescription': "<p> <b>Version dâimpression</b> </p> <p>En cliquant sur ce bouton vous ouvrirez une fenÃªtre contenant vos en-tÃªtes cryptÃ©s dans un format dâimpression.</p> <p>Si vous imprimez pour des raisons de sauvegarde personnel, veuillez vous tourner vers une solution plus sÃ©curisÃ© comme la version âCopie localeâ.</p> ",
                        'printingLinkLabel': "Version imprimable",
                        'contactsTabLabel': "Contacts",
                        'contactsTabTitle': "Contacts",
                        'passwordGeneratorTabLabel': "GÃ©nÃ©rateur de mot de passe",
                        'bookmarkletTabLabel': "Bookmarklet",
                        'passwordGeneratorTabTitle': "GÃ©nÃ©rateur de mot de passe",
                        'bookmarkletTabTitle': "Bookmarklet",
                        'paswordGeneratorTabDescription': "<p> </p> ",
                        'passwordGeneratorTabButtonLabel': " GÃ©nÃ©rer un mot de passe",
                        'bookmarkletTabDescription': "<p>Un bookmarklet est un outil âclique uniqueâ simple qui peut exÃ©cuter des tÃ¢ches trÃ¨s utiles. Il peut Ãªtre sauvegardÃ© et utilisÃ© comme un signet de page Web normal.</p> <p>Le bookmarklet Clipperz vous aidera Ã  rapidement crÃ©er de nouvelles cartes et des nouveaux âaccÃ¨s directsâ avec vos cartes existantes.</p> <p> <b>Notez sâil vous plaÃ®t que le bookmarklet nâinclut pas dâinformations liÃ©es Ã  votre compte (par exemple votre nom dâutilisateur ou votre phrase secrÃ¨te), le bookmarklet est un outil gÃ©nÃ©ral contenant le mÃªme code pour chaque utilisateur Clipperz.</b> </p> <div> <p>Pour installer le bookmarklet <b>glissez & dÃ©posez</b> le lien ci-dessous dans votre bar de navigation.</p> </div> ",
                        'bookmarkletTabBookmarkletTitle': "Ajouter Ã  Clipperz",
                        'bookmarkletTabInstructions': "<h3>Comment crÃ©er une carte comprenant un lien de âaccÃ¨s directâ Ã  un service en ligne</h3> <ol> <li> <p>Ouvrir la page Web oÃ¹ le site affiche un formulaire dâidentification. (Câest la page oÃ¹ vous entrez dâhabitude vos informations d'identification)</p> </li> <li> <p>Lancer le bookmarklet en cliquant dessus : une fenÃªtre contextuelle apparait alors sur la page Web.</p> </li> <li> <p>Copier dans le presse-papiers le contenu du grand secteur de texte dans le menu contextuel. (Ctrl-C)</p> </li> <li> <p>Entrer dans votre compte Clipperz et cliquer sur <b>âAjouter une nouvelle carteâ</b>.</p> </li> <li> <p>Coller le presse-papiers dans la zone de texte et rajouter un titre (facultatif). (Ctrl-V)</p> </li> <li> <p>Cliquer sur le bouton <b>âCrÃ©erâ</b>, repassez en revu les dÃ©tails et cliquer <b>âSauverâ</b>. De plus amples informations sont disponibles <a href=\"http://www.clipperz.com/support/user_guide/bookmarklet\" target=\"_parent\">ici</a>.</p> </li> </ol> <h3>Comment ajouter un lien de âaccÃ¨s directâ Ã  une carte existante</h3> <ol> <li> <p>Idem que prÃ©cÃ©demment.</p> </li> <li> <p>Idem que prÃ©cÃ©demment..</p> </li> <li> <p>Idem que prÃ©cÃ©demment.</p> </li> <li> <p>Entrer dans votre compte Clipperz et sÃ©lectionner la carte cryptÃ© qui contient les identifiants pour le service web que vous venez tout juste de visiter et cliquer sur <b>âModifierâ</b>.</p> </li> <li> <p>Coller le presse-papier dans la zone de texte <b>âAccÃ¨s directsâ</b>. (ctrl-V)</p> </li> <li> <p>Cliquer sur <b>âAjouter un accÃ¨s directâ</b>, repassez en revu les dÃ©tails et cliquer <b>âSauverâ</b>.</p> </li> </ol> ",
                        'mainPanelDirectLoginBlockLabel': "AccÃ¨s directs",
                        'directLinkReferenceShowButtonLabel': "voir",
                        'mainPanelDirectLoginBlockDescription': "<p>Ajouter une âaccÃ¨s directâ pour vous identifier sans avoir besoin de taper vos identifiants de connexions!</p> <p>Les âaccÃ¨s directsâ augmente considÃ©rablement la sÃ©curitÃ© de vos mots passes dans la mesure oÃ¹ vous pouvez:</p> <ul> <li> <p>adopter et saisir des mots de passe complexes;</p> </li> <li> <p>ne rÃ©utilisez le mÃªme mot de passe et ne mettez plus de mots de passe facile Ã  deviner.</p> </li> </ul> <p>Simple et rapide Ã  configurer avec le Clipperz <b>bookmarklet</b>.</p> <a href=\"http://www.clipperz.com/support/user_guide/direct_logins\" target=\"_parent\">Pour en savoir plus sur les âaccÃ¨s directsâ</a> ",
                        'mainPanelRecordsBlockLabel': "Cartes",
                        'mainPanelAddRecordButtonLabel': "Ajouter une nouvelle carte",
                        'mainPanelRemoveRecordButtonLabel': "Supprimer une carte",
                        'mainPanelRecordFilterBlockAllLabel': "tous",
                        'mainPanelRecordFilterBlockTagsLabel': "tags",
                        'mainPanelRecordFilterBlockSearchLabel': "chercher",
                        'recordDetailNoRecordAtAllTitle': "Bienvenue sur Clipperz!",
                        'recordDetailNoRecordAtAllDescription': "<h5>Commencez par ajouter des cartes Ã  votre compte.</h5> <p>Les cartes sont des formulaires flexibles ou vous pouvez enregistrer vos mots de passe et autres informations confidentielles.</p> <p>Par exemple, une carte peut contenir les informations d\"identification pour un site web, la combinaison de votre antivol de bicyclette, les dÃ©tails de votre carte bancaire, ...</p> <h5>N'oubliez pas le bookmarklet!</h5> <p>Avant de commencer, installez le bookmarklet âAjouter Ã  Clipperzâ: il rends la crÃ©ation de carte plus facile et amusante.</p> <p>Allez Ã  l'onglet âoutilsâ pour dÃ©couvrir comment l'installer et l'utiliser.</p> <p> </p> <p>Ensuite, cliquez tout simplement sur le bouton âAjouter une nouvelle carteâ et profitez de votre compte Clipperz.</p> <p> </p> <a href=\"http://www.clipperz.com/support/user_guide/managing_cards\" target=\"_parent\">En savoir plus sur la crÃ©ation et la gestion des cartes.</a> ",
                        'newRecordWizardTitleBox': "<h5>Choisissez un modÃ¨le</h5> <p>Les cartes sont des formulaires flexibles ou vous pouvez enregistrer vos mots de passe et autres informations confidentielles.</p> <p>Commencez par choisir un des modÃ¨les ci-dessous. Vous pourrez toujours adapter vos cartes plus tard en ajoutant ou supprimant des champs.</p> ",
                        'newRecordWizardBookmarkletConfigurationTitle': "AccÃ¨s directs",
                        'newRecordWizardBookmarkletConfigurationDescriptionConfig': "<p>Collez ici le code de configuration gÃ©nÃ©rÃ© par le bookmarlet Clipperz.</p> <p>Cela crÃ©era une nouvelle carte avec un accÃ¨s direct Ã  votre site web.</p> ",
                        'newRecordWizardCreateButtonLabel': "CrÃ©er",
                        'newRecordWizardCancelButtonLabel': "Annuler",
                        'recordTemplates': {
                            'WebAccount': {
                                'title': "Mot de passe web",
                                'description': "<p>Une carte toute simple pour enregistrer les informations d'identification de vos services en ligne.</p> ",
                                'fields': {
                                    'URL': "Adresse web",
                                    'TXT': "Nom d'utilisateur ou email",
                                    'PWD': "Mot de passe"
                                }
                            },
                            'BankAccount': {
                                'title': "Compte bancaire",
                                'description': "<p>Enregistrer de faÃ§on sÃ©curisÃ©e vos numÃ©ros de compte bancaire et vos identifiants de service bancaire en ligne.</p> ",
                                'fields': {
                                    'TXT': "Banque",
                                    'TXT': "NÂ° de compte",
                                    'URL': "Adresse web du site",
                                    'TXT': "Identifiant",
                                    'PWD': "Mot de passe"
                                }
                            },
                            'CreditCard': {
                                'title': "Carte bancaire",
                                'description': "<p>Ayez toujours sous la main votre numÃ©ro de carte, la date d'expiration, le code de contrÃ´le et le code secret avec Clipperz</p> ",
                                'fields': {
                                    'TXT': "Type (Visa, AmEx, ...)",
                                    'TXT': "NumÃ©ro",
                                    'TXT': "Nom du porteur",
                                    'TXT': "Date de validitÃ©",
                                    'TXT': "Code de contrÃ´le",
                                    'PWD': "Code secret",
                                    'URL': "Site web",
                                    'TXT': "Identifiant",
                                    'PWD': "Mot de passe"
                                }
                            },
                            'AddressBookEntry': {
                                'title': "Carnet d'adresse",
                                'description': "<p>Clipperz peux aussi Ãªtre utilisÃ© comme un nouveau carnet d'adresse privÃ©. Utilisez ce modÃ¨le pour ajouter des contacts facilement.</p> ",
                                'fields': {
                                    'TXT': "Nom",
                                    'TXT': "Adresse eMail",
                                    'TXT': "TÃ©lÃ©phone",
                                    'TXT': "Mobile",
                                    'ADDR': "Adresse"
                                }
                            },
                            'Custom': {
                                'title': "Carte personnalisÃ©e",
                                'description': "<p>Quelles que soient les donnÃ©es confidentielles que vous souhaitez protÃ©ger, crÃ©ez une carte personnalisÃ©e adaptÃ©e Ã  vos besoins.</p> ",
                                'fields': {
                                    'TXT': "Titre du champ 1",
                                    'TXT': "Titre du champ 2",
                                    'TXT': "Titre du champ 3"
                                }
                            }
                        },
                        'recordFieldTypologies': {
                            'TXT': {
                                'description': "simple text field",
                                'shortDescription': "texte"
                            },
                            'PWD': {
                                'description': "simple text field, with default status set to hidden",
                                'shortDescription': "mot de passe"
                            },
                            'URL': {
                                'description': "simple text field in edit mode, that became an active url in view mode",
                                'shortDescription': "adresse de site web"
                            },
                            'DATE': {
                                'description': "a value set with a calendar helper",
                                'shortDescription': "date"
                            },
                            'ADDR': {
                                'description': "just like the URL, but the active link points to Google Maps (or similar service) passing the address value as argument",
                                'shortDescription': "adresse"
                            },
                            'CHECK': {
                                'description': "check description",
                                'shortDescription': "check"
                            },
                            'RADIO': {
                                'description': "radio description",
                                'shortDescription': "radio"
                            },
                            'SELECT': {
                                'description': "select description",
                                'shortDescription': "select"
                            }
                        },
                        'newRecordPanelGeneralExceptionTitle': "Erreur",
                        'newRecordPanelGeneralExceptionMessage': "Le code de configuration n'est pas valide. Copiez le depuis la fenÃªtre du bookmarklet, et essayez Ã  nouveau.",
                        'newRecordPanelWrongBookmarkletVersionExceptionTitle': "Erreur",
                        'newRecordPanelWrongBookmarkletVersionExceptionMessage': "Ce code de configuration provient d'un ancien bookmarklet. Mettez votre bookmarklet Ã  jour, puis essayez de nouveau.",
                        'newRecordPanelExceptionPanelCloseButtonLabel': "Annuler",
                        'mainPanelDeletingRecordPanelConfirmationTitle': "Suppression de la carte sÃ©lectionnÃ©e",
                        'mainPanelDeleteRecordPanelConfirmationText': "Voulez vous vraiment supprimer la carte sÃ©lectionnÃ©e?",
                        'mainPanelDeleteRecordPanelConfirmButtonLabel': "Oui",
                        'mainPanelDeleteRecordPanelDenyButtonLabel': "Non",
                        'mainPanelDeletingRecordPanelInitialTitle': "Suppression de la carte",
                        'mainPanelDeletingRecordPanelCompletedText': "TerminÃ©",
                        'deleteRecordPanelCollectRecordDataMessageTitle': "Supprimer la carte",
                        'deleteRecordPanelCollectRecordDataMessageText': "Mise Ã  jour de la liste des cartes",
                        'deleteRecordPanelEncryptUserDataMessageTitle': "Supprimer la carte",
                        'deleteRecordPanelEncryptUserDataMessageText': "Chiffrement local des en-tÃªtes de carte",
                        'deleteRecordPanelSendingDataToTheServerMessageTitle': "Supprimer la carteDelete card",
                        'deleteRecordPanelSendingDataToTheServerMessageText': "Transmission des en-tÃªtes chiffrÃ©es Ã  Clipperz",
                        'deleteRecordPanelUpdatingTheInterfaceMessageTitle': "Supprimer la carte",
                        'deleteRecordPanelUpdatingTheInterfaceMessageText': "Mise Ã  jour de l'interface",
                        'recordDetailNoRecordSelectedTitle': "Aucune carte sÃ©lectionnÃ©e",
                        'recordDetailNoRecordSelectedDescription': "<p>Veuillez selectionner une carte dans la liste de gauche.</p> ",
                        'recordDetailLoadingRecordMessage': "TÃ©lÃ©chargement de la carte chiffrÃ©e depuis Clipperz",
                        'recordDetailDecryptingRecordMessage': "DÃ©chiffrement local des informations de la carte",
                        'recordDetailLoadingRecordVersionMessage': "TÃ©lÃ©chargement de la derniÃ¨re version de la carte",
                        'recordDetailDecryptingRecordVersionMessage': "DÃ©chiffrement local de la derniÃ¨re version",
                        'recordDetailLoadingErrorMessageTitle': "Erreur lors du tÃ©lÃ©chargement de la carte",
                        'recordDetailNotesLabel': "Notes",
                        'recordDetailLabelFieldColumnLabel': "Titre du champ",
                        'recordDetailDataFieldColumnLabel': "DonnÃ©es du champ",
                        'recordDetailTypeFieldColumnLabel': "Type",
                        'recordDetailSavingChangesMessagePanelInitialTitle': "Enregistrement de la carte",
                        'recordDetailAddFieldButtonLabel': "Ajouter un champ",
                        'recordDetailPasswordFieldHelpLabel': "pour copier le mot de passe, cliquez sur les Ã©toiles, puis Ctrl-C",
                        'recordDetailPasswordFieldScrambleLabel': "dissimuler",
                        'recordDetailPasswordFieldUnscrambleLabel': "en clair",
                        'recordDetailDirectLoginBlockTitle': "AccÃ¨s directs",
                        'recordDetailNewDirectLoginDescription': "<p>Configuration de l'accÃ¨s direct</p> ",
                        'recordDetailDirectLoginBlockNoDirectLoginConfiguredDescription': "<p>Cette carte contient-elle des informations d'identification pour un service en ligne?</p> <p>Utilisez le bookmarklet pour configurer un âaccÃ¨s directâ depuis Clipperz en un seul click!</p> ",
                        'recordDetailAddNewDirectLoginButtonLabel': "Ajouter un accÃ¨s direct",
                        'recordDetailEditButtonLabel': "Modifier",
                        'recordDetailSaveButtonLabel': "Sauver",
                        'recordDetailCancelButtonLabel': "Annuler",
                        'newRecordTitleLabel': "_nouvelle carte_",
                        'recordSaveChangesPanelCollectRecordInfoMessageTitle': "Enregistrement de la carte",
                        'recordSaveChangesPanelCollectRecordInfoMessageText': "Updating card headers",
                        'recordSaveChangesPanelEncryptUserDataMessageTitle': "Sauvegarde de la carte",
                        'recordSaveChangesPanelEncryptUserDataMessageText': "Cryptage local des en-tÃªtes chiffrÃ©s",
                        'recordSaveChangesPanelEncryptRecordDataMessageTitle': "Sauvegarde de la carte",
                        'recordSaveChangesPanelEncryptRecordDataMessageText': "Cryptage local des en-tÃªtes chiffrÃ©s",
                        'recordSaveChangesPanelEncryptRecordVersionDataMessageTitle': "Sauvegarde de la carte",
                        'recordSaveChangesPanelEncryptRecordVersionDataMessageText': "Cryptage local des donnÃ©es de version de la carte",
                        'recordSaveChangesPanelSendingDataToTheServerMessageTitle': "Sauvegarde de la carte",
                        'recordSaveChangesPanelSendingDataToTheServerMessageText': "TÃ©lÃ©chargement des cartes dâen-tÃªtes chiffrÃ©s depuis Clipperz",
                        'recordSaveChangesPanelUpdatingTheInterfaceMessageTitle': "Sauvegarde de la carte",
                        'recordSaveChangesPanelUpdatingTheInterfaceMessageText': "Mise Ã  jour de l'interface",
                        'passwordGeneratorPanelTitle': "GÃ©nÃ©rateur de mot de passe",
                        'passwordGeneratorPanelOkLabel': "Ok",
                        'passwordGeneratorPanelCancelLabel': "Annuler",
                        'passwordGeneratorLengthLabel': "longueur:",
                        'comingSoon': "BientÃ´t en ligne ...",
                        'panelCollectingEntryopyMessageText': "Rassemblement d'entropie",
                        'directLoginConfigurationCheckBoxFieldSelectedValue': "Oui",
                        'directLoginConfigurationCheckBoxFieldNotSelectedValue': "Non",
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.PM.Strings.Languages['ru-RU'.toLowerCase()] = MochiKit.Base.merge(Clipperz.PM.Strings.Languages['en-us'], {
                        'clipperzServiceDescription': "<h2>ÐÐµÑÐ¶Ð¸ Ð²ÑÐµÐ³Ð´Ð° Ð¿ÑÐ¸ ÑÐµÐ±Ðµ!</h2> <ul> <li> <h3>Clipperz - ÑÑÐ¾:</h3> <ul> <li> <p>Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½ÑÐ¹ Ð¸ Ð¿ÑÐ¾ÑÑÐ¾Ð¹ Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑ Ð¿Ð°ÑÐ¾Ð»ÐµÐ¹</p> </li> <li> <p>ÑÑÑÐµÐºÑÐ¸Ð²Ð½Ð¾Ðµ ÑÐµÑÐµÐ½Ð¸Ðµ Ð´Ð»Ñ ÐµÐ´Ð¸Ð½Ð¾Ð¹ ÑÐµÐ³Ð¸ÑÑÑÐ°ÑÐ¸Ð¸</p> </li> <li> <p>ÑÐ¸ÑÑÐ¾Ð²Ð¾Ðµ ÑÑÐ°Ð½Ð¸Ð»Ð¸ÑÐµ Ð²Ð°ÑÐ¸Ñ ÐºÐ¾Ð½ÑÐ¸Ð´ÐµÐ½ÑÐ¸Ð°Ð»ÑÐ½ÑÑ Ð´Ð°Ð½Ð½ÑÑ</p> </li> </ul> </li> <li>\
   <h3>C Ð¿Ð¾Ð¼Ð¾ÑÑÑ Clipperz Ð²Ñ Ð¼Ð¾Ð¶ÐµÑÐµ:</h3> <ul>\
    <li> <p>ÑÑÐ°Ð½Ð¸ÑÑ Ð¸ ÑÐ¿ÑÐ°Ð²Ð»ÑÑÑ Ð²Ð°ÑÐ¸Ð¼Ð¸ Ð¿Ð°ÑÐ¾Ð»ÑÐ¼Ð¸</p> </li> <li> <p>Ð²ÑÐ¾Ð´Ð¸ÑÑ Ð² Ð»ÑÐ±ÑÐµ Ð²ÐµÐ±-ÑÐµÑÐ²Ð¸ÑÑ Ð±ÐµÐ· Ð²Ð²Ð¾Ð´Ð° Ð»Ð¾Ð³Ð¸Ð½Ð° Ð¸ Ð¿Ð°ÑÐ¾Ð»Ñ</p> </li> <li> <p>Ð·Ð°ÑÐ¸ÑÐ¸ÑÑ Ð²ÑÐµ Ð²Ð°Ð¶Ð½ÑÐµ Ð´Ð°Ð½Ð½ÑÐµ: ÐºÐ¾Ð´Ñ Ð¾ÑÑÐ°Ð½Ð½Ð¾Ð¹ ÑÐ¸Ð³Ð½Ð°Ð»Ð¸Ð·Ð°ÑÐ¸Ð¸, PINÑ, Ð½Ð¾Ð¼ÐµÑÐ° ÐºÑÐµÐ´Ð¸ÑÐ½ÑÑ ÐºÐ°ÑÑ, Ð¸ Ð¿Ñ.</p> </li> <li> <p>Ð¾ÑÐºÑÑÑÑ Ð´Ð¾ÑÑÑÐ¿ Ðº Ð¿Ð°ÑÐ¾Ð»ÑÐ¼ Ð²Ð°ÑÐ¸Ð¼ ÑÐ»ÐµÐ½Ð°Ð¼ ÑÐµÐ¼ÑÐ¸, Ð´ÑÑÐ·ÑÑÐ¼, ÐºÐ¾Ð»Ð»ÐµÐ³Ð°Ð¼</p> </li> </ul> </li> <li>\
   <h3>ÐÑÐµÐ¸Ð¼ÑÑÐµÑÑÐ²Ð° Clipperz:</h3> <ul>\
    <li> <p>Ð±ÐµÑÐ¿Ð»Ð°ÑÐ½ÑÐ¹ Ð¸ Ð°Ð±ÑÐ¾Ð»ÑÑÐ½Ð¾ Ð°Ð½Ð¾Ð½Ð¸Ð¼Ð½ÑÐ¹</p> </li> <li> <p>Ð´Ð¾ÑÑÑÐ¿ÐµÐ½ Ð² Ð»ÑÐ±Ð¾Ðµ Ð²ÑÐµÐ¼Ñ Ð¸ Ñ Ð»ÑÐ±Ð¾Ð³Ð¾ ÐºÐ¾Ð¼Ð¿ÑÑÑÐµÑÐ°</p> </li> <li> <p>Ð½Ðµ Ð½ÑÐ¶Ð½Ð¾ Ð½Ð¸ÑÐµÐ³Ð¾ ÑÑÑÐ°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÑÑ</p> </li> <li> <p>Ð½Ðµ Ð½Ð°Ð´Ð¾ ÑÑÐ°Ð½Ð¸ÑÑ ÑÐµÐºÑÐµÑÑ Ð½Ð° ÐºÐ¾Ð¼Ð¿ÑÑÑÐµÑÐµ Ð¸Ð»Ð¸ Ð±ÑÐ¼Ð°Ð³Ðµ</p> </li> </ul> </li> <li>\
   <h3>ÐÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑÑ Clipperz:</h3> <ul>\
    <li> <p>Ð²ÑÐµ Ð´Ð°Ð½Ð½ÑÐµ Ð¿ÐµÑÐµÐ´ Ð¾ÑÐ¿ÑÐ°Ð²ÐºÐ¾Ð¹ Ð² Clipperz ÑÐ¸ÑÑÑÑÑÑÑ Ð² Ð±ÑÐ°ÑÐ·ÐµÑÐµ</p> </li> <li> <p>Ð¿Ð°ÑÐ¾Ð»Ñ Ð·Ð½Ð°ÐµÑÐµ ÑÐ¾Ð»ÑÐºÐ¾ Ð²Ñ</p> </li> <li> <p>Clipperz ÑÐ¿ÑÐ°Ð²Ð»ÑÐµÑ Ð²Ð°Ð¶Ð½ÑÐ¼Ð¸ Ð´Ð°Ð½Ð½ÑÐ¼Ð¸ Ð² Ð·Ð°ÑÐ¸ÑÑÐ¾Ð²Ð°Ð½Ð½Ð¾Ð¼ Ð²Ð¸Ð´Ðµ Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð° Ð½Ðµ Ð¿Ð¾Ð»ÑÑÐ¸Ñ Ð´Ð¾ÑÑÑÐ¿ Ðº Ð½Ð¸Ð¼ Ð² Ð¾ÑÐºÑÑÑÐ¾Ð¼ Ð²Ð¸Ð´Ðµ</p> </li> <li> <p>Clipperz Ð¾ÑÐ½Ð¾Ð²Ð°Ð½ Ð½Ð° ÑÑÐ°Ð½Ð´Ð°ÑÑÐ½ÑÑ ÐºÑÐ¸Ð¿ÑÐ¾Ð³ÑÐ°ÑÐ¸ÑÐµÑÐºÐ¸Ñ Ð¿ÑÐ¾ÑÐ¾ÐºÐ¾Ð»Ð°Ñ: Ð±ÐµÐ· ÐºÐ°ÐºÐ¸Ñ-Ð»Ð¸Ð±Ð¾ ÑÐ°Ð¼Ð¾Ð´ÐµÐ»Ð¾Ðº</p> </li> <li> <p>Ð²Ñ Ð¼Ð¾Ð¶ÐµÑÐµ Ð¿ÑÐ¾ÑÐ¼Ð¾ÑÑÐµÑÑ Ð¸ÑÑÐ¾Ð´Ð½ÑÐ¹ ÐºÐ¾Ð´, Ð½Ð¾ Ð²Ð°Ð¼ Ð½Ð¸ÑÐµÐ³Ð¾ Ð½Ðµ Ð½Ð°Ð´Ð¾ Ð·Ð½Ð°ÑÑ Ð¾ ÐºÑÐ¸Ð¿ÑÐ¾Ð³ÑÐ°ÑÐ¸Ð¸, ÑÑÐ¾Ð±Ñ Ð¿ÑÐ¾ÑÑÐ¾ Ð¸ÑÐ¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÑ ÐµÐ³Ð¾!</p> </li> </ul> </li> <li>\
   <a href=\"http://www.clipperz.com\" target=\"_parent\">ÐÐ¾Ð´ÑÐ¾Ð±Ð½ÐµÐµ</a> </li> </ul> ",
                        'loginFormTitle': "Ð²Ð¾Ð¹ÑÐ¸ Ð² Ð°ÐºÐºÐ°ÑÐ½Ñ Clipperz",
                        'loginFormUsernameLabel': "Ð»Ð¾Ð³Ð¸Ð½",
                        'loginFormPassphraseLabel': "Ð¿Ð°ÑÐ¾Ð»Ñ",
                        'loginFormDontHaveAnAccountLabel': "Ñ Ð²Ð°Ñ ÐµÑÐµ Ð½ÐµÑ Ð°ÐºÐºÐ°ÑÐ½ÑÐ°?",
                        'loginFormCreateOneLabel': "ÑÐ¾Ð·Ð´Ð°ÑÑ ÑÐµÐ¹ÑÐ°Ñ",
                        'loginFormForgotYourCredentialsLabel': "Ð·Ð°Ð±ÑÐ»Ð¸ Ð¿Ð°ÑÐ¾Ð»Ñ?",
                        'loginFormAarghThatsBadLabel': "ÑÑÐ¾ Ð¿Ð»Ð¾ÑÐ¾!",
                        'loginFormAfraidOfMaliciousScriptsLabel': "Ð¾Ð¿Ð°ÑÐ°ÐµÑÐµÑÑ Ð²ÑÐµÐ´Ð¾Ð½Ð¾ÑÐ½ÑÑ ÑÐºÑÐ¸Ð¿ÑÐ¾Ð²?",
                        'loginFormVerifyTheCodeLabel': "Ð¿ÑÐ¾Ð²ÐµÑÐ¸ÑÑ",
                        'loginFormButtonLabel': "ÐÐ¾Ð¹ÑÐ¸",
                        'loginFormOneTimePasswordCheckboxLabel': "Ð¸ÑÐ¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÑ Ð¾Ð´Ð½Ð¾ÑÐ°Ð·Ð¾Ð²ÑÐ¹ Ð¿Ð°ÑÐ¾Ð»Ñ",
                        'loginPanelSwithLanguageDescription': "<h5>ÐÐµÑÐµÐºÐ»ÑÑÐ¸ÑÑ ÑÐ·ÑÐº</h5> ",
                        'browserCompatibilityDescription': "<p>Clipperz Ð°Ð´Ð°Ð¿ÑÐ¸ÑÐ¾Ð²Ð°Ð½ Ð´Ð»Ñ Firefox. ÐÐ¾ ÑÐ°ÐºÐ¶Ðµ ÑÐ¾Ð²Ð¼ÐµÑÑÐ¸Ð¼ Ñ Opera Ð¸ MS Internet Explorer!</p> ",
                        'OTPloginMessagePanelInitialTitle': "ÐÑÐ¾Ð´",
                        'OTPloginMessagePanelInitialText': "ÐÐµÑÐµÐ´Ð°ÑÐ° Ð´Ð°Ð½Ð½ÑÑ ÑÑÐµÑÐ½Ð¾Ð¹ Ð·Ð°Ð¿Ð¸ÑÐ¸ ...",
                        'OTPloginMessagePanelLoadingTitle': "ÐÑÐ¾Ð´",
                        'OTPloginMessagePanelLoadingText': "ÐÐ°Ð¿ÑÐ¾Ñ Ð°ÑÑÐµÐ½ÑÐ¸ÑÐ¸ÐºÐ°ÑÐ¸Ð¾Ð½Ð½ÑÑ Ð´Ð°Ð½Ð½ÑÑ Ñ ÑÐµÑÐ²ÐµÑÐ° ...",
                        'OTPloginMessagePanelProcessingTitle': "ÐÑÐ¾Ð´",
                        'OTPloginMessagePanelProcessingText': "Ð Ð°ÑÑÐ¸ÑÑÐ¾Ð²ÐºÐ° Ð°ÑÑÐµÐ½ÑÐ¸ÑÐ¸ÐºÐ°ÑÐ¸Ð¾Ð½Ð½ÑÑ Ð´Ð°Ð½Ð½ÑÑ",
                        'loginMessagePanelInitialTitle': "ÐÑÐ¾Ð´ ...",
                        'loginMessagePanelInitialButtonLabel': "ÐÑÐ¼ÐµÐ½Ð°",
                        'loginMessagePanelConnectedTitle': "Ð¡Ð¾ÐµÐ´Ð¸Ð½ÐµÐ½",
                        'loginMessagePanelConnectedText': "ÐÑÐ¿Ð¾Ð»Ð½ÐµÐ½",
                        'loginMessagePanelFailureTitle': "ÐÑÐ¸Ð±ÐºÐ°",
                        'loginMessagePanelFailureText': "ÐÑÐ¸Ð±ÐºÐ° Ð¿ÑÐ¸ Ð¿Ð¾Ð¿ÑÑÐºÐµ Ð²ÑÐ¾Ð´Ð°",
                        'loginMessagePanelFailureButtonLabel': "ÐÐ°ÐºÑÑÑÑ",
                        'connectionLoginSendingCredentialsMessageTitle': "ÐÑÐ¾Ð²ÐµÑÐºÐ° ÑÑÐµÑÐ½Ð¾Ð¹ Ð·Ð°Ð¿Ð¸ÑÐ¸",
                        'connectionLoginSendingCredentialsMessageText': "ÐÐµÑÐµÐ´Ð°ÑÐ° Ð´Ð°Ð½Ð½ÑÑ ...",
                        'connectionLoginCredentialsVerificationMessageTitle': "ÐÑÐ¾Ð²ÐµÑÐºÐ° ÑÑÐµÑÐ½Ð¾Ð¹ Ð·Ð°Ð¿Ð¸ÑÐ¸",
                        'connectionLoginCredentialsVerificationMessageText': "ÐÑÐ¿Ð¾Ð»Ð½ÑÐµÐ¼ SRP-Ð°ÑÑÐµÐ½ÑÐ¸ÑÐ¸ÐºÐ°ÑÐ¸Ñ ...",
                        'connectionLoginDoneMessageTitle': "ÐÑÐ¾Ð²ÐµÑÐºÐ° ÑÑÐµÑÐ½Ð¾Ð¹ Ð·Ð°Ð¿Ð¸ÑÐ¸",
                        'connectionLoginDoneMessageText': "Ð¡Ð¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¾",
                        'userLoginPanelUpgradingUserCredentialsMessageTitle': "ÐÑÐ¾Ð²ÐµÑÐºÐ° ÑÑÐµÑÐ½Ð¾Ð¹ Ð·Ð°Ð¿Ð¸ÑÐ¸",
                        'userLoginPanelUpgradingUserCredentialsMessageText': "ÐÐ±Ð½Ð¾Ð²Ð»ÑÐµÐ¼ Ð¿Ð¾Ð»Ð½Ð¾Ð¼Ð¾ÑÐ¸Ñ Ðº Ð½Ð¾Ð²Ð¾Ð¹ ÑÑÐµÐ¼Ðµ Ð°ÑÑÐµÐ½ÑÐ¸ÑÐ¸ÐºÐ°ÑÐ¸Ð¸",
                        'userLoginPanelConnectedMessageTitle': "ÐÐ¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ Ð°ÑÑÐµÐ½ÑÐ¸ÑÐ¸ÑÐ¸ÑÐ¾Ð²Ð°Ð½",
                        'userLoginPanelConnectedMessageText': "Ð£ÑÐ¿ÐµÑÐ½ÑÐ¹ Ð²ÑÐ¾Ð´",
                        'userLoginPanelTryingAnOlderConnectionSchemaMessageTitle': "ÐÑÐ¾Ð²ÐµÑÐºÐ° ÑÑÐµÑÐ½Ð¾Ð¹ Ð·Ð°Ð¿Ð¸ÑÐ¸",
                        'userLoginPanelTryingAnOlderConnectionSchemaMessageText': "ÐÑÐ¾Ð±ÑÐµÐ¼ Ð²Ð¾Ð¹ÑÐ¸ Ð¿Ð¾ ÑÑÐ°ÑÐ¾Ð¹ ÑÑÐµÐ¼Ðµ",
                        'userLoginPanelLoadingUserDataMessageTitle': "ÐÐ¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ Ð°ÑÑÐµÐ½ÑÐ¸ÑÐ¸ÑÐ¸ÑÐ¾Ð²Ð°Ð½",
                        'userLoginPanelLoadingUserDataMessageText': "ÐÐ°Ð³ÑÑÐ·ÐºÐ° Ð·Ð°ÑÐ¸ÑÑÐ¾Ð²Ð°Ð½Ð½ÑÑ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¾Ð² ÐºÐ°ÑÑÐ¾ÑÐµÐº",
                        'userLoginPanelDecryptingUserDataMessageTitle': "ÐÐ¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ Ð°ÑÑÐµÐ½ÑÐ¸ÑÐ¸ÑÐ¸ÑÐ¾Ð²Ð°Ð½",
                        'userLoginPanelDecryptingUserDataMessageText': "Ð Ð°ÑÑÐ¸ÑÑÐ¾Ð²ÐºÐ° Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¾Ð² ÐºÐ°ÑÑÐ¾ÑÐµÐº",
                        'userLoginPanelDecryptingUserStatisticsMessageTitle': "ÐÐ¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ Ð°ÑÑÐµÐ½ÑÐ¸ÑÐ¸ÑÐ¸ÑÐ¾Ð²Ð°Ð½",
                        'userLoginPanelDecryptingUserStatisticsMessageText': "Ð Ð°ÑÑÐ¸ÑÑÐ¾Ð²ÐºÐ° ÑÑÐ°ÑÐ¸ÑÑÐ¸ÐºÐ¸",
                        'splashAlertTitle': "ÐÐ¾Ð±ÑÐ¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°ÑÑ Ð² Clipperz!",
                        'splashAlertText': "<p>ÐÐµÑÐºÐ¾Ð»ÑÐºÐ¾ ÑÐ¾Ð²ÐµÑÐ¾Ð² Ð¿Ð¾ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑÐ¸:</p> <ul> <li> <p>Ð¥ÑÐ°Ð½ÐµÐ½Ð¸Ðµ Ð´Ð°Ð½Ð½ÑÑ Ð² Clipperz Ð·Ð°Ð²Ð¸ÑÐ¸Ñ Ð¾Ñ ÑÐ¾Ð³Ð¾, Ð½Ð°ÑÐºÐ¾Ð»ÑÐºÐ¾ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐµÐ½ Ð²ÑÐ±ÑÐ°Ð½Ð½ÑÐ¹ Ð²Ð°Ð¼Ð¸ Ð¿Ð°ÑÐ¾Ð»Ñ</p> </li> <li> <p>ÐÑÐ»Ð¸ ÑÐ¾Ð±Ð¸ÑÐ°ÐµÑÐµÑÑ Ð¸ÑÐ¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÑ Clipperz Ð´Ð»Ñ Ð·Ð°ÑÐ¸ÑÑ Ð²Ð°Ð¶Ð½ÑÑ Ð¸Ð»Ð¸ ÐºÑÐ¸ÑÐ¸ÑÐµÑÐºÐ¸Ñ Ð´Ð°Ð½Ð½ÑÑ, ÑÐ¾ ÑÐ±ÐµÐ´Ð¸ÑÐµÑÑ, ÑÑÐ¾ Ð²ÑÐ±ÑÐ°Ð»Ð¸ ÑÐ»Ð¾Ð¶Ð½ÑÐ¹ Ð¿Ð°ÑÐ¾Ð»Ñ</p> </li> <li> <p>Clipperz Ð½Ðµ ÑÐ¼Ð¾Ð¶ÐµÑ Ð²Ð¾ÑÑÑÐ°Ð½Ð¾Ð²Ð¸ÑÑ Ð·Ð°Ð±ÑÑÑÐ¹ Ð¿Ð°ÑÐ¾Ð»Ñ</p> </li> </ul> <p>ÐÐ° Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸ÑÐµÐ»ÑÐ½Ð¾Ð¹ Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸ÐµÐ¹ Ð¾Ð±ÑÐ°ÑÐ¸ÑÐµÑÑ Ð½Ð° <a href=\"http://www.clipperz.com\" target=\"_parent\">ÑÐ°Ð¹Ñ</a> Clipperz.</p> ",
                        'splashAlertCloseButtonLabel': "OK",
                        'registrationFormTitle': "ÑÐ¾Ð·Ð´Ð°ÑÑ Ð°ÐºÐºÐ°ÑÐ½Ñ",
                        'registrationFormUsernameLabel': "Ð¸Ð¼Ñ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ",
                        'registrationFormPassphraseLabel': "Ð¿Ð°ÑÐ¾Ð»Ñ",
                        'registrationFormRetypePassphraseLabel': "Ð¿Ð¾Ð²ÑÐ¾ÑÐ¸ÑÐµ Ð¿Ð°ÑÐ¾Ð»Ñ",
                        'registrationFormSafetyCheckLabel': "Ð¯ Ð¿Ð¾Ð½Ð¸Ð¼Ð°Ñ, ÑÑÐ¾ Clipperz Ð½Ðµ ÑÐ¼Ð¾Ð¶ÐµÑ Ð²Ð¾ÑÑÑÐ°Ð½Ð¾Ð²Ð¸ÑÑ Ð·Ð°Ð±ÑÑÑÐ¹ Ð¿Ð°ÑÐ¾Ð»Ñ",
                        'registrationFormTermsOfServiceCheckLabel': "Ð¯ Ð¿ÑÐ¾ÑÐ¸ÑÐ°Ð» Ð¸ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½ Ñ <a href='http://www.clipperz.com/terms_of_service' target='_parent'>Ð£ÑÐ»Ð¾Ð²Ð¸ÑÐ¼Ð¸ Ð¿ÑÐµÐ´Ð¾ÑÑÐ°Ð²Ð»ÐµÐ½Ð¸Ñ ÑÑÐ»ÑÐ³</a>.",
                        'registrationFormDoYouAlreadyHaveAnAccountLabel': "Ñ Ð²Ð°Ñ ÑÐ¶Ðµ ÐµÑÑÑ Ð°ÐºÐºÐ°ÑÐ½Ñ?",
                        'registrationFormSimplyLoginLabel': "Ð¿ÑÐ¾ÑÑÐ¾ Ð°Ð²ÑÐ¾ÑÐ¸Ð·Ð¸ÑÑÐ¹ÑÐµÑÑ",
                        'registrationFormButtonLabel': "ÐÐ°ÑÐµÐ³Ð¸ÑÑÑÐ¸ÑÐ¾Ð²Ð°ÑÑ",
                        'registrationFormWarningMessageNotMatchingPassphrases': "ÐÐ°ÑÐ¾Ð»Ð¸ Ð½Ðµ ÑÐ¾Ð²Ð¿Ð°Ð´Ð°ÑÑ, Ð¿Ð¾Ð¶Ð°Ð¹Ð»ÑÑÑÐ°, Ð¿Ð¾Ð²ÑÐ¾ÑÐ¸ÑÐµ Ð²Ð²Ð¾Ð´",
                        'registrationFormWarningMessageSafetyCheckNotSelected': "ÐÑÐ¾ÑÐ¸ÑÐ°Ð¹ÑÐµ Ð¸ Ð¿ÑÐ¾Ð²ÐµÑÑÑÐµ Ð²ÑÐµ Ð¿Ð¾Ð»Ñ Ð½Ð¸Ð¶Ðµ",
                        'registrationFormWarningMessageTermsOfServiceCheckNotSelected': "ÐÑ Ð´Ð¾Ð»Ð¶Ð½Ñ Ð¿ÑÐ¸Ð½ÑÑÑ Ð£ÑÐ»Ð¾Ð²Ð¸Ñ Ð¿ÑÐµÐ´Ð¾ÑÑÐ°Ð²Ð»ÐµÐ½Ð¸Ñ ÑÑÐ»ÑÐ³",
                        'registrationMessagePanelInitialTitle': "Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð°ÐºÐºÐ°ÑÐ½ÑÐ°",
                        'registrationMessagePanelInitialButtonLabel': "ÐÑÐ¼ÐµÐ½Ð°",
                        'registrationMessagePanelRegistrationDoneTitle': "Ð ÐµÐ³Ð¸ÑÑÑÐ°ÑÐ¸Ñ",
                        'registrationMessagePanelRegistrationDoneText': "ÐÑÐ¿Ð¾Ð»Ð½ÐµÐ½Ð¾",
                        'registrationMessagePanelFailureTitle': "ÐÑÐ¸Ð±ÐºÐ° ÑÐµÐ³Ð¸ÑÑÑÐ°ÑÐ¸Ð¸",
                        'registrationMessagePanelFailureButtonLabel': "ÐÐ°ÐºÑÑÑÑ",
                        'connectionRegistrationSendingRequestMessageText': "ÐÑÐ¾Ð²ÐµÑÐºÐ° ÑÑÐµÑÐ½Ð¾Ð¹ Ð·Ð°Ð¿Ð¸ÑÐ¸",
                        'connectionRegistrationSendingCredentialsMessageText': "ÐÐµÑÐµÐ´Ð°ÑÐ° Ð´Ð°Ð½Ð½ÑÑ",
                        'registrationSplashPanelTitle': "Ð¡Ð¾Ð²ÐµÑ",
                        'registrationSplashPanelDescription': "<p>Ð­ÑÐ¾ Ð²Ð°ÑÐ¸ Ð´Ð°Ð½Ð½ÑÐµ ÑÑÐµÑÐ½Ð¾Ð¹ Ð·Ð°Ð¿Ð¸ÑÐ¸, Ð¿Ð¾Ð·Ð°Ð±Ð¾ÑÐµÑÑ Ð¾Ð± Ð¸Ñ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑÐ¸. Clipperz Ð½Ð¸ÐºÐ¾Ð³Ð´Ð° Ð±Ð¾Ð»ÑÑÐµ Ð½Ðµ Ð¿Ð¾ÐºÐ°Ð¶ÐµÑ Ð²Ð°Ñ Ð»Ð¾Ð³Ð¸Ð½ Ð¸ Ð¿Ð°ÑÐ¾Ð»Ñ!</p> ",
                        'registrationSplashPanelUsernameLabel': "Ð¸Ð¼Ñ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ",
                        'registrationSplashPanelPassphraseLabel': "Ð¿Ð°ÑÐ¾Ð»Ñ",
                        'registrationSplashPanelShowPassphraseButtonLabel': "Ð¿Ð¾ÐºÐ°Ð·Ð°ÑÑ Ð¿Ð°ÑÐ¾Ð»Ñ",
                        'donateHeaderLinkLabel': "Ð¿Ð¾Ð¼Ð¾ÑÑ Ð¿ÑÐ¾ÐµÐºÑÑ",
                        'creditsHeaderLinkLabel': "Ð°Ð²ÑÐ¾ÑÑ",
                        'feedbackHeaderLinkLabel': "Ð¾Ð±ÑÐ°ÑÐ½Ð°Ñ ÑÐ²ÑÐ·Ñ",
                        'helpHeaderLinkLabel': "Ð¿Ð¾Ð¼Ð¾ÑÑ",
                        'forumHeaderLinkLabel': "ÑÐ¾ÑÑÐ¼",
                        'recordMenuLabel': "ÐºÐ°ÑÑÐ¾ÑÐºÐ¸",
                        'accountMenuLabel': "Ð°ÐºÐºÐ°ÑÐ½Ñ",
                        'dataMenuLabel': "Ð´Ð°Ð½Ð½ÑÐµ",
                        'contactsMenuLabel': "ÐºÐ¾Ð½ÑÐ°ÐºÑÑ",
                        'toolsMenuLabel': "Ð¸Ð½ÑÑÑÑÐ¼ÐµÐ½ÑÑ",
                        'logoutMenuLabel': "Ð²ÑÑÐ¾Ð´",
                        'lockMenuLabel': "Ð·Ð°Ð±Ð»Ð¾ÐºÐ¸ÑÐ¾Ð²Ð°ÑÑ",
                        'lockTitle': "ÐÐºÐºÐ°ÑÐ½Ñ Ð·Ð°Ð±Ð»Ð¾ÐºÐ¸ÑÐ¾Ð²Ð°Ð½",
                        'lockDescription': "<p>ÐÐ²ÐµÐ´Ð¸ÑÐµ Ð¿Ð°ÑÐ¾Ð»Ñ Ð´Ð»Ñ ÑÐ°Ð·Ð±Ð»Ð¾ÐºÐ¸ÑÐ¾Ð²ÐºÐ¸</p> ",
                        'unlockButtonLabel': "ÑÐ°Ð·Ð±Ð»Ð¾ÐºÐ¸ÑÐ¾Ð²Ð°ÑÑ",
                        'changePasswordTabLabel': "ÐÐ·Ð¼ÐµÐ½Ð¸ÑÑ Ð¿Ð°ÑÐ¾Ð»Ñ",
                        'changePasswordTabTitle': "ÐÐ·Ð¼ÐµÐ½Ð¸ÑÑ Ð¿Ð°ÑÐ¾Ð»Ñ",
                        'changePasswordFormUsernameLabel': "Ð»Ð¾Ð³Ð¸Ð½",
                        'changePasswordFormOldPassphraseLabel': "ÑÑÐ°ÑÑÐ¹ Ð¿Ð°ÑÐ¾Ð»Ñ",
                        'changePasswordFormNewPassphraseLabel': "Ð½Ð¾Ð²ÑÐ¹ Ð¿Ð°ÑÐ¾Ð»Ñ",
                        'changePasswordFormRetypePassphraseLabel': "Ð¿Ð¾Ð²ÑÐ¾ÑÐ¸ÑÐµ Ð¿Ð°ÑÐ¾Ð»Ñ",
                        'changePasswordFormSafetyCheckboxLabel': "Ð¯ Ð¿Ð¾Ð½Ð¸Ð¼Ð°Ñ, ÑÑÐ¾ Clipperz Ð½Ðµ ÑÐ¼Ð¾Ð¶ÐµÑ Ð²Ð¾ÑÑÑÐ°Ð½Ð¾Ð²Ð¸ÑÑ Ð·Ð°Ð±ÑÑÑÐ¹ Ð¿Ð°ÑÐ¾Ð»Ñ.",
                        'changePasswordFormSubmitLabel': "ÐÐ·Ð¼ÐµÐ½Ð¸ÑÑ",
                        'changePasswordFormWrongUsernameWarning': "ÐÐµÐ¿ÑÐ°Ð²Ð¸Ð»ÑÐ½ÑÐ¹ Ð»Ð¾Ð³Ð¸Ð½",
                        'changePasswordFormWrongPassphraseWarning': "ÐÐµÐ²ÐµÑÐ½ÑÐ¹ Ð¿Ð°ÑÐ¾Ð»Ñ",
                        'changePasswordFormWrongRetypePassphraseWarning': "ÐÐ°ÑÐ¾Ð»Ð¸ Ð½Ðµ ÑÐ¾Ð²Ð¿Ð°Ð´Ð°ÑÑ, Ð¿Ð¾Ð¶Ð°Ð¹Ð»ÑÑÑÐ°, Ð¿Ð¾Ð²ÑÐ¾ÑÐ¸ÑÐµ Ð²Ð²Ð¾Ð´.",
                        'changePasswordFormSafetyCheckWarning': "ÐÑÐ¾ÑÐ¸ÑÐ°Ð¹ÑÐµ Ð¸ Ð¿ÑÐ¾Ð²ÐµÑÑÑÐµ Ð²ÑÐµ Ð¿Ð¾Ð»Ñ Ð½Ð¸Ð¶Ðµ.",
                        'changePasswordFormProgressDialogTitle': "ÐÐ·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ ÑÑÐµÑÐ½Ð¾Ð¹ Ð·Ð°Ð¿Ð¸ÑÐ¸",
                        'changePasswordFormProgressDialogConnectedMessageTitle': "Ð¡Ð¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¾",
                        'changePasswordFormProgressDialogConnectedMessageText': "ÐÑÐ¿Ð¾Ð»Ð½ÐµÐ½Ð¾",
                        'changePasswordFormProgressDialogErrorMessageTitle': "ÐÑÐ¸Ð±ÐºÐ°",
                        'changePasswordFormProgressDialogErrorMessageText': "ÐÑÐ¸Ð±ÐºÐ° Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ ÑÑÐµÑÐ½Ð¾Ð¹ Ð·Ð°Ð¿Ð¸ÑÐ¸!",
                        'changeCredentialsPanelEncryptingDataMessageTitle': "ÐÐ·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð¿Ð°ÑÐ¾Ð»Ñ",
                        'changeCredentialsPanelEncryptingDataMessageText': "Ð¨Ð¸ÑÑÐ¾Ð²Ð°Ð½Ð¸Ðµ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¾Ð² ÐºÐ°ÑÑÐ¾ÑÐµÐº",
                        'changeCredentialsPanelCreatingNewCredentialsMessageTitle': "ÐÐ·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð¿Ð°ÑÐ¾Ð»Ñ",
                        'changeCredentialsPanelCreatingNewCredentialsMessageText': "ÐÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÑÐµÑÐ½Ð¾Ð¹ Ð·Ð°Ð¿Ð¸ÑÐ¸",
                        'changeCredentialsPanelSendingNewCredentialsToTheServerMessageTitle': "ÐÐ·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð¿Ð°ÑÐ¾Ð»Ñ",
                        'changeCredentialsPanelSendingNewCredentialsToTheServerMessageText': "ÐÐ°Ð³ÑÑÐ·ÐºÐ° Ð´Ð°Ð½Ð½ÑÑ ÑÑÐµÑÐ½Ð¾Ð¹ Ð·Ð°Ð¿Ð¸ÑÐ¸ Ð² Clipperz",
                        'changeCredentialsPanelDoneMessageTitle': "ÐÐ·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð¿Ð°ÑÐ¾Ð»Ñ",
                        'changeCredentialsPanelDoneMessageText': "ÐÑÐ¿Ð¾Ð»Ð½ÐµÐ½Ð¾",
                        'manageOTPTabLabel': "Ð£Ð¿ÑÐ°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¾Ð´Ð½Ð¾ÑÐ°Ð·Ð¾Ð²ÑÐ¼Ð¸ Ð¿Ð°ÑÐ¾Ð»ÑÐ¼Ð¸",
                        'manageOTPTabTitle': "Ð£Ð¿ÑÐ°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¾Ð´Ð½Ð¾ÑÐ°Ð·Ð¾Ð²ÑÐ¼Ð¸ Ð¿Ð°ÑÐ¾Ð»ÑÐ¼Ð¸",
                        'manageOTPTabDescription': "<p>ÐÐ´Ð½Ð¾ÑÐ°Ð·Ð¾Ð²ÑÐ¹ Ð¿Ð°ÑÐ¾Ð»Ñ ÑÐ°Ð±Ð¾ÑÐ°ÐµÑ ÑÐ°Ðº Ð¶Ðµ, ÐºÐ°Ðº Ð²Ð°Ñ Ð¾Ð±ÑÑÐ½ÑÐ¹ Ð¿Ð°ÑÐ¾Ð»Ñ, Ð½Ð¾ Ð¼Ð¾Ð¶ÐµÑ Ð±ÑÑÑ Ð¸ÑÐ¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°Ð½ ÑÐ¾Ð»ÑÐºÐ¾ Ð¾Ð´Ð¸Ð½ ÑÐ°Ð·.</p> <p>ÐÑÐ»Ð¸ Ð¾Ð´Ð¸Ð½ Ð¸ ÑÐ¾Ñ Ð¶Ðµ Ð¿Ð°ÑÐ¾Ð»Ñ Ð±ÑÐ´ÐµÑ Ð¸ÑÐ¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÑÑÑ ÑÐ½Ð¾Ð²Ð°, Ð¾Ð½ Ð±ÑÐ´ÐµÑ Ð¾ÑÐºÐ»Ð¾Ð½ÐµÐ½ Ð¿ÑÐ¸ Ð¿Ð¾Ð¿ÑÑÐºÐµ Ð²Ð¾Ð¹ÑÐ¸.</p> <p>Ð¡ÑÐ°Ð·Ñ Ð¿Ð¾ÑÐ»Ðµ Ð²ÑÐ¾Ð´Ð° Ð¾Ð´Ð½Ð¾ÑÐ°Ð·Ð¾Ð²ÑÐ¹ Ð¿Ð°ÑÐ¾Ð»Ñ Ð±ÑÐ´ÐµÑ ÑÐ´Ð°Ð»ÐµÐ½, ÑÑÐ¾Ð±Ñ Ð¿ÑÐµÐ´Ð¾ÑÐ²ÑÐ°ÑÐ¸ÑÑ Ð»ÑÐ±ÑÑ Ð½ÐµÑÐ°Ð½ÐºÑÐ¸Ð¾Ð½Ð¸ÑÐ¾Ð²Ð°Ð½Ð½ÑÑ Ð¿Ð¾Ð¿ÑÑÐºÑ Ð´Ð¾ÑÑÑÐ¿Ð°.</p> <p>ÐÐ´Ð½Ð¾ÑÐ°Ð·Ð¾Ð²ÑÐµ Ð¿Ð°ÑÐ¾Ð»Ð¸ - ÑÐ´Ð°ÑÐ½ÑÐ¹ Ð²ÑÐ±Ð¾Ñ Ð´Ð»Ñ ÑÐµÑ, ÐºÑÐ¾ Ð¾Ð±ÐµÑÐ¿Ð¾ÐºÐ¾ÐµÐ½ ÐºÐµÐ¹Ð»Ð¾Ð³Ð³ÐµÑÐ°Ð¼Ð¸ Ð¸Ð»Ð¸ spyware, ÐºÐ¾ÑÐ¾ÑÑÐµ Ð¼Ð¾Ð³ÑÑ ÑÐºÑÐ°ÑÑÑ Ð¿Ð°ÑÐ¾Ð»Ñ.</p> <p> <b>Ð¡ÑÑÐ¾Ð³Ð¾ ÑÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑÐµÑÑÑ Ð¸ÑÐ¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÑ Ð¾Ð´Ð½Ð¾ÑÐ°Ð·Ð¾Ð²ÑÐµ Ð¿Ð°ÑÐ¾Ð»Ð¸ Ð´Ð»Ñ Ð´Ð¾ÑÑÑÐ¿Ð° Ðº Clipperz Ñ ÑÑÐ¶Ð¸Ñ ÐºÐ¾Ð¼Ð¿ÑÑÑÐµÑÐ¾Ð², Ð¸Ð½ÑÐµÑÐ½ÐµÑ-ÐºÐ°ÑÐµ Ð¸ ÐºÐ¾Ð¼Ð¿ÑÑÑÐµÑÐ¾Ð² Ð¾Ð±ÑÐµÐ³Ð¾ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ.</b> </p> ",
                        'oneTimePasswordReadOnlyMessage': "<h6>ÐÐ·Ð²Ð¸Ð½Ð¸ÑÐµ!</h6> <p>ÐÑ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑÐµ ÑÐ¿ÑÐ°Ð²Ð»ÑÑÑ Ð¾Ð´Ð½Ð¾ÑÐ°Ð·Ð¾Ð²ÑÐ¼Ð¸ Ð¿Ð°ÑÐ¾Ð»ÑÐ¼Ð¸ Ð² Ð°Ð²ÑÐ¾Ð½Ð¾Ð¼Ð½Ð¾Ð¹ Ð²ÐµÑÑÐ¸Ð¸ Clipperz.</p> ",
                        'oneTimePasswordLoadingMessage': "<h6>ÐÐ°Ð³ÑÑÐ·ÐºÐ° Ð´Ð°Ð½Ð½ÑÑ</h6> <p>ÐÐ¾Ð´Ð¾Ð¶Ð´Ð¸ÑÐµ, Ð¿Ð¾Ð¶Ð°Ð¹Ð»ÑÑÑÐ° ...</p> ",
                        'oneTimePasswordNoPasswordAvailable': "<h6>ÐÐµÑ Ð´Ð¾ÑÑÑÐ¿Ð½ÑÑ Ð¾Ð´Ð½Ð¾ÑÐ°Ð·Ð¾Ð²ÑÑ Ð¿Ð°ÑÐ¾Ð»ÐµÐ¹.</h6> <p>ÐÐ°Ð¶Ð¼Ð¸ÑÐµ ÐºÐ½Ð¾Ð¿ÐºÑ âÐ¡Ð¾Ð·Ð´Ð°ÑÑâ, ÑÑÐ¾Ð±Ñ ÑÐ¾Ð·Ð´Ð°ÑÑ Ð¾Ð´Ð½Ð¾ÑÐ°Ð·Ð¾Ð²ÑÐ¹ Ð¿Ð°ÑÐ¾Ð»Ñ.</p> ",
                        'createNewOTPButtonLabel': "ÑÐ¾Ð·Ð´Ð°ÑÑ",
                        'deleteOTPButtonLabel': "ÑÐ´Ð°Ð»Ð¸ÑÑ",
                        'printOTPButtonLabel': "Ð¿ÐµÑÐ°ÑÑ",
                        'disabledOneTimePassword_warning': "Ð·Ð°Ð¿ÑÐµÑÐµÐ½Ð¾",
                        'oneTimePasswordSelectionLink_selectLabel': "ÐÑÐ±ÑÐ°ÑÑ:",
                        'oneTimePasswordSelectionLink_all': "Ð²ÑÐµ",
                        'oneTimePasswordSelectionLink_none': "Ð½Ð¸ Ð¾Ð´Ð½Ð¾Ð³Ð¾",
                        'oneTimePasswordSelectionLink_used': "Ð¸ÑÐ¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°Ð½Ð½ÑÐµ",
                        'oneTimePasswordSelectionLink_unused': "Ð½ÐµÐ¸ÑÐ¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°Ð½Ð½ÑÐµ",
                        'saveOTP_encryptUserDataTitle': "Ð¡Ð¾ÑÑÐ°Ð½ÐµÐ½Ð¸Ðµ Ð¾Ð´Ð½Ð¾ÑÐ°Ð·Ð¾Ð²ÑÑ Ð¿Ð°ÑÐ¾Ð»ÐµÐ¹",
                        'saveOTP_encryptUserDataText': "ÐÐ±ÑÐ°Ð±Ð¾ÑÐºÐ° Ð½Ð¾Ð²ÑÑ Ð´Ð°Ð½Ð½ÑÑ ÑÑÐµÑÐ½Ð¾Ð¹ Ð·Ð°Ð¿Ð¸ÑÐ¸ ...",
                        'saveOTP_encryptOTPDataTitle': "Ð¾Ð´Ð½Ð¾ÑÐ°Ð·Ð¾Ð²ÑÐ¼Ð¸ Ð¿Ð°ÑÐ¾Ð»ÑÐ¼Ð¸",
                        'saveOTP_encryptOTPDataText': "Ð¨Ð¸ÑÑÐ¾Ð²Ð°Ð½Ð¸Ðµ Ð°ÑÑÐµÐ½ÑÐ¸ÑÐ¸ÐºÐ°ÑÐ¸Ð¾Ð½Ð½ÑÑ Ð´Ð°Ð½Ð½ÑÑ ...",
                        'saveOTP_sendingDataTitle': "Ð¾Ð´Ð½Ð¾ÑÐ°Ð·Ð¾Ð²ÑÐ¼Ð¸ Ð¿Ð°ÑÐ¾Ð»ÑÐ¼Ð¸",
                        'saveOTP_sendingDataText': "ÐÐµÑÐµÐ´Ð°ÑÐ° Ð°ÑÑÐµÐ½ÑÐ¸ÑÐ¸ÐºÐ°ÑÐ¸Ð¾Ð½Ð½ÑÑ Ð´Ð°Ð½Ð½ÑÑ Ð½Ð° ÑÐµÑÐ²ÐµÑ ...",
                        'saveOTP_updatingInterfaceTitle': "Ð¾Ð´Ð½Ð¾ÑÐ°Ð·Ð¾Ð²ÑÐ¼Ð¸ Ð¿Ð°ÑÐ¾Ð»ÑÐ¼Ð¸",
                        'saveOTP_updatingInterfaceText': "ÐÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¸Ð½ÑÐµÑÑÐµÐ¹ÑÐ° ...",
                        'accountPreferencesLabel': "ÐÐ°ÑÑÑÐ¾Ð¹ÐºÐ¸",
                        'accountPreferencesTabTitle': "ÐÐ°ÑÑÑÐ¾Ð¹ÐºÐ¸",
                        'accountPreferencesLanguageTitle': "ÐÑÐ±Ð¾Ñ ÑÐ·ÑÐºÐ°",
                        'accountPreferencesLanguageDescription': "<p>ÐÑÐ±ÐµÑÐ¸ÑÐµ Ð²Ð°Ñ ÑÐ·ÑÐº Ð¸Ð· ÑÐ¿Ð¸ÑÐºÐ°.</p> ",
                        'showDonationReminderPanelTitle': "ÐÐ°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ñ Ð¾ Ð¿Ð¾Ð¶ÐµÑÑÐ²Ð¾Ð²Ð°Ð½Ð¸ÑÑ",
                        'showDonationReminderPanelDescription': "<p>ÐÐ¾ÐºÐ°Ð·ÑÐ²Ð°ÑÑ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ñ Ð¾ Ð¿Ð¾Ð¶ÐµÑÑÐ²Ð¾Ð²Ð°Ð½Ð¸ÑÑ</p> ",
                        'saveUserPreferencesFormSubmitLabel': "Ð¡Ð¾ÑÑÐ°Ð½Ð¸ÑÑ",
                        'cancelUserPreferencesFormSubmitLabel': "ÐÑÐ¼ÐµÐ½Ð°",
                        'accountPreferencesSavingPanelTitle_Step1': "Ð¡Ð¾ÑÑÐ°Ð½ÐµÐ½Ð¸Ðµ Ð½Ð°ÑÑÑÐ¾ÐµÐº",
                        'accountPreferencesSavingPanelText_Step1': "Ð¨Ð¸ÑÑÐ¾Ð²Ð°Ð½Ð¸Ðµ Ð½Ð°ÑÑÑÐ¾ÐµÐº",
                        'accountPreferencesSavingPanelTitle_Step2': "Ð¡Ð¾ÑÑÐ°Ð½ÐµÐ½Ð¸Ðµ Ð½Ð°ÑÑÑÐ¾ÐµÐº",
                        'accountPreferencesSavingPanelText_Step2': "ÐÐµÑÐµÐ´Ð°ÑÐ° Ð·Ð°ÑÐ¸ÑÑÐ¾Ð²Ð°Ð½Ð½ÑÑ Ð½Ð°ÑÑÑÐ¾ÐµÐº Ð² Clipperz",
                        'accountLoginHistoryLabel': "ÐÑÑÐ¾ÑÐ¸Ñ Ð²ÑÐ¾Ð´Ð¾Ð²",
                        'loginHistoryTabTitle': "ÐÑÑÐ¾ÑÐ¸Ñ Ð²ÑÐ¾Ð´Ð¾Ð²",
                        'loginHistoryReadOnlyMessage': "<h6>ÐÐ·Ð²Ð¸Ð½Ð¸ÑÐµ!</h6> <p>ÐÑÑÐ¾ÑÐ¸Ñ Ð²ÑÐ¾Ð´Ð¾Ð² Ð½Ðµ Ð´Ð¾ÑÑÑÐ¿Ð½Ð° Ð² Ð°Ð²ÑÐ¾Ð½Ð¾Ð¼Ð½Ð¾Ð¹ Ð²ÐµÑÑÐ¸Ð¸ Clipperz.</p> ",
                        'loginHistoryLoadingMessage': "<h6>ÐÐ°Ð³ÑÑÐ·ÐºÐ° Ð´Ð°Ð½Ð½ÑÑ</h6> <p>ÐÐ¾Ð´Ð¾Ð¶Ð´Ð¸ÑÐµ, Ð¿Ð¾Ð¶Ð°Ð¹Ð»ÑÑÑÐ° ...</p> ",
                        'loginHistoryLoadedMessage': "<h6>ÐÐ´ÐµÑÑ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ð¾ÑÐ¼Ð¾ÑÑÐµÑÑ Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ñ Ð¾ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ñ Ð°Ð²ÑÐ¾ÑÐ¸Ð·Ð°ÑÐ¸ÑÑ Ð² Clipperz</h6> <p> </p> ",
                        'loginHistoryIPLabel': "IP",
                        'loginHistoryTimeLabel': "Ð´Ð°ÑÐ°",
                        'loginHistoryCurrentSessionText': "ÑÐµÐºÑÑÐ°Ñ ÑÐµÑÑÐ¸Ñ",
                        'loginHistoryReloadButtonLabel': "ÐÐ±Ð½Ð¾Ð²Ð¸ÑÑ Ð¸ÑÑÐ¾ÑÐ¸Ñ",
                        'deleteAccountTabLabel': "Ð£Ð´Ð°Ð»Ð¸ÑÑ Ð°ÐºÐºÐ°ÑÐ½Ñ",
                        'deleteAccountTabTitle': "Ð£Ð´Ð°Ð»Ð¸ÑÑ Ð°ÐºÐºÐ°ÑÐ½Ñ",
                        'deleteAccountFormUsernameLabel': "Ð»Ð¾Ð³Ð¸Ð½",
                        'deleteAccountFormPassphraseLabel': "Ð¿Ð°ÑÐ¾Ð»Ñ",
                        'deleteAccountFormSafetyCheckboxLabel': "Ð¯ Ð¿Ð¾Ð½Ð¸Ð¼Ð°Ñ, ÑÑÐ¾ Ð²ÑÐµ Ð´Ð°Ð½Ð½ÑÐµ ÑÑÐ¾Ð³Ð¾ Ð°ÐºÐºÐ°ÑÐ½ÑÐ° Ð±ÑÐ´ÑÑ Ð±ÐµÐ·Ð²Ð¾Ð·Ð²ÑÐ°ÑÐ½Ð¾ ÑÐ´Ð°Ð»ÐµÐ½Ñ.",
                        'deleteAccountFormSubmitLabel': "Ð£Ð´Ð°Ð»Ð¸ÑÑ Ð°ÐºÐºÐ°ÑÐ½Ñ",
                        'deleteAccountFormWrongUsernameWarning': "ÐÐµÐ²ÐµÑÐ½ÑÐ¹ Ð»Ð¾Ð³Ð¸Ð½",
                        'deleteAccountFormWrongPassphraseWarning': "ÐÐµÐ²ÐµÑÐ½ÑÐ¹ Ð¿Ð°ÑÐ¾Ð»Ñ",
                        'deleteAccountFormSafetyCheckWarning': "ÐÑÐ¾ÑÑÐ¸ÑÐµ Ð¸ Ð¾ÑÐ¼ÐµÑÑÑÐµ Ð²ÑÐµ Ð¿Ð¾Ð»Ñ Ð½Ð¸Ð¶Ðµ.",
                        'accountPanelDeletingAccountPanelConfirmationTitle': "ÐÐÐÐÐÐÐÐ",
                        'accountPanelDeleteAccountPanelConfirmationText': "ÐÑ ÑÐ²ÐµÑÐµÐ½Ñ, ÑÑÐ¾ ÑÐ¾ÑÐ¸ÑÐµ ÑÐ´Ð°Ð»Ð¸ÑÑ Ð°ÐºÐºÐ°ÑÐ½Ñ? ÐÐ¿ÐµÑÐ°ÑÐ¸Ñ Ð½ÐµÐ¾Ð±ÑÐ°ÑÐ¸Ð¼Ð°.",
                        'accountPanelDeleteAccountPanelConfirmButtonLabel': "ÐÐ°",
                        'accountPanelDeleteAccountPanelDenyButtonLabel': "ÐÐµÑ",
                        'offlineCopyTabLabel': "ÐÐ²ÑÐ¾Ð½Ð¾Ð¼Ð½Ð°Ñ ÐºÐ¾Ð¿Ð¸Ñ",
                        'offlineCopyTabTitle': "ÐÐ²ÑÐ¾Ð½Ð¾Ð¼Ð½Ð°Ñ ÐºÐ¾Ð¿Ð¸Ñ",
                        'offlineCopyTabDescription': "<p>ÐÐ´Ð½Ð¸Ð¼ ÐºÐ»Ð¸ÐºÐ¾Ð¼ Ð²Ñ Ð¼Ð¾Ð¶ÐµÑÐµ ÑÐ¾ÑÑÐ°Ð½Ð¸ÑÑ Ð²ÑÐµ Ð·Ð°ÑÐ¸ÑÑÐ¾Ð²Ð°Ð½Ð½ÑÐµ Ð´Ð°Ð½Ð½ÑÐµ Ñ ÑÐµÑÐ²ÐµÑÐ¾Ð² Clipperz Ð½Ð° Ð¶ÐµÑÑÐºÐ¸Ð¹ Ð´Ð¸ÑÐº Ð¸ ÑÐ¾Ð·Ð´Ð°ÑÑ Ð°Ð²ÑÐ¾Ð½Ð¾Ð¼Ð½ÑÑ Ð²ÐµÑÑÐ¸Ñ, ÐºÐ¾ÑÐ¾ÑÑÑ Ð±ÑÐ´ÐµÑÐµ Ð¸ÑÐ¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÑ Ð¿ÑÐ¸ Ð¾ÑÑÑÑÑÑÐ²Ð¸Ð¸ Ð¿Ð¾Ð´ÐºÐ»ÑÑÐµÐ½Ð¸Ñ Ðº ÐÐ½ÑÐµÑÐ½ÐµÑÑ.</p> <p>ÐÐµÑÑÐ¸Ñ Ð´Ð¾ÑÑÑÐ¿Ð½Ð° ÑÐ¾Ð»ÑÐºÐ¾ Ð´Ð»Ñ ÑÑÐµÐ½Ð¸Ñ. ÐÐ½Ð° ÑÐ°Ðº Ð¶Ðµ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð°, ÐºÐ°Ðº Ð¸ Ð¾Ð½Ð»Ð°Ð¹Ð½ Ð²ÐµÑÑÐ¸Ñ, Ð¸ Ð½Ðµ Ð¿Ð¾Ð´Ð²ÐµÑÐ³Ð°ÐµÑ Ð²Ð°ÑÐ¸ Ð´Ð°Ð½Ð½ÑÐµ ÑÐ¸ÑÐºÑ, ÑÐ°Ðº ÐºÐ°Ðº Ð¸ÑÐ¿Ð¾Ð»ÑÐ·ÑÐµÑ ÑÐ¾Ñ Ð¶Ðµ ÐºÐ¾Ð´ Ð¸ Ð°ÑÑÐ¸ÑÐµÐºÑÑÑÑ.</p> <ol> <li> <p>ÐÐ°Ð¶Ð¼Ð¸ÑÐµ Ð½Ð° ÑÑÑÐ»ÐºÑ Ð½Ð¸Ð¶Ðµ, ÑÑÐ¾Ð±Ñ Ð·Ð°Ð³ÑÑÐ·Ð¸ÑÑ ÐµÐµ.</p> </li> <li> <p>ÐÑÐ°ÑÐ·ÐµÑ ÑÐ¿ÑÐ¾ÑÐ¸Ñ Ð²Ð°Ñ, ÑÑÐ¾ ÑÐ´ÐµÐ»Ð°ÑÑ Ñ ÑÐ°Ð¹Ð»Ð¾Ð¼ âClipperz_YYYYMMDD.htmlâ. Ð¡Ð¾ÑÑÐ°Ð½Ð¸ÑÐµ ÐµÐ³Ð¾ Ð½Ð° Ð²Ð°Ñ Ð¶ÐµÑÑÐºÐ¸Ð¹ Ð´Ð¸ÑÐº.</p> </li> <li> <p>ÐÐ°Ð¿ÑÑÑÐ¸ÑÐµ Ð·Ð°Ð³ÑÑÐ¶ÐµÐ½Ð½ÑÑ Ð°Ð²ÑÐ¾Ð½Ð¾Ð¼Ð½ÑÑ Ð²ÐµÑÑÐ¸Ñ Ð² Ð²Ð°ÑÐµÐ¼ Ð±ÑÐ°ÑÐ·ÐµÑÐµ.</p> </li> <li> <p>ÐÐ²ÐµÐ´Ð¸ÑÐµ, ÐºÐ°Ðº Ð¾Ð±ÑÑÐ½Ð¾, ÑÐ²Ð¾Ð¹ Ð»Ð¾Ð³Ð¸Ð½ Ð¸ Ð¿Ð°ÑÐ¾Ð»Ñ.</p> </li> </ol> ",
                        'offlineCopyDownloadLinkLabel': "Ð¡ÐºÐ°ÑÐ°ÑÑ",
                        'offlineCopyDownloadWarning': "<h4> <a href=\"#\" id=\"offlineCopyDownloadWarningLink\">ÐÐ±Ð½Ð¾Ð²Ð¸ÑÐµ Ð²Ð°ÑÑ Ð°Ð²ÑÐ¾Ð½Ð¾Ð¼Ð½ÑÑ ÐºÐ¾Ð¿Ð¸Ñ!</a> </h4> <p>ÐÑ Ð½ÐµÐ´Ð°Ð²Ð½Ð¾ ÑÐ¾Ð·Ð´Ð°Ð»Ð¸ Ð¸Ð»Ð¸ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»Ð¸ Ð¾Ð´Ð½Ñ Ð¸Ð»Ð¸ Ð±Ð¾Ð»ÐµÐµ ÐºÐ°ÑÑÐ¾ÑÐµÐº: ÑÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑÐµÑÑÑ ÑÐºÐ°ÑÐ°ÑÑ Ð½Ð¾Ð²ÑÑ Ð°Ð²ÑÐ¾Ð½Ð¾Ð¼Ð½ÑÑ ÐºÐ¾Ð¿Ð¸Ñ.</p> ",
                        'sharingTabLabel': "Ð¡Ð¾Ð²Ð¼ÐµÑÑÐ½Ð¾Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ",
                        'sharingTabTitle': "Ð¡Ð¾Ð²Ð¼ÐµÑÑÐ½Ð¾Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ",
                        'sharingTabDescription': "<p>ÐÐ¾ÑÑÐ°ÑÐ¾ÑÐ½Ð¾ ÑÐ°ÑÑÐ¾ ÐºÐ¾Ð½ÑÐ¸Ð´ÐµÐ½ÑÐ¸Ð°Ð»ÑÐ½ÑÑ Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ñ Ð½ÑÐ¶Ð½Ð¾ Ð¿ÑÐµÐ´Ð¾ÑÑÐ°Ð²Ð¸ÑÑ Ð´ÑÑÐ³Ð¸Ð¼ Ð»ÑÐ´ÑÐ¼.</p> <p>ÐÐ¾Ð¶ÐµÑ Ð±ÑÑÑ, Ð¿ÑÐ¾ÑÑÐ¾ Ð´Ð°ÑÑ ÐºÐ¾Ð»Ð»ÐµÐ³Ðµ ÐºÐ»ÑÑ Ð´Ð¾ÑÑÑÐ¿Ð° Ðº Ð²Ð°ÑÐµÐ¹ Ð¿Ð¾ÑÑÐµ, ÐºÐ¾Ð³Ð´Ð° Ð²Ð°Ñ Ð½ÐµÑÑ Ð² Ð¾ÑÐ¸ÑÐµ, Ð¸Ð»Ð¸ Ð´Ð°Ð¶Ðµ Ð¾ÑÐºÑÑÑÑ Ð´Ð¾ÑÑÑÐ¿ Ð½Ð°ÑÐ»ÐµÐ´Ð½Ð¸ÐºÐ°Ð¼ Ðº Ð²Ð°ÑÐµÐ¼Ñ ÑÑÐµÑÑ Ð² Ð¼ÐµÑÑÐ½Ð¾Ð¼ Ð±Ð°Ð½ÐºÐµ, Ð½Ð° ÑÐ»ÑÑÐ°Ð¹, ÐµÑÐ»Ð¸ Ñ Ð²Ð°Ð¼Ð¸ ÑÑÐ¾-Ð½Ð¸Ð±ÑÐ´Ñ ÑÐ»ÑÑÐ¸ÑÑÑ.</p> <p>Clipperz Ð¿Ð¾Ð¼Ð¾Ð¶ÐµÑ ÑÐ´ÐµÐ»Ð°ÑÑ ÑÐ¾Ð²Ð¼ÐµÑÑÐ½Ð¾Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð²Ð°ÑÐ¸Ñ ÑÐµÐºÑÐµÑÐ¾Ð² Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾Ð¹ Ð¸ Ð¿ÑÐ¾ÑÑÐ¾Ð¹ Ð¿ÑÐ¾ÑÐµÐ´ÑÑÐ¾Ð¹.</p> <p> </p> <p> <b>Ð Ð°Ð·Ð´ÐµÐ» Ð² ÑÐ°Ð·ÑÐ°Ð±Ð¾ÑÐºÐµ...</b> </p> ",
                        'importTabLabel': "ÐÐ¼Ð¿Ð¾ÑÑ",
                        'importTabTitle': "ÐÐ¼Ð¿Ð¾ÑÑ",
                        'importTabDescription': "<p>ÐÑ Ð¼Ð¾Ð¶ÐµÑÐµ Ð¸Ð¼Ð¿Ð¾ÑÑÐ¸ÑÐ¾Ð²Ð°ÑÑ Ð´Ð°Ð½Ð½ÑÐµ ÑÐµÐ»Ð¸ÐºÐ¾Ð¼, Ð² Ð²Ð°Ñ Ð°ÐºÐºÐ°ÑÐ½Ñ Clipperz, Ð¸Ð· ÑÐ°Ð¹Ð»Ð¾Ð² ÑÐ°Ð·Ð»Ð¸ÑÐ½ÑÑ ÑÐ¾ÑÐ¼Ð°ÑÐ¾Ð².</p>",
                        'printingTabLabel': "Ð­ÐºÑÐ¿Ð¾ÑÑ",
                        'printingTabTitle': "Ð­ÐºÑÐ¿Ð¾ÑÑ",
                        'printingTabDescription': "<p> <b>ÐÐµÑÐ°ÑÑ Ð²Ð°ÑÐ¸Ñ Ð´Ð°Ð½Ð½ÑÑ</b> </p> <p>ÐÐ°Ð¶Ð¼Ð¸ÑÐµ Ð¿Ð¾ ÑÑÑÐ»ÐºÐµ, ÑÑÐ¾Ð±Ñ Ð¾ÑÐºÑÑÑÑ Ð½Ð¾Ð²Ð¾Ðµ Ð¾ÐºÐ½Ð¾ ÑÐ¾ Ð²ÑÐµÐ¼Ð¸ Ð²Ð°ÑÐ¸Ð¼Ð¸ ÐºÐ°ÑÑÐ¾ÑÐºÐ°Ð¼Ð¸ Ð´Ð»Ñ Ð¿ÐµÑÐ°ÑÐ¸.</p> <p>ÐÑÐ»Ð¸ Ð²Ñ ÑÐ¾Ð±Ð¸ÑÐ°ÐµÑÐµÑÑ ÑÐ°ÑÐ¿ÐµÑÐ°ÑÐ°ÑÑ Ð² ÑÐµÐ·ÐµÑÐ²Ð½ÑÑ ÑÐµÐ»ÑÑ, Ð¿Ð¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, ÑÐ°ÑÑÐ¼Ð¾ÑÑÐ¸ÑÐµ Ð±Ð¾Ð»ÐµÐµ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½ÑÐ¹ Ð²Ð°ÑÐ¸Ð°Ð½Ñ, ÐºÐ°Ðº ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ âÐ°Ð²ÑÐ¾Ð½Ð¾Ð¼Ð½Ð¾Ð¹ ÐºÐ¾Ð¿Ð¸Ð¸â.</p> ",
                        'printingLinkLabel': "ÐÐµÑÑÐ¸Ñ Ð´Ð»Ñ Ð¿ÐµÑÐ°ÑÐ¸",
                        'contactsTabLabel': "ÐÐ¾Ð½ÑÐ°ÐºÑÑ",
                        'contactsTabTitle': "ÐÐ¾Ð½ÑÐ°ÐºÑÑ",
                        'passwordGeneratorTabLabel': "ÐÐµÐ½ÐµÑÐ°ÑÐ¾Ñ Ð¿Ð°ÑÐ¾Ð»ÐµÐ¹",
                        'passwordGeneratorTabTitle': "ÐÐµÐ½ÐµÑÐ°ÑÐ¾Ñ Ð¿Ð°ÑÐ¾Ð»ÐµÐ¹",
                        'passwordGeneratorTabButtonLabel': "ÑÐ³ÐµÐ½ÐµÑÐ¸ÑÐ¾Ð²Ð°ÑÑ",
                        'bookmarkletTabLabel': "ÐÑÐºÐ¼Ð°ÑÐºÐ»ÐµÑ",
                        'bookmarkletTabTitle': "ÐÑÐºÐ¼Ð°ÑÐºÐ»ÐµÑ",
                        'bookmarkletTabDescription': "<p>ÐÑÐºÐ¼Ð°ÑÐºÐ»ÐµÑ - ÑÑÐ¾ Ð¿ÑÐ¾ÑÑÐ¾Ð¹ Ð¸Ð½ÑÑÑÑÐ¼ÐµÐ½Ñ, ÐºÐ¾ÑÐ¾ÑÑÐ¹ Ð¿Ð¾Ð¼ÐµÑÐ°ÐµÑÑÑ Ð² Ð±ÑÐ°ÑÐ·ÐµÑ, ÐºÐ°Ðº Ð¾Ð±ÑÑÐ½Ð°Ñ Ð·Ð°ÐºÐ»Ð°Ð´ÐºÐ°, Ð¸ Ð¼Ð¾Ð¶ÐµÑ Ð²ÑÐ¿Ð¾Ð»Ð½ÑÑÑ ÑÐ°Ð·Ð»Ð¸ÑÐ½ÑÐµ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ñ Ð½Ð° ÑÐµÐºÑÑÐµÐ¹ ÑÑÑÐ°Ð½Ð¸ÑÐµ.</p> <p>ÐÑÐºÐ¼Ð°ÑÐºÐ»ÐµÑ Ð¾Ñ Clipperz Ð¿Ð¾Ð¼Ð¾Ð¶ÐµÑ Ð²Ð°Ð¼ Ð±ÑÑÑÑÐ¾ ÑÐ¾Ð·Ð´Ð°ÑÑ Ð½Ð¾Ð²ÑÐµ ÐºÐ°ÑÑÐ¾ÑÐºÐ¸ Ð¸ Ð±ÑÑÑÑÑÐ¹ Ð²ÑÐ¾Ð´ Ð²Ð½ÑÑÑÐ¸ ÑÑÑÐµÑÑÐ²ÑÑÑÐ¸Ñ ÐºÐ°ÑÑÐ¾ÑÐµÐº, Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ ÑÑÑÐ°Ð½Ð¸ÑÑ Ñ ÑÐ¾ÑÐ¼Ð¾Ð¹ Ð°Ð²ÑÐ¾ÑÐ¸Ð·Ð°ÑÐ¸Ð¸ Ð²Ð°ÑÐµÐ³Ð¾ ÑÐµÑÑÑÑÐ°.</p> <p> <b>Ð£ÑÑÐ¸ÑÐµ, ÑÑÐ¾ Ð·Ð°ÐºÐ»Ð°Ð´ÐºÐ° Ð±ÑÐºÐ¼Ð°ÑÐºÐ»ÐµÑÐ° Ð½Ðµ ÑÐ¾Ð´ÐµÑÐ¶Ð¸Ñ ÐºÐ°ÐºÐ¾Ð¹-Ð»Ð¸Ð±Ð¾ Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ð¸, ÑÐ²ÑÐ·Ð°Ð½Ð½Ð¾Ð¹ Ñ Ð°ÐºÐºÐ°ÑÐ½ÑÐ¾Ð¼ (Ð½Ð°Ð¿ÑÐ¸Ð¼ÐµÑ, Ð¸Ð¼Ñ Ð¸Ð»Ð¸ Ð¿Ð°ÑÐ¾Ð»Ñ), Ð±ÑÐºÐ¼Ð°ÑÐºÐ»ÐµÑ ÑÐ¾Ð´ÐµÑÐ¶Ð¸Ñ Ð¾Ð´Ð¸Ð½ Ð¸ ÑÐ¾Ñ Ð¶Ðµ ÐºÐ¾Ð´ Ð´Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ.</b> </p> <h3>ÐÐ°Ðº ÑÑÑÐ°Ð½Ð¾Ð²Ð¸ÑÑ Ð±ÑÐºÐ¼Ð°ÑÐºÐ»ÐµÑ</h3> <h5>Firefox, Camino, Opera, Safari</h5> <ol> <li> <p>Ð£Ð±ÐµÐ´Ð¸ÑÐµÑÑ, ÑÑÐ¾ Ð¿Ð°Ð½ÐµÐ»Ñ Ð·Ð°ÐºÐ»Ð°Ð´Ð¾Ðº Ð¾ÑÐ¾Ð±ÑÐ°Ð¶Ð°ÐµÑÑÑ Ð² Ð²Ð°ÑÐµÐ¼ Ð±ÑÐ°ÑÐ·ÐµÑÐµ.</p> </li> <li> <p>ÐÐµÑÐµÑÐ°ÑÐ¸ÑÐµ ÑÑÑÐ»ÐºÑ âÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ Ð² Clipperzâ Ð½Ð° Ð¿Ð°Ð½ÐµÐ»Ñ Ð·Ð°ÐºÐ»Ð°Ð´Ð¾Ðº.</p> </li> </ol> <h5>Internet Explorer</h5> <ol> <li> <p>Ð£Ð±ÐµÐ´Ð¸ÑÐµÑÑ, ÑÑÐ¾ Ð¾ÑÐ¾Ð±ÑÐ°Ð¶Ð°ÐµÑÑÑ Ð¿Ð°Ð½ÐµÐ»Ñ Ð¸Ð·Ð±ÑÐ°Ð½Ð½Ð¾Ð³Ð¾.</p> </li> <li> <p>ÐÐ°Ð¶Ð¼Ð¸ÑÐµ Ð¿ÑÐ°Ð²Ð¾Ð¹ ÐºÐ½Ð¾Ð¿ÐºÐ¾Ð¹ Ð½Ð° ÑÑÑÐ»ÐºÑ âÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ Ð² Clipperzâ.</p> </li> <li> <p>ÐÑÐ±ÐµÑÐ¸ÑÐµ âÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ Ð² Ð¸Ð·Ð±ÑÐ°Ð½Ð½Ð¾Ðµ...â Ð¸Ð· ÐºÐ¾Ð½ÑÐµÐºÑÑÐ½Ð¾Ð³Ð¾ Ð¼ÐµÐ½Ñ.</p> </li> <li> <p>ÐÐ°Ð¶Ð¼Ð¸ÑÐµ âÐÐ°â, Ð´Ð»Ñ Ð»ÑÐ±ÑÑ ÑÐ¾Ð¾Ð±ÑÐµÐ½Ð¸Ð¹, ÐºÐ¾ÑÐ¾ÑÑÐµ Ð¿Ð¾ÑÐ²ÑÑÑÑ.</p> </li> <li> <p>ÐÑÐ±ÐµÑÐ¸ÑÐµ Ð¿Ð°Ð¿ÐºÑ âÐÐ°Ð½ÐµÐ»Ñ Ð¸Ð·Ð±ÑÐ°Ð½Ð½Ð¾Ð³Ð¾â Ð¸ Ð½Ð°Ð¶Ð¼Ð¸ÑÐµ âÐÐ¾Ð±Ð°Ð²Ð¸ÑÑâ.</p> </li> </ol> ",
                        'bookmarkletTabBookmarkletTitle': "ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ Ð² Clipperz",
                        'bookmarkletTabInstructions': "<h3>ÐÐ°Ðº ÑÐ¾Ð·Ð´Ð°ÑÑ Ð½Ð¾Ð²ÑÑ ÐºÐ°ÑÑÐ¾ÑÐºÑ Ñ ÑÑÑÐ»ÐºÐ°Ð¼Ð¸ âÐ¿ÑÑÐ¼Ð¾Ð³Ð¾ Ð¿Ð¾Ð´ÐºÐ»ÑÑÐµÐ½Ð¸Ñâ Ð² Ð¾Ð½Ð»Ð°Ð¹Ð½Ð¾Ð²ÑÐ¹ ÑÐµÑÐ²Ð¸Ñ</h3> <ol> <li> <p>ÐÑÐºÑÐ¾Ð¹ÑÐµ Ð²ÐµÐ±-ÑÑÑÐ°Ð½Ð¸ÑÑ Ñ ÑÐ¾ÑÐ¼Ð¾Ð¹ Ð²ÑÐ¾Ð´Ð°. (Ð¾Ð±ÑÑÐ½Ð¾ Ð½Ð° ÑÑÐ¾Ð¹ ÑÑÑÐ°Ð½Ð¸ÑÑ Ð²Ñ Ð²Ð²Ð¾Ð´Ð¸ÑÐµ Ð´Ð°Ð½Ð½ÑÐµ Ð²Ð°ÑÐµÐ¹ ÑÑÐµÑÐ½Ð¾Ð¹ Ð·Ð°Ð¿Ð¸ÑÐ¸)</p> </li> <li> <p>ÐÐ°Ð¿ÑÑÑÐ¸ÑÐµ Ð·Ð°ÐºÐ»Ð°Ð´ÐºÑ, Ð½Ð°Ð¶Ð°Ð² Ð½Ð° Ð½ÐµÐµ: Ð¿Ð¾ÑÐ²Ð¸ÑÑÑ Ð²ÑÐ¿Ð»ÑÐ²Ð°ÑÑÐµÐµ Ð¾ÐºÐ½Ð¾.</p> </li> <li> <p>Ð¡ÐºÐ¾Ð¿Ð¸ÑÑÐ¹ÑÐµ Ð² Ð±ÑÑÐµÑ Ð¾Ð±Ð¼ÐµÐ½Ð° ÑÐ¾Ð´ÐµÑÐ¶Ð¸Ð¼Ð¾Ðµ ÑÐµÐºÑÑÐ¾Ð²Ð¾Ð³Ð¾ Ð¿Ð¾Ð»Ñ Ð¸Ð· Ð²ÑÐ¿Ð»ÑÐ²Ð°ÑÑÐµÐ³Ð¾ Ð¾ÐºÐ½Ð°. (ctrl-C)</p> </li> <li> <p>ÐÐ¾Ð¹Ð´Ð¸ÑÐµ Ð² Ð²Ð°Ñ Ð°ÐºÐºÐ°ÑÐ½Ñ Ð¸ Ð½Ð°Ð¶Ð¼Ð¸ÑÐµ âÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ Ð½Ð¾Ð²ÑÑ ÐºÐ°ÑÑÐ¾ÑÐºÑâ.</p> </li> <li> <p>ÐÑÐ±ÐµÑÐ¸ÑÐµ ÑÐ°Ð±Ð»Ð¾Ð½ âÐÑÑÐ¼Ð¾Ð³Ð¾ Ð¿Ð¾Ð´ÐºÐ»ÑÑÐµÐ½Ð¸Ñâ Ð¸ Ð²ÑÑÐ°Ð²ÑÑÐµ Ð² ÑÐµÐºÑÑÐ¾Ð²Ð¾Ðµ Ð¿Ð¾Ð»Ðµ ÑÐ¾Ð´ÐµÑÐ¶Ð¸Ð¼Ð¾Ðµ Ð±ÑÑÐµÑÐ° Ð¾Ð±Ð¼ÐµÐ½Ð°. (ctrl-V)</p> </li> <li> <p>ÐÐ°Ð¶Ð¼Ð¸ÑÐµ ÐºÐ½Ð¾Ð¿ÐºÑ âÐ¡Ð¾Ð·Ð´Ð°ÑÑâ, Ð¿ÑÐ¾Ð²ÐµÑÑÑÐµ Ð¿ÑÐ°Ð²Ð¸Ð»ÑÐ½Ð¾ÑÑÑ Ð¸ Ð½Ð°Ð¶Ð¼Ð¸ÑÐµ âÐ¡Ð¾ÑÑÐ°Ð½Ð¸ÑÑâ.</p> </li> </ol> <h3>ÐÐ°Ðº ÑÐ¾Ð·Ð´Ð°ÑÑ ÑÑÑÐ»ÐºÑ âÐÑÑÑÑÐ¾Ð³Ð¾ Ð²ÑÐ¾Ð´Ð°â Ð² ÑÑÑÐµÑÑÐ²ÑÑÑÐµÐ¹ ÐºÐ°ÑÑÐ¾ÑÐºÐµ</h3> <ol> <li> <p>Ð¢Ð¾Ð¶Ðµ ÑÐ°Ð¼Ð¾Ðµ, ÐºÐ°Ðº Ð¸ Ð²ÑÑÐµ.</p> </li> <li> <p>Ð¢Ð¾Ð¶Ðµ ÑÐ°Ð¼Ð¾Ðµ, ÐºÐ°Ðº Ð¸ Ð²ÑÑÐµ.</p> </li> <li> <p>Ð¢Ð¾Ð¶Ðµ ÑÐ°Ð¼Ð¾Ðµ, ÐºÐ°Ðº Ð¸ Ð²ÑÑÐµ.</p> </li> <li> <p>ÐÐ¾Ð¹Ð´Ð¸ÑÐµ Ð² Ð²Ð°Ñ Ð°ÐºÐºÐ°ÑÐ½Ñ Ð¸ Ð²ÑÐ±ÐµÑÐ¸ÑÐµ ÐºÐ°ÑÑÐ¾ÑÐºÑ Ñ Ð´Ð°Ð½Ð½ÑÐ¼Ð¸ ÑÑÐµÑÐ½Ð¾Ð¹ Ð·Ð°Ð¿Ð¸ÑÐ¸ Ð´Ð»Ñ ÑÐ¾Ð»ÑÐºÐ¾ ÑÑÐ¾ Ð¿Ð¾ÑÐµÑÐµÐ½Ð½Ð¾Ð³Ð¾ Ð²ÐµÐ±-ÑÐµÑÐ²Ð¸ÑÐ° Ð¸ Ð½Ð°Ð¶Ð¼Ð¸ÑÐµ âÐ ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑâ.</p> </li> <li> <p>ÐÑÑÐ°Ð²ÑÑÐµ ÑÐ¾Ð´ÐµÑÐ¶Ð¸Ð¼Ð¾Ðµ Ð±ÑÑÐµÑÐ° Ð¾Ð±Ð¼ÐµÐ½Ð° Ð² ÑÐµÐºÑÑÐ¾Ð²Ð¾Ðµ Ð¿Ð¾Ð»Ðµ Ð² ÑÐ°Ð·Ð´ÐµÐ»Ðµ âÐÑÑÑÑÐ¾Ð³Ð¾ Ð²ÑÐ¾Ð´Ð°â. (ctrl-V)</p> </li> <li> <p>ÐÐ°Ð¶Ð¼Ð¸ÑÐµ Â«ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ Ð½Ð¾Ð²ÑÐ¹ ÐÑÑÑÑÑÐ¹ Ð²ÑÐ¾Ð´Â», Ð¿ÑÐ¾Ð²ÐµÑÑÑÐµ Ð¿ÑÐ°Ð²Ð¸Ð»ÑÐ½Ð¾ÑÑÑ Ð¸ Ð½Ð°Ð¶Ð¼Ð¸ÑÐµ âÐ¡Ð¾ÑÑÐ°Ð½Ð¸ÑÑâ.</p> </li> </ol> <p> </p> <p>ÐÐ¾Ð´ÑÐ¾Ð±Ð½ÐµÐµ Ð¾ Ð±ÑÐºÐ¼Ð°ÑÐºÐ»ÐµÑÐµ <a href=\"http://www.clipperz.com/support/user_guide/bookmarklet\" target=\"_parent\">Ð·Ð´ÐµÑÑ</a>.</p> ",
                        'mainPanelDirectLoginBlockLabel': "ÐÑÑÑÑÑÐ¹ Ð²ÑÐ¾Ð´",
                        'directLinkReferenceShowButtonLabel': "Ð¿Ð¾ÐºÐ°Ð·Ð°ÑÑ",
                        'mainPanelDirectLoginBlockDescription': "<p>ÐÐ¾Ð±Ð°Ð²ÑÑÐµ Â«ÐÑÑÑÑÑÐ¹ Ð²ÑÐ¾Ð´Â», ÑÑÐ¾Ð±Ñ ÑÑÐ°Ñ Ð·Ð°ÑÐ¾Ð´Ð¸ÑÑ Ð½Ð° Ð²ÐµÐ±-ÑÐµÑÐ²Ð¸ÑÑ Ð±ÐµÐ· Ð²Ð²Ð¾Ð´Ð° Ð¸Ð¼ÐµÐ½Ð¸ Ð¸ Ð¿Ð°ÑÐ¾Ð»Ñ!</p> <p>Â«ÐÑÑÑÑÑÐ¹ Ð²ÑÐ¾Ð´Â» Ð·Ð½Ð°ÑÐ¸ÑÐµÐ»ÑÐ½Ð¾ ÑÑÐ¸Ð»Ð¸Ð²Ð°ÐµÑ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑÑ, ÑÐ°Ðº ÐºÐ°Ðº:</p> <ul> <li> <p>Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ´Ð¾Ð±Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÑ Ð±Ð¾Ð»ÑÑÐ¸Ðµ Ð¸ ÑÐ»Ð¾Ð¶Ð½ÑÐµ Ð¿Ð°ÑÐ¾Ð»Ð¸.</p> </li> <li> <p>Ð»ÐµÐ³ÐºÐ¾ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÑÑÑ ÑÐ½Ð¸ÐºÐ°Ð»ÑÐ½ÑÐ¼Ð¸ Ð¿Ð°ÑÐ¾Ð»ÑÐ¼Ð¸ Ð½Ð° ÑÐ°Ð·Ð½ÑÑ ÑÐµÑÑÑÑÐ°Ñ.</p> </li> </ul> <p>ÐÐµÐ³ÐºÐ¾ Ð¸ Ð±ÑÑÑÑÐ¾ Ð¸Ñ Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¾Ð·Ð´Ð°ÑÑ Ñ Ð¿Ð¾Ð¼Ð¾ÑÑÑ Ð±ÑÐºÐ¼Ð°ÑÐºÐ»ÐµÑÐ° Clipperz.</p> <a href=\"http://www.clipperz.com/support/user_guide/direct_logins\" target=\"_parent\">ÐÐ¾Ð´ÑÐ¾Ð±Ð½ÐµÐµ Ð¾ Ð±ÑÑÑÑÐ¾Ð¼ Ð²ÑÐ¾Ð´Ðµ</a> ",
                        'mainPanelRecordsBlockLabel': "ÐÐ°ÑÑÐ¾ÑÐºÐ¸",
                        'mainPanelAddRecordButtonLabel': "ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ Ð½Ð¾Ð²ÑÑ ÐºÐ°ÑÑÐ¾ÑÐºÑ",
                        'mainPanelRemoveRecordButtonLabel': "Ð£Ð´Ð°Ð»Ð¸ÑÑ ÐºÐ°ÑÑÐ¾ÑÐºÑ",
                        'mainPanelRecordFilterBlockAllLabel': "Ð²ÑÐµ",
                        'mainPanelRecordFilterBlockTagsLabel': "ÑÐµÐ³Ð¸",
                        'mainPanelRecordFilterBlockSearchLabel': "Ð¿Ð¾Ð¸ÑÐº",
                        'recordDetailNoRecordAtAllTitle': "ÐÐ¾Ð±ÑÐ¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°ÑÑ Ð² Clipperz!",
                        'recordDetailNoRecordAtAllDescription': "<h5>ÐÐ°ÑÐ½Ð¸ÑÐµ ÑÐ°Ð±Ð¾ÑÐ°ÑÑ, Ð´Ð¾Ð±Ð°Ð²Ð¸Ð² ÐºÐ°ÑÑÐ¾ÑÐºÑ.</h5> <p>ÐÐ°ÑÑÐ¾ÑÐºÐ¸ - ÑÑÐ¾ Ð¿ÑÐ¾ÑÑÐ¾Ð¹ Ð¸ Ð³Ð¸Ð±ÐºÐ¸Ð¹ Ð¸Ð½ÑÑÑÑÐ¼ÐµÐ½Ñ, Ñ Ð¿Ð¾Ð¼Ð¾ÑÑÑ ÐºÐ¾ÑÐ¾ÑÐ¾Ð³Ð¾ Ð²Ñ Ð¼Ð¾Ð¶ÐµÑÐµ ÑÑÐ°Ð½Ð¸ÑÑ Ð¿Ð°ÑÐ¾Ð»Ð¸ Ð¸ Ð»ÑÐ±ÑÑ Ð´ÑÑÐ³ÑÑ Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ñ.</p> <p>ÐÐ°ÑÑÐ¾ÑÐºÐ¸ Ð¼Ð¾Ð³ÑÑ ÑÐ¾Ð´ÐµÑÐ¶Ð°ÑÑ ÑÑÐµÑÐ½ÑÐµ Ð·Ð°Ð¿Ð¸ÑÐ¸ Ð´Ð»Ñ Ð´Ð¾ÑÑÑÐ¿Ð° Ðº Ð²ÐµÐ±-ÑÐ°Ð¹ÑÐ°Ð¼, ÐºÐ¾Ð´ Ð´Ð»Ñ Ð·Ð°Ð¼ÐºÐ° Ð¾Ñ Ð²ÐµÐ»Ð¾ÑÐ¸Ð¿ÐµÐ´Ð°, Ð´Ð°Ð½Ð½ÑÐµ ÐºÑÐµÐ´Ð¸ÑÐ½Ð¾Ð¹ ÐºÐ°ÑÑÐ¾ÑÐºÐ¸ Ð¸ Ñ.Ð´.</p> <h5>ÐÐµ Ð·Ð°Ð±ÑÐ²Ð°Ð¹ÑÐµ Ð¾ Ð±ÑÐºÐ¼Ð°ÑÐºÐ»ÐµÑÐµ!</h5> <p>ÐÐµÑÐµÐ´ Ð½Ð°ÑÐ°Ð»Ð¾Ð¼ ÑÐ°Ð±Ð¾ÑÑ ÑÑÑÐ°Ð½Ð¾Ð²Ð¸ÑÐµ Ð±ÑÐºÐ¼Ð°ÑÐºÐ»ÐµÑ Ð¾Ñ Clipperz: ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÐºÐ°ÑÑÐ¾ÑÐµÐº ÑÑÐ°Ð½ÐµÑ Ð¿ÑÐ¾ÑÑÑÐ¼ Ð¸ Ð±ÑÑÑÑÑÐ¼.</p> <p>ÐÑÐºÑÐ¾Ð¹ÑÐµ ÑÐ°Ð·Ð´ÐµÐ» \"ÐÐ½ÑÑÑÑÐ¼ÐµÐ½ÑÑ\"->\"ÐÑÐºÐ¼Ð°ÑÐºÐ»ÐµÑ\", ÑÑÐ¾Ð±Ñ ÑÐ·Ð½Ð°ÑÑ, ÐºÐ°Ðº ÑÑÑÐ°Ð½Ð¾Ð²Ð¸ÑÑ Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÑ ÐµÐ³Ð¾.</p> <p> </p> <a href=\"http://www.clipperz.com/support/user_guide/managing_cards\" target=\"_parent\">ÐÐ¾Ð´ÑÐ¾Ð±Ð½ÐµÐµ Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ð¸ Ð¸ ÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½Ð¸Ð¸ Ð·Ð°ÐºÐ»Ð°Ð´ÐºÐ°Ð¼Ð¸</a> ",
                        'newRecordWizardTitleBox': "<h5>ÐÐ¾Ð¶Ð°Ð¹Ð»ÑÑÑÐ°, Ð²ÑÐ±ÐµÑÐ¸ÑÐµ ÑÐ°Ð±Ð»Ð¾Ð½</h5> <p>ÐÐ°ÑÑÐ¾ÑÐºÐ¸ - ÑÑÐ¾ Ð¿ÑÐ¾ÑÑÐ¾Ð¹ Ð¸ Ð³Ð¸Ð±ÐºÐ¸Ð¹ Ð¸Ð½ÑÑÑÑÐ¼ÐµÐ½Ñ, Ñ Ð¿Ð¾Ð¼Ð¾ÑÑÑ ÐºÐ¾ÑÐ¾ÑÐ¾Ð³Ð¾ Ð²Ñ Ð¼Ð¾Ð¶ÐµÑÐµ ÑÑÐ°Ð½Ð¸ÑÑ Ð¿Ð°ÑÐ¾Ð»Ð¸ Ð¸ Ð»ÑÐ±ÑÑ Ð´ÑÑÐ³ÑÑ Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ñ.</p> <p>ÐÑÐ±ÐµÑÐ¸ÑÐµ Ð¾Ð´Ð¸Ð½ Ð¸Ð· ÑÐ°Ð±Ð»Ð¾Ð½Ð¾Ð². ÐÑ Ð²ÑÐµÐ³Ð´Ð° ÑÐ¼Ð¾Ð¶ÐµÑÐµ Ð½Ð°ÑÑÑÐ¾Ð¸ÑÑ Ð²Ð°ÑÐ¸ ÐºÐ°ÑÑÐ¾ÑÐºÐ¸, Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑ Ð¸Ð»Ð¸ ÑÐ´Ð°Ð»ÑÑ Ð¿Ð¾Ð»Ñ.</p> ",
                        'newRecordWizardBookmarkletConfigurationTitle': "ÐÑÑÑÑÑÐ¹ Ð²ÑÐ¾Ð´",
                        'newRecordWizardBookmarkletConfigurationDescription': "<p>ÐÑÑÐ°Ð²ÑÑÐµ ÐºÐ¾Ð½ÑÐ¸Ð³ÑÑÐ°ÑÐ¸Ð¾Ð½Ð½ÑÐ¹ ÐºÐ¾Ð´, ÑÐ³ÐµÐ½ÐµÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð½ÑÐ¹ Ñ Ð¿Ð¾Ð¼Ð¾ÑÑÑ Ð±ÑÐºÐ¼Ð°ÑÐºÐ»ÐµÑÐ°</p> <p>ÐÑÐ´ÐµÑ ÑÐ¾Ð·Ð´Ð°Ð½Ð° Ð½Ð¾Ð²Ð°Ñ ÐºÐ°ÑÑÐ¾ÑÐºÐ° Ñ Ð¿Ð¾Ð´Ð´ÐµÑÐ¶ÐºÐ¾Ð¹ Ð±ÑÑÑÑÐ¾Ð³Ð¾ Ð²ÑÐ¾Ð´Ð°.</p> ",
                        'newRecordWizardCreateButtonLabel': "Ð¡Ð¾Ð·Ð´Ð°ÑÑ",
                        'newRecordWizardCancelButtonLabel': "ÐÑÐ¼ÐµÐ½Ð°",
                        'donateSplashPanelTitle': "ÐÐ¾Ð´Ð´ÐµÑÐ¶Ð¸ÑÐµ Clipperz, ÑÐ´ÐµÐ»Ð°Ð¹ÑÐµ Ð¿Ð¾Ð¶ÐµÑÑÐ²Ð¾Ð²Ð°Ð½Ð¸Ðµ ÑÐµÐ³Ð¾Ð´Ð½Ñ!",
                        'donateSplashPanelDescription': "<p>ÐÐµÑÐºÐ¾Ð»ÑÐºÐ¾ Ð¿ÑÐ¸ÑÐ¸Ð½ ÑÐ´ÐµÐ»Ð°ÑÑ Ð¿Ð¾Ð¶ÐµÑÑÐ²Ð¾Ð²Ð°Ð½Ð¸Ðµ:</p> <ul> <li> <p>Ð¿Ð¾Ð´Ð´ÐµÑÐ¶ÐºÐ° ÑÐ°Ð·Ð²Ð¸ÑÐ¸Ñ Ð½Ð¾Ð²ÑÑ ÑÑÐ½ÐºÑÐ¸Ð¹</p> </li> <li> <p>Ð¾ÑÑÐ°Ð²Ð¸ÑÑ Clipperz Ð±ÐµÑÐ¿Ð»Ð°ÑÐ½ÑÐ¼</p> </li> <li> <p>Ð¿Ð¾ÐºÐ°Ð·Ð°ÑÑ Ð¿ÑÐ¸Ð·Ð½Ð°ÑÐµÐ»ÑÐ½Ð¾ÑÑÑ Ð½Ð°ÑÐµÐ¹ ÑÐ¿Ð¾ÑÐ½Ð¾Ð¹ ÑÐ°Ð±Ð¾ÑÐµ</p> </li> </ul> <p>ÐÐ»Ñ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸ÑÐµÐ»ÑÐ½Ð¾Ð¹ Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ð¸ Ð¿Ð¾ÑÐµÑÐ¸ÑÐµ Ð½Ð°ÑÑ <a href=\"http://www.clipperz.com/donations\" target=\"_parent\">ÑÑÑÐ°Ð½Ð¸ÑÑ Ð¿Ð¾Ð¶ÐµÑÑÐ²Ð¾Ð²Ð°Ð½Ð¸Ð¹</a>.</p> <p> <b>ÐÐ¾ÑÐ¾Ð²Ñ Ð¿Ð¾Ð¶ÐµÑÑÐ²Ð¾Ð²Ð°ÑÑ?</b> </p> ",
                        'donateCloseButtonLabel': "ÐÑÐµ Ð½ÐµÑ",
                        'donateDonateButtonLabel': "ÐÐ°",
                        'recordTemplates': {
                            'WebAccount': {
                                'title': "ÐÐ½ÑÐµÑÐ½ÐµÑ Ð°ÐºÐºÐ°ÑÐ½Ñ",
                                'description': "ÐÑÐ¾ÑÑÐ°Ñ ÑÐ¾ÑÐ¼Ð° Ð´Ð»Ñ ÑÑÐ°Ð½ÐµÐ½Ð¸Ñ ÑÑÐµÑÐ½Ð¾Ð¹ Ð·Ð°Ð¿Ð¸ÑÐ¸ Ð² Ð¾Ð½Ð»Ð°Ð¹Ð½ ÑÐµÑÐ²Ð¸ÑÐµ."
                            },
                            'BankAccount': {
                                'title': "Ð¡ÑÐµÑ Ð±Ð°Ð½ÐºÐ°",
                                'description': "ÐÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾Ðµ ÑÑÐ°Ð½ÐµÐ½Ð¸Ðµ Ð½Ð¾Ð¼ÐµÑÐ° Ð²Ð°ÑÐµÐ³Ð¾ ÑÑÐµÑÐ° Ð¸ ÑÑÐµÑÐ½Ð¾Ð¹ Ð·Ð°Ð¿Ð¸ÑÐ¸ Ð´Ð»Ñ Ð¾Ð½Ð»Ð°Ð¹Ð½ Ð´Ð¾ÑÑÑÐ¿Ð°."
                            },
                            'CreditCard': {
                                'title': "ÐÑÐµÐ´Ð¸ÑÐ½Ð°Ñ ÐºÐ°ÑÑÐ°",
                                'description': "ÐÐ¾Ð¼ÐµÑ ÐºÐ°ÑÑÑ, ÑÑÐ¾Ðº Ð´ÐµÐ¹ÑÑÐ²Ð¸Ñ, CCV2 Ð¸ PIN Ð±ÑÐ´ÑÑ Ð²ÑÐµÐ³Ð´Ð° Ð¿ÑÐ¸ Ð²Ð°Ñ."
                            },
                            'AddressBookEntry': {
                                'title': "ÐÐ°Ð¿Ð¸ÑÑ Ð°Ð´ÑÐµÑÐ½Ð¾Ð¹ ÐºÐ½Ð¸Ð³Ð¸",
                                'description': "Clipperz Ð¼Ð¾Ð¶ÐµÑ ÑÐ°ÐºÐ¶Ðµ ÑÐ°Ð±Ð¾ÑÐ°ÑÑ, ÐºÐ°Ðº Ð·Ð°Ð¿Ð¸ÑÐ½Ð°Ñ ÐºÐ½Ð¸Ð³Ð°. ÐÑÐ¿Ð¾Ð»ÑÐ·ÑÐ¹ÑÐµ ÑÑÐ¾Ñ ÑÐ°Ð±Ð»Ð¾Ð½, ÑÑÐ¾Ð±Ñ Ð»ÐµÐ³ÐºÐ¾ Ð´Ð¾Ð±Ð°Ð²Ð¸ÑÑ Ð½Ð¾Ð²ÑÑ Ð·Ð°Ð¿Ð¸ÑÑ."
                            },
                            'Custom': {
                                'title': "ÐÐ¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»ÑÑÐºÐ°Ñ ÐºÐ°ÑÑÐ¾ÑÐºÐ°",
                                'description': "ÐÐµ Ð²Ð°Ð¶Ð½Ð¾, ÐºÐ°ÐºÐ¸Ðµ Ð´Ð°Ð½Ð½ÑÐµ Ð½ÑÐ¶Ð½Ð¾ Ð·Ð°ÑÐ¸ÑÐ¸ÑÑ, Ð¿ÑÐ¾ÑÑÐ¾ ÑÐ¾Ð·Ð´Ð°Ð¹ÑÐµ ÐºÐ°ÑÑÐ¾ÑÐºÑ."
                            }
                        },
                        'recordFieldTypologies': {
                            'TXT': {
                                'description': "simple text field",
                                'shortDescription': "ÑÐµÐºÑÑ"
                            },
                            'PWD': {
                                'description': "simple text field, with default status set to hidden",
                                'shortDescription': "Ð¿Ð°ÑÐ¾Ð»Ñ"
                            },
                            'URL': {
                                'description': "simple text field in edit mode, that became an active url in view mode",
                                'shortDescription': "URL"
                            },
                            'DATE': {
                                'description': "a value set with a calendar helper",
                                'shortDescription': "Ð´Ð°ÑÐ°"
                            },
                            'ADDR': {
                                'description': "just like the URL, but the active link points to Google Maps (or similar service) passing the address value as argument",
                                'shortDescription': "Ð°Ð´ÑÐµÑ"
                            },
                            'CHECK': {
                                'description': "check description",
                                'shortDescription': "check"
                            },
                            'RADIO': {
                                'description': "radio description",
                                'shortDescription': "radio"
                            },
                            'SELECT': {
                                'description': "select description",
                                'shortDescription': "select"
                            }
                        },
                        'newRecordPanelGeneralExceptionTitle': "ÐÑÐ¸Ð±ÐºÐ°",
                        'newRecordPanelGeneralExceptionMessage': "ÐÐ¾Ð½ÑÐ¸Ð³ÑÑÐ°ÑÐ¸Ð¾Ð½Ð½ÑÐ¹ ÑÐµÐºÑÑ Ð½ÐµÐ²ÐµÑÐµÐ½. Ð£Ð±ÐµÐ´Ð¸ÑÐµÑÑ, ÑÑÐ¾ Ð²Ñ Ð²Ð·ÑÐ»Ð¸ ÐµÐ³Ð¾ Ð¸Ð· Ð¾ÐºÐ½Ð° Ð·Ð°ÐºÐ»Ð°Ð´ÐºÐ¸ Ð¸ Ð¿Ð¾Ð¿ÑÐ¾Ð±ÑÐ¹ÑÐµ ÑÐ½Ð¾Ð²Ð°.",
                        'newRecordPanelWrongBookmarkletVersionExceptionTitle': "ÐÑÐ¸Ð±ÐºÐ°",
                        'newRecordPanelWrongBookmarkletVersionExceptionMessage': "ÐÐ¾Ð½ÑÐ¸Ð³ÑÑÐ°ÑÐ¸Ð¾Ð½Ð½ÑÐ¹ ÑÐµÐºÑÑ Ð±ÑÐ» ÑÐ³ÐµÐ½ÐµÑÐ¸ÑÐ¾Ð²Ð°Ð½ Ñ Ð¿Ð¾Ð¼Ð¾ÑÑÑ ÑÑÐ°ÑÐ¾Ð¹ Ð²ÐµÑÐ¸Ð¸ Ð·Ð°ÐºÐ»Ð°Ð´Ð¾Ðº. ÐÐ¾Ð¶Ð°Ð¹Ð»ÑÑÑÐ°, Ð¾Ð±Ð½Ð¾Ð²Ð¸ÑÐµ Ð²Ð°ÑÑ Ð·Ð°ÐºÐ»Ð°Ð´ÐºÑ Ð¸ Ð¿Ð¾Ð¿ÑÐ¾Ð±ÑÐ¹ÑÐµ ÑÐ½Ð¾Ð²Ð°.",
                        'newRecordPanelExceptionPanelCloseButtonLabel': "ÐÑÐ¼ÐµÐ½Ð°",
                        'mainPanelDeletingRecordPanelConfirmationTitle': "Ð£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ Ð²ÑÐ±ÑÐ°Ð½Ð½Ð¾Ð¹ ÐºÐ°ÑÑÐ¾ÑÐºÐ¸",
                        'mainPanelDeleteRecordPanelConfirmationText': "ÐÑ Ð´ÐµÐ¹ÑÑÐ²Ð¸ÑÐµÐ»ÑÐ½Ð¾ ÑÐ¾ÑÐ¸ÑÐµ ÑÐ´Ð°Ð»Ð¸ÑÑ ÑÑÑ ÐºÐ°ÑÑÐ¾ÑÐºÑ?",
                        'mainPanelDeleteRecordPanelConfirmButtonLabel': "ÐÐ°",
                        'mainPanelDeleteRecordPanelDenyButtonLabel': "ÐÐµÑ",
                        'mainPanelDeletingRecordPanelInitialTitle': "Ð£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ Ð²ÑÐ±ÑÐ°Ð½Ð½Ð¾Ð¹ ÐºÐ°ÑÑÐ¾ÑÐºÐ¸",
                        'mainPanelDeletingRecordPanelCompletedText': "ÐÑÐ¿Ð¾Ð»Ð½ÐµÐ½Ð¾",
                        'deleteRecordPanelCollectRecordDataMessageTitle': "Ð£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ ÐºÐ°ÑÑÐ¾ÑÐºÐ¸",
                        'deleteRecordPanelCollectRecordDataMessageText': "ÐÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐ¿Ð¸ÑÐºÐ° ÐºÐ°ÑÑÐ¾ÑÐµÐº",
                        'deleteRecordPanelEncryptUserDataMessageTitle': "Ð£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ ÐºÐ°ÑÑÐ¾ÑÐºÐ¸",
                        'deleteRecordPanelEncryptUserDataMessageText': "Ð¨Ð¸ÑÑÐ¾Ð²Ð°Ð½Ð¸Ðµ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¾Ð² ÐºÐ°ÑÑÐ¾ÑÐµÐº",
                        'deleteRecordPanelSendingDataToTheServerMessageTitle': "Ð£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ ÐºÐ°ÑÑÐ¾ÑÐºÐ¸",
                        'deleteRecordPanelSendingDataToTheServerMessageText': "ÐÐµÑÐµÐ´Ð°ÑÐ° Ð·Ð°ÑÐ¸ÑÑÐ¾Ð²Ð°Ð½Ð½ÑÑ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¾Ð² ÐºÐ°ÑÑÑÐ¾ÑÐµÐº Ð² Clipperz",
                        'deleteRecordPanelUpdatingTheInterfaceMessageTitle': "Ð£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ ÐºÐ°ÑÑÐ¾ÑÐºÐ¸",
                        'deleteRecordPanelUpdatingTheInterfaceMessageText': "ÐÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¸Ð½ÑÐµÑÑÐµÐ¹ÑÐ°",
                        'recordDetailNoRecordSelectedTitle': "ÐÐµ Ð²ÑÐ±ÑÐ°Ð½Ð° ÐºÐ°ÑÑÐ¾ÑÐºÐ°",
                        'recordDetailNoRecordSelectedDescription': "<p>ÐÐ¾Ð¶Ð°Ð¹Ð»ÑÑÑÐ°, Ð²ÑÐ±ÐµÑÐ¸ÑÐµ ÐºÐ°ÑÑÐ¾ÑÐºÑ Ð¸Ð· ÑÐ¿Ð¸ÑÐºÐ° ÑÐ»ÐµÐ²Ð°.</p> ",
                        'recordDetailLoadingRecordMessage': "ÐÐ°Ð³ÑÑÐ·ÐºÐ° Ð·Ð°ÑÐ¸ÑÑÐ¾Ð²Ð°Ð½Ð½ÑÑ ÐºÐ°ÑÑÐ¾ÑÐµÐº Ð¸Ð· Clipperz",
                        'recordDetailDecryptingRecordMessage': "Ð Ð°ÑÑÐ¸ÑÑÐ¾Ð²ÐºÐ° Ð´Ð°Ð½Ð½ÑÑ ÐºÐ°ÑÑÐ¾ÑÐµÐº",
                        'recordDetailLoadingRecordVersionMessage': "ÐÐ°Ð³ÑÑÐ·ÐºÐ° Ð¿Ð¾ÑÐ»ÐµÐ´Ð½ÐµÐ¹ Ð²ÐµÑÑÐ¸Ð¸ ÐºÐ°ÑÑÐ¾ÑÐºÐ¸n",
                        'recordDetailDecryptingRecordVersionMessage': "Ð Ð°ÑÑÐ¸ÑÑÐ¾Ð²ÐºÐ°",
                        'recordDetailLoadingErrorMessageTitle': "ÐÑÐ¸Ð±ÐºÐ° Ð¿ÑÐ¸ Ð·Ð°Ð³ÑÑÐ·ÐºÑ",
                        'recordDetailNotesLabel': "ÐÑÐ¸Ð¼ÐµÑÐ°Ð½Ð¸Ñ",
                        'recordDetailLabelFieldColumnLabel': "ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¿Ð¾Ð»Ñ",
                        'recordDetailDataFieldColumnLabel': "ÐÐ½Ð°ÑÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð»Ñ",
                        'recordDetailTypeFieldColumnLabel': "Ð¢Ð¸Ð¿",
                        'recordDetailSavingChangesMessagePanelInitialTitle': "Ð¡Ð¾ÑÑÐ°Ð½ÐµÐ½Ð¸Ðµ ÐºÐ°ÑÑÐ¾ÑÐºÐ¸",
                        'recordDetailAddFieldButtonLabel': "ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ Ð½Ð¾Ð²Ð¾Ðµ Ð¿Ð¾Ð»Ðµ",
                        'recordDetailPasswordFieldHelpLabel': "ÑÑÐ¾Ð±Ñ ÑÐºÐ¾Ð¿Ð¸ÑÐ¾Ð²Ð°ÑÑ Ð¿Ð°ÑÐ¾Ð»Ñ Ð² Ð±ÑÑÐµÑ Ð¾Ð±Ð¼ÐµÐ½Ð°, Ð½Ð°Ð¶Ð¼Ð¸ÑÐµ Ð½Ð° Ð·Ð²ÐµÐ·Ð´Ð¾ÑÐºÑ, Ð·Ð°ÑÐµÐ¼ Ctrl-C",
                        'recordDetailPasswordFieldScrambleLabel': "ÑÐ¿ÑÑÑÐ°ÑÑ",
                        'recordDetailPasswordFieldUnscrambleLabel': "Ð¿Ð¾ÐºÐ°Ð·Ð°ÑÑ",
                        'recordDetailDirectLoginBlockTitle': "ÐÑÑÑÑÑÐ¹ Ð²ÑÐ¾Ð´",
                        'recordDetailNewDirectLoginDescription': "<p>ÐÐ°ÑÑÑÐ¾Ð¹ÐºÐ° Ð±ÑÑÑÑÐ¾Ð³Ð¾ Ð²ÑÐ¾Ð´Ð°</p> ",
                        'recordDetailDirectLoginBlockNoDirectLoginConfiguredDescription': "<p>Ð ÑÑÐ¾Ð¹ ÐºÐ°ÑÑÐ¾ÑÐºÐµ ÐµÑÑÑ Ð´Ð°Ð½Ð½ÑÐµ Ð´Ð»Ñ Ð´Ð¾ÑÑÑÐ¿Ð° Ð² Ð¾Ð½Ð»Ð°Ð¹Ð½ ÑÐµÑÐ²Ð¸Ñ?</p> <p>ÐÑÐ¿Ð¾Ð»ÑÐ·ÑÐ¹ÑÐµ Ð±ÑÐºÐ¼Ð°ÑÐºÐ»ÐµÑ, ÑÑÐ¾Ð±Ñ Ð´Ð¾Ð±Ð°Ð²Ð¸ÑÑ Â«ÐÑÑÑÑÑÐ¹ Ð²ÑÐ¾Ð´Â»!</p> ",
                        'recordDetailAddNewDirectLoginButtonLabel': "ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ Ð½Ð¾Ð²ÑÐ¹ Â«ÐÑÑÑÑÑÐ¹ Ð²ÑÐ¾Ð´Â»",
                        'recordDetailEditButtonLabel': "ÐÐ·Ð¼ÐµÐ½Ð¸ÑÑ",
                        'recordDetailSaveButtonLabel': "Ð¡Ð¾ÑÑÐ°Ð½Ð¸ÑÑ",
                        'recordDetailCancelButtonLabel': "ÐÑÐ¼ÐµÐ½Ð°",
                        'newRecordTitleLabel': "_Ð½Ð¾Ð²ÑÑ ÐºÐ°ÑÑÐ¾ÑÐºÑ_",
                        'recordSaveChangesPanelCollectRecordInfoMessageTitle': "Ð¡Ð¾ÑÑÐ°Ð½ÐµÐ½Ð¸Ðµ ÐºÐ°ÑÑÐ¾ÑÐºÐ¸",
                        'recordSaveChangesPanelCollectRecordInfoMessageText': "ÐÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¾Ð² ÐºÐ°ÑÑÐ¾ÑÐµÐº",
                        'recordSaveChangesPanelEncryptUserDataMessageTitle': "Ð¡Ð¾ÑÑÐ°Ð½ÐµÐ½Ð¸Ðµ ÐºÐ°ÑÑÐ¾ÑÐºÐ¸",
                        'recordSaveChangesPanelEncryptUserDataMessageText': "Ð¨Ð¸ÑÑÐ¾Ð²Ð°Ð½Ð¸Ðµ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¾Ð² ÐºÐ°ÑÑÐ¾ÑÐºÐ¸",
                        'recordSaveChangesPanelEncryptRecordDataMessageTitle': "Ð¡Ð¾ÑÑÐ°Ð½ÐµÐ½Ð¸Ðµ ÐºÐ°ÑÑÐ¾ÑÐºÐ¸",
                        'recordSaveChangesPanelEncryptRecordDataMessageText': "Ð¨Ð¸ÑÑÐ¾Ð²Ð°Ð½Ð¸ Ð´Ð°Ð½Ð½ÑÑ ÐºÐ°ÑÑÐ¾ÑÐºÐ¸",
                        'recordSaveChangesPanelEncryptRecordVersionDataMessageTitle': "Ð¡Ð¾ÑÑÐ°Ð½ÐµÐ½Ð¸Ðµ ÐºÐ°ÑÑÐ¾ÑÐºÐ¸",
                        'recordSaveChangesPanelEncryptRecordVersionDataMessageText': "Ð¨Ð¸ÑÑÐ¾Ð²Ð°Ð½Ð¸Ðµ Ð´Ð°Ð½Ð½ÑÑ Ð²ÐµÑÑÐ¸Ð¸ ÐºÐ°ÑÑÐ¾ÑÐºÐ¸",
                        'recordSaveChangesPanelSendingDataToTheServerMessageTitle': "Ð¡Ð¾ÑÑÐ°Ð½ÐµÐ½Ð¸Ðµ ÐºÐ°ÑÑÐ¾ÑÐºÐ¸",
                        'recordSaveChangesPanelSendingDataToTheServerMessageText': "ÐÐµÑÐµÐ´Ð°ÑÐ° Ð·Ð°ÑÐ¸ÑÑÐ¾Ð²Ð°Ð½Ð½Ð¾Ð³Ð¾ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ° ÐºÐ°ÑÑÐ¾ÑÐºÐ¸ Ð² Clipperz",
                        'recordSaveChangesPanelUpdatingTheInterfaceMessageTitle': "Ð¡Ð¾ÑÑÐ°Ð½ÐµÐ½Ð¸Ðµ ÐºÐ°ÑÑÐ¾ÑÐºÐ¸",
                        'recordSaveChangesPanelUpdatingTheInterfaceMessageText': "ÐÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¸Ð½ÑÐµÑÑÐµÐ¹ÑÐ°",
                        'passwordGeneratorPanelTitle': "ÐÐµÐ½ÐµÑÐ°ÑÐ¾Ñ Ð¿Ð°ÑÐ¾Ð»ÐµÐ¹",
                        'passwordGeneratorPanelOkLabel': "OK",
                        'passwordGeneratorPanelCancelLabel': "ÐÑÐ¼ÐµÐ½Ð°",
                        'passwordGeneratorLengthLabel': "Ð´Ð»Ð¸Ð½Ð°:",
                        'DWRUtilLoadingMessage': "ÐÐ°Ð³ÑÑÐ·ÐºÐ° Ð´Ð°Ð½Ð½ÑÑ ...",
                        'comingSoon': "Ð²ÑÐºÐ¾ÑÐµ ...",
                        'panelCollectingEntryopyMessageText': "ÐÐ¿ÑÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ ÑÐ½ÑÑÐ¾Ð¿Ð¸Ð¸",
                        'directLoginConfigurationCheckBoxFieldSelectedValue': "ÐÐ°",
                        'directLoginConfigurationCheckBoxFieldNotSelectedValue': "ÐÐµÑ",
                        'WELCOME_BACK': "ÐÐ¾Ð±ÑÐ¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°ÑÑ ÑÐ½Ð¾Ð²Ð°!",
                        'currentConnectionText': "Ð¡ÐµÐ¹ÑÐ°Ñ Ð²Ñ Ð¿Ð¾Ð´ÐºÐ»ÑÑÐ¸Ð»Ð¸ÑÑ Ñ ip&nbsp;__ip__, Ð¾ÑÐµÐ²Ð¸Ð´Ð½Ð¾ __country__, Ð¸ÑÐ¿Ð¾Ð»ÑÐ·ÑÑ __browser__ Ð½Ð° __operatingSystem__.",
                        'latestConnectionText': "ÐÐ¾ÑÐ»ÐµÐ´Ð½ÐµÐµ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ Ð±ÑÐ»Ð¾ __elapsedTimeDescription__ (__time__) Ñ ip&nbsp;__ip__, Ð¾ÑÐµÐ²Ð¸Ð´Ð½Ð¾ __country__, Ð¸ÑÐ¿Ð¾Ð»ÑÐ·ÑÑ __browser__ Ð½Ð° __operatingSystem__.",
                        'fullLoginHistoryLinkLabel': "Ð¿Ð¾ÐºÐ°Ð·Ð°ÑÑ Ð¿Ð¾Ð»Ð½ÑÑ Ð¸ÑÑÐ¾ÑÐ¸Ñ Ð²ÑÐ¾Ð´Ð¾Ð²",
                        'exportTabDescription': "<h5>JSON ÑÐºÑÐ¿Ð¾ÑÑ</h5>\
 <p>JSON Ð²ÐºÐ»ÑÑÐ°ÐµÑ Ð² ÑÐµÐ±Ñ Ð¿Ð¾Ð»Ð½ÑÑ Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ñ Ð¿ÑÐ¾ Ð²Ð°ÑÐ¸ ÐºÐ°ÑÑÑ, Ð² ÑÐ¾Ð¼ ÑÐ¸ÑÐ»Ðµ Ð¸ ÐºÐ¾Ð½ÑÐ¸Ð³ÑÑÐ°ÑÐ¸Ð¸ Ð±ÑÑÑÑÐ¾Ð³Ð¾ Ð²ÑÐ¾Ð´Ð°.</p>\
 <p>Ð­ÑÐ¾ ÑÐ¾ÑÐ¼Ð°Ñ, ÑÐ°Ð·ÑÐ°Ð±Ð¾ÑÐ°Ð½Ð½ÑÐ¹ Ð´Ð»Ñ Clipperz, Ð¸ Ð½Ð°Ð¸Ð±Ð¾Ð»ÐµÐµ ÑÐ´Ð¾Ð±ÐµÐ½ Ð´Ð»Ñ ÑÐ°Ð±Ð¾ÑÑ Ñ Ð½Ð¸Ð¼. ÐÐ°Ð¿ÑÐ¸Ð¼ÐµÑ, ÐµÑÐ»Ð¸ Ð²Ð°Ð¼ Ð½ÑÐ¶Ð½Ð¾ Ð¿ÐµÑÐµÐ¼ÐµÑÑÐ¸ÑÑ Ð²ÑÐµ ÑÐ²Ð¾Ð¸ ÐºÐ°ÑÑÑ Ð½Ð° Ð´ÑÑÐ³ÑÑ ÑÑÐµÑÐ½ÑÑ Ð·Ð°Ð¿Ð¸ÑÑ Clipperz, Ð¸Ð»Ð¸ ÐµÑÐ»Ð¸ Ð²Ñ ÑÐ¾ÑÐ¸ÑÐµ Ð²Ð¾ÑÑÑÐ°Ð½Ð¾Ð²Ð¸ÑÑ ÐºÐ°ÑÑÐ¾ÑÐºÑ, ÐºÐ¾ÑÐ¾ÑÐ°Ñ Ð±ÑÐ»Ð° ÑÐ»ÑÑÐ°Ð¹Ð½Ð¾ ÑÐ´Ð°Ð»ÐµÐ½Ð°.</p>\
 <p>ÐÐ°Ð¶Ð¼Ð¸ÑÐµ Ð½Ð° ÑÑÑÐ»ÐºÑ Ð½Ð¸Ð¶Ðµ, ÑÑÐ¾Ð±Ñ Ð½Ð°ÑÐ°ÑÑ ÑÐºÑÐ¿Ð¾ÑÑ.</p>",
                        'exportLinkLabel': "JSON ÑÐºÑÐ¿Ð¾ÑÑ",
                        'exportDataInProgressDescription': "<h4>Ð­ÐºÑÐ¿Ð¾ÑÑ, Ð¿Ð¾Ð¶Ð°Ð»ÑÑÑÐ°, Ð¿Ð¾Ð´Ð¾Ð¶Ð´Ð¸ÑÐµ, Ð¿Ð¾ÐºÐ° Ð¾Ð±ÑÐ°Ð±Ð°ÑÑÐ²Ð°ÑÑÑÑ Ð²Ð°ÑÐ¸ Ð´Ð°Ð½Ð½ÑÐµâ¦</h4>",
                        'exportDataDescription': "<h4>ÐÐ½ÑÑÑÑÐºÑÐ¸Ñ</h4>\
 <p>Ð¡ÐºÐ¾Ð¿Ð¸ÑÑÐ¹ÑÐµ ÑÐµÐºÑÑ Ð½Ð¸Ð¶Ðµ Ð² Ð»ÑÐ±Ð¾Ð¹ ÑÐµÐºÑÑÐ¾Ð²ÑÐ¹ ÑÐµÐ´Ð°ÐºÑÐ¾Ñ Ð¸ ÑÐ¾ÑÑÐ°Ð½Ð¸ÑÐµ ÐµÐ³Ð¾. (Ð½Ð°Ð¿Ñ. âclipperz_export_20071217.jsonâ)</p>",
                        'elapsedTimeDescriptions': {
                            'MORE_THAN_A_MONTH_AGO': "Ð·Ð° Ð¼ÐµÑÑÑ",
                            'MORE_THAN_A_WEEK_AGO': "Ð·Ð° Ð½ÐµÐ´ÐµÐ»Ñ",
                            'MORE_THAN_*_WEEKS_AGO': "Ð·Ð° Ð½ÐµÑÐºÐ¾Ð»ÑÐºÐ¾ __elapsed__ Ð½ÐµÐ´ÐµÐ»Ñ",
                            'YESTERDAY': "Ð²ÑÐµÑÐ°",
                            '*_DAYS_AGO': "__elapsed__ Ð´Ð½ÐµÐ¹(-Ñ)",
                            'ABOUT_AN_HOUR_AGO': "Ð·Ð° ÑÐ°Ñ",
                            '*_HOURS_AGO': "__elapsed__ ÑÐ°ÑÐ¾Ð²(-Ð°)",
                            'JUST_A_FEW_MINUTES_AGO': "Ð½ÐµÑÐºÐ¾Ð»ÑÐºÐ¾ Ð¼Ð¸Ð½ÑÑ",
                            'ABOUT_*_MINUTES_AGO': "Ð¾ÐºÐ¾Ð»Ð¾ __elapsed__ Ð¼Ð¸Ð½ÑÑ"
                        },
                        'unknown_ip': "Ð½ÐµÐ¸Ð·Ð²ÐµÑÑÐ½ÑÐ¹",
                        'importFormats': {
                            'CSV': {
                                'label': "CSV",
                                'description': "<p>Ð Ð°ÑÐ¿ÑÐ¾ÑÑÑÐ°Ð½ÐµÐ½Ð½ÑÐ¹ ÑÐ¾ÑÐ¼Ð°Ñ Ð´Ð»Ñ ÑÑÐ°Ð½ÐµÐ½Ð¸Ñ ÑÐ°Ð±Ð»Ð¸ÑÐ½ÑÑ Ð´Ð°Ð½Ð½ÑÑ. ÐÐ¾Ð»ÑÑÐ¸Ð½ÑÑÐ²Ð¾ Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑÐ¾Ð² Ð¿Ð°ÑÐ¾Ð»ÐµÐ¹ Ð¿Ð¾Ð´Ð´ÐµÑÐ¶Ð¸Ð²Ð°ÑÑ ÑÐºÑÐ¿Ð¾ÑÑ Ð² ÑÑÐ¾Ñ ÑÐ¾ÑÐ¼Ð°Ñ.</p>"
                            },
                            'Excel': {
                                'label': "Excel",
                                'description': "<p>ÐÐ¾Ð¿ÑÐ»ÑÑÐ½ÑÐ¹ ÑÐ¾ÑÐ¼Ð°Ñ ÑÐ°Ð±Ð»Ð¸Ñ Ð¾Ñ Microsoft. Ð¥ÑÐ°Ð½ÐµÐ½Ð¸Ðµ Ð¿Ð°ÑÐ¾Ð»ÐµÐ¹ Ð² Excel Ð¾ÑÐµÐ½Ñ ÑÐ°ÑÐ¿ÑÐ¾ÑÑÑÐ°Ð½ÐµÐ½Ð¾, Ð½Ð¾ ÑÑÐ¾ Ð½Ðµ ÑÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑÐµÑÑÑ.</p>"
                            },
                            'KeePass': {
                                'label': "KeePass",
                                'description': "<p>TXT ÑÐ°Ð¹Ð», ÑÐ¾Ð·Ð´Ð°Ð½Ð½ÑÐ¹ Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑÐ¾Ð¼ Ð¿Ð°ÑÐ¾Ð»ÐµÐ¹ KeePass.</p>"
                            },
                            'PasswordPlus': {
                                'label': "Password Plus",
                                'description': "<p>CSV ÑÐ°Ð¹Ð» Ð¸Ð· Password Plus, Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑ Ð¿Ð°ÑÐ¾Ð»ÐµÐ¹, ÐºÐ¾ÑÐ¾ÑÑÐ¹ ÑÐ°ÑÑÐ¾ Ð¸ÑÐ¿Ð¾Ð»ÑÐ·ÑÐµÑÑÑ Ð½Ð° Ð¼Ð¾Ð±Ð¸Ð»ÑÐ½ÑÑ ÑÑÑÑÐ¾Ð¹ÑÑÐ²Ð°Ñ.</p>"
                            },
                            'Roboform': {
                                'label': "RoboForm",
                                'description': "<p>Ð¡Ð¿ÐµÑÐ¸Ð°Ð»ÑÐ½ÑÐ¹ HTML ÑÐ°Ð¹Ð» ÑÐ¾Ð·Ð´Ð°Ð½Ð½ÑÐ¹ Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑÐ¾Ð¼ Roboform ÐºÐ¾Ð³Ð´Ð° Ð¾Ð½ Ð¿Ð¾ÐºÐ°Ð·ÑÐ²Ð°ÐµÑ Passcard Ð¸ Safenotes Ð´Ð»Ñ Ð¿ÐµÑÐ°ÑÐ¸.</p>"
                            },
                            'ClipperzExport': {
                                'label': "JSON",
                                'description': "<p>Ð¤Ð°Ð¹Ð», ÑÐ¾Ð·Ð´Ð°Ð½Ð½ÑÐ¹ ÑÐ°Ð¼Ð¸Ð¼ Clipperz Ð² ÑÐ¾ÑÐ¼Ð°ÑÐµ JSON. ÐÐ½ ÑÐ¾Ð´ÐµÑÐ¶Ð¸Ñ Ð²ÑÑ Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ñ, ÑÐ¾Ð´ÐµÑÐ¶Ð°ÑÑÑÑÑ Ð² Ð²Ð°ÑÐµÐ¹ ÐºÐ°ÑÑÐµ, Ð² ÑÐ¾Ð¼ ÑÐ¸ÑÐ»Ðµ Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ñ Ð¾ Ð±ÑÑÑÑÐ¾Ð¼ Ð²ÑÐ¾Ð´Ðµ.</p>"
                            }
                        },
                        'compactTabLabel': "ÐÐ¾Ð¼Ð¿Ð°ÐºÑÐ½Ð°Ñ Ð²ÐµÑÑÐ¸Ñ",
                        'httpAuthTabLabel': "HTTP Ð°Ð²ÑÐ¾ÑÐ¸Ð·Ð°ÑÐ¸Ñ",
                        'compactTabTitle': "ÐÐ¾Ð¼Ð¿Ð°ÐºÑÐ½Ð°Ñ Ð²ÐµÑÑÐ¸Ñ",
                        'httpAuthTabTitle': "HTTP Ð°Ð²ÑÐ¾ÑÐ¸Ð·Ð°ÑÐ¸Ñ",
                        'compactTabDescription': "\
 <!--  FIX CSS  DONE! --> \
 <p>Clipperz Compact - ÑÑÐ¾ ÑÐ¿ÐµÑÐ¸Ð°Ð»ÑÐ½Ð°Ñ Ð²ÐµÑÑÐ¸Ñ Clipperz Ð¿ÑÐµÐ´Ð½Ð°Ð·Ð½Ð°ÑÐµÐ½Ð½Ð°Ñ, ÑÑÐ¾Ð±Ñ Ð¾ÑÐºÑÑÐ²Ð°ÑÑÑÑ Ð² Ð±Ð¾ÐºÐ¾Ð²Ð¾Ð¹ Ð¿Ð°Ð½ÐµÐ»Ð¸ Firefox.</p>\
 <p>ÐÐ½Ð° ÑÐ¾Ð·Ð´Ð°Ð½Ð°, ÑÑÐ¾Ð±Ñ Ð´ÐµÑÐ¶Ð°ÑÑ Ð±ÑÑÑÑÑÐ¹ Ð²ÑÐ¾Ð´ Ð²ÑÐµÐ³Ð´Ð° ÑÑÐ´Ð¾Ð¼. <a href=\"http://www.clipperz.com/support/user_guide/clipperz_compact\", target=\"blank\">ÐÐ¾Ð´ÑÐ¾Ð±Ð½ÐµÐµ</a></p>\
 \
 <h3>ÐÐ°Ðº Ð·Ð°Ð¿ÑÑÑÐ¸ÑÑ Clipperz Compact Ð² Ð±Ð¾ÐºÐ¾Ð²Ð¾Ð¹ Ð¿Ð°Ð½ÐµÐ»Ð¸</h3>\
 <ol>\
  <li><p>ÐÑÐ¿Ð¾Ð»ÑÐ·ÑÐ¹ÑÐµ Firefox! ÐÐ¾ÐºÐ¾Ð²ÑÐµ Ð¿Ð°Ð½ÐµÐ»Ð¸ Ð´Ð¾ÑÑÑÐ¿Ð½Ñ ÑÐ¾Ð»ÑÐºÐ¾ Ð² Firefox, Ð¿Ð¾ÑÑÐ¾Ð¼Ñ Ð²Ñ Ð´Ð¾Ð»Ð¶Ð½Ñ Ð¸ÑÐ¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÑ Ð¸Ð¼ÐµÐ½Ð½Ð¾ ÐµÐ³Ð¾, ÐµÑÐ»Ð¸ Ð²Ñ ÑÐ¾ÑÐ¸ÑÐµ Ð²Ð¾ÑÐ¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÑÑÑ Clipperz Compact.</p></li>\
  <li>\
   <p>ÐÐ¾Ð±Ð°Ð²ÑÑÐµ ÑÐ»ÐµÐ´ÑÑÑÐ¸Ð¹ URL Ð² Ð·Ð°ÐºÐ»Ð°Ð´ÐºÐ¸ Firefox, Ð¸Ð»Ð¸ Ð¿ÑÐ¾ÑÑÐ¾ Ð¿ÐµÑÐµÑÐ°ÑÐ¸ÑÐµ Ð½Ð° Ð¿Ð°Ð½ÐµÐ»Ñ Ð·Ð°ÐºÐ»Ð°Ð´Ð¾Ðº.</p>\
   <div id=\"compactLinkBox\"><a href=\"https://www.clipperz.com/beta/index.html?compact\" target=\"_search\">Clipperz Compact</a></div>\
  </li>\
  <li><p>ÐÐ·Ð¼ÐµÐ½Ð¸ÑÐµ ÑÐ²Ð¾Ð¹ÑÑÐ²Ð° ÑÑÐ¾Ð¹ Ð·Ð°ÐºÐ»Ð°Ð´ÐºÐ¸, Ð²ÐºÐ»ÑÑÐ¸Ð² Ð¾Ð¿ÑÐ¸Ñ âÐÐ°Ð³ÑÑÐ¶Ð°ÑÑ Ð·Ð°ÐºÐ»Ð°Ð´ÐºÑ Ð² Ð±Ð¾ÐºÐ¾Ð²Ð¾Ð¹ Ð¿Ð°Ð½ÐµÐ»Ð¸â.</p></li>\
 </ol>\
 \
 <h5>Clipperz Compact ÑÐµÐ¿ÐµÑÑ ÑÐ°Ð±Ð¾ÑÐ°ÐµÑ Ð¸ Ð² Opera.</h5>",
                        'httpAuthTabDescription': "\
 <!--  FIX CSS  DONE! --> \
 <p>HTTP Ð°Ð²ÑÐ¾ÑÐ¸Ð·Ð°ÑÐ¸Ñ - Ð¼ÐµÑÐ¾Ð´, ÐºÐ¾ÑÐ¾ÑÑÐ¹ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ Ð±ÑÐ°ÑÐ·ÐµÑÑ Ð¿ÑÐµÐ´Ð¾ÑÑÐ°Ð²Ð»ÑÑÑ Ð¸Ð¼Ñ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ Ð¸ Ð¿Ð°ÑÐ¾Ð»Ñ Ð²ÐµÐ±-ÑÐ°Ð¹ÑÑ, Ð²ÐºÐ»ÑÑÐ°Ñ Ð¸Ñ Ð² Ð°Ð´ÑÐµÑ ÑÐ°Ð¹ÑÐ° (HTTP Ð¸Ð»Ð¸ HTTPS URL).</p>\
 <p>Ð Ð½Ð°ÑÑÐ¾ÑÑÐµÐµ Ð²ÑÐµÐ¼Ñ Ð¾Ð½ ÑÐµÐ´ÐºÐ¾ Ð¸ÑÐ¿Ð¾Ð»ÑÐ·ÑÐµÑÑÑ, Ð½Ð¾ Ð¾Ð½Ð° Ð²ÑÐµ ÐµÑÐµ Ð¼Ð¾Ð¶Ð½Ð¾ Ð²ÑÑÑÐµÑÐ¸ÑÑ Ð½Ð° Ð½ÐµÐ±Ð¾Ð»ÑÑÐ¸Ñ, ÑÐ°ÑÑÐ½ÑÑ Ð²ÐµÐ±-ÑÐ°Ð¹ÑÐ¾Ð². ÐÐ¾Ð¶Ð½Ð¾ Ð¾Ð¿ÑÐµÐ´ÐµÐ»Ð¸ÑÑ, ÑÑÐ¾ ÑÐ°Ð¹Ñ Ð¸ÑÐ¿Ð¾Ð»ÑÐ·ÑÐµÑ HTTP Ð°Ð²ÑÐ¾ÑÐ¸Ð·Ð°ÑÐ¸Ñ, ÐºÐ¾Ð³Ð´Ð° Ð±ÑÐ°ÑÐ·ÐµÑ Ð¾ÑÐ¾Ð±ÑÐ°Ð¶Ð°ÐµÑ Ð²ÑÐ¿Ð»ÑÐ²Ð°ÑÑÐµÐµ Ð¾ÐºÐ½Ð¾ Ð´Ð»Ñ Ð²Ð²Ð¾Ð´Ð° Ð¸Ð¼ÐµÐ½Ð¸ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ Ð¸ Ð¿Ð°ÑÐ¾Ð»Ñ.</p>\
 <p>Ð ÑÐ¾Ð¶Ð°Ð»ÐµÐ½Ð¸Ñ, Ð±ÑÐºÐ¼Ð°ÑÐºÐ»ÐµÑ Clipperz Ð½Ðµ ÑÐ°Ð±Ð¾ÑÐ°ÐµÑ Ð² Ð²ÐµÐ±-ÑÐ°Ð¹ÑÐ°Ñ, ÐºÐ¾ÑÐ¾ÑÑÐµ Ð¸ÑÐ¿Ð¾Ð»ÑÐ·ÑÑÑ HTTP Ð°Ð²ÑÐ¾ÑÐ¸Ð·Ð°ÑÐ¸Ñ. ÐÐ¾ Ð²Ñ Ð²ÑÐµ ÑÐ°Ð²Ð½Ð¾ Ð¼Ð¾Ð¶ÐµÑÐµ ÑÐ¾Ð·Ð´Ð°ÑÑ Ð±ÑÑÑÑÑÐ¹ Ð²ÑÐ¾Ð´</p>\
 \
 <h3>ÐÐ°Ðº ÑÐ¾Ð·Ð´Ð°ÑÑ Ð±ÑÑÑÑÑÐ¹ Ð²ÑÐ¾Ð´ Ð´Ð»Ñ ÑÐ°Ð¹ÑÐ°, Ð¸ÑÐ¿Ð¾Ð»ÑÐ·ÑÑÑÐµÐ³Ð¾ HTTP Ð°Ð²ÑÐ¾ÑÐ¸Ð·Ð°ÑÐ¸Ñ</h3>\
 <ol>\
  <li><p>Ð¡Ð¾ÑÑÐ°Ð½Ð¸ÑÐµ URL ÑÐ°Ð¹ÑÐ°, Ð¸Ð¼Ñ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ Ð¸ Ð¿Ð°ÑÐ¾Ð»Ñ Ð² Ð½Ð¾Ð²Ð¾Ð¹ ÐºÐ°ÑÑÐ¾ÑÐºÐµ.</p></li>\
  <li><p>Ð¡ÐºÐ¾Ð¿Ð¸ÑÑÐ¹ÑÐµ ÐºÐ¾Ð½ÑÐ¸Ð³ÑÑÐ°ÑÐ¸Ñ, Ð½Ð°Ð¿Ð¸ÑÐ°Ð½Ð½ÑÑ Ð½Ð¸Ð¶Ðµ, Ð¸ Ð²ÑÑÐ°Ð²ÑÑÐµ ÐµÐµ Ð² ÑÐµÐºÑÑÐ¾Ð²Ð¾Ðµ Ð¿Ð¾Ð»Ðµ Ð´Ð»Ñ ÐºÐ¾Ð½ÑÐ¸Ð³ÑÑÐ°ÑÐ¸Ð¸ Ð±ÑÑÑÑÐ¾Ð³Ð¾ Ð²ÑÐ¾Ð´Ð° Ð² ÑÐ¾Ð·Ð´Ð°Ð½Ð½Ð¾Ð¹ ÐºÐ°ÑÑÐµ.</p></li>\
  <li><p>ÐÐ°Ð¶Ð¼Ð¸ÑÐµ <b>ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ Â«Ð±ÑÑÑÑÑÐ¹ Ð²ÑÐ¾Ð´Â»</b>, ÑÐºÐ°Ð·Ð°Ð² URL, Ð¸Ð¼Ñ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ Ð¸ Ð¿Ð°ÑÐ¾Ð»Ñ Ð² Ð¿Ð¾ÑÐ²Ð¸Ð²ÑÐ¸ÑÑÑ Ð¿Ð¾Ð»ÑÑ Ð¸ Ð½Ð°Ð¶Ð¼Ð¸ÑÐµ <b>Ð¡Ð¾ÑÑÐ°Ð½Ð¸ÑÑ</b>.</p></li>\
 </ol>\
 \
 <h5><a href=\"http://support.microsoft.com/kb/834489\" target=\"_parent\">ÐÐ½Ð¸Ð¼Ð°Ð½Ð¸Ðµ: Internet Explorer Ð½Ðµ Ð¿Ð¾Ð´Ð´ÐµÑÐ¶Ð¸Ð²Ð°ÐµÑ HTTP Ð°Ð²ÑÐ¾ÑÐ¸Ð·Ð°ÑÐ¸Ñ.</a></h5>",
                        'calendarStrings': {
                            'months': {
                                '0': "Ð¯Ð½Ð²Ð°ÑÑ",
                                '1': "Ð¤ÐµÐ²ÑÐ°Ð»Ñ",
                                '2': "ÐÐ°ÑÑ",
                                '3': "ÐÐ¿ÑÐµÐ»Ñ",
                                '4': "ÐÐ°Ð¹",
                                '5': "ÐÑÐ½Ñ",
                                '6': "ÐÑÐ»Ñ",
                                '7': "ÐÐ²Ð³ÑÑÑ",
                                '8': "Ð¡ÐµÐ½ÑÑÐ±ÑÑ",
                                '9': "ÐÐºÑÑÐ±ÑÑ",
                                '10': "ÐÐ¾ÑÐ±ÑÑ",
                                '11': "ÐÐµÐºÐ°Ð±ÑÑ"
                            },
                            'shortMonths': {
                                '0': "Ð¯Ð½Ð²",
                                '1': "Ð¤ÐµÐ²",
                                '2': "ÐÐ°Ñ",
                                '3': "ÐÐ¿Ñ",
                                '4': "ÐÐ°Ð¹",
                                '5': "ÐÑÐ½",
                                '6': "ÐÑÐ»",
                                '7': "ÐÐ²Ð³",
                                '8': "Ð¡ÐµÐ½",
                                '9': "ÐÐºÑ",
                                '10': "ÐÐ¾Ñ",
                                '11': "ÐÐµÐº"
                            },
                            'days': {
                                '0': "ÐÐ¾ÑÐºÑÐµÑÐµÐ½ÑÐµ",
                                '1': "ÐÐ¾Ð½ÐµÐ´ÐµÐ»ÑÐ½Ð¸Ðº",
                                '2': "ÐÑÐ¾ÑÐ½Ð¸Ðº",
                                '3': "Ð¡ÑÐµÐ´Ð°",
                                '4': "Ð§ÐµÑÐ²ÐµÑÐ³",
                                '5': "ÐÑÑÐ½Ð¸ÑÐ°",
                                '6': "Ð¡ÑÐ±Ð±Ð¾ÑÐ°"
                            },
                            'shortDays': {
                                '0': "ÐÑ",
                                '1': "ÐÐ½",
                                '2': "ÐÑ",
                                '3': "Ð¡Ñ",
                                '4': "Ð§Ñ",
                                '5': "ÐÑ",
                                '6': "Ð¡Ð±"
                            },
                            'amDesignation': "am",
                            'pmDesignation': "pm"
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Strings) == 'undefined') {
                        Clipperz.PM.Strings = {};
                    }
                    if (typeof (Clipperz.PM.Strings.Languages) == 'undefined') {
                        Clipperz.PM.Strings.Languages = {};
                    }
                    Clipperz.PM.Strings.standardStrings = {
                        'loginPanelSwitchLanguageSelectOptions': [{
                            tag: 'option',
                            html: "Arabic (Ø§ÙØ¹Ø±Ø¨ÙØ©)",
                            value: "ar",
                            disabled: true,
                            cls: 'disabledOption'
                        }, {
                            tag: 'option',
                            html: "Chinese (Simplified) (ç®ä½ä¸­æ)",
                            value: 'zh-CN'
                        }, {
                            tag: 'option',
                            html: "Dutch (Nederlands)",
                            value: "nl-NL",
                            disabled: true,
                            cls: 'disabledOption'
                        }, {
                            tag: 'option',
                            html: "English",
                            value: "en-US"
                        }, {
                            tag: 'option',
                            html: "French (FranÃ§ais)",
                            value: "fr-FR"
                        }, {
                            tag: 'option',
                            html: "German (Deutsch)",
                            value: "de-DE",
                            disabled: true,
                            cls: 'disabledOption'
                        }, {
                            tag: 'option',
                            html: "Greek (ÎÎ»Î»Î·Î½Î¹ÎºÎ¬)",
                            value: "el-GR",
                            disabled: true,
                            cls: 'disabledOption'
                        }, {
                            tag: 'option',
                            html: "Hebrew (×¢××¨××ª)",
                            value: "he-IL",
                            disabled: true,
                            cls: 'disabledOption'
                        }, {
                            tag: 'option',
                            html: "Italian (Italiano)",
                            value: "it-IT"
                        }, {
                            tag: 'option',
                            html: "Japanese (æ¥æ¬èª)",
                            value: "ja-JP"
                        }, {
                            tag: 'option',
                            html: "Korean (íêµ­ì´)",
                            value: "ko-KR",
                            disabled: true,
                            cls: 'disabledOption'
                        }, {
                            tag: 'option',
                            html: "Norwegian (Norsk)",
                            value: "no",
                            disabled: true,
                            cls: 'disabledOption'
                        }, {
                            tag: 'option',
                            html: "Persian (ÙØ§Ø±Ø³Û)",
                            value: "fa-IR",
                            disabled: true,
                            cls: 'disabledOption'
                        }, {
                            tag: 'option',
                            html: "Polish (Polski)",
                            value: "pl-PL",
                            disabled: true,
                            cls: 'disabledOption'
                        }, {
                            tag: 'option',
                            html: "Portuguese (PortuguÃªs)",
                            value: "pt-BR"
                        }, {
                            tag: 'option',
                            html: "Russian (Ð ÑÑÑÐºÐ¸Ð¹)",
                            value: "ru-RU"
                        }, {
                            tag: 'option',
                            html: "Spanish (EspaÃ±ol)",
                            value: "es-ES"
                        }, {
                            tag: 'option',
                            html: "Swedish (Svenska)",
                            value: "sv-SE",
                            disabled: true,
                            cls: 'disabledOption'
                        }, {
                            tag: 'option',
                            html: "Turkish (TÃ¼rkÃ§e)",
                            value: "tr-TR",
                            disabled: true,
                            cls: 'disabledOption'
                        }, {
                            tag: 'option',
                            html: "Vietnamese (Tiáº¿ng Viá»t)",
                            value: "vi-VN",
                            disabled: true,
                            cls: 'disabledOption'
                        }]
                    }
                    Clipperz.PM.Strings.GeneralSettings = {
                        'en-us': {
                            'loginFormAarghThatsBadUrl': "http://www.clipperz.com/support/faq/account_faq",
                            'loginFormVerifyTheCodeUrl': "http://www.clipperz.com/learn_more/reviewing_the_code",
                            'donateHeaderLinkUrl': "http://www.clipperz.com/donations",
                            'creditsHeaderLinkUrl': "http://www.clipperz.com/credits",
                            'feedbackHeaderLinkUrl': "http://www.clipperz.com/contact",
                            'helpHeaderLinkUrl': "http://www.clipperz.com/support/user_guide",
                            'forumHeaderLinkUrl': "http://www.clipperz.com/forum",
                            'httpAuthBookmarkletConfiguration': {
                                tag: 'textarea',
                                id: 'httpAuthDefaultConfiguration',
                                html: "" + "{ \"page\":{\"title\":\"HTTP authentication\"}," + "\n" + "  \"form\":{\"attributes\": {" + "\n" + "    \"action\":\"\"," + "\n" + "    \"type\":\"http_auth\"" + "\n" + "  }, \"inputs\": [" + "\n" + "    {\"type\":\"text\",\"name\":\"url\",\"value\":\"\"}," + "\n" + "    {\"type\":\"text\",\"name\":\"username\",\"value\":\"\"}," + "\n" + "    {\"type\":\"password\",\"name\":\"password\",\"value\":\"\"}" + "\n" + "  ]}, \"version\":\"0.2.3\"}"
                            },
                            'directLoginJumpPageUrl': "",
                            'defaultFaviconUrl': "data:application/octet-stream;charset=utf-8;base64,AAABAAEAFxcAAAEAGAD8BgAAFgAAACgAAAAXAAAALgAAAAEAGAAAAAAAAAAAABIXAAASFwAAAAAAAAAAAAD///////////////////////////////////////////////////////////////////////////////////////////9zAC////////////////////////////////////////////////////////////////////////////////////////////9pAG////////////////////////////////////////////////////////////////////////////////////////////9rAC////////////////////////////////////////////////////////////////////////////////////////////9yAHP////////////////////////IyMizs7O6urrq6ur////////////Ozs6zs7Ozs7Pq6ur///////////////////////8AAAD////////////////////V1dWXl5eXl5eXl5elpaX4+Pj////Ozs6Xl5eXl5eXl5eenp7///////////////////////8AAAD////////////////////Ozs6Xl5eXl5eXl5eXl5fBwcHq6uqenp6Xl5eXl5eXl5eXl5f///////////////////////8AAAD////////////////////j4+OXl5eXl5eXl5eXl5eXl5elpaWXl5eXl5eXl5eXl5ezs7P///////////////////////8AAAD////////////////////////IyMiXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eenp7x8fH////////////////////////////////////////////////////4+PilpaWXl5eXl5eXl5eXl5eXl5eXl5eXl5fOzs7////////////////////////////////////////////////////////q6uq6urqXl5eXl5eXl5eXl5eXl5eXl5eenp7V1dX4+Pj///////////////////////8AAAD////////////4+PjOzs6lpaWXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5e6urrj4+P///////////////8AAAD////////////BwcGXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5fx8fH///////////8AAAD///////////+zs7OXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5fj4+P///////////8AAAD////////////IyMiXl5eXl5eXl5eXl5e6urqXl5eXl5eXl5eXl5esrKylpaWXl5eXl5eXl5eenp7x8fH///////////8AAAD////////////////Ozs7Ozs7V1dX4+Pj///+Xl5eXl5eXl5eXl5fOzs7////q6urOzs7Ozs7q6ur///////////////8AAAD///////////////////////////////////+Xl5eXl5eXl5eXl5fOzs7///////////////////////////////////8AAAD///////////////////////////////////+Xl5eXl5eXl5eXl5fOzs7///////////////////////////////////8AAAD///////////////////////////////////+Xl5eXl5eXl5eXl5fOzs7///////////////////////////////////8AAAD////////////////////////////////////IyMiXl5eXl5eenp7x8fH///////////////////////////////////8AAAD////////////////////////////////////////j4+Pj4+Px8fH///////////////////////////////////////8AAAD///////////////////////////////////////////////////////////////////////////////////////////8AAAD///////////////////////////////////////////////////////////////////////////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAo=",
                            'defaultFaviconUrl_IE': "https://www.clipperz.com/images/icons/misc/favicon.ico",
                            'donateSplashPanelIconUrl': "./images/smiles_big.gif",
                            'icons_baseUrl': "https://www.clipperz.com/images/icons",
                            'passwordGeneratorLowercaseCharset': "abcdefghijklmnopqrstuvwxyz",
                            'passwordGeneratorUppercaseCharset': "ABCDEFGHIJKLMNOPQRSTUVWXYZ",
                            'passwordGeneratorNumberCharset': "0123456789",
                            'passwordGeneratorSymbolCharset': "!@#$%^&*+?[]{}/|\\<>,.;:~=-_",
                            '_': ""
                        }
                    }
                    Clipperz.PM.Strings.defaultLanguages = {
                        'default': "en-us",
                        'fr': "fr-fr",
                        'es': "es-es",
                        'zh': "zh-cn",
                        'ja': "ja-jp",
                        'pt': "pt-br",
                        'it': "it-it",
                        'en': "en-us"
                    }
                    Clipperz.PM.Strings.inputTypeToRecordFieldType = {
                        'text': 'TXT',
                        'password': 'PWD',
                        'checkbox': 'CHECK',
                        'radio': 'RADIO',
                        'select': 'SELECT'
                    };
                    Clipperz.PM.Strings.Languages.setSelectedLanguage = function (aLanguage) {
                        var language;
                        var selectedLanguage;
                        language = (aLanguage || Clipperz.PM.Strings.preferredLanguage || 'default').toLowerCase();
                        if (typeof (Clipperz.PM.Strings.defaultLanguages[language]) != 'undefined') {
                            language = Clipperz.PM.Strings.defaultLanguages[language];
                        }
                        if (typeof (Clipperz.PM.Strings.Languages[language]) != 'undefined') {
                            selectedLanguage = language;
                        } else if (typeof (Clipperz.PM.Strings.defaultLanguages[language.substr(0, 2)]) != 'undefined') {
                            selectedLanguage = Clipperz.PM.Strings.defaultLanguages[language.substr(0, 2)];
                        } else {
                            selectedLanguage = Clipperz.PM.Strings.defaultLanguages['default'];
                        }
                        if (selectedLanguage != Clipperz.PM.Strings.selectedLanguage) {
                            Clipperz.PM.Strings.selectedLanguage = selectedLanguage;
                            MochiKit.Base.update(Clipperz.PM.Strings, Clipperz.PM.Strings.standardStrings)
                            MochiKit.Base.updatetree(Clipperz.PM.Strings, Clipperz.PM.Strings.Languages[Clipperz.PM.Strings.defaultLanguages['default']]);
                            MochiKit.Base.updatetree(Clipperz.PM.Strings, Clipperz.PM.Strings.GeneralSettings[Clipperz.PM.Strings.defaultLanguages['default']]);
                            MochiKit.Base.updatetree(Clipperz.PM.Strings, Clipperz.PM.Strings.Languages[selectedLanguage]);
                            MochiKit.Base.updatetree(Clipperz.PM.Strings, Clipperz.PM.Strings.GeneralSettings[selectedLanguage]);
                            Clipperz.NotificationCenter.notify(Clipperz.PM.Strings.Languages, 'switchLanguage', selectedLanguage);
                        }
                    }
                    Clipperz.PM.Strings.Languages.initSetup = function () {
                        var language;
                        var languageParser;
                        language = navigator.language || navigator.userLanguage;
                        languageParser = new RegExp("language=([a-z]{2}(?:\-[a-z]{2})?)(\&|$)", "i");
                        if (languageParser.test(window.location.search)) {
                            language = RegExp.$1;
                        }
                        Clipperz.PM.Strings.preferredLanguage = language.toLowerCase();
                        Clipperz.PM.Strings.Languages.setSelectedLanguage(Clipperz.PM.Strings.preferredLanguage);
                    }
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Strings) == 'undefined') {
                        Clipperz.PM.Strings = {};
                    }
                    Clipperz.PM.Strings.messagePanelConfigurations = {
                        'registration_verify': function () {
                            return {
                                'title': null,
                                'text': Clipperz.PM.Strings['connectionRegistrationSendingRequestMessageText']
                            }
                        },
                        'registration_sendingCredentials': function () {
                            return {
                                'title': null,
                                'text': Clipperz.PM.Strings['connectionRegistrationSendingCredentialsMessageText']
                            }
                        },
                        'OTP_login_start': function () {
                            return {
                                'title': Clipperz.PM.Strings['OTPloginMessagePanelInitialTitle'],
                                'text': Clipperz.PM.Strings['OTPloginMessagePanelInitialText'],
                                'steps': '+3',
                                'buttons': {}
                            }
                        },
                        'OTP_login_loadingOTP': function () {
                            return {
                                'title': Clipperz.PM.Strings['OTPloginMessagePanelLoadingTitle'],
                                'text': Clipperz.PM.Strings['OTPloginMessagePanelLoadingText']
                            }
                        },
                        'OTP_login_extractingPassphrase': function () {
                            return {
                                'title': Clipperz.PM.Strings['OTPloginMessagePanelProcessingTitle'],
                                'text': Clipperz.PM.Strings['OTPloginMessagePanelProcessingText']
                            }
                        },
                        'login_start': function () {
                            return {
                                'title': Clipperz.PM.Strings['loginMessagePanelInitialTitle'],
                                'text': Clipperz.PM.Strings['loginMessagePanelInitialText'],
                                'steps': '+7',
                                'buttons': {
                                    'ok': Clipperz.PM.Strings['loginMessagePanelInitialButtonLabel']
                                }
                            }
                        },
                        'login_connected': function () {
                            return {
                                'title': Clipperz.PM.Strings['loginMessagePanelConnectedTitle'],
                                'text': Clipperz.PM.Strings['loginMessagePanelConnectedText'],
                                'buttons': {}
                            }
                        },
                        'login_failed': function () {
                            return {
                                'title': Clipperz.PM.Strings['loginMessagePanelFailureTitle'],
                                'text': Clipperz.PM.Strings['loginMessagePanelFailureText'],
                                'button': Clipperz.PM.Strings['loginMessagePanelFailureButtonLabel']
                            }
                        },
                        'connection_sendingCredentials': function () {
                            return {
                                'title': Clipperz.PM.Strings['connectionLoginSendingCredentialsMessageTitle'],
                                'text': Clipperz.PM.Strings['connectionLoginSendingCredentialsMessageText']
                            }
                        },
                        'connection_credentialVerification': function () {
                            return {
                                'title': Clipperz.PM.Strings['connectionLoginCredentialsVerificationMessageTitle'],
                                'text': Clipperz.PM.Strings['connectionLoginCredentialsVerificationMessageText']
                            }
                        },
                        'connection_loggedIn': function () {
                            return {
                                'title': Clipperz.PM.Strings['connectionLoginDoneMessageTitle'],
                                'text': Clipperz.PM.Strings['connectionLoginDoneMessageText']
                            }
                        },
                        'connection_upgrading': function () {
                            return {
                                'title': Clipperz.PM.Strings['userLoginPanelUpgradingUserCredentialsMessageTitle'],
                                'text': Clipperz.PM.Strings['userLoginPanelUpgradingUserCredentialsMessageText'],
                                'steps': '+1'
                            }
                        },
                        'connection_done': function () {
                            return {
                                'title': Clipperz.PM.Strings['userLoginPanelConnectedMessageTitle'],
                                'text': Clipperz.PM.Strings['userLoginPanelConnectedMessageText']
                            }
                        },
                        'connection_tryOlderSchema': function () {
                            return {
                                'title': Clipperz.PM.Strings['userLoginPanelTryingAnOlderConnectionSchemaMessageTitle'],
                                'text': Clipperz.PM.Strings['userLoginPanelTryingAnOlderConnectionSchemaMessageText'],
                                'steps': '+4'
                            }
                        },
                        'connection_loadingUserData': function () {
                            return {
                                'title': Clipperz.PM.Strings['userLoginPanelLoadingUserDataMessageTitle'],
                                'text': Clipperz.PM.Strings['userLoginPanelLoadingUserDataMessageText']
                            }
                        },
                        'connection_decryptingUserData': function () {
                            return {
                                'title': Clipperz.PM.Strings['userLoginPanelDecryptingUserDataMessageTitle'],
                                'text': Clipperz.PM.Strings['userLoginPanelDecryptingUserDataMessageText'],
                                'steps': '+1'
                            }
                        },
                        'connection_decryptingUserStatistics': function () {
                            return {
                                'title': Clipperz.PM.Strings['userLoginPanelDecryptingUserStatisticsMessageTitle'],
                                'text': Clipperz.PM.Strings['userLoginPanelDecryptingUserStatisticsMessageText']
                            }
                        },
                        'collectingEntropy': function () {
                            return {
                                'text': Clipperz.PM.Strings['panelCollectingEntryopyMessageText'],
                                'steps': '+1'
                            }
                        },
                        'deleteRecord_collectData': function () {
                            return {
                                'title': Clipperz.PM.Strings['deleteRecordPanelCollectRecordDataMessageTitle'],
                                'text': Clipperz.PM.Strings['deleteRecordPanelCollectRecordDataMessageText']
                            }
                        },
                        'deleteRecord_encryptData': function () {
                            return {
                                'title': Clipperz.PM.Strings['deleteRecordPanelEncryptUserDataMessageTitle'],
                                'text': Clipperz.PM.Strings['deleteRecordPanelEncryptUserDataMessageText']
                            }
                        },
                        'deleteRecord_sendingData': function () {
                            return {
                                'title': Clipperz.PM.Strings['deleteRecordPanelSendingDataToTheServerMessageTitle'],
                                'text': Clipperz.PM.Strings['deleteRecordPanelSendingDataToTheServerMessageText']
                            }
                        },
                        'deleteRecord_updatingInterface': function () {
                            return {
                                'title': Clipperz.PM.Strings['deleteRecordPanelUpdatingTheInterfaceMessageTitle'],
                                'text': Clipperz.PM.Strings['deleteRecordPanelUpdatingTheInterfaceMessageText']
                            }
                        },
                        'saveCard_collectRecordInfo': function () {
                            return {
                                'title': Clipperz.PM.Strings['recordSaveChangesPanelCollectRecordInfoMessageTitle'],
                                'text': Clipperz.PM.Strings['recordSaveChangesPanelCollectRecordInfoMessageText']
                            }
                        },
                        'saveCard_encryptUserData': function () {
                            return {
                                'title': Clipperz.PM.Strings['recordSaveChangesPanelEncryptUserDataMessageTitle'],
                                'text': Clipperz.PM.Strings['recordSaveChangesPanelEncryptUserDataMessageText']
                            }
                        },
                        'saveCard_encryptRecordData': function () {
                            return {
                                'title': Clipperz.PM.Strings['recordSaveChangesPanelEncryptRecordDataMessageTitle'],
                                'text': Clipperz.PM.Strings['recordSaveChangesPanelEncryptRecordDataMessageText']
                            }
                        },
                        'saveCard_encryptRecordVersions': function () {
                            return {
                                'title': Clipperz.PM.Strings['recordSaveChangesPanelEncryptRecordVersionDataMessageTitle'],
                                'text': Clipperz.PM.Strings['recordSaveChangesPanelEncryptRecordVersionDataMessageText']
                            }
                        },
                        'saveCard_sendingData': function () {
                            return {
                                'title': Clipperz.PM.Strings['recordSaveChangesPanelSendingDataToTheServerMessageTitle'],
                                'text': Clipperz.PM.Strings['recordSaveChangesPanelSendingDataToTheServerMessageText']
                            }
                        },
                        'saveCard_updatingInterface': function () {
                            return {
                                'title': Clipperz.PM.Strings['recordSaveChangesPanelUpdatingTheInterfaceMessageTitle'],
                                'text': Clipperz.PM.Strings['recordSaveChangesPanelUpdatingTheInterfaceMessageText']
                            }
                        },
                        'account_savingPreferences_1': function () {
                            return {
                                'title': Clipperz.PM.Strings['accountPreferencesSavingPanelTitle_Step1'],
                                'text': Clipperz.PM.Strings['accountPreferencesSavingPanelText_Step1'],
                                'steps': '+3'
                            }
                        },
                        'account_savingPreferences_2': function () {
                            return {
                                'title': Clipperz.PM.Strings['accountPreferencesSavingPanelTitle_Step2'],
                                'text': Clipperz.PM.Strings['accountPreferencesSavingPanelText_Step2']
                            }
                        },
                        'changeCredentials_encryptingData': function () {
                            return {
                                'title': Clipperz.PM.Strings['changeCredentialsPanelEncryptingDataMessageTitle'],
                                'text': Clipperz.PM.Strings['changeCredentialsPanelEncryptingDataMessageText']
                            }
                        },
                        'changeCredentials_creatingNewCredentials': function () {
                            return {
                                'title': Clipperz.PM.Strings['changeCredentialsPanelCreatingNewCredentialsMessageTitle'],
                                'text': Clipperz.PM.Strings['changeCredentialsPanelCreatingNewCredentialsMessageText']
                            }
                        },
                        'changeCredentials_sendingCredentials': function () {
                            return {
                                'title': Clipperz.PM.Strings['changeCredentialsPanelSendingNewCredentialsToTheServerMessageTitle'],
                                'text': Clipperz.PM.Strings['changeCredentialsPanelSendingNewCredentialsToTheServerMessageText']
                            }
                        },
                        'changeCredentials_done': function () {
                            return {
                                'title': Clipperz.PM.Strings['changeCredentialsPanelDoneMessageTitle'],
                                'text': Clipperz.PM.Strings['changeCredentialsPanelDoneMessageText']
                            }
                        },
                        'saveOTP_encryptUserData': function () {
                            return {
                                'title': Clipperz.PM.Strings['saveOTP_encryptUserDataTitle'],
                                'text': Clipperz.PM.Strings['saveOTP_encryptUserDataText'],
                                'steps': '+4'
                            }
                        },
                        'saveOTP_encryptOTPData': function () {
                            return {
                                'title': Clipperz.PM.Strings['saveOTP_encryptOTPDataTitle'],
                                'text': Clipperz.PM.Strings['saveOTP_encryptOTPDataText']
                            }
                        },
                        'saveOTP_sendingData': function () {
                            return {
                                'title': Clipperz.PM.Strings['saveOTP_sendingDataTitle'],
                                'text': Clipperz.PM.Strings['saveOTP_sendingDataText']
                            }
                        },
                        'saveOTP_updatingInterface': function () {
                            return {
                                'title': Clipperz.PM.Strings['saveOTP_updatingInterfaceTitle'],
                                'text': Clipperz.PM.Strings['saveOTP_updatingInterfaceText']
                            }
                        },
                        'parseImportData': function () {
                            return {
                                'title': Clipperz.PM.Strings['importData_parsingDataTitle'],
                                'text': Clipperz.PM.Strings['importData_parsingDataText']
                            }
                        },
                        'previewImportData': function () {
                            return {
                                'title': Clipperz.PM.Strings['importData_previewingDataTitle'],
                                'text': Clipperz.PM.Strings['importData_previewingDataText']
                            }
                        },
                        'processingImportData': function () {
                            return {
                                'title': Clipperz.PM.Strings['importData_processingDataTitle'],
                                'text': Clipperz.PM.Strings['importData_processingDataText']
                            }
                        },
                        __syntaxFix__: "syntax fix"
                    }
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Date) == 'undefined') {
                        Clipperz.PM.Date = {};
                    }
                    Clipperz.PM.Date.VERSION = "0.1";
                    Clipperz.PM.Date.NAME = "Clipperz.PM.Date";
                    MochiKit.Base.update(Clipperz.PM.Date, {
                        '__repr__': function () {
                            return "[" + this.NAME + " " + this.VERSION + "]";
                        },
                        'toString': function () {
                            return this.__repr__();
                        },
                        'locale': function () {
                            return {
                                'amDesignation': Clipperz.PM.Strings['calendarStrings']['amDesignation'],
                                'pmDesignation': Clipperz.PM.Strings['calendarStrings']['pmDesignation'],
                                'days': Clipperz.PM.Strings['calendarStrings']['days'],
                                'shortDays': Clipperz.PM.Strings['calendarStrings']['shortDays'],
                                'shortMonths': Clipperz.PM.Strings['calendarStrings']['shortMonths'],
                                'months': Clipperz.PM.Strings['calendarStrings']['months']
                            }
                        },
                        'formatDateWithTemplate': function (aDate, aTemplate) {
                            var result;
                            if (aDate == null) {
                                result = ""
                            } else {
                                result = Clipperz.Date.formatDateWithPHPLikeTemplateAndLocale(aDate, aTemplate, Clipperz.PM.Date.locale());
                            };
                            return result;
                        },
                        'parseDateWithTemplate': function (aValue, aTemplate) {
                            return Clipperz.Date.parseDateWithPHPTemplateAndLocale(aValue, aTemplate, Clipperz.PM.Date.locale());
                        },
                        'formatDateWithUTCFormat': function (aDate) {
                            return Clipperz.Date.formatDateWithUTCFormatAndLocale(aDate, Clipperz.PM.Date.locale());
                        },
                        'parseDateWithUTCFormat': function (aValue) {
                            var result;
                            if (aValue == null) {
                                result = null;
                            } else {
                                result = Clipperz.Date.parseDateWithUTCFormatAndLocale(aValue, Clipperz.PM.Date.locale());
                            }
                            return result;
                        },
                        'getElapsedTimeDescription': function (aDate) {
                            var result;
                            result = ""
                            if (aDate != null) {
                                var now;
                                var elapsedTime;
                                var millisencondsInAMinute;
                                var millisencondsInAnHour;
                                var millisencondsInADay;
                                var millisencondsInAWeek;
                                var millisencondsInAMonth;
                                now = new Date();
                                elapsedTime = now.getTime() - aDate.getTime();
                                millisencondsInAMinute = 60 * 1000;
                                millisencondsInAnHour = millisencondsInAMinute * 60;
                                millisencondsInADay = millisencondsInAnHour * 24;
                                millisencondsInAWeek = millisencondsInADay * 7;
                                millisencondsInAMonth = millisencondsInAWeek * 5;
                                if ((elapsedTime / millisencondsInAMonth) > 1) {
                                    result = Clipperz.PM.Strings['elapsedTimeDescriptions']['MORE_THAN_A_MONTH_AGO'];
                                } else if ((elapsedTime / millisencondsInAWeek) > 1) {
                                    var elapsedWeeks;
                                    elapsedWeeks = Math.floor((elapsedTime / millisencondsInAWeek));
                                    if (elapsedWeeks == 1) {
                                        result = Clipperz.PM.Strings['elapsedTimeDescriptions']['MORE_THAN_A_WEEK_AGO'];
                                    } else {
                                        result = Clipprez.PM.Strings['elapsedTimeDescriptions']['MORE_THAN_*_WEEKS_AGO'].replace(/__elapsed__/, elapsedWeeks);
                                    }
                                } else if ((elapsedTime / millisencondsInADay) > 1) {
                                    var elapsedDays;
                                    elapsedDays = Math.floor((elapsedTime / millisencondsInADay));
                                    if (elapsedDays == 1) {
                                        result = Clipperz.PM.Strings['elapsedTimeDescriptions']['YESTERDAY'];
                                    } else {
                                        result = Clipperz.PM.Strings['elapsedTimeDescriptions']['*_DAYS_AGO'].replace(/__elapsed__/, elapsedDays);
                                    }
                                } else if ((elapsedTime / millisencondsInAnHour) > 1) {
                                    var elapsedHours;
                                    elapsedHours = Math.floor((elapsedTime / millisencondsInAnHour));
                                    if (elapsedHours == 1) {
                                        result = Clipperz.PM.Strings['elapsedTimeDescriptions']['ABOUT_AN_HOUR_AGO'];
                                    } else {
                                        result = Clipperz.PM.Strings['elapsedTimeDescriptions']['*_HOURS_AGO'].replace(/__elapsed__/, elapsedHours);
                                    }
                                } else {
                                    var elapsed10Minutes;
                                    elapsed10Minutes = (Math.floor((elapsedTime / millisencondsInAMinute) / 10)) * 10;
                                    if (elapsed10Minutes == 0) {
                                        result = Clipperz.PM.Strings['elapsedTimeDescriptions']['JUST_A_FEW_MINUTES_AGO'];
                                    } else {
                                        result = Clipperz.PM.Strings['elapsedTimeDescriptions']['ABOUT_*_MINUTES_AGO'].replace(/__elapsed__/, elapsed10Minutes + "");
                                    }
                                }
                            }
                            return result;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    var _Clipperz_PM_Components_Panels_base_id_ = 0;
                    Clipperz.PM.Components.BaseComponent = function (anElement, args) {
                        args = args || {};
                        this._element = anElement;
                        this._ids = {};
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.BaseComponent, YAHOO.ext.util.Observable, {
                        'isClipperzPMComponent': true,
                        'toString': function () {
                            return "Clipperz.PM.Components.BaseComponent component";
                        },
                        'domHelper': function () {
                            return Clipperz.YUI.DomHelper;
                        },
                        'element': function () {
                            return this._element;
                        },
                        'setElement': function (aValue) {
                            this._element = aValue;
                        },
                        'remove': function () {
                            Clipperz.NotificationCenter.unregister(this);
                            MochiKit.Signal.disconnectAllTo(this);
                        },
                        'getId': function (aValue) {
                            var result;
                            result = this._ids[aValue];
                            if (typeof (result) == 'undefined') {
                                _Clipperz_PM_Components_Panels_base_id_++;
                                result = "Clipperz_PM_Components_Panels_" + aValue + "_" + _Clipperz_PM_Components_Panels_base_id_;
                                this._ids[aValue] = result;
                            } else {}
                            return result;
                        },
                        'getDom': function (aValue) {
                            return YAHOO.util.Dom.get(this.getId(aValue));
                        },
                        'getElement': function (aValue) {
                            return YAHOO.ext.Element.get(this.getId(aValue));
                        },
                        'getActor': function (aValue, anAnimator) {
                            return new YAHOO.ext.Actor(this.getDom(aValue), anAnimator);
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    Clipperz.PM.Components.MessageBoxImplementation = function () {
                        this._step = 0;
                        this._steps = 0;
                        return this;
                    };
                    Clipperz.PM.Components.MessageBoxImplementation.prototype = MochiKit.Base.update(null, {
                        'toString': function () {
                            return "Clipperz.PM.Components.MessageBox";
                        },
                        'step': function () {
                            return this._step;
                        },
                        'setStep': function (aValue) {
                            if (aValue == 'next') {
                                this._step = this._step + 1;
                            } else {
                                this._step = aValue;
                            }
                            if (this._step > this.steps()) {
                                this._step = this.steps();
                            }
                        },
                        'steps': function () {
                            return this._steps;
                        },
                        'setSteps': function (aValue) {
                            if (aValue.constructor == String) {
                                if (aValue.charAt(0) == '+') {
                                    this._steps += aValue.substring(1) * 1;
                                } else if (aValue.charAt(0) == '-') {
                                    this._steps -= aValue.substring(1) * 1;
                                } else {
                                    this._steps = aValue.substring(1) * 1;
                                }
                            } else {
                                this._steps = aValue;
                            }
                        },
                        'deferredShow': function (aConfiguration, anAnimationTargetElement, aValue) {
                            this.show(aConfiguration, anAnimationTargetElement);
                            return aValue;
                        },
                        'show': function (aConfiguration, anAnimationTargetElement) {
                            var messageBoxConfiguration;
                            messageBoxConfiguration = MochiKit.Base.clone(aConfiguration);
                            messageBoxConfiguration.msg = messageBoxConfiguration.text;
                            messageBoxConfiguration.animEl = anAnimationTargetElement;
                            messageBoxConfiguration.progress = messageBoxConfiguration.showProgressBar;
                            messageBoxConfiguration.closable = messageBoxConfiguration.showCloseButton;
                            this.setSteps(aConfiguration.steps || 0);
                            this.setStep(aConfiguration.step || 0);
                            delete messageBoxConfiguration.buttons;
                            Clipperz.YUI.MessageBox.show(messageBoxConfiguration);
                        },
                        'update': function (someValues) {
                            if (someValues.title) {
                                Clipperz.YUI.MessageBox.getDialog().setTitle(someValues.title);
                            };
                            if (someValues.text) {
                                Clipperz.YUI.MessageBox.updateText(someValues.text);
                            };
                            if (typeof (someValues.showProgressBar) != 'undefined') {
                                Clipperz.YUI.MessageBox.progressElement().setDisplayed(someValues.showProgressBar);
                                Clipperz.YUI.MessageBox.updateProgress(0);
                            };
                            if (typeof (someValues.steps) != 'undefined') {
                                this.setSteps(someValues.steps);
                            };
                            if (typeof (someValues.step) != 'undefined') {
                                this.setStep(someValues.step);
                            } else {
                                this.setStep('next');
                            }
                            Clipperz.YUI.MessageBox.updateProgress(this.step() / this.steps());
                            if (typeof (someValues.fn) != 'undefined') {
                                Clipperz.YUI.MessageBox.opt().fn = someValues.fn;
                            };
                            if (typeof (someValues.scope) != 'undefined') {
                                Clipperz.YUI.MessageBox.opt().scope = someValues.scope;
                            };
                            if (someValues.buttons) {
                                Clipperz.YUI.MessageBox.updateButtons(someValues.buttons);
                            };
                        },
                        'hide': function (anAnimationTargetElement) {
                            if (anAnimationTargetElement) {
                                Clipperz.YUI.MessageBox.getDialog().animateTarget = anAnimationTargetElement;
                            }
                            Clipperz.YUI.MessageBox.hide();
                        },
                        __syntaxFix__: '__syntaxFix__'
                    });
                    _clipperz_pm_components_messageBox = null;
                    Clipperz.PM.Components.MessageBox = function () {
                        if (_clipperz_pm_components_messageBox == null) {
                            _clipperz_pm_components_messageBox = new Clipperz.PM.Components.MessageBoxImplementation();
                        }
                        return _clipperz_pm_components_messageBox;
                    }
                    Clipperz.PM.Components.MessageBox.showProgressPanel = function (aCallback, anErrback, anActivationItem) {
                        var deferredResult;
                        deferredResult = new MochiKit.Async.Deferred();
                        deferredResult.addCallback(MochiKit.Base.method(Clipperz.PM.Components.MessageBox(), 'deferredShow'), {
                            title: "",
                            text: "",
                            width: 240,
                            showProgressBar: true,
                            showCloseButton: false,
                            fn: MochiKit.Base.method(deferredResult, 'cancel'),
                            scope: this,
                            buttons: {}
                        }, anActivationItem);
                        deferredResult.addCallback(aCallback);
                        deferredResult.addCallback(MochiKit.Async.wait, 0.5);
                        deferredResult.addCallback(function (res) {
                            Clipperz.PM.Components.MessageBox().hide(YAHOO.ext.Element.get(anActivationItem));
                            return res;
                        });
                        deferredResult.addErrback(anErrback);
                        deferredResult.callback();
                        return deferredResult;
                    };
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    Clipperz.PM.Components.TextFormField = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.TextFormField.superclass.constructor.call(this, args);
                        this._element = anElement;
                        this._editMode = args.editMode || 'VIEW';
                        this._value = args.value || "";
                        this._inputElement = null;
                        this._wrapper = null;
                        this._multiline = args.multiline || false;
                        this.render();
                        return this;
                    };
                    YAHOO.extendX(Clipperz.PM.Components.TextFormField, Clipperz.PM.Components.BaseComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.TextFormField";
                        },
                        'value': function () {
                            if (this.inputElement() != null) {
                                this._value = this.inputElement().dom.value;
                            }
                            return this._value;
                        },
                        'setValue': function (aValue) {
                            this._value = aValue;
                        },
                        'multiline': function () {
                            return this._multiline;
                        },
                        'editMode': function () {
                            return this._editMode;
                        },
                        'setEditMode': function (aValue) {
                            this._editMode = aValue;
                        },
                        'inputElement': function () {
                            return this._inputElement;
                        },
                        'setInputElement': function (aValue) {
                            this._inputElement = aValue;
                        },
                        'on': function (anEventName, anHandler, aScope, shouldOverride) {
                            return this.inputElement().on(anEventName, anHandler, aScope, shouldOverride);
                        },
                        'wrapper': function () {
                            return this._wrapper;
                        },
                        'render': function () {
                            var editModeConfiguration;
                            var viewModeConfiguration;
                            editModeConfiguration = {
                                tag: 'div',
                                id: this.getId('editComponent'),
                                children: []
                            };
                            if (this.multiline() == false) {
                                editModeConfiguration.children.push({
                                    tag: 'input',
                                    type: 'text',
                                    id: this.getId('editComponent_input'),
                                    value: "this.value(1)"
                                });
                            } else {
                                editModeConfiguration.children.push({
                                    tag: 'textarea',
                                    id: this.getId('editComponent_input'),
                                    html: "this.value(2)"
                                });
                            }
                            viewModeConfiguration = {
                                tag: 'div',
                                id: this.getId('viewComponent'),
                                children: [{
                                    tag: 'span',
                                    id: this.getId('viewComponent_Content'),
                                    html: this.value()
                                }]
                            }
                            this._wrapper = Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'div',
                                id: this.getId('wrapper'),
                                children: [{
                                    tag: 'div',
                                    id: this.getId('editModeBox'),
                                    children: [editModeConfiguration]
                                }, {
                                    tag: 'div',
                                    id: this.getId('viewModeBox'),
                                    children: [viewModeConfiguration]
                                }]
                            }, true);
                            this.getElement('editModeBox').setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                            this.getElement('viewModeBox').setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                            this.getElement('editComponent_input').dom.value = this.value();
                            this.setInputElement(this.getElement('editComponent_input'));
                            this.update();
                        },
                        'update': function (args) {
                            args = args || {};
                            if (typeof (args.value) != 'undefined') {
                                this.setValue(args.value);
                            }
                            if (typeof (args.editMode) != 'undefined') {
                                this.setEditMode(args.editMode)
                            }
                            if (this.editMode() == 'VIEW') {
                                this.updateViewMode();
                            } else if (this.editMode() == 'EDIT') {
                                this.updateEditMode();
                            } else {}
                        },
                        'updateEditMode': function () {
                            this.getElement('viewModeBox').hide();
                            this.getElement('editModeBox').show();
                            if (this.multiline() == false) {
                                this.getElement('editComponent_input').dom.value = this.value();
                            } else {
                                this.getElement('editComponent_input').update(Clipperz.Base.sanitizeString(this.value()));
                            }
                        },
                        'updateViewMode': function () {
                            this.getElement('editModeBox').hide();
                            this.getElement('viewModeBox').show();
                            this.getElement('viewComponent_Content').update(Clipperz.Base.sanitizeString(this.value()));
                        },
                        __syntaxFix__: '__syntaxFix__'
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    Clipperz.PM.Components.PasswordEntropyDisplay = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.PasswordEntropyDisplay.superclass.constructor.call(this, anElement, args);
                        this._wrapperElement = null;
                        this._entropyElement = null;
                        this.render();
                        return this;
                    };
                    YAHOO.extendX(Clipperz.PM.Components.PasswordEntropyDisplay, Clipperz.PM.Components.BaseComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.PasswordEntropyDisplay";
                        },
                        'wrapperElement': function () {
                            return this._wrapperElement;
                        },
                        'setWrapperElement': function (aValue) {
                            this._wrapperElement = aValue;
                        },
                        'passwordElement': function () {
                            return this.element();
                        },
                        'entropyElement': function () {
                            return this._entropyElement;
                        },
                        'setEntropyElement': function (aValue) {
                            this._entropyElement = aValue;
                        },
                        'render': function () {
                            MochiKit.Signal.disconnectAllTo(this);
                            this.setWrapperElement(this.element().wrap({
                                tag: 'div'
                            }));
                            this.setEntropyElement(Clipperz.YUI.DomHelper.append(this.wrapperElement().dom, {
                                tag: 'div',
                                cls: 'passwordEntropy',
                                html: "&nbsp;"
                            }, true));
                            this.updateEntropyElement();
                            MochiKit.Signal.connect(this.element().dom, 'onkeyup', this, 'updateEntropyElement');
                            MochiKit.Signal.connect(this.element().dom, 'onchange', this, 'updateEntropyElement');
                            MochiKit.Signal.connect(this.element().dom, 'onblur', this, 'updateEntropyElement');
                        },
                        'computeEntropyForString': function (aValue) {
                            return Clipperz.PM.Crypto.passwordEntropy(aValue);
                        },
                        'updateEntropyElement': function (anEvent) {
                            var maxExtent;
                            var entropy;
                            entropy = Math.min(128, this.computeEntropyForString(this.passwordElement().dom.value));
                            this.entropyElement().setStyle('background-position', "0px " + -entropy + "px");
                            this.entropyElement().setWidth(this.passwordElement().getWidth() * (entropy / 128));
                        },
                        __syntaxFix__: '__syntaxFix__'
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    Clipperz.PM.Components.PasswordGenerator = function (anElement, aFieldValueComponent, args) {
                        args = args || {};
                        Clipperz.PM.Components.PasswordGenerator.superclass.constructor.call(this, anElement, args);
                        this._fieldValueComponent = aFieldValueComponent;
                        this._panelButton = null;
                        this.render();
                        return this;
                    };
                    YAHOO.extendX(Clipperz.PM.Components.PasswordGenerator, Clipperz.PM.Components.BaseComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.PasswordGenerator";
                        },
                        'fieldValueComponent': function () {
                            return this._fieldValueComponent;
                        },
                        'render': function () {
                            MochiKit.Signal.disconnectAllTo(this);
                            MochiKit.Signal.connect(this.element().dom, 'onmouseenter', this, 'onMouseEnter');
                            MochiKit.Signal.connect(this.element().dom, 'onmouseleave', this, 'onMouseLeave');
                            MochiKit.Signal.connect(this.element().dom, 'onclick', this, 'openPasswordPanel');
                        },
                        'onMouseEnter': function () {
                            this.element().addClass('hover');
                        },
                        'onMouseLeave': function () {
                            this.element().removeClass('hover');
                        },
                        'panelButton': function () {
                            return this._panelButton;
                        },
                        'openPasswordPanel': function () {
                            var passwordGeneratorElement;
                            var passwordGeneratorDialog;
                            var cancelButton;
                            var okButton;
                            var cancelFunction;
                            var okFunction;
                            passwordGeneratorElement = Clipperz.YUI.DomHelper.append(document.body, {
                                tag: 'div',
                                id: 'passwordGenerator',
                                children: [{
                                    tag: 'div',
                                    cls: 'ydlg-hd',
                                    htmlString: Clipperz.PM.Strings['passwordGeneratorPanelTitle']
                                }, {
                                    tag: 'div',
                                    cls: 'ydlg-bd',
                                    children: [{
                                        tag: 'form',
                                        id: this.getId('passwordGeneratorForm'),
                                        cls: 'passwordGenerator',
                                        children: [{
                                            tag: 'input',
                                            type: 'text',
                                            cls: 'clipperz_passwordGenerator_password',
                                            id: this.getId('passwordField')
                                        }, {
                                            tag: 'table',
                                            children: [{
                                                tag: 'tbody',
                                                children: [{
                                                    tag: 'tr',
                                                    children: [{
                                                        tag: 'td',
                                                        width: '20%',
                                                        children: [{
                                                            tag: 'input',
                                                            type: 'checkbox',
                                                            name: 'lowercase',
                                                            id: this.getId('lowercase'),
                                                            checked: true
                                                        }, {
                                                            tag: 'span',
                                                            htmlString: Clipperz.PM.Strings['passwordGeneratorLowercaseLabel']
                                                        }]
                                                    }, {
                                                        tag: 'td',
                                                        width: '20%',
                                                        children: [{
                                                            tag: 'input',
                                                            type: 'checkbox',
                                                            name: 'uppercase',
                                                            id: this.getId('uppercase'),
                                                            checked: true
                                                        }, {
                                                            tag: 'span',
                                                            htmlString: Clipperz.PM.Strings['passwordGeneratorUppercaseLabel']
                                                        }]
                                                    }, {
                                                        tag: 'td',
                                                        width: '20%',
                                                        children: [{
                                                            tag: 'input',
                                                            type: 'checkbox',
                                                            name: 'numbers',
                                                            id: this.getId('numbers'),
                                                            checked: true
                                                        }, {
                                                            tag: 'span',
                                                            htmlString: Clipperz.PM.Strings['passwordGeneratorNumberLabel']
                                                        }]
                                                    }, {
                                                        tag: 'td',
                                                        width: '20%',
                                                        children: [{
                                                            tag: 'input',
                                                            type: 'checkbox',
                                                            name: 'symbols',
                                                            id: this.getId('symbols'),
                                                            checked: true
                                                        }, {
                                                            tag: 'span',
                                                            htmlString: Clipperz.PM.Strings['passwordGeneratorSymbolLabel']
                                                        }]
                                                    }, {
                                                        tag: 'td',
                                                        width: '20%',
                                                        children: [{
                                                            tag: 'span',
                                                            cls: 'passwordGeneratorLength',
                                                            children: [{
                                                                tag: 'span',
                                                                htmlString: Clipperz.PM.Strings['passwordGeneratorLengthLabel']
                                                            }, {
                                                                tag: 'span',
                                                                id: this.getId('passwordLength'),
                                                                cls: 'passwordGeneratorLengthValue',
                                                                html: '0'
                                                            }]
                                                        }]
                                                    }]
                                                }]
                                            }]
                                        }]
                                    }]
                                }, {
                                    tag: 'div',
                                    cls: 'ydlg-ft'
                                }]
                            }, true);
                            new Clipperz.PM.Components.PasswordEntropyDisplay(this.getElement('passwordField'));
                            MochiKit.Signal.connect(this.getId('lowercase'), 'onclick', this, 'updatePasswordValue');
                            MochiKit.Signal.connect(this.getId('uppercase'), 'onclick', this, 'updatePasswordValue');
                            MochiKit.Signal.connect(this.getId('numbers'), 'onclick', this, 'updatePasswordValue');
                            MochiKit.Signal.connect(this.getId('symbols'), 'onclick', this, 'updatePasswordValue');
                            MochiKit.Signal.connect(this.getDom('passwordField'), 'onkeyup', this, 'updatePasswordLengthLabel');
                            MochiKit.Signal.connect(this.getDom('passwordField'), 'onchange', this, 'updatePasswordLengthLabel');
                            MochiKit.Signal.connect(this.getDom('passwordField'), 'onblur', this, 'updatePasswordLengthLabel');
                            this.updatePasswordValue();
                            passwordGeneratorDialog = new YAHOO.ext.BasicDialog(passwordGeneratorElement, {
                                autoCreate: false,
                                closable: false,
                                modal: true,
                                autoTabs: false,
                                resizable: false,
                                fixedcenter: true,
                                constraintoviewport: false,
                                width: 320,
                                height: 130,
                                shadow: true,
                                minWidth: 200,
                                minHeight: 100
                            });
                            cancelFunction = MochiKit.Base.partial(MochiKit.Base.bind(this.cancelPasswordPanel, this), passwordGeneratorDialog);
                            passwordGeneratorDialog.addKeyListener(27, cancelFunction);
                            cancelButton = passwordGeneratorDialog.addButton(Clipperz.PM.Strings['passwordGeneratorPanelCancelLabel'], cancelFunction, this);
                            okFunction = MochiKit.Base.partial(MochiKit.Base.bind(this.okPasswordPanel, this), passwordGeneratorDialog);
                            passwordGeneratorDialog.addKeyListener([10, 13], okFunction);
                            okButton = passwordGeneratorDialog.addButton(Clipperz.PM.Strings['passwordGeneratorPanelOkLabel'], okFunction, this);
                            MochiKit.Signal.connect(this.getId('passwordGeneratorForm'), 'onsubmit', okFunction);
                            passwordGeneratorDialog.setDefaultButton(okButton);
                            this.fieldValueComponent().mainComponent().mainPanel().exitModalView();
                            this.fieldValueComponent().mainComponent().scrollToTop();
                            passwordGeneratorDialog.show(this.element());
                            this.onMouseLeave();
                        },
                        'cancelPasswordPanel': function (aPasswordGeneratorPanel) {
                            this.fieldValueComponent().mainComponent().mainPanel().enterModalView();
                            aPasswordGeneratorPanel.hide(MochiKit.Base.bind(function () {
                                aPasswordGeneratorPanel.destroy(true);
                                MochiKit.Signal.disconnectAllTo(this);
                            }, this));
                        },
                        'updatePasswordLengthLabel': function () {
                            this.getElement('passwordLength').update(this.getDom('passwordField').value.length);
                        },
                        'okPasswordPanel': function (aPasswordGeneratorPanel, anEvent) {
                            if (anEvent.stop) {
                                anEvent.stop();
                            }
                            this.fieldValueComponent().inputElement().dom.focus();
                            this.fieldValueComponent().inputElement().dom.value = this.getElement('passwordField').dom.value;
                            this.getElement('passwordField').dom.focus();
                            this.cancelPasswordPanel(aPasswordGeneratorPanel);
                            return false;
                        },
                        'updatePasswordValue': function (anEvent) {
                            var randomBytes;
                            var randomValue;
                            var charset;
                            var charsetBitSize;
                            var stringValue;
                            var blockIndex;
                            randomBytes = Clipperz.Crypto.PRNG.defaultRandomGenerator().getRandomBytes(50);
                            stringValue = "";
                            blockIndex = 0;
                            charset = "";
                            if (this.getDom('lowercase').checked) {
                                charset += Clipperz.PM.Strings['passwordGeneratorLowercaseCharset'];
                            }
                            if (this.getDom('uppercase').checked) {
                                charset += Clipperz.PM.Strings['passwordGeneratorUppercaseCharset'];
                            }
                            if (this.getDom('numbers').checked) {
                                charset += Clipperz.PM.Strings['passwordGeneratorNumberCharset'];
                            }
                            if (this.getDom('symbols').checked) {
                                charset += Clipperz.PM.Strings['passwordGeneratorSymbolCharset'];
                            }
                            charsetBitSize = 0;
                            while (Math.pow(2, charsetBitSize) < charset.length) {
                                charsetBitSize++;
                            }
                            if (charsetBitSize > 0) {
                                while (Clipperz.PM.Crypto.passwordEntropy(stringValue) < 128) {
                                    if (((blockIndex + 1) * charsetBitSize) > (randomBytes.length() * 8)) {
                                        randomBytes = Clipperz.Crypto.PRNG.defaultRandomGenerator().getRandomBytes(50);
                                        blockIndex = 0;
                                    }
                                    randomValue = randomBytes.bitBlockAtIndexWithSize(blockIndex * charsetBitSize, charsetBitSize);
                                    if (randomValue < charset.length) {
                                        stringValue += charset.charAt(randomValue);
                                    }
                                    blockIndex++;
                                }
                            } else {
                                stringValue = "";
                            }
                            this.getElement('passwordField').dom.focus()
                            this.getElement('passwordField').dom.value = stringValue;
                            if (anEvent) {
                                anEvent.src().focus();
                            } else {
                                this.element().focus();
                            }
                            return false;
                        },
                        __syntaxFix__: '__syntaxFix__'
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.Panels) == 'undefined') {
                        Clipperz.PM.Components.Panels = {};
                    }
                    Clipperz.PM.Components.Panels.BasePanel = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.Panels.BasePanel.superclass.constructor.call(this, anElement, args);
                        this._user = args.user || null;
                        this._delegate = args.delegate || null;
                        this._tabPanelController = null;
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.Panels.BasePanel, Clipperz.PM.Components.BaseComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.Panels.BasePanel component";
                        },
                        'user': function () {
                            return this._user;
                        },
                        'setUser': function (aValue) {
                            this._user = aValue;
                        },
                        'delegate': function () {
                            return this._delegate;
                        },
                        'setDelegate': function (aValue) {
                            this._delegate = aValue;
                        },
                        'tabPanelController': function () {
                            return this._tabPanelController;
                        },
                        'switchLanguageHandler': function () {
                            this.render();
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.Panels) == 'undefined') {
                        Clipperz.PM.Components.Panels = {};
                    }
                    Clipperz.PM.Components.Panels.LoginPanel = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.Panels.LoginPanel.superclass.constructor.call(this, anElement, args);
                        this._showLoginFormAnimator = null;
                        this._showRegistrationFormAnimator = null;
                        this._shouldShowRegistrationAlert = true;
                        this._visibleForm = null;
                        Clipperz.NotificationCenter.register(null, 'switchLanguage', this, 'switchLanguageHandler');
                        this.render();
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.Panels.LoginPanel, Clipperz.PM.Components.Panels.BasePanel, {
                        'toString': function () {
                            return "Clipperz.PM.Components.LoginPanel component";
                        },
                        'render': function () {
                            var result;
                            var layout;
                            var registerButton;
                            MochiKit.Signal.disconnectAllTo(this);
                            this.element().update("");
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'div',
                                id: this.getId('baseDiv'),
                                cls: 'LoginPanel',
                                children: [{
                                    tag: 'table',
                                    children: [{
                                        tag: 'thead'
                                    }, {
                                        tag: 'tbody',
                                        children: [{
                                            tag: 'tr',
                                            children: [{
                                                tag: 'td',
                                                valign: 'top',
                                                children: [{
                                                    tag: 'div',
                                                    cls: 'clipperzServiceDescription',
                                                    htmlString: Clipperz.PM.Strings['clipperzServiceDescription']
                                                }]
                                            }, {
                                                tag: 'td',
                                                valign: 'top',
                                                align: 'right',
                                                children: [{
                                                    tag: 'div',
                                                    id: this.getId('forms'),
                                                    cls: 'clipperzLoginForm',
                                                    children: [{
                                                        tag: 'div',
                                                        id: this.getId('loginForm'),
                                                        cls: 'loginForm',
                                                        children: [{
                                                            tag: 'div',
                                                            cls: 'loginFormHeaderBox',
                                                            children: [{
                                                                tag: 'h3',
                                                                htmlString: Clipperz.PM.Strings['loginFormTitle']
                                                            }]
                                                        }, {
                                                            tag: 'form',
                                                            id: this.getId('loginForm_form'),
                                                            autocomplete: 'off',
                                                            children: [{
                                                                tag: 'table',
                                                                cls: 'formLayout',
                                                                children: [{
                                                                    tag: 'thead'
                                                                }, {
                                                                    tag: 'tbody',
                                                                    children: [{
                                                                        tag: 'tr',
                                                                        cls: 'formFieldTR',
                                                                        children: [{
                                                                            tag: 'td',
                                                                            width: '90',
                                                                            htmlString: Clipperz.PM.Strings['loginFormUsernameLabel']
                                                                        }, {
                                                                            tag: 'td',
                                                                            children: [{
                                                                                tag: 'input',
                                                                                id: this.getId('login_username'),
                                                                                cls: 'loginFormField',
                                                                                type: 'text',
                                                                                name: 'username'
                                                                            }]
                                                                        }]
                                                                    }, {
                                                                        tag: 'tr',
                                                                        cls: 'formFieldTR',
                                                                        children: [{
                                                                            tag: 'td',
                                                                            htmlString: Clipperz.PM.Strings['loginFormPassphraseLabel']
                                                                        }, {
                                                                            tag: 'td',
                                                                            children: [{
                                                                                tag: 'div',
                                                                                id: this.getId('passphraseDIV'),
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    id: this.getId('login_passphrase'),
                                                                                    cls: 'loginFormField',
                                                                                    type: 'password',
                                                                                    name: 'passphrase'
                                                                                }]
                                                                            }, {
                                                                                tag: 'div',
                                                                                cls: 'oneTimePassword',
                                                                                id: this.getId('oneTimePasswordDIV'),
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'text',
                                                                                    id: this.getId('oneTimePassword_1'),
                                                                                    name: 'passphrase'
                                                                                }, {
                                                                                    tag: 'span',
                                                                                    html: '-'
                                                                                }, {
                                                                                    tag: 'input',
                                                                                    type: 'text',
                                                                                    id: this.getId('oneTimePassword_2'),
                                                                                    name: 'passphrase'
                                                                                }, {
                                                                                    tag: 'span',
                                                                                    html: '-'
                                                                                }, {
                                                                                    tag: 'input',
                                                                                    type: 'text',
                                                                                    id: this.getId('oneTimePassword_3'),
                                                                                    name: 'passphrase'
                                                                                }, {
                                                                                    tag: 'span',
                                                                                    html: '-'
                                                                                }, {
                                                                                    tag: 'input',
                                                                                    type: 'text',
                                                                                    id: this.getId('oneTimePassword_4'),
                                                                                    name: 'passphrase'
                                                                                }]
                                                                            }]
                                                                        }]
                                                                    }, {
                                                                        tag: 'tr',
                                                                        cls: 'formFieldTR',
                                                                        id: this.getId('passwordTypeChooserTR'),
                                                                        children: [{
                                                                            tag: 'td',
                                                                            valign: 'top',
                                                                            align: 'right',
                                                                            children: [{
                                                                                tag: 'input',
                                                                                type: 'checkbox',
                                                                                cls: 'passwordTypeCheckbox',
                                                                                id: this.getId('useOneTimePasswordCheckbox')
                                                                            }]
                                                                        }, {
                                                                            tag: 'td',
                                                                            children: [{
                                                                                tag: 'div',
                                                                                cls: 'passwordTypeChooser',
                                                                                children: [{
                                                                                    tag: 'h4',
                                                                                    htmlString: Clipperz.PM.Strings['loginFormOneTimePasswordCheckboxLabel']
                                                                                }, {
                                                                                    tag: 'span',
                                                                                    htmlString: Clipperz.PM.Strings['loginFormOneTimePasswordCheckboxDescription']
                                                                                }]
                                                                            }]
                                                                        }]
                                                                    }, {
                                                                        tag: 'tr',
                                                                        children: [{
                                                                            tag: 'td'
                                                                        }, {
                                                                            tag: 'td',
                                                                            children: [{
                                                                                tag: 'div',
                                                                                id: this.getId('login_submit')
                                                                            }]
                                                                        }]
                                                                    }]
                                                                }, {
                                                                    tag: 'tfoot'
                                                                }]
                                                            }]
                                                        }, {
                                                            tag: 'div',
                                                            cls: 'loginFormFooterBox',
                                                            children: [{
                                                                tag: 'ul',
                                                                children: [{
                                                                    tag: 'li',
                                                                    id: this.getId('showRegistrationLI'),
                                                                    children: [{
                                                                        tag: 'span',
                                                                        htmlString: Clipperz.PM.Strings['loginFormDontHaveAnAccountLabel']
                                                                    }, {
                                                                        tag: 'a',
                                                                        href: '.',
                                                                        id: this.getId('showRegistration'),
                                                                        cls: 'clipperzActionLink',
                                                                        htmlString: Clipperz.PM.Strings['loginFormCreateOneLabel']
                                                                    }]
                                                                }, {
                                                                    tag: 'li',
                                                                    children: [{
                                                                        tag: 'span',
                                                                        htmlString: Clipperz.PM.Strings['loginFormForgotYourCredentialsLabel']
                                                                    }, {
                                                                        tag: 'a',
                                                                        href: Clipperz.PM.Strings['loginFormAarghThatsBadUrl'],
                                                                        target: 'Clipperz_Help',
                                                                        htmlString: Clipperz.PM.Strings['loginFormAarghThatsBadLabel']
                                                                    }]
                                                                }, {
                                                                    tag: 'li',
                                                                    children: [{
                                                                        tag: 'span',
                                                                        htmlString: Clipperz.PM.Strings['loginFormAfraidOfMaliciousScriptsLabel']
                                                                    }, {
                                                                        tag: 'a',
                                                                        href: Clipperz.PM.Strings['loginFormVerifyTheCodeUrl'],
                                                                        target: 'Clipperz_Help',
                                                                        htmlString: Clipperz.PM.Strings['loginFormVerifyTheCodeLabel']
                                                                    }]
                                                                }]
                                                            }]
                                                        }]
                                                    }, {
                                                        tag: 'div',
                                                        id: this.getId('registrationForm'),
                                                        cls: 'registrationForm',
                                                        children: [{
                                                            tag: 'div',
                                                            cls: 'loginFormHeaderBox',
                                                            children: [{
                                                                tag: 'h3',
                                                                htmlString: Clipperz.PM.Strings['registrationFormTitle']
                                                            }]
                                                        }, {
                                                            tag: 'form',
                                                            id: this.getId('registrationForm_form'),
                                                            children: [{
                                                                tag: 'h5',
                                                                cls: 'errorMessage',
                                                                id: this.getId('registration_errorMessage')
                                                            }, {
                                                                tag: 'table',
                                                                cls: 'formLayout',
                                                                children: [{
                                                                    tag: 'thead'
                                                                }, {
                                                                    tag: 'tbody',
                                                                    children: [{
                                                                        tag: 'tr',
                                                                        cls: 'formFieldTR',
                                                                        children: [{
                                                                            tag: 'td',
                                                                            width: '90',
                                                                            htmlString: Clipperz.PM.Strings['registrationFormUsernameLabel']
                                                                        }, {
                                                                            tag: 'td',
                                                                            children: [{
                                                                                tag: 'input',
                                                                                id: this.getId('registration_username'),
                                                                                cls: 'loginFormField',
                                                                                type: 'text',
                                                                                name: 'username'
                                                                            }]
                                                                        }]
                                                                    }, {
                                                                        tag: 'tr',
                                                                        cls: 'formFieldTR',
                                                                        children: [{
                                                                            tag: 'td',
                                                                            htmlString: Clipperz.PM.Strings['registrationFormPassphraseLabel']
                                                                        }, {
                                                                            tag: 'td',
                                                                            children: [{
                                                                                tag: 'input',
                                                                                id: this.getId('registration_passphrase'),
                                                                                cls: 'loginFormField',
                                                                                type: 'password',
                                                                                name: 'passphrase'
                                                                            }]
                                                                        }]
                                                                    }, {
                                                                        tag: 'tr',
                                                                        cls: 'formFieldTR',
                                                                        children: [{
                                                                            tag: 'td',
                                                                            htmlString: Clipperz.PM.Strings['registrationFormRetypePassphraseLabel']
                                                                        }, {
                                                                            tag: 'td',
                                                                            children: [{
                                                                                tag: 'input',
                                                                                id: this.getId('registration_repassphrase'),
                                                                                cls: 'loginFormField',
                                                                                type: 'password',
                                                                                name: 'repeat-passphrase'
                                                                            }]
                                                                        }]
                                                                    }, {
                                                                        tag: 'tr',
                                                                        cls: 'formFieldTR',
                                                                        children: [{
                                                                            tag: 'td',
                                                                            align: 'right',
                                                                            valign: 'top',
                                                                            children: [{
                                                                                tag: 'input',
                                                                                id: this.getId('registration_check'),
                                                                                type: 'checkbox',
                                                                                name: 'safetyCheck'
                                                                            }]
                                                                        }, {
                                                                            tag: 'td',
                                                                            children: [{
                                                                                tag: 'span',
                                                                                htmlString: Clipperz.PM.Strings['registrationFormSafetyCheckLabel']
                                                                            }]
                                                                        }]
                                                                    }, {
                                                                        tag: 'tr',
                                                                        cls: 'formFieldTR',
                                                                        children: [{
                                                                            tag: 'td',
                                                                            align: 'right',
                                                                            valign: 'top',
                                                                            children: [{
                                                                                tag: 'input',
                                                                                id: this.getId('registration_termsOfServiceCheck'),
                                                                                type: 'checkbox',
                                                                                name: 'termsOfServiceCheck'
                                                                            }]
                                                                        }, {
                                                                            tag: 'td',
                                                                            children: [{
                                                                                tag: 'span',
                                                                                htmlString: Clipperz.PM.Strings['registrationFormTermsOfServiceCheckLabel']
                                                                            }]
                                                                        }]
                                                                    }, {
                                                                        tag: 'tr',
                                                                        children: [{
                                                                            tag: 'td'
                                                                        }, {
                                                                            tag: 'td',
                                                                            children: [{
                                                                                tag: 'div',
                                                                                id: this.getId('registration_submit')
                                                                            }]
                                                                        }]
                                                                    }]
                                                                }, {
                                                                    tag: 'tfoot'
                                                                }]
                                                            }]
                                                        }, {
                                                            tag: 'div',
                                                            cls: 'loginFormFooterBox',
                                                            children: [{
                                                                tag: 'ul',
                                                                children: [{
                                                                    tag: 'li',
                                                                    children: [{
                                                                        tag: 'span',
                                                                        htmlString: Clipperz.PM.Strings['registrationFormDoYouAlreadyHaveAnAccountLabel']
                                                                    }, {
                                                                        tag: 'a',
                                                                        href: '.',
                                                                        id: this.getId('showLogin'),
                                                                        cls: 'clipperzActionLink',
                                                                        htmlString: Clipperz.PM.Strings['registrationFormSimplyLoginLabel']
                                                                    }]
                                                                }]
                                                            }]
                                                        }]
                                                    }]
                                                }, {
                                                    tag: 'div',
                                                    cls: 'loginPanelSwitchLanguageBox',
                                                    children: [{
                                                        tag: 'div',
                                                        cls: 'loginPanelSwitchLanguageDescription',
                                                        htmlString: Clipperz.PM.Strings['loginPanelSwithLanguageDescription']
                                                    }, {
                                                        tag: 'div',
                                                        cls: 'loginPanelSwitchLanguageSelect',
                                                        children: [{
                                                            tag: 'select',
                                                            id: this.getId('languageSelector'),
                                                            children: Clipperz.PM.Strings['loginPanelSwitchLanguageSelectOptions']
                                                        }]
                                                    }]
                                                }, {
                                                    tag: 'div',
                                                    cls: 'browserCompatibilityBox',
                                                    htmlString: Clipperz.PM.Strings['browserCompatibilityDescription']
                                                }]
                                            }]
                                        }]
                                    }]
                                }]
                            });
                            MochiKit.Signal.connect(this.getId('loginForm_form'), 'onsubmit', function (e) {
                                e.stop();
                            });
                            MochiKit.Signal.connect(this.getId('registrationForm_form'), 'onsubmit', function (e) {
                                e.stop();
                            });
                            MochiKit.Signal.connect(this.getId('showRegistration'), 'onclick', this, 'showRegistrationFormEventHandler');
                            MochiKit.Signal.connect(this.getId('showLogin'), 'onclick', this, 'showLoginFormEventHandler');
                            new YAHOO.ext.Button(this.getId('login_submit'), {
                                text: Clipperz.PM.Strings['loginFormButtonLabel'],
                                handler: this.doLogin,
                                scope: this,
                                minWidth: 0
                            });
                            registerButton = new YAHOO.ext.Button(this.getId('registration_submit'), {
                                text: Clipperz.PM.Strings['registrationFormButtonLabel'],
                                handler: this.doRegister,
                                scope: this,
                                minWidth: 0
                            })
                            if (Clipperz.PM.Proxy.defaultProxy.isReadOnly()) {
                                this.getElement('registrationForm_form').addClass('read-only');
                                registerButton.disable();
                                this.getElement('passwordTypeChooserTR').addClass('read-only');
                                this.getDom('useOneTimePasswordCheckbox').disabled = true;
                            }
                            MochiKit.Signal.connect(this.getId('loginForm'), 'onkeydown', this, 'onkeydown');
                            MochiKit.Signal.connect(this.getId('registrationForm'), 'onkeydown', this, 'onkeydown');
                            MochiKit.Signal.connect(this.getId('useOneTimePasswordCheckbox'), 'onclick', this, 'renderPasswordField');
                            this.renderPasswordField();
                            this.selectSelectedLanguageOption();
                            MochiKit.Signal.connect(this.getId('languageSelector'), 'onchange', this, 'switchLanguage');
                            MochiKit.Signal.connect(this.getId('oneTimePassword_1'), 'onkeypress', this, 'handleOneTimePasswordFieldKeyPress');
                            MochiKit.Signal.connect(this.getId('oneTimePassword_2'), 'onkeypress', this, 'handleOneTimePasswordFieldKeyPress');
                            MochiKit.Signal.connect(this.getId('oneTimePassword_3'), 'onkeypress', this, 'handleOneTimePasswordFieldKeyPress');
                            MochiKit.Signal.connect(this.getId('oneTimePassword_4'), 'onkeypress', this, 'handleOneTimePasswordFieldKeyPress');
                            MochiKit.Signal.connect(this.getId('oneTimePassword_1'), 'onkeyup', this, 'handleOneTimePasswordFieldKeyUp');
                            MochiKit.Signal.connect(this.getId('oneTimePassword_2'), 'onkeyup', this, 'handleOneTimePasswordFieldKeyUp');
                            MochiKit.Signal.connect(this.getId('oneTimePassword_3'), 'onkeyup', this, 'handleOneTimePasswordFieldKeyUp');
                            MochiKit.Signal.connect(this.getId('oneTimePassword_4'), 'onkeyup', this, 'handleOneTimePasswordFieldKeyUp');
                            new Clipperz.PM.Components.PasswordEntropyDisplay(this.getElement('login_passphrase'));
                            new Clipperz.PM.Components.PasswordEntropyDisplay(this.getElement('registration_passphrase'));
                            return result;
                        },
                        'renderPasswordField': function () {
                            if (this.getDom('useOneTimePasswordCheckbox').checked == false) {
                                this.getElement('oneTimePasswordDIV').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide(false);
                                this.getElement('passphraseDIV').setVisibilityMode(YAHOO.ext.Element.DISPLAY).show(false);
                                this.getElement('login_passphrase').focus();
                            } else {
                                this.getElement('passphraseDIV').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                                this.getElement('oneTimePasswordDIV').setVisibilityMode(YAHOO.ext.Element.DISPLAY).show();
                                this.getElement('oneTimePassword_1').focus();
                            }
                        },
                        'handleOneTimePasswordFieldKeyPress': function (anEvent) {
                            if (anEvent.key().string == '-') {
                                switch (anEvent.src().id) {
                                case this.getId('oneTimePassword_1'):
                                    this.getElement('oneTimePassword_2').focus();
                                    break;
                                case this.getId('oneTimePassword_2'):
                                    this.getElement('oneTimePassword_3').focus();
                                    break;
                                case this.getId('oneTimePassword_3'):
                                    this.getElement('oneTimePassword_4').focus();
                                    break;
                                }
                                anEvent.stop();
                            }
                        },
                        'handleOneTimePasswordFieldKeyUp': function (anEvent) {
                            var field;
                            var fieldValue;
                            var key;
                            field = anEvent.src();
                            fieldValue = field.value;
                            key = anEvent.key();
                            if ((fieldValue.replace(/\s/g, '').length == 8) && (key.string == 'KEY_SPACEBAR')) {
                                switch (field.id) {
                                case this.getId('oneTimePassword_1'):
                                    this.getElement('oneTimePassword_2').focus();
                                    break;
                                case this.getId('oneTimePassword_2'):
                                    this.getElement('oneTimePassword_3').focus();
                                    break;
                                case this.getId('oneTimePassword_3'):
                                    this.getElement('oneTimePassword_4').focus();
                                    break;
                                }
                            }
                        },
                        'doLogin': function () {
                            if (this.checkLoginForm()) {
                                if (this.getDom('useOneTimePasswordCheckbox').checked == false) {
                                    this.doLoginWithUsernameAndPassphrase(this.getDom('login_username').value, this.getDom('login_passphrase').value);
                                } else {
                                    var oneTimePasswordValue;
                                    oneTimePasswordValue = this.getDom('oneTimePassword_1').value + this.getDom('oneTimePassword_2').value + this.getDom('oneTimePassword_3').value + this.getDom('oneTimePassword_4').value;
                                    this.doLoginWithUsernameAndOneTimePassword(this.getDom('login_username').value, oneTimePasswordValue);
                                }
                            }
                        },
                        'doLoginWithUsernameAndPassphrase': function (anUsername, aPassphrase) {

                            var deferredResult;
                            var user;
                            var loginPanel;
                            user = new Clipperz.PM.DataModel.User({
                                username: anUsername,
                                passphrase: aPassphrase
                            });
                            loginPanel = this;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(Clipperz.PM.Components.MessageBox(), 'deferredShow'), {
                                title: "",
                                text: "",
                                width: 240,
                                showProgressBar: true,
                                showCloseButton: false,
                                fn: MochiKit.Base.method(deferredResult, 'cancel'),
                                scope: this
                            }, this.getDom('login_submit'));
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'login_start');
                            deferredResult.addCallback(MochiKit.Base.method(user, 'connect'));
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'connection_done');
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'connection_loadingUserData');
                            deferredResult.addCallback(MochiKit.Base.method(user, 'loadPreferences'));
                            deferredResult.addCallback(MochiKit.Base.method(user, 'loadRecords'));
                            deferredResult.addCallback(MochiKit.Base.method(user, 'loadDirectLogins'));
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'login_connected');
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, user, 'setupDone', null);
                            deferredResult.addCallback(MochiKit.Async.wait, 0.5);
                            deferredResult.addCallback(function (res) {
                                Clipperz.PM.Components.MessageBox().hide(YAHOO.ext.Element.get('main'));
                                return res;
                            });
                            deferredResult.addErrback(MochiKit.Base.bind(function () {
                                Clipperz.PM.Components.MessageBox().update({
                                    title: Clipperz.PM.Strings['loginMessagePanelFailureTitle'],
                                    text: Clipperz.PM.Strings['loginMessagePanelFailureText'],
                                    showProgressBar: false,
                                    buttons: {
                                        'ok': Clipperz.PM.Strings['loginMessagePanelFailureButtonLabel']
                                    },
                                    fn: MochiKit.Base.bind(function () {
                                        this.getElement('login_passphrase').focus();
                                        this.getElement('login_passphrase').dom.select();
                                    }, this),
                                    scope: this
                                });
                            }, this));
                            deferredResult.callback("token");
                            return deferredResult;
                        },
                        'doLoginWithUsernameAndOneTimePassword': function (anUsername, aOneTimePassword) {
                            var deferredResult;
                            var loginPanel;
                            var oneTimePassword;
                            oneTimePassword = Clipperz.PM.DataModel.OneTimePassword.normalizedOneTimePassword(aOneTimePassword);
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(Clipperz.PM.Components.MessageBox(), 'deferredShow'), {
                                title: "",
                                text: "",
                                width: 240,
                                showProgressBar: true,
                                showCloseButton: false,
                                fn: MochiKit.Base.method(deferredResult, 'cancel'),
                                scope: this,
                                steps: 7,
                                buttons: {}
                            }, this.getDom('login_submit'));
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'OTP_login_start');
                            deferredResult.addCallback(function (anUsername, aOneTimePassword) {
                                var args;
                                args = {
                                    'message': 'oneTimePassword',
                                    'version': Clipperz.PM.Crypto.communicationProtocol.currentVersion,
                                    'parameters': {
                                        'oneTimePasswordKey': Clipperz.PM.DataModel.OneTimePassword.computeKeyWithUsernameAndPassword(anUsername, aOneTimePassword),
                                        'oneTimePasswordKeyChecksum': Clipperz.PM.DataModel.OneTimePassword.computeKeyChecksumWithUsernameAndPassword(anUsername, aOneTimePassword)
                                    }
                                }
                                return args;
                            }, anUsername, oneTimePassword);
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'OTP_login_loadingOTP');
                            deferredResult.addCallback(MochiKit.Base.method(Clipperz.PM.Proxy.defaultProxy, 'handshake'));
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'OTP_login_extractingPassphrase');
                            deferredResult.addCallback(function (aResult) {
                                return Clipperz.PM.Crypto.deferredDecrypt(oneTimePassword, aResult['data'], aResult['version']);
                            });
                            deferredResult.addCallback(function (aResult) {
                                return (new Clipperz.ByteArray().appendBase64String(aResult['passphrase'])).asString();
                            });
                            deferredResult.addCallbacks(MochiKit.Base.method(this, 'doLoginWithUsernameAndPassphrase', anUsername), MochiKit.Base.bind(function (aLoginPanel) {
                                Clipperz.PM.Components.MessageBox().update({
                                    title: Clipperz.PM.Strings['loginMessagePanelFailureTitle'],
                                    text: Clipperz.PM.Strings['loginMessagePanelFailureText'],
                                    showProgressBar: false,
                                    buttons: {
                                        'ok': Clipperz.PM.Strings['loginMessagePanelFailureButtonLabel']
                                    },
                                    fn: MochiKit.Base.bind(function () {
                                        this.getElement('oneTimePassword_1').focus();
                                    }, this),
                                    scope: aLoginPanel
                                });
                            }, this));
                            deferredResult.callback("token");
                            return deferredResult;
                        },
                        'checkLoginForm': function () {
                            var result;
                            var username
                            result = true;
                            username = Clipperz.Base.trim(this.getDom('login_username').value);
                            if (username == "") {
                                this.getElement('login_username').focus();
                                result = false;
                            } else {
                                if (this.getDom('useOneTimePasswordCheckbox').checked == false) {
                                    var passphrase;
                                    passphrase = Clipperz.Base.trim(this.getDom('login_passphrase').value);
                                    if (passphrase == "") {
                                        this.getElement('login_passphrase').focus();
                                        result = false;
                                    }
                                } else {
                                    if (Clipperz.Base.trim(this.getDom('oneTimePassword_1').value) == "") {
                                        this.getElement('oneTimePassword_1').focus();
                                        result = false;
                                    } else if (Clipperz.Base.trim(this.getDom('oneTimePassword_2').value) == "") {
                                        this.getElement('oneTimePassword_2').focus();
                                        result = false;
                                    } else if (Clipperz.Base.trim(this.getDom('oneTimePassword_3').value) == "") {
                                        this.getElement('oneTimePassword_3').focus();
                                        result = false;
                                    } else if (Clipperz.Base.trim(this.getDom('oneTimePassword_4').value) == "") {
                                        this.getElement('oneTimePassword_4').focus();
                                        result = false;
                                    }
                                }
                            }
                            return result;
                        },
                        'doRegister': function (anEvent) {
                            if ((Clipperz.PM.Proxy.defaultProxy.isReadOnly() == false) && (this.checkRegistrationForm())) {
                                this.doRegistrationWithUsernameAndPassphrase(this.getDom('registration_username').value, this.getDom('registration_passphrase').value);
                            }
                        },
                        'checkRegistrationForm': function () {
                            var result;
                            var username
                            var passphrase;
                            var rePassphrase;
                            var safetyCheck;
                            var termsOfServiceCheck;
                            username = this.getDom('registration_username').value;
                            passphrase = this.getDom('registration_passphrase').value;
                            rePassphrase = this.getDom('registration_repassphrase').value;
                            safetyCheck = this.getDom('registration_check').checked;
                            termsOfServiceCheck = this.getDom('registration_termsOfServiceCheck').checked;
                            if ((username != "") && (passphrase != "") && (rePassphrase != "")) {
                                if (passphrase != rePassphrase) {
                                    this.showRegistrationFormErrorMessageAnimation(Clipperz.PM.Strings['registrationFormWarningMessageNotMatchingPassphrases']);
                                    this.getElement('registration_repassphrase').focus().dom.select();
                                    result = false;
                                } else if (safetyCheck != true) {
                                    this.showRegistrationFormErrorMessageAnimation(Clipperz.PM.Strings['registrationFormWarningMessageSafetyCheckNotSelected']);
                                    this.getElement('registration_check').focus();
                                    result = false;
                                } else if (termsOfServiceCheck != true) {
                                    this.showRegistrationFormErrorMessageAnimation(Clipperz.PM.Strings['registrationFormWarningMessageTermsOfServiceCheckNotSelected']);
                                    this.getElement('registration_termsOfServiceCheck').focus();
                                } else {
                                    result = true;
                                }
                            } else {
                                if (username == "") {
                                    this.getElement('registration_username').focus();
                                } else if (passphrase == "") {
                                    this.getElement('registration_passphrase').focus();
                                } else if (rePassphrase == "") {
                                    this.getElement('registration_repassphrase').focus();
                                }
                                result = false;
                            }
                            if (result === true) {
                                this.getActor('registration_errorMessage').hide();
                            }
                            return result;
                        },
                        'showRegistrationFormErrorMessageAnimation': function (anErrorMessage, aCallback) {
                            var errorMessageActor;
                            errorMessageActor = this.getActor('registration_errorMessage');
                            errorMessageActor.update(anErrorMessage);
                            errorMessageActor.show(true);
                            errorMessageActor.play(aCallback);
                        },
                        'doRegistrationWithUsernameAndPassphrase': function (anUsername, aPassphrase) {
                            var deferredResult;
                            var user;
                            var loginPanel;
                            user = new Clipperz.PM.DataModel.User({
                                username: anUsername,
                                passphrase: aPassphrase
                            });
                            loginPanel = this;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(Clipperz.PM.Components.MessageBox(), 'deferredShow'), {
                                title: Clipperz.PM.Strings['registrationMessagePanelInitialTitle'],
                                text: Clipperz.PM.Strings['registrationMessagePanelInitialText'],
                                width: 240,
                                showProgressBar: true,
                                showCloseButton: false,
                                fn: MochiKit.Base.method(deferredResult, 'cancel'),
                                scope: this,
                                steps: 9,
                                buttons: {
                                    'ok': Clipperz.PM.Strings['registrationMessagePanelInitialButtonLabel']
                                }
                            }, this.getDom('registration_submit'));
                            deferredResult.addCallback(MochiKit.Base.method(user, 'register'), "VeryBraveBetaTester");
                            deferredResult.addCallback(function (res) {
                                Clipperz.PM.Components.MessageBox().update({
                                    title: Clipperz.PM.Strings['registrationMessagePanelRegistrationDoneTitle'],
                                    text: Clipperz.PM.Strings['registrationMessagePanelRegistrationDoneText'],
                                    step: 'next'
                                });
                                return res;
                            });
                            deferredResult.addCallback(MochiKit.Async.wait, 1);
                            deferredResult.addCallback(MochiKit.Base.method(user, 'connect'));
                            deferredResult.addCallback(MochiKit.Async.wait, 1);
                            deferredResult.addCallback(function (res) {
                                Clipperz.PM.Components.MessageBox().hide(YAHOO.ext.Element.get('main'));
                                return res;
                            });
                            deferredResult.addCallback(MochiKit.Base.method(this, 'showRegistrationSplashScreen'), user);
                            deferredResult.addErrback(function (anError) {
                                Clipperz.PM.Components.MessageBox().update({
                                    title: Clipperz.PM.Strings['registrationMessagePanelFailureTitle'],
                                    text: anError.message,
                                    showProgressBar: false,
                                    buttons: {
                                        'ok': Clipperz.PM.Strings['registrationMessagePanelFailureButtonLabel']
                                    }
                                });
                                return anError;
                            });
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, user, 'setupDone', null);
                            deferredResult.callback("token");
                            return deferredResult;
                        },
                        'showRegistrationSplashScreen': function (anUser) {
                            var deferredResult;
                            var alertElement;
                            var alertDialog;
                            var closeButton;
                            var closeFunction;
                            deferredResult = new MochiKit.Async.Deferred();
                            alertElement = Clipperz.YUI.DomHelper.append(document.body, {
                                tag: 'div',
                                id: 'registrationSplash',
                                children: [{
                                    tag: 'div',
                                    cls: 'ydlg-hd',
                                    htmlString: Clipperz.PM.Strings['registrationSplashPanelTitle']
                                }, {
                                    tag: 'div',
                                    cls: 'ydlg-bd',
                                    children: [{
                                        tag: 'div',
                                        cls: 'alert-message',
                                        id: 'splashMessage',
                                        children: [{
                                            tag: 'div',
                                            htmlString: Clipperz.PM.Strings['registrationSplashPanelDescription']
                                        }, {
                                            tag: 'table',
                                            border: '0',
                                            cellpadding: '5',
                                            children: [{
                                                tag: 'tbody',
                                                children: [{
                                                    tag: 'tr',
                                                    children: [{
                                                        tag: 'td',
                                                        valign: 'top',
                                                        children: [{
                                                            tag: 'span',
                                                            cls: 'label',
                                                            htmlString: Clipperz.PM.Strings['registrationSplashPanelUsernameLabel']
                                                        }]
                                                    }, {
                                                        tag: 'td',
                                                        valign: 'top',
                                                        children: [{
                                                            tag: 'span',
                                                            cls: 'value',
                                                            html: Clipperz.Base.escapeHTML(anUser.username())
                                                        }]
                                                    }]
                                                }, {
                                                    tag: 'tr',
                                                    children: [{
                                                        tag: 'td',
                                                        valign: 'top',
                                                        children: [{
                                                            tag: 'span',
                                                            cls: 'label',
                                                            htmlString: Clipperz.PM.Strings['registrationSplashPanelPassphraseLabel']
                                                        }]
                                                    }, {
                                                        tag: 'td',
                                                        valign: 'top',
                                                        children: [{
                                                            tag: 'div',
                                                            id: this.getId('showPassphraseDiv'),
                                                            children: [{
                                                                tag: 'span',
                                                                cls: 'value',
                                                                html: Clipperz.Base.escapeHTML(anUser.passphrase())
                                                            }]
                                                        }, {
                                                            tag: 'div',
                                                            id: this.getId('hidePassphraseDiv'),
                                                            cls: 'Clipperz_recordFieldData',
                                                            children: [{
                                                                tag: 'input',
                                                                id: this.getId('passwordField'),
                                                                type: 'text',
                                                                cls: 'scrambledField',
                                                                title: Clipperz.PM.Strings['recordDetailPasswordFieldTooltipLabel'],
                                                                value: "anUser.passphrase()"
                                                            }]
                                                        }]
                                                    }]
                                                }, {
                                                    tag: 'tr',
                                                    children: [{
                                                        tag: 'td'
                                                    }, {
                                                        tag: 'td',
                                                        valign: 'top',
                                                        children: [{
                                                            tag: 'input',
                                                            type: 'checkbox',
                                                            id: this.getId('showPassphraseCheckbox')
                                                        }, {
                                                            tag: 'span',
                                                            cls: 'activeText',
                                                            id: this.getId('showPassphraseText'),
                                                            htmlString: Clipperz.PM.Strings['registrationSplashPanelShowPassphraseButtonLabel']
                                                        }]
                                                    }]
                                                }]
                                            }]
                                        }]
                                    }]
                                }, {
                                    tag: 'div',
                                    cls: 'ydlg-ft'
                                }]
                            }, true);
                            this.getElement('passwordField').dom.value = anUser.passphrase();
                            this.getElement('passwordField').wrap({
                                tag: 'div',
                                cls: 'passwordBackground'
                            }).setStyle('background-position', "0px -" + Math.min(128, Clipperz.PM.Crypto.passwordEntropy(anUser.passphrase())) + "px").setStyle('width', '71px');
                            MochiKit.Signal.connect(this.getId('showPassphraseCheckbox'), 'onclick', this, 'togglePassphraseVisibility');
                            MochiKit.Signal.connect(this.getId('showPassphraseText'), 'onclick', this, 'togglePassphraseCheckbox');
                            this.getElement('showPassphraseDiv').setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                            this.getElement('hidePassphraseDiv').setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                            this.togglePassphraseVisibility();
                            alertDialog = new YAHOO.ext.BasicDialog(alertElement, {
                                closable: false,
                                modal: true,
                                autoTabs: false,
                                resizable: false,
                                fixedcenter: true,
                                constraintoviewport: false,
                                width: 450,
                                height: 220,
                                shadow: true,
                                minWidth: 300,
                                minHeight: 300
                            });
                            closeFunction = deferredResult.callback;
                            alertDialog.addKeyListener(27, closeFunction);
                            closeButton = alertDialog.addButton(Clipperz.PM.Strings['splashAlertCloseButtonLabel'], closeFunction, deferredResult);
                            alertDialog.setDefaultButton(closeButton);
                            alertDialog.show('main');
                            deferredResult.addBoth(MochiKit.Base.method(alertDialog, 'hide'));
                            deferredResult.addCallback(MochiKit.Signal.disconnectAllTo, this)
                            deferredResult.addCallback(MochiKit.Async.succeed);
                            return deferredResult;
                        },
                        'showLoginFormEventHandler': function (anEvent) {
                            anEvent.stop();
                            this.showLoginForm(true);
                        },
                        'showLoginForm': function (shouldAnimate) {
                            if (shouldAnimate) {
                                this.showLoginFormAnimator().play();
                            } else {
                                this.hideRegistrationForm(false);
                                this.getActor('loginForm').show(false);
                                this.getElement('login_username').focus();
                            }
                            this.setVisibleForm('login');
                        },
                        'showLoginFormAnimator': function () {
                            if (this._showLoginFormAnimator == null) {
                                var animator;
                                var loginFormActor;
                                var registrationFormActor;
                                var usernameFieldActor;
                                animator = new YAHOO.ext.Animator();
                                loginFormActor = this.getActor('loginForm', animator);
                                loginFormActor.setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                                registrationFormActor = this.getActor('registrationForm', animator);
                                registrationFormActor.setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                                usernameFieldActor = this.getActor('login_username', animator);
                                animator.startCapture();
                                registrationFormActor.hide(true);
                                loginFormActor.show(true);
                                usernameFieldActor.focus();
                                animator.stopCapture();
                                this._showLoginFormAnimator = animator;
                            }
                            return this._showLoginFormAnimator;
                        },
                        'hideLoginForm': function (shouldAnimate) {
                            var loginFormActor;
                            loginFormActor = this.getActor('loginForm');
                            loginFormActor.setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                            loginFormActor.hide(shouldAnimate);
                        },
                        'showRegistrationFormEventHandler': function (anEvent) {
                            anEvent.stop();
                            this.showRegistrationForm(true);
                        },
                        'showRegistrationForm': function (shouldAnimate) {
                            if (shouldAnimate) {
                                this.showRegistrationFormAnimator().play(MochiKit.Base.bind(this.showRegistrationAlert, this));
                            } else {
                                var errorMessageActor;
                                this.hideLoginForm(shouldAnimate)
                                this.getActor('registrationForm').show(false);
                                this.getElement('registration_username').focus();
                                errorMessageActor = this.getActor('registration_errorMessage');
                                errorMessageActor.setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                                errorMessageActor.update("---");
                                errorMessageActor.hide();
                                this.showRegistrationAlert();
                            }
                            this.setVisibleForm('registration');
                        },
                        'showRegistrationFormAnimator': function () {
                            if (this._showRegistrationFormAnimator == null) {
                                var animator;
                                var loginFormActor;
                                var registrationFormActor;
                                var usernameFieldActor;
                                var errorMessageActor;
                                animator = new YAHOO.ext.Animator();
                                loginFormActor = this.getActor('loginForm', animator);
                                loginFormActor.setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                                registrationFormActor = this.getActor('registrationForm', animator);
                                registrationFormActor.setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                                usernameFieldActor = this.getActor('registration_username', animator);
                                errorMessageActor = this.getActor('registration_errorMessage', animator);
                                errorMessageActor.setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                                animator.startCapture();
                                loginFormActor.hide(true);
                                errorMessageActor.update("---");
                                errorMessageActor.hide();
                                registrationFormActor.show(true);
                                usernameFieldActor.focus();
                                animator.stopCapture();
                                this._showRegistrationFormAnimator = animator;
                            }
                            return this._showRegistrationFormAnimator;
                        },
                        'hideRegistrationForm': function (shouldAnimate) {
                            var registrationFormActor;
                            registrationFormActor = this.getActor('registrationForm');
                            registrationFormActor.setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                            registrationFormActor.hide(shouldAnimate);
                        },
                        'shouldShowRegistrationAlert': function () {
                            return this._shouldShowRegistrationAlert;
                        },
                        'showRegistrationAlert': function () {
                            if ((this.shouldShowRegistrationAlert()) && (Clipperz.PM.Proxy.defaultProxy.isReadOnly() == false)) {
                                var alertElement;
                                var alertDialog;
                                var closeButton;
                                var closeFunction;
                                alertElement = Clipperz.YUI.DomHelper.append(document.body, {
                                    tag: 'div',
                                    id: 'alert',
                                    children: [{
                                        tag: 'div',
                                        cls: 'ydlg-hd',
                                        htmlString: Clipperz.PM.Strings['splashAlertTitle']
                                    }, {
                                        tag: 'div',
                                        cls: 'ydlg-bd',
                                        children: [{
                                            tag: 'div',
                                            cls: 'alert-message',
                                            id: 'splashMessage',
                                            htmlString: Clipperz.PM.Strings['splashAlertText']
                                        }]
                                    }, {
                                        tag: 'div',
                                        cls: 'ydlg-ft'
                                    }]
                                }, true);
                                alertDialog = new YAHOO.ext.BasicDialog(alertElement, {
                                    closable: false,
                                    modal: true,
                                    autoTabs: false,
                                    resizable: false,
                                    fixedcenter: true,
                                    constraintoviewport: false,
                                    width: 450,
                                    height: 320,
                                    shadow: true,
                                    minWidth: 300,
                                    minHeight: 300
                                });
                                closeFunction = MochiKit.Base.partial(MochiKit.Base.bind(this.closeResigrationAlert, this), alertDialog);
                                alertDialog.addKeyListener(27, closeFunction);
                                closeButton = alertDialog.addButton(Clipperz.PM.Strings['splashAlertCloseButtonLabel'], closeFunction, this);
                                alertDialog.setDefaultButton(closeButton);
                                alertDialog.show('main');
                                this._shouldShowRegistrationAlert = false;
                            }
                        },
                        'closeResigrationAlert': function (anAlertDialog) {
                            anAlertDialog.hide(MochiKit.Base.bind(function () {
                                anAlertDialog.destroy(true);
                                this.focusOnVisibleForm();
                            }, this));
                        },
                        'onkeydown': function (anEvent) {
                            if (anEvent.key().code == 13) {
                                if (anEvent.src() == this.getDom('loginForm')) {
                                    this.doLogin();
                                } else if (anEvent.src() == this.getDom('registrationForm')) {
                                    this.doRegister();
                                } else {}
                                anEvent.stop();
                            }
                        },
                        'visibleForm': function () {
                            return this._visibleForm;
                        },
                        'setVisibleForm': function (aValue) {
                            this._visibleForm = aValue;
                        },
                        'focusOnVisibleForm': function () {
                            if (this.visibleForm() == 'registration') {
                                this.getElement('registration_username').focus();
                            } else {
                                this.getElement('login_username').focus();
                            }
                        },
                        'show': function () {
                            if (this.visibleForm() == 'registration') {
                                this.showRegistrationForm(false);
                            } else {
                                this.showLoginForm(false);
                            }
                        },
                        'switchLanguage': function (anEvent) {
                            Clipperz.PM.Strings.Languages.setSelectedLanguage(anEvent.src().value);
                        },
                        'selectSelectedLanguageOption': function () {
                            Clipperz.DOM.selectOptionMatchingValue(this.getDom('languageSelector'), Clipperz.PM.Strings.selectedLanguage, true);
                        },
                        'switchLanguageHandler': function () {
                            this.render();
                            this.show();
                        },
                        'togglePassphraseCheckbox': function (anEvent) {
                            this.getDom('showPassphraseCheckbox').click();
                        },
                        'togglePassphraseVisibility': function (anEvent) {
                            if (this.getDom('showPassphraseCheckbox').checked == true) {
                                this.getElement('showPassphraseDiv').show();
                                this.getElement('hidePassphraseDiv').hide();
                            } else {
                                this.getElement('showPassphraseDiv').hide();
                                this.getElement('hidePassphraseDiv').show();
                            }
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.Panels) == 'undefined') {
                        Clipperz.PM.Components.Panels = {};
                    }
                    Clipperz.PM.Components.Panels.MainPanel = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.Panels.MainPanel.superclass.constructor.call(this, anElement, args);
                        this._recordListDataModel = null;
                        this._selectedRecord = null;
                        this._recordDetailComponent = null;
                        this._recordListGrid = null;
                        this._directLinkItemTemplate = null;
                        this._recordItemTemplate = null;
                        this._addNewRecordButton = null;
                        this._deleteRecordButton = null;
                        this._creationWizard = null;
                        Clipperz.NotificationCenter.register(null, 'selectAndEnterEditMode', this, 'selectRecordAndEnterEditModeHandler');
                        Clipperz.NotificationCenter.register(null, 'recordAdded', this, 'recordAddedHandler');
                        Clipperz.NotificationCenter.register(null, 'recordUpdated', this, 'recordUpdatedHandler');
                        Clipperz.NotificationCenter.register(null, 'recordRemoved', this, 'recordRemovedHandler');
                        Clipperz.NotificationCenter.register(null, 'directLoginAdded', this, 'directLoginAddedHandler');
                        Clipperz.NotificationCenter.register(null, 'directLoginUpdated', this, 'directLoginUpdatedHandler');
                        Clipperz.NotificationCenter.register(null, 'directLoginRemoved', this, 'directLoginRemovedHandler');
                        Clipperz.NotificationCenter.register(null, 'accountLocked', this, 'accountLockedHandler');
                        MochiKit.Signal.connect(MochiKit.DOM.currentWindow(), 'onresize', this, 'resizeModalMask');
                        this.render();
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.Panels.MainPanel, Clipperz.PM.Components.Panels.BasePanel, {
                        'toString': function () {
                            return "Clipperz.PM.Components.Panels.MainPanel component";
                        },
                        'render': function () {
                            this.element().update("");
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'table',
                                id: 'mainPanelTABLE',
                                border: '0',
                                cellspacing: '0',
                                cellpadding: '0',
                                children: [{
                                    tag: 'tbody',
                                    children: [{
                                        tag: 'tr',
                                        children: [{
                                            tag: 'td',
                                            width: '15',
                                            children: [{
                                                tag: 'div',
                                                cls: 'mainPanelMinHeightDiv'
                                            }]
                                        }, {
                                            tag: 'td',
                                            valign: 'top',
                                            id: 'directLoginsTD',
                                            width: '200',
                                            children: [{
                                                tag: 'div',
                                                id: 'directLoginsBlock',
                                                children: [{
                                                    tag: 'div',
                                                    cls: 'directLoginsBlockHeaderBox',
                                                    children: [{
                                                        tag: 'h3',
                                                        id: 'directLoginTitle',
                                                        htmlString: Clipperz.PM.Strings['mainPanelDirectLoginBlockLabel']
                                                    }]
                                                }, {
                                                    tag: 'div',
                                                    id: 'directLoginsDescription',
                                                    htmlString: Clipperz.PM.Strings['mainPanelDirectLoginBlockDescription']
                                                }, {
                                                    tag: 'ul',
                                                    id: 'directLogins'
                                                }]
                                            }]
                                        }, {
                                            tag: 'td',
                                            width: '15',
                                            children: [{
                                                tag: 'div',
                                                cls: 'mainPanelMinHeightDiv'
                                            }]
                                        }, {
                                            tag: 'td',
                                            valign: 'top',
                                            children: [{
                                                tag: 'div',
                                                id: 'mainContent',
                                                children: [{
                                                    tag: 'div',
                                                    id: 'recordListBlockHeader'
                                                }, {
                                                    tag: 'div',
                                                    id: 'recordListAndDetailBlock',
                                                    children: [{
                                                        tag: 'table',
                                                        id: 'recordListAndDetailBlockTABLE',
                                                        border: '0',
                                                        cellspacing: '0',
                                                        cellpadding: '0',
                                                        children: [{
                                                            tag: 'tbody',
                                                            children: [{
                                                                tag: 'tr',
                                                                children: [{
                                                                    tag: 'td',
                                                                    valign: 'top',
                                                                    width: '250',
                                                                    children: [{
                                                                        tag: 'div',
                                                                        id: 'recordListBlock',
                                                                        children: [{
                                                                            tag: 'div',
                                                                            id: 'recordListFilterHeader'
                                                                        }, {
                                                                            tag: 'ul',
                                                                            id: 'records'
                                                                        }]
                                                                    }]
                                                                }, {
                                                                    tag: 'td',
                                                                    id: 'recordDetailSeparatorTD',
                                                                    rowspan: '2',
                                                                    valign: 'top',
                                                                    bgcolor: '#ddddff',
                                                                    html: '&nbsp;'
                                                                }, {
                                                                    tag: 'td',
                                                                    valign: 'top',
                                                                    children: [{
                                                                        tag: 'div',
                                                                        id: 'recordDetailMainBlock',
                                                                        children: [{
                                                                            tag: 'div',
                                                                            id: 'recordTitleTopBlock'
                                                                        }, {
                                                                            tag: 'div',
                                                                            id: 'recordDetailBlock',
                                                                            children: [{
                                                                                tag: 'div',
                                                                                id: 'recordDetail'
                                                                            }]
                                                                        }]
                                                                    }, {
                                                                        tag: 'div',
                                                                        id: 'recordCreationWizardMainBlock',
                                                                        children: [{
                                                                            tag: 'div',
                                                                            id: 'recordCreationWizard',
                                                                            html: "WIZARD"
                                                                        }]
                                                                    }]
                                                                }]
                                                            }, {
                                                                tag: 'tr',
                                                                children: [{
                                                                    tag: 'td',
                                                                    id: 'cardBoxLowerLeftTD',
                                                                    html: '&nbsp;'
                                                                }, {
                                                                    tag: 'td',
                                                                    id: 'cardBoxLowerRightTD',
                                                                    html: '&nbsp;'
                                                                }]
                                                            }]
                                                        }]
                                                    }]
                                                }]
                                            }]
                                        }, {
                                            tag: 'td',
                                            width: '15',
                                            html: "&nbsp;"
                                        }]
                                    }]
                                }]
                            });
                            this.renderRecordListBlockHeader();
                            YAHOO.ext.Element.get('directLogins').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                            this.recordDetailComponent();
                            YAHOO.ext.Element.get('recordDetailMainBlock').setVisibilityMode(YAHOO.ext.Element.DISPLAY).show();
                            YAHOO.ext.Element.get('recordCreationWizardMainBlock').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                        },
                        'addNewRecordButton': function () {
                            return this._addNewRecordButton;
                        },
                        'setAddNewRecordButton': function (aValue) {
                            this._addNewRecordButton = aValue;
                        },
                        'deleteRecordButton': function () {
                            return this._deleteRecordButton;
                        },
                        'setDeleteRecordButton': function (aValue) {
                            this._deleteRecordButton = aValue;
                        },
                        'addNewRecord': function (anEvent) {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.bind(function () {
                                var currentlySelectedRecord;
                                currentlySelecedRecord = this.selectedRecord();
                                this.setSelectedRecord(null);
                                YAHOO.ext.Element.get('recordDetailMainBlock').hide();
                                YAHOO.ext.Element.get('recordCreationWizardMainBlock').show();
                                this.setCreationWizard(new Clipperz.PM.Components.RecordDetail.CreationWizard(YAHOO.ext.Element.get('recordCreationWizardMainBlock'), {
                                    previouslySelectedRecord: currentlySelecedRecord,
                                    mainComponent: this
                                }));
                                this.enterModalView();
                            }, this));
                            deferredResult.callback();
                        },
                        'creationWizard': function () {
                            return this._creationWizard;
                        },
                        'setCreationWizard': function (aValue) {
                            this._creationWizard = aValue;
                        },
                        'exitWizard': function (aSelectedRecord, shouldEnterEditMode) {
                            YAHOO.ext.Element.get('recordCreationWizardMainBlock').hide();
                            YAHOO.ext.Element.get('recordDetailMainBlock').show();
                            if (shouldEnterEditMode == true) {
                                this.selectRecordAndEnterEditMode(aSelectedRecord);
                            } else {
                                this.setSelectedRecord(aSelectedRecord);
                                this.exitModalView();
                            }
                            this.creationWizard().remove();
                            this.setCreationWizard(null);
                        },
                        'selectRecordAndEnterEditMode': function (aRecord) {
                            this.setSelectedRecord(aRecord);
                            this.recordDetailComponent().setEditMode('EDIT');
                        },
                        'selectRecordAndEnterEditModeHandler': function (anEvent) {
                            this.selectRecordAndEnterEditMode(anEvent.source());
                        },
                        'resizeModalMask': function () {
                            MochiKit.Style.setElementDimensions('recordDetailEditModeHeaderMask', {
                                w: MochiKit.Style.getElementDimensions('mainDiv').w,
                                h: 119
                            });
                            MochiKit.Style.setElementDimensions('recordDetailEditModeVerticalMask', {
                                w: 511,
                                h: MochiKit.Style.getElementDimensions('mainDiv').h - 119
                            });
                        },
                        'enterModalView': function () {
                            if (this.user().preferences().useSafeEditMode()) {
                                var headerMaskElement;
                                var verticalMaskElement;
                                this.resizeModalMask();
                                headerMaskElement = YAHOO.ext.Element.get('recordDetailEditModeHeaderMask');
                                headerMaskElement.show();
                                headerMaskElement.mask();
                                verticalMaskElement = YAHOO.ext.Element.get('recordDetailEditModeVerticalMask');
                                verticalMaskElement.show();
                                verticalMaskElement.mask();
                            }
                        },
                        'exitModalView': function () {
                            if (this.user().preferences().useSafeEditMode()) {
                                var headerMaskElement;
                                var verticalMaskElement;
                                headerMaskElement = YAHOO.ext.Element.get('recordDetailEditModeHeaderMask');
                                headerMaskElement.unmask();
                                headerMaskElement.hide();
                                verticalMaskElement = YAHOO.ext.Element.get('recordDetailEditModeVerticalMask');
                                verticalMaskElement.unmask();
                                verticalMaskElement.hide();
                            }
                        },
                        'removeSelectedRecord': function () {
                            var selectedRecordReferences;
                            if (this.selectedRecord() != null) {
                                selectedRecordReferences = [this.selectedRecord().reference()];
                            } else {
                                selectedRecordReferences = [];
                            }
                            if (selectedRecordReferences.length > 0) {
                                var recordReference;
                                var records;
                                var deferred;
                                records = [];
                                for (recordReference in selectedRecordReferences) {
                                    var record;
                                    record = this.user().records()[selectedRecordReferences[recordReference]];
                                    records.push(record);
                                }
                                deferred = new MochiKit.Async.Deferred();
                                deferred.addCallback(function () {
                                    var deferredResult;
                                    deferredResult = new MochiKit.Async.Deferred();
                                    Clipperz.PM.Components.MessageBox().deferredShow({
                                        title: Clipperz.PM.Strings['mainPanelDeletingRecordPanelConfirmationTitle'],
                                        text: Clipperz.PM.Strings['mainPanelDeleteRecordPanelConfirmationText'],
                                        width: 240,
                                        showProgressBar: false,
                                        showCloseButton: false,
                                        buttons: {
                                            'yes': Clipperz.PM.Strings['mainPanelDeleteRecordPanelConfirmButtonLabel'],
                                            'no': Clipperz.PM.Strings['mainPanelDeleteRecordPanelDenyButtonLabel']
                                        },
                                        fn: MochiKit.Base.partial(function (aDeferred, aResult) {
                                            if (aResult == 'yes') {
                                                aDeferred.callback(aResult);
                                            } else {
                                                aDeferred.errback(aResult);
                                            }
                                        }, deferredResult)
                                    }, 'recordListRemoveRecordButton');
                                    return deferredResult;
                                });
                                deferred.addCallback(MochiKit.Base.method(Clipperz.PM.Components.MessageBox(), 'deferredShow'), {
                                    title: Clipperz.PM.Strings['mainPanelDeletingRecordPanelInitialTitle'],
                                    text: Clipperz.PM.Strings['mainPanelDeletingRecordPanelInitialText'],
                                    width: 240,
                                    showProgressBar: true,
                                    showCloseButton: false,
                                    steps: 5
                                });
                                deferred.addCallback(MochiKit.Base.method(this.user(), 'deleteRecordsAction'), records);
                                deferred.addCallback(function () {
                                    Clipperz.PM.Components.MessageBox().update({
                                        title: null,
                                        text: Clipperz.PM.Strings['mainPanelDeletingRecordPanelCompletedText'],
                                        step: 'next',
                                        buttons: {}
                                    });
                                });
                                deferred.addCallback(MochiKit.Async.wait, 1);
                                deferred.addCallback(function (res) {
                                    Clipperz.PM.Components.MessageBox().hide(YAHOO.ext.Element.get('main'));
                                    return res;
                                });
                                deferred.callback();
                            } else {}
                        },
                        'recordDetailComponent': function () {
                            if (this._recordDetailComponent == null) {
                                this._recordDetailComponent = new Clipperz.PM.Components.RecordDetail.MainComponent(YAHOO.ext.Element.get('recordDetail'), {
                                    user: this.user(),
                                    mainPanel: this
                                });
                            }
                            return this._recordDetailComponent;
                        },
                        'selectedRecord': function () {
                            return this._selectedRecord;
                        },
                        'setSelectedRecord': function (aValue) {
                            if (aValue != this._selectedRecord) {
                                this._selectedRecord = aValue;
                                this.redrawRecordItems();
                                this.recordDetailComponent().setRecord(aValue);
                            }
                            if ((aValue == null) || (Clipperz.PM.Proxy.defaultProxy.isReadOnly())) {
                                this.deleteRecordButton().disable();
                            } else {
                                this.deleteRecordButton().enable();
                            }
                        },
                        'recordAddedHandler': function (anEvent) {
                            this.recordDetailComponent();
                            this.redrawRecordItems();
                        },
                        'recordUpdatedHandler': function (anEvent) {
                            this.redrawRecordItems();
                        },
                        'recordRemovedHandler': function (anEvent) {
                            this.setSelectedRecord(null);
                            this.redrawRecordItems();
                        },
                        'compareRecords': function (a, b) {
                            return MochiKit.Base.compare(a.label().toLowerCase(), b.label().toLowerCase());
                        },
                        'redrawRecordItems': function () {
                            var template;
                            var allRecords;
                            MochiKit.Iter.forEach(YAHOO.ext.Element.get('records').getChildrenByTagName('li'), function (aRecordElement) {
                                MochiKit.Signal.disconnectAll(aRecordElement.dom);
                            })
                            YAHOO.ext.Element.get('records').update("");
                            allRecords = MochiKit.Base.values(this.user().records());
                            allRecords.sort(this.compareRecords);
                            template = this.recordItemTemplate();
                            MochiKit.Iter.forEach(allRecords, MochiKit.Base.bind(function (aRecord) {
                                var recordElement;
                                recordElement = template.append('records', {
                                    recordTitle: aRecord.label(),
                                    recordReference: aRecord.reference(),
                                    cls: ((aRecord == this.selectedRecord()) ? 'selected' : '')
                                }, true);
                                recordElement.addClassOnOver('hover');
                                MochiKit.Signal.connect(recordElement.dom, 'onclick', this, 'selectRecord');
                            }, this));
                        },
                        'selectRecord': function (anEvent) {
                            this.setSelectedRecord(this.user().records()[anEvent.src().id]);
                        },
                        'directLoginAddedHandler': function (anEvent) {
                            this.redrawDirectLoginItems();
                        },
                        'directLoginUpdatedHandler': function (anEvent) {
                            this.redrawDirectLoginItems();
                        },
                        'directLoginRemovedHandler': function (anEvent) {
                            this.redrawDirectLoginItems();
                        },
                        'compareDirectLogins': function (a, b) {
                            return MochiKit.Base.compare(a.label().toLowerCase(), b.label().toLowerCase());
                        },
                        'redrawDirectLoginItems': function () {
                            var template;
                            var allDirectLogins;
                            MochiKit.Iter.forEach(YAHOO.ext.Element.get('directLogins').getChildrenByTagName('li'), function (aDirectLoginElement) {
                                MochiKit.Signal.disconnectAll(aDirectLoginElement.dom);
                                MochiKit.Signal.disconnectAll(aDirectLoginElement.getChildrenByTagName('img')[0].dom);
                            })
                            YAHOO.ext.Element.get('directLogins').update("");
                            allDirectLogins = MochiKit.Base.values(this.user().directLoginReferences());
                            allDirectLogins.sort(this.compareDirectLogins);
                            if (allDirectLogins.length == 0) {
                                YAHOO.ext.Element.get('directLoginsDescription').show();
                                YAHOO.ext.Element.get('directLogins').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                            } else {
                                YAHOO.ext.Element.get('directLoginsDescription').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                                YAHOO.ext.Element.get('directLogins').show();
                            }
                            template = this.directLoginItemTemplate();
                            MochiKit.Iter.forEach(allDirectLogins, MochiKit.Base.bind(function (aDirectLogin) {
                                var directLoginElement;
                                var faviconImageElementID;
                                faviconImageElementID = aDirectLogin.reference() + "_faviconIMG";
                                directLoginElement = template.append('directLogins', {
                                    elementID: faviconImageElementID,
                                    faviconUrl: aDirectLogin.fixedFavicon(),
                                    directLoginTitle: aDirectLogin.label(),
                                    directLoginReference: aDirectLogin.reference()
                                }, true);
                                directLoginElement.addClassOnOver("hover");
                                MochiKit.Signal.connect(directLoginElement.dom, 'onclick', this, 'handleDirectLoginClick');
                                MochiKit.Signal.connect(faviconImageElementID, 'onload', this, 'handleLoadedFaviconImage');
                                MochiKit.Signal.connect(faviconImageElementID, 'onerror', aDirectLogin, 'handleMissingFaviconImage');
                                MochiKit.Signal.connect(faviconImageElementID, 'onabort', aDirectLogin, 'handleMissingFaviconImage');
                            }, this));
                        },
                        'handleDirectLoginClick': function (anEventId) {
                            var directLoginReference;
                            directLoginReference = this.user().directLoginReferences()[anEventId];
                            
                            if (anEvent.target().className == 'directLoginItemEditButton') {
                                this.editDirectLogin(directLoginReference);
                            } else {
                                this.openDirectLogin(directLoginReference);
                            }
                        },
                        'editDirectLogin': function (aDirectLoginReference) {
                            this.setSelectedRecord(aDirectLoginReference.record());
                        },
                        'openDirectLogin': function (aDirectLoginReference) {
                            var deferredResult;
                            var newWindow;                           
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(aDirectLoginReference, 'setupJumpPageWindow'));
                            deferredResult.addCallback(MochiKit.Base.method(aDirectLoginReference, 'deferredDirectLogin'));
                            deferredResult.addCallback(function (aDirectLogin) {
                                aDirectLogin.runDirectLogin(newWindow);
                            });
                            newWindow = window.open(Clipperz.PM.Strings['directLoginJumpPageUrl'], "");
                            deferredResult.callback(newWindow);
                        },
                        'handleLoadedFaviconImage': function (anEvent) {
                            MochiKit.Signal.disconnectAll(anEvent.src())
                        },
                        'recordItemTemplate': function () {
                            if (this._recordItemTemplate == null) {
                                this._recordItemTemplate = Clipperz.YUI.DomHelper.createTemplate({
                                    tag: 'li',
                                    cls: '{cls}',
                                    id: '{recordReference}',
                                    children: [{
                                        tag: 'span',
                                        html: '{recordTitle}'
                                    }]
                                });
                                this._recordItemTemplate.compile();
                            }
                            return this._recordItemTemplate;
                        },
                        'directLoginItemTemplate': function () {
                            if (this._directLoginItemTemplate == null) {
                                this._directLoginItemTemplate = Clipperz.YUI.DomHelper.createTemplate({
                                    tag: 'li',
                                    id: '{directLoginReference}',
                                    children: [{
                                        tag: 'table',
                                        border: '0',
                                        cellpadding: '0',
                                        cellspacing: '0',
                                        children: [{
                                            tag: 'tbody',
                                            children: [{
                                                tag: 'tr',
                                                children: [{
                                                    tag: 'td',
                                                    width: '20',
                                                    align: 'center',
                                                    valign: 'top',
                                                    children: [{
                                                        tag: 'img',
                                                        id: '{elementID}',
                                                        src: '{faviconUrl}'
                                                    }]
                                                }, {
                                                    tag: 'td',
                                                    valign: 'top',
                                                    children: [{
                                                        tag: 'a',
                                                        cls: 'directLoginItemTitle',
                                                        html: '{directLoginTitle}'
                                                    }]
                                                }, {
                                                    tag: 'td',
                                                    valign: 'top',
                                                    align: 'right',
                                                    children: [{
                                                        tag: 'a',
                                                        cls: 'directLoginItemEditButton',
                                                        htmlString: Clipperz.PM.Strings['directLinkReferenceShowButtonLabel']
                                                    }]
                                                }]
                                            }]
                                        }]
                                    }]
                                });
                                this._directLoginItemTemplate.compile();
                            }
                            return this._directLoginItemTemplate;
                        },
                        'onkeydown': function (anEvent) {
                            switch (anEvent.src().id) {
                            case "recordFilterSearchForm":
                                if (anEvent.key().code == 13) {
                                    this.filterCardsWithName(YAHOO.ext.Element.get('recordFilterSearchValue').dom.value);
                                    anEvent.event().stopPropagation();
                                    YAHOO.ext.Element.get('recordFilterSearchValue').focus();
                                } else if (anEvent.key().code == 27) {
                                    this.hideRecordFilterSearchPanel(true);
                                    this.showRecordFilterAllPanel();
                                }
                                break;
                            }
                        },
                        'renderRecordListBlockHeader': function () {
                            var recordListBlockHeaderElement;
                            recordListBlockHeaderElement = YAHOO.ext.Element.get('recordListBlockHeader');
                            recordListBlockHeaderElement.update("");
                            Clipperz.YUI.DomHelper.append(recordListBlockHeaderElement.dom, {
                                tag: 'table',
                                cls: 'recordListBlockHeaderTABLE',
                                border: '0',
                                cellspacing: '0',
                                cellpadding: '0',
                                children: [{
                                    tag: 'tbody',
                                    children: [{
                                        tag: 'tr',
                                        children: [{
                                            tag: 'td',
                                            cls: 'recordBlockTitleTD',
                                            children: [{
                                                tag: 'h3',
                                                id: 'recordBlockTitle',
                                                htmlString: Clipperz.PM.Strings['mainPanelRecordsBlockLabel']
                                            }]
                                        }, {
                                            tag: 'td',
                                            align: 'right',
                                            children: [{
                                                tag: 'table',
                                                id: 'recordListButtonsTABLE',
                                                border: '0',
                                                cellspacing: '0',
                                                cellpadding: '0',
                                                children: [{
                                                    tag: 'tbody',
                                                    children: [{
                                                        tag: 'tr',
                                                        children: [{
                                                            tag: 'td',
                                                            cls: 'recordButtonTD',
                                                            align: 'right',
                                                            children: [{
                                                                tag: 'div',
                                                                cls: 'recordButton',
                                                                id: 'recordListAddRecordButton'
                                                            }]
                                                        }, {
                                                            tag: 'td',
                                                            cls: 'recordButtonTD',
                                                            align: 'left',
                                                            children: [{
                                                                tag: 'div',
                                                                cls: 'recordButton',
                                                                id: 'recordListRemoveRecordButton'
                                                            }]
                                                        }]
                                                    }]
                                                }]
                                            }]
                                        }, {
                                            tag: 'td',
                                            width: '15',
                                            html: "&nbsp;"
                                        }]
                                    }]
                                }]
                            });
                            this.setAddNewRecordButton(new YAHOO.ext.Button('recordListAddRecordButton', {
                                text: Clipperz.PM.Strings['mainPanelAddRecordButtonLabel'],
                                handler: this.addNewRecord,
                                scope: this
                            }));
                            this.setDeleteRecordButton(new YAHOO.ext.Button('recordListRemoveRecordButton', {
                                text: Clipperz.PM.Strings['mainPanelRemoveRecordButtonLabel'],
                                handler: this.removeSelectedRecord,
                                scope: this
                            }));
                            if ((Clipperz.PM.Proxy.defaultProxy.isReadOnly()) || (this.selectedRecord() == null)) {
                                this.deleteRecordButton().disable();
                            }
                            if (Clipperz.PM.Proxy.defaultProxy.isReadOnly()) {
                                this.addNewRecordButton().disable();
                            }
                        },
                        'renderRecordListFilterHeader': function () {
                            var recordListFilterHeaderElement;
                            recordListFilterHeaderElement = YAHOO.ext.Element.get('recordListFilterHeader');
                            recordListFilterHeaderElement.update("");
                            Clipperz.YUI.DomHelper.append(recordListFilterHeaderElement.dom, {
                                tag: 'div',
                                id: 'recordFiltersDIV',
                                children: [{
                                    tag: 'div',
                                    id: 'recordFiltersTableWrapper',
                                    children: [{
                                        tag: 'table',
                                        id: 'recordFiltersTABLE',
                                        border: '0',
                                        cellspacing: '0',
                                        cellpadding: '0',
                                        children: [{
                                            tag: 'tbody',
                                            children: [{
                                                tag: 'tr',
                                                children: [{
                                                    tag: 'td',
                                                    id: 'recordFilterAllTD',
                                                    children: [{
                                                        tag: 'div',
                                                        children: [{
                                                            tag: 'a',
                                                            id: 'recordFilterAll',
                                                            htmlString: Clipperz.PM.Strings['mainPanelRecordFilterBlockAllLabel']
                                                        }]
                                                    }]
                                                }, {
                                                    tag: 'td',
                                                    id: 'recordFilterTagsTD',
                                                    children: [{
                                                        tag: 'div',
                                                        children: [{
                                                            tag: 'a',
                                                            id: 'recordFilterTags',
                                                            htmlString: Clipperz.PM.Strings['mainPanelRecordFilterBlockTagsLabel']
                                                        }]
                                                    }]
                                                }, {
                                                    tag: 'td',
                                                    id: 'recordFilterSearchTD',
                                                    children: [{
                                                        tag: 'div',
                                                        children: [{
                                                            tag: 'a',
                                                            id: 'recordFilterSearch',
                                                            htmlString: Clipperz.PM.Strings['mainPanelRecordFilterBlockSearchLabel']
                                                        }]
                                                    }]
                                                }]
                                            }]
                                        }]
                                    }]
                                }, {
                                    tag: 'div',
                                    id: 'recordFiltersTagsPanel'
                                }, {
                                    tag: 'div',
                                    id: 'recordFiltersSearchPanel',
                                    children: [{
                                        tag: 'div',
                                        id: 'recordFiltersSearchInnerPanel',
                                        children: [{
                                            tag: 'div',
                                            id: 'recordFiltersSearchInnerInnerPanel',
                                            children: [{
                                                tag: 'form',
                                                id: 'recordFilterSearchForm',
                                                children: [{
                                                    tag: 'input',
                                                    type: 'text',
                                                    name: 'search',
                                                    id: 'recordFilterSearchValue'
                                                }]
                                            }]
                                        }]
                                    }]
                                }]
                            });
                            this.showRecordFilterAllPanel(false);
                            MochiKit.Signal.connect('recordFilterSearchForm', 'onkeydown', this, 'onkeydown');
                            MochiKit.Signal.connect('recordFilterSearchForm', 'onsubmit', this, 'onkeydown');
                            MochiKit.Signal.connect('recordFilterAll', 'onclick', this, 'showRecordFilterAllPanel');
                            MochiKit.Signal.connect('recordFilterTags', 'onclick', this, 'showRecordFilterTagsPanel');
                            MochiKit.Signal.connect('recordFilterSearch', 'onclick', this, 'showRecordFilterSearchPanel');
                        },
                        'showRecordFilterAllPanel': function (shouldSlide) {
                            this.hideRecordFilterTagsPanel(shouldSlide);
                            this.hideRecordFilterSearchPanel(shouldSlide);
                            YAHOO.ext.Element.get('recordFilterAllTD').addClass('selectedTab');
                        },
                        'hideRecordFilterAllPanel': function (shouldSlide) {
                            YAHOO.ext.Element.get('recordFilterAllTD').removeClass('selectedTab');
                        },
                        'showRecordFilterTagsPanel': function (shouldSlide) {
                            this.hideRecordFilterAllPanel(shouldSlide);
                            this.hideRecordFilterSearchPanel(shouldSlide);
                            YAHOO.ext.Element.get('recordFilterTagsTD').addClass('selectedTab');
                        },
                        'hideRecordFilterTagsPanel': function (shouldSlide) {
                            YAHOO.ext.Element.get('recordFilterTagsTD').removeClass('selectedTab');
                        },
                        'showRecordFilterSearchPanel': function (shouldSlide) {
                            var searchPanelActor;
                            this.hideRecordFilterAllPanel(shouldSlide);
                            this.hideRecordFilterTagsPanel(shouldSlide);
                            YAHOO.ext.Element.get('recordFilterSearchTD').addClass('selectedTab');
                            YAHOO.ext.Element.get('recordFilterSearchValue').dom.value = "";
                            searchPanelActor = new YAHOO.ext.Actor('recordFiltersSearchPanel');
                            searchPanelActor.startCapture(true);
                            searchPanelActor.slideShow('top', 54);
                            searchPanelActor.play(MochiKit.Base.bind(function () {
                                YAHOO.ext.Element.get('recordFilterSearchValue').focus();
                            }, this));
                        },
                        'hideRecordFilterSearchPanel': function (shouldSlide) {
                            var searchPanelActor;
                            var callback;
                            YAHOO.ext.Element.get('recordFilterSearchTD').removeClass('selectedTab');
                            searchPanelActor = new YAHOO.ext.Actor('recordFiltersSearchPanel');
                            searchPanelActor.startCapture(true)
                            if (shouldSlide === false) {
                                searchPanelActor.hide();
                                searchPanelActor.slideHide('top');
                                searchPanelActor.show();
                            } else {
                                searchPanelActor.slideHide('top');
                            }
                            callback = MochiKit.Base.bind(function () {}, this);
                            searchPanelActor.play(callback);
                        },
                        'filterCardsWithName': function (aValue) {
                            MochiKit.Logging.logDebug(">>> filterCardsWithName: " + aValue);
                            MochiKit.Logging.logDebug("<<< filterCardsWithName");
                        },
                        'accountLockedHandler': function () {
                            this.setSelectedRecord(null);
                        },
                        'switchLanguageHandler': function () {
                            YAHOO.ext.Element.get('directLoginTitle').update(Clipperz.PM.Strings['mainPanelDirectLoginBlockLabel']);
                            YAHOO.ext.Element.get('directLoginsDescription').update("");
                            MochiKit.Iter.forEach(Clipperz.PM.Strings['mainPanelDirectLoginBlockDescriptionConfig'], function (aConfigItem) {
                                Clipperz.YUI.DomHelper.append(YAHOO.ext.Element.get('directLoginsDescription').dom, aConfigItem);
                            });
                            YAHOO.ext.Element.get('recordBlockTitle').update(Clipperz.PM.Strings['mainPanelRecordsBlockLabel']);
                            this.renderRecordListBlockHeader();
                            this.recordDetailComponent().render();
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.Panels) == 'undefined') {
                        Clipperz.PM.Components.Panels = {};
                    }
                    Clipperz.PM.Components.Panels.AccountPanel = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.Panels.AccountPanel.superclass.constructor.call(this, anElement, args);
                        Clipperz.NotificationCenter.register(null, 'setupDone', this, 'render');
                        this._shouldLoadLoginHistory = true;
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.Panels.AccountPanel, Clipperz.PM.Components.Panels.BasePanel, {
                        'toString': function () {
                            return "Clipperz.PM.Components.AccountPanel component";
                        },
                        'render': function () {
                            var errorMessageActor;
                            var changePasswordButton;
                            var deleteAccountButton;
                            try {
                                Clipperz.NotificationCenter.unregister(this);
                                MochiKit.Signal.disconnectAllTo(this);
                                this.element().update("");
                                Clipperz.YUI.DomHelper.append(this.element().dom, {
                                    tag: 'table',
                                    border: '0',
                                    cellspacing: '0',
                                    cellpadding: '0',
                                    children: [{
                                        tag: 'tbody',
                                        children: [{
                                            tag: 'tr',
                                            children: [{
                                                tag: 'td',
                                                valign: 'top',
                                                width: '200',
                                                children: [{
                                                    tag: 'ul',
                                                    id: "accountSubMenu",
                                                    cls: 'subMenu',
                                                    children: [{
                                                        tag: 'li',
                                                        id: 'changePassphraseTab',
                                                        htmlString: Clipperz.PM.Strings['changePasswordTabLabel']
                                                    }, {
                                                        tag: 'li',
                                                        id: 'manageOTPTab',
                                                        htmlString: Clipperz.PM.Strings['manageOTPTabLabel']
                                                    }, {
                                                        tag: 'li',
                                                        id: 'accountPreferencesTab',
                                                        htmlString: Clipperz.PM.Strings['accountPreferencesLabel']
                                                    }, {
                                                        tag: 'li',
                                                        id: 'loginHistoryTab',
                                                        htmlString: Clipperz.PM.Strings['accountLoginHistoryLabel']
                                                    }, {
                                                        tag: 'li',
                                                        id: 'deleteAccountTab',
                                                        htmlString: Clipperz.PM.Strings['deleteAccountTabLabel']
                                                    }]
                                                }]
                                            }, {
                                                tag: 'td',
                                                valign: 'top',
                                                children: [{
                                                    tag: 'ul',
                                                    cls: 'clipperzTabPanels',
                                                    children: [{
                                                        tag: 'li',
                                                        id: this.getId('changePassphrasePanel'),
                                                        children: [{
                                                            tag: 'div',
                                                            cls: 'clipperzSubPanel',
                                                            children: [{
                                                                tag: 'h5',
                                                                htmlString: Clipperz.PM.Strings['changePasswordTabTitle']
                                                            }, {
                                                                tag: 'div',
                                                                cls: 'panelBody',
                                                                id: 'changePassphraseBlock',
                                                                children: [{
                                                                    tag: 'form',
                                                                    id: this.getId('changePassphraseForm'),
                                                                    children: [{
                                                                        tag: 'h5',
                                                                        cls: 'errorMessage',
                                                                        id: this.getId('changePassphrase_errorMessage')
                                                                    }, {
                                                                        tag: 'table',
                                                                        cls: 'panelBody',
                                                                        children: [{
                                                                            tag: 'tr',
                                                                            children: [{
                                                                                tag: 'td',
                                                                                children: [{
                                                                                    tag: 'span',
                                                                                    cls: 'formLabel',
                                                                                    htmlString: Clipperz.PM.Strings['changePasswordFormUsernameLabel']
                                                                                }]
                                                                            }, {
                                                                                tag: 'td',
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'text',
                                                                                    name: 'username',
                                                                                    id: this.getId('changePassphrase_username')
                                                                                }]
                                                                            }]
                                                                        }, {
                                                                            tag: 'tr',
                                                                            children: [{
                                                                                tag: 'td',
                                                                                children: [{
                                                                                    tag: 'span',
                                                                                    cls: 'formLabel',
                                                                                    htmlString: Clipperz.PM.Strings['changePasswordFormOldPassphraseLabel']
                                                                                }]
                                                                            }, {
                                                                                tag: 'td',
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'password',
                                                                                    name: 'oldPassphrase',
                                                                                    id: this.getId('changePassphrase_oldPassphrase')
                                                                                }]
                                                                            }]
                                                                        }, {
                                                                            tag: 'tr',
                                                                            children: [{
                                                                                tag: 'td',
                                                                                children: [{
                                                                                    tag: 'span',
                                                                                    cls: 'formLabel',
                                                                                    htmlString: Clipperz.PM.Strings['changePasswordFormNewPassphraseLabel']
                                                                                }]
                                                                            }, {
                                                                                tag: 'td',
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'password',
                                                                                    name: 'newPassphrase',
                                                                                    id: this.getId('changePassphrase_newPassphrase')
                                                                                }]
                                                                            }]
                                                                        }, {
                                                                            tag: 'tr',
                                                                            children: [{
                                                                                tag: 'td',
                                                                                children: [{
                                                                                    tag: 'span',
                                                                                    cls: 'formLabel',
                                                                                    htmlString: Clipperz.PM.Strings['changePasswordFormRetypePassphraseLabel']
                                                                                }]
                                                                            }, {
                                                                                tag: 'td',
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'password',
                                                                                    name: 'renewPassphrase',
                                                                                    id: this.getId('changePassphrase_renewPassphrase')
                                                                                }]
                                                                            }]
                                                                        }, {
                                                                            tag: 'tr',
                                                                            children: [{
                                                                                tag: 'td',
                                                                                align: 'right',
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'checkbox',
                                                                                    id: this.getId('changePassphrase_safetyCheck')
                                                                                }]
                                                                            }, {
                                                                                tag: 'td',
                                                                                children: [{
                                                                                    tag: 'span',
                                                                                    htmlString: Clipperz.PM.Strings['changePasswordFormSafetyCheckboxLabel']
                                                                                }]
                                                                            }]
                                                                        }]
                                                                    }, {
                                                                        tag: 'div',
                                                                        cls: 'clipperzSubPanelButtonBox',
                                                                        children: [{
                                                                            tag: 'div',
                                                                            id: this.getId('changePassphraseButton')
                                                                        }]
                                                                    }]
                                                                }]
                                                            }]
                                                        }]
                                                    }, {
                                                        tag: 'li',
                                                        id: this.getId('manageOTPPanel'),
                                                        children: [{
                                                            tag: 'div',
                                                            cls: 'clipperzSubPanel',
                                                            children: [{
                                                                tag: 'h5',
                                                                htmlString: Clipperz.PM.Strings['manageOTPTabTitle']
                                                            }, {
                                                                tag: 'div',
                                                                cls: 'panelDescription',
                                                                htmlString: Clipperz.PM.Strings['manageOTPTabDescription']
                                                            }, {
                                                                tag: 'div',
                                                                id: 'OTPComponent'
                                                            }]
                                                        }]
                                                    }, {
                                                        tag: 'li',
                                                        id: this.getId('accountPreferencesPanel'),
                                                        children: [{
                                                            tag: 'div',
                                                            cls: 'clipperzSubPanel',
                                                            children: [{
                                                                tag: 'h5',
                                                                htmlString: Clipperz.PM.Strings['accountPreferencesTabTitle']
                                                            }, {
                                                                tag: 'div',
                                                                cls: 'panelBody',
                                                                id: this.getId('preferencesPanelBody')
                                                            }]
                                                        }]
                                                    }, {
                                                        tag: 'li',
                                                        id: this.getId('loginHistoryAccountPanel'),
                                                        children: [{
                                                            tag: 'div',
                                                            cls: 'clipperzSubPanel',
                                                            children: [{
                                                                tag: 'h5',
                                                                htmlString: Clipperz.PM.Strings['loginHistoryTabTitle']
                                                            }, {
                                                                tag: 'div',
                                                                cls: 'panelBody',
                                                                id: 'loginHistoryAccountBlock'
                                                            }]
                                                        }]
                                                    }, {
                                                        tag: 'li',
                                                        id: this.getId('deleteAccountPanel'),
                                                        children: [{
                                                            tag: 'div',
                                                            cls: 'clipperzSubPanel',
                                                            children: [{
                                                                tag: 'h5',
                                                                htmlString: Clipperz.PM.Strings['deleteAccountTabTitle']
                                                            }, {
                                                                tag: 'div',
                                                                cls: 'panelBody',
                                                                id: 'deleteAccountBlock',
                                                                children: [{
                                                                    tag: 'form',
                                                                    id: this.getId('deleteAccountForm'),
                                                                    children: [{
                                                                        tag: 'h5',
                                                                        cls: 'errorMessage',
                                                                        id: this.getId('deleteAccount_errorMessage')
                                                                    }, {
                                                                        tag: 'table',
                                                                        cls: 'panelBody',
                                                                        children: [{
                                                                            tag: 'tr',
                                                                            children: [{
                                                                                tag: 'td',
                                                                                children: [{
                                                                                    tag: 'span',
                                                                                    cls: 'formLabel',
                                                                                    htmlString: Clipperz.PM.Strings['deleteAccountFormUsernameLabel']
                                                                                }]
                                                                            }, {
                                                                                tag: 'td',
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'text',
                                                                                    name: 'username',
                                                                                    id: this.getId('deleteAccount_username')
                                                                                }]
                                                                            }]
                                                                        }, {
                                                                            tag: 'tr',
                                                                            children: [{
                                                                                tag: 'td',
                                                                                children: [{
                                                                                    tag: 'span',
                                                                                    cls: 'formLabel',
                                                                                    htmlString: Clipperz.PM.Strings['deleteAccountFormPassphraseLabel']
                                                                                }]
                                                                            }, {
                                                                                tag: 'td',
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'password',
                                                                                    name: 'passphrase',
                                                                                    id: this.getId('deleteAccount_passphrase')
                                                                                }]
                                                                            }]
                                                                        }, {
                                                                            tag: 'tr',
                                                                            children: [{
                                                                                tag: 'td',
                                                                                align: 'right',
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'checkbox',
                                                                                    id: this.getId('deleteAccount_safetyCheck')
                                                                                }]
                                                                            }, {
                                                                                tag: 'td',
                                                                                children: [{
                                                                                    tag: 'span',
                                                                                    htmlString: Clipperz.PM.Strings['deleteAccountFormSafetyCheckboxLabel']
                                                                                }]
                                                                            }]
                                                                        }]
                                                                    }, {
                                                                        tag: 'div',
                                                                        cls: 'clipperzSubPanelButtonBox',
                                                                        children: [{
                                                                            tag: 'div',
                                                                            id: this.getId('deleteAccountButton')
                                                                        }]
                                                                    }]
                                                                }]
                                                            }]
                                                        }]
                                                    }]
                                                }]
                                            }]
                                        }]
                                    }]
                                });
                                MochiKit.Signal.connect(this.getId('changePassphraseForm'), 'onkeydown', this, 'onkeydown');
                                errorMessageActor = this.getActor('changePassphrase_errorMessage');
                                errorMessageActor.setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                                errorMessageActor.update("---");
                                errorMessageActor.hide();
                                changePasswordButton = new YAHOO.ext.Button(this.getDom('changePassphraseButton'), {
                                    text: Clipperz.PM.Strings['changePasswordFormSubmitLabel'],
                                    handler: this.doChangePassphrase,
                                    scope: this
                                });
                                MochiKit.Signal.connect(this.getId('deleteAccountForm'), 'onkeydown', this, 'onkeydown');
                                errorMessageActor = this.getActor('deleteAccount_errorMessage');
                                errorMessageActor.setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                                errorMessageActor.update(Clipperz.PM.Strings['deleteAccountFormEmptyErrorMessage']);
                                errorMessageActor.hide();
                                deleteAccountButton = new YAHOO.ext.Button(this.getDom('deleteAccountButton'), {
                                    text: Clipperz.PM.Strings['deleteAccountFormSubmitLabel'],
                                    handler: this.doDeleteAccount,
                                    scope: this
                                });
                                if (Clipperz.PM.Proxy.defaultProxy.isReadOnly()) {
                                    this.getElement('changePassphraseForm').addClass('read-only');
                                    this.getElement('deleteAccountForm').addClass('read-only');
                                    changePasswordButton.disable();
                                    deleteAccountButton.disable();
                                }
                                new Clipperz.PM.Components.PasswordEntropyDisplay(this.getElement('changePassphrase_oldPassphrase'));
                                new Clipperz.PM.Components.PasswordEntropyDisplay(this.getElement('changePassphrase_newPassphrase'));
                                new Clipperz.PM.Components.OTP.MainComponent(YAHOO.ext.Element.get('OTPComponent'), {
                                    user: this.user()
                                });
                                this.tabPanelController().setUp();
                                Clipperz.NotificationCenter.register(null, 'tabSelected', this, 'tabSelectedHandler');
                                Clipperz.NotificationCenter.register(null, 'updatedPreferences', this, 'renderPreferences');
                                Clipperz.NotificationCenter.register(null, 'switchLanguage', this, 'switchLanguageHandler');
                            } catch (exception) {
                                MochiKit.Logging.logError("### " + exception);
                                throw exception;
                            }
                        },
                        'tabPanelController': function () {
                            if (this._tabPanelController == null) {
                                var tabPanelControllerConfig;
                                tabPanelControllerConfig = {}
                                tabPanelControllerConfig['changePassphraseTab'] = this.getId('changePassphrasePanel');
                                tabPanelControllerConfig['manageOTPTab'] = this.getId('manageOTPPanel');
                                tabPanelControllerConfig['accountPreferencesTab'] = this.getId('accountPreferencesPanel');
                                tabPanelControllerConfig['loginHistoryTab'] = this.getId('loginHistoryAccountPanel');
                                tabPanelControllerConfig['deleteAccountTab'] = this.getId('deleteAccountPanel');
                                this._tabPanelController = new Clipperz.PM.Components.TabPanel.TabPanelController({
                                    name: 'accountTabPanel',
                                    config: tabPanelControllerConfig,
                                    selectedTab: 'changePassphraseTab'
                                });
                            }
                            return this._tabPanelController;
                        },
                        'doChangePassphrase': function () {
                            if (Clipperz.PM.Proxy.defaultProxy.isReadOnly() == false) {
                                var username;
                                var oldPassphrase;
                                var newPassphrase;
                                var renewPassphrase;
                                var safetyCheck;
                                var areThereAnyErrors;
                                var errorMessageActor;
                                errorMessageActor = this.getActor('changePassphrase_errorMessage');
                                areThereAnyErrors = false;
                                username = this.getDom('changePassphrase_username').value;
                                oldPassphrase = this.getDom('changePassphrase_oldPassphrase').value;
                                newPassphrase = this.getDom('changePassphrase_newPassphrase').value;
                                renewPassphrase = this.getDom('changePassphrase_renewPassphrase').value;
                                safetyCheck = this.getDom('changePassphrase_safetyCheck').checked;
                                if (this.user().username() != username) {
                                    this.showFormErrorMessageAnimation(errorMessageActor, Clipperz.PM.Strings['changePasswordFormWrongUsernameWarning']);
                                    this.getElement('changePassphrase_username').focus().dom.select();
                                    areThereAnyErrors = true;
                                } else if (this.user().passphrase() != oldPassphrase) {
                                    this.showFormErrorMessageAnimation(errorMessageActor, Clipperz.PM.Strings['changePasswordFormWrongPassphraseWarning']);
                                    this.getElement('changePassphrase_oldPassphrase').focus().dom.select();
                                    areThereAnyErrors = true;
                                } else if (newPassphrase != renewPassphrase) {
                                    this.showFormErrorMessageAnimation(errorMessageActor, Clipperz.PM.Strings['changePasswordFormWrongRetypePassphraseWarning']);
                                    this.getElement('changePassphrase_renewPassphrase').focus().dom.select();
                                    areThereAnyErrors = true;
                                } else if (safetyCheck != true) {
                                    this.showFormErrorMessageAnimation(errorMessageActor, Clipperz.PM.Strings['changePasswordFormSafetyCheckWarning']);
                                    this.getElement('changePassphrase_safetyCheck').focus();
                                    areThereAnyErrors = true;
                                }
                                if (areThereAnyErrors == false) {
                                    errorMessageActor.hide();
                                    this.doChangePassphraseWithUsernameAndPassphrase(username, newPassphrase);
                                }
                            }
                        },
                        'doChangePassphraseWithUsernameAndPassphrase': function (anUsername, aPassphrase) {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(Clipperz.PM.Components.MessageBox(), 'deferredShow'), {
                                title: Clipperz.PM.Strings['changePasswordFormProgressDialogTitle'],
                                text: Clipperz.PM.Strings['changePasswordFormProgressDialogEmptyText'],
                                width: 240,
                                showProgressBar: true,
                                showCloseButton: false,
                                steps: 4
                            }, this.getDom('changePassphraseButton'));
                            deferredResult.addCallback(MochiKit.Base.method(this.user(), 'changeCredentials'), anUsername, aPassphrase);
                            deferredResult.addCallback(function () {
                                Clipperz.PM.Components.MessageBox().update({
                                    title: Clipperz.PM.Strings['changePasswordFormProgressDialogConnectedMessageTitle'],
                                    text: Clipperz.PM.Strings['changePasswordFormProgressDialogConnectedMessageText'],
                                    step: 'next'
                                });
                            });
                            deferredResult.addCallback(MochiKit.Async.wait, 1);
                            deferredResult.addCallback(function (anAccountPanel, res) {
                                Clipperz.PM.Components.MessageBox().hide(YAHOO.ext.Element.get('main'));
                                anAccountPanel.getDom('changePassphrase_username').value = "";
                                anAccountPanel.getDom('changePassphrase_oldPassphrase').value = "";
                                anAccountPanel.getElement('changePassphrase_oldPassphrase').focus();
                                anAccountPanel.getDom('changePassphrase_newPassphrase').value = "";
                                anAccountPanel.getElement('changePassphrase_newPassphrase').focus();
                                anAccountPanel.getDom('changePassphrase_renewPassphrase').value = "";
                                anAccountPanel.getDom('changePassphrase_safetyCheck').checked = false;
                                anAccountPanel.getElement('changePassphrase_username').focus();
                                return res;
                            }, this);
                            deferredResult.addErrback(function () {
                                Clipperz.PM.Components.MessageBox().update({
                                    title: Clipperz.PM.Strings['changePasswordFormProgressDialogErrorMessageTitle'],
                                    text: Clipperz.PM.Strings['changePasswordFormProgressDialogErrorMessageText'],
                                    buttons: {
                                        'ok': "close"
                                    }
                                });
                            });
                            deferredResult.callback();
                        },
                        'doDeleteAccount': function () {
                            if (Clipperz.PM.Proxy.defaultProxy.isReadOnly() == false) {
                                var username;
                                var passphrase;
                                var safetyCheck;
                                var areThereAnyErrors;
                                var errorMessageActor;
                                errorMessageActor = this.getActor('deleteAccount_errorMessage');
                                areThereAnyErrors = false;
                                username = this.getDom('deleteAccount_username').value;
                                passphrase = this.getDom('deleteAccount_passphrase').value;
                                safetyCheck = this.getDom('deleteAccount_safetyCheck').checked;
                                if (this.user().username() != username) {
                                    this.showFormErrorMessageAnimation(errorMessageActor, Clipperz.PM.Strings['deleteAccountFormWrongUsernameWarning']);
                                    this.getElement('deleteAccount_username').focus().dom.select();
                                    areThereAnyErrors = true;
                                } else if (this.user().passphrase() != passphrase) {
                                    this.showFormErrorMessageAnimation(errorMessageActor, Clipperz.PM.Strings['deleteAccountFormWrongPassphraseWarning']);
                                    this.getElement('deleteAccount_passphrase').focus().dom.select();
                                    areThereAnyErrors = true;
                                } else if (safetyCheck != true) {
                                    this.showFormErrorMessageAnimation(errorMessageActor, Clipperz.PM.Strings['deleteAccountFormSafetyCheckWarning']);
                                    this.getElement('deleteAccount_safetyCheck').focus();
                                    areThereAnyErrors = true;
                                }
                                if (areThereAnyErrors == false) {
                                    var deferred;
                                    deferred = new MochiKit.Async.Deferred();
                                    errorMessageActor.hide();
                                    deferred.addCallback(function () {
                                        var deferredResult;
                                        deferredResult = new MochiKit.Async.Deferred();
                                        Clipperz.PM.Components.MessageBox().deferredShow({
                                            title: Clipperz.PM.Strings['accountPanelDeletingAccountPanelConfirmationTitle'],
                                            text: Clipperz.PM.Strings['accountPanelDeleteAccountPanelConfirmationText'],
                                            width: 240,
                                            showProgressBar: false,
                                            showCloseButton: false,
                                            buttons: {
                                                'yes': Clipperz.PM.Strings['accountPanelDeleteAccountPanelConfirmButtonLabel'],
                                                'no': Clipperz.PM.Strings['accountPanelDeleteAccountPanelDenyButtonLabel']
                                            },
                                            fn: MochiKit.Base.partial(function (aDeferred, aResult) {
                                                if (aResult == 'yes') {
                                                    aDeferred.callback(aResult);
                                                } else {
                                                    aDeferred.errback(aResult);
                                                }
                                            }, deferredResult)
                                        });
                                        return deferredResult;
                                    });
                                    deferred.addCallback(MochiKit.Base.method(Clipperz.PM.Components.MessageBox(), 'deferredShow'), {
                                        title: Clipperz.PM.Strings['accountPanelDeletingAccountPanelProgressTitle'],
                                        text: Clipperz.PM.Strings['accountPanelDeletingAccountPanelProgressText'],
                                        width: 240,
                                        showProgressBar: true,
                                        showCloseButton: false
                                    });
                                    deferred.addCallback(MochiKit.Base.method(this.user(), 'deleteAccountAction'));
                                    deferred.addCallback(Clipperz.PM.exit, 'accountDeleted.html');
                                    deferred.addErrback(function (res) {
                                        alert(res);
                                    })
                                    deferred.callback();
                                }
                            }
                        },
                        'showFormErrorMessageAnimation': function (anActor, anErrorMessage, aCallback) {
                            anActor.update(anErrorMessage);
                            anActor.show(true);
                            anActor.play(aCallback);
                        },
                        'onkeydown': function (anEvent) {
                            if (anEvent.key().code == 13) {
                                anEvent.stop();
                                if (anEvent.src() == this.getDom('changePassphraseForm')) {
                                    this.doChangePassphrase();
                                } else if (anEvent.src() == this.getDom('deleteAccountForm')) {
                                    this.doDeleteAccount();
                                } else {}
                            }
                        },
                        'selectSelectedLanguageOption': function () {
                            var userSelectedLanguage;
                            userSelectedLanguage = this.user().preferences().preferredLanguage() || "default";
                            MochiKit.Base.filter(function (anOption) {
                                return (anOption.value == userSelectedLanguage)
                            }, this.getDom('languageSelector').childNodes)[0].selected = true;
                        },
                        'doSaveUserPreferences': function () {
                            var selectedLanguage;
                            var showDonationReminderDialog;
                            selectedLanguage = this.getDom('languageSelector').value;
                            if (selectedLanguage == "default") {
                                selectedLanguage = null;
                            }
                            this.user().preferences().setPreferredLanguage(selectedLanguage);
                            showDonationReminderDialog = this.getDom('showDonationReminderCheckbox').checked;
                            this.user().preferences().setShouldShowDonationPanel(showDonationReminderDialog);
                            this.user().preferences().saveChanges(this.getDom('saveUserPreferences'));
                        },
                        'doCancelUserPreferences': function () {
                            this.renderPreferences();
                        },
                        'renderLoginHistory': function () {
                            var element;
                            element = YAHOO.ext.Element.get('loginHistoryAccountBlock');
                            if (Clipperz.PM.Proxy.defaultProxy.isReadOnly()) {
                                element.update("");
                                this.domHelper().append(element, {
                                    tag: 'div',
                                    cls: 'loginHistoryReadOnlyMessage',
                                    htmlString: Clipperz.PM.Strings['loginHistoryReadOnlyMessage']
                                });
                            } else {
                                var deferredResult;
                                deferredResult = new MochiKit.Async.Deferred();
                                deferredResult.addCallback(MochiKit.Base.bind(function (anElement) {
                                    anElement.update("");
                                    Clipperz.YUI.DomHelper.append(anElement, {
                                        tag: 'div',
                                        cls: 'loadingMessage',
                                        htmlString: Clipperz.PM.Strings['loginHistoryLoadingMessage']
                                    });
                                }, this), element);
                                deferredResult.addCallback(MochiKit.Base.method(this.user(), 'loadLoginHistory'));
                                deferredResult.addCallback(MochiKit.Base.bind(function (anElement, aResult) {
                                    var loginListItems;
                                    var tBodyElement;
                                    var imageExtension;
                                    var now;
                                    var i, c;
                                    loginListItems = aResult;
                                    imageExtension = (Clipperz_IEisBroken == true) ? 'gif' : 'png';
                                    now = new Date();
                                    anElement.update("");
                                    Clipperz.YUI.DomHelper.append(anElement, {
                                        tag: 'div',
                                        cls: 'panelDescription',
                                        htmlString: Clipperz.PM.Strings['loginHistoryLoadedMessage']
                                    });
                                    Clipperz.YUI.DomHelper.append(anElement, {
                                        tag: 'table',
                                        id: 'loginHistoryTable',
                                        cellspacing: '0',
                                        cellpadding: '2',
                                        border: '0',
                                        children: [{
                                            tag: 'tbody',
                                            id: this.getId('loginHistoryTBody'),
                                            children: []
                                        }]
                                    });
                                    Clipperz.YUI.DomHelper.append(anElement, {
                                        tag: 'div',
                                        cls: 'clipperzSubPanelButtonBox',
                                        children: [{
                                            tag: 'div',
                                            id: this.getId('reloadHistoryButton')
                                        }]
                                    });
                                    new YAHOO.ext.Button(this.getDom('reloadHistoryButton'), {
                                        text: Clipperz.PM.Strings['loginHistoryReloadButtonLabel'],
                                        handler: this.reloadHistory,
                                        scope: this
                                    });
                                    tBodyElement = this.getElement('loginHistoryTBody');
                                    c = loginListItems.length;
                                    for (i = 0; i < c; i++) {
                                        var ip;
                                        var date;
                                        var mainText;
                                        date = Clipperz.PM.Date.parseDateWithUTCFormat(loginListItems[i]['date']);
                                        if (loginListItems[i]['isCurrent'] === true) {
                                            mainText = {
                                                tag: 'div',
                                                cls: 'currentSession',
                                                htmlString: Clipperz.PM.Strings['loginHistoryCurrentSessionText']
                                            }
                                        } else {
                                            mainText = {
                                                tag: 'div',
                                                cls: 'elapsedTime',
                                                html: Clipperz.PM.Date.getElapsedTimeDescription(date)
                                            }
                                        }
                                        if (loginListItems[i]['connectionType'] == "ONE_TIME_PASSPHRASE") {
                                            optionalInfo = [{
                                                tag: 'span',
                                                html: "OTP"
                                            }];
                                        } else {
                                            optionalInfo = [];
                                        }
                                        ip = (loginListItems[i]['ip'].match(/^\d{1,3}(.\d{1,3}){3}$/)) ? loginListItems[i]['ip'] : Clipperz.PM.Strings['unknown_ip'];
                                        Clipperz.YUI.DomHelper.append(tBodyElement, {
                                            tag: 'tr',
                                            children: [{
                                                tag: 'td',
                                                cls: 'loginHistoryValues',
                                                valign: 'top',
                                                children: [mainText, {
                                                    tag: 'div',
                                                    cls: 'fullDate',
                                                    html: Clipperz.PM.Date.formatDateWithTemplate(date, Clipperz.PM.Strings['fullDate_format'])
                                                }, {
                                                    tag: 'div',
                                                    cls: 'loginHistoryIP',
                                                    children: [{
                                                        tag: 'span',
                                                        cls: 'loginHistoryIPLabel',
                                                        htmlString: Clipperz.PM.Strings['loginHistoryIPLabel']
                                                    }, {
                                                        tag: 'span',
                                                        cls: 'loginHistoryIPValue',
                                                        html: ip
                                                    }]
                                                }]
                                            }, {
                                                tag: 'td',
                                                cls: 'loginHistoryCountry',
                                                valign: 'top',
                                                children: optionalInfo
                                            }, {
                                                tag: 'td',
                                                cls: 'loginHistoryCountry',
                                                valign: 'top',
                                                align: 'center',
                                                children: [{
                                                    tag: 'img',
                                                    title: Clipperz.PM.Strings['countries'][loginListItems[i]['country']],
                                                    cls: 'flag',
                                                    src: Clipperz.PM.Strings['icons_baseUrl'] + "/flags/" + loginListItems[i]['country'].toLowerCase() + "." + imageExtension,
                                                    width: '32',
                                                    height: '32'
                                                }]
                                            }, {
                                                tag: 'td',
                                                cls: 'loginHistoryBrowser',
                                                valign: 'top',
                                                align: 'center',
                                                children: [{
                                                    tag: 'img',
                                                    title: Clipperz.PM.Strings['browsers'][loginListItems[i]['browser']],
                                                    cls: 'browser',
                                                    src: Clipperz.PM.Strings['icons_baseUrl'] + "/browsers/" + loginListItems[i]['browser'].toLowerCase() + "." + imageExtension,
                                                    width: '32',
                                                    height: '32'
                                                }]
                                            }, {
                                                tag: 'td',
                                                cls: 'loginHistoryOperatingSystem',
                                                valign: 'top',
                                                align: 'center',
                                                children: [{
                                                    tag: 'img',
                                                    title: Clipperz.PM.Strings['operatingSystems'][loginListItems[i]['operatingSystem']],
                                                    cls: 'operatingSystem',
                                                    src: Clipperz.PM.Strings['icons_baseUrl'] + "/operatingSystems/" + loginListItems[i]['operatingSystem'].toLowerCase() + "." + imageExtension,
                                                    width: '32',
                                                    height: '32'
                                                }]
                                            }]
                                        });
                                    }
                                    Clipperz.Style.applyZebraStylesToTable('loginHistoryTable');
                                }, this), element);
                                deferredResult.callback();
                            }
                        },
                        'renderPreferences': function () {
                            var saveUserPreferencesButton;
                            var cancelUserPreferencesButton;
                            var preferencedPanelBodyElement;
                            preferencedPanelBodyElement = this.getElement('preferencesPanelBody');
                            preferencedPanelBodyElement.update("");
                            Clipperz.YUI.DomHelper.append(preferencedPanelBodyElement, {
                                tag: 'form',
                                id: this.getId('accountPreferencesForm'),
                                children: [{
                                    tag: 'table',
                                    cls: 'panelBody',
                                    children: [{
                                        tag: 'tr',
                                        cls: 'openPreferenceBlock',
                                        children: [{
                                            tag: 'td',
                                            children: [{
                                                tag: 'div',
                                                cls: 'preferenceBlockTitle',
                                                htmlString: Clipperz.PM.Strings['accountPreferencesLanguageTitle']
                                            }, {
                                                tag: 'div',
                                                cls: 'panelDescription',
                                                htmlString: Clipperz.PM.Strings['accountPreferencesLanguageDescription']
                                            }, {
                                                tag: 'div',
                                                cls: 'panelDescription',
                                                children: [{
                                                    tag: 'select',
                                                    id: this.getId('languageSelector'),
                                                    children: MochiKit.Base.concat([{
                                                        tag: 'option',
                                                        value: "default",
                                                        html: "---"
                                                    }], Clipperz.PM.Strings['loginPanelSwitchLanguageSelectOptions'])
                                                }]
                                            }]
                                        }]
                                    }, {
                                        tag: 'tr',
                                        cls: 'openPreferenceBlock',
                                        children: [{
                                            tag: 'td',
                                            children: [{
                                                tag: 'div',
                                                cls: 'preferenceBlockTitle',
                                                htmlString: Clipperz.PM.Strings['showDonationReminderPanelTitle']
                                            }, {
                                                tag: 'table',
                                                cellpadding: '0',
                                                cellspacing: '0',
                                                children: [{
                                                    tag: 'tbody',
                                                    children: [{
                                                        tag: 'tr',
                                                        children: [{
                                                            tag: 'td',
                                                            valign: 'top',
                                                            children: [{
                                                                tag: 'div',
                                                                cls: 'panelDescription',
                                                                children: [{
                                                                    tag: 'input',
                                                                    type: 'checkbox',
                                                                    id: this.getId('showDonationReminderCheckbox')
                                                                }]
                                                            }]
                                                        }, {
                                                            tag: 'td',
                                                            valign: 'top',
                                                            children: [{
                                                                tag: 'div',
                                                                cls: 'panelDescription',
                                                                htmlString: Clipperz.PM.Strings['showDonationReminderPanelDescription']
                                                            }]
                                                        }]
                                                    }]
                                                }]
                                            }]
                                        }]
                                    }]
                                }, {
                                    tag: 'div',
                                    cls: 'clipperzSubPanelButtonBox',
                                    children: [{
                                        tag: 'table',
                                        border: '0',
                                        cellspacing: '0',
                                        cellpadding: '0',
                                        children: [{
                                            tag: 'tbody',
                                            children: [{
                                                tag: 'tr',
                                                children: [{
                                                    tag: 'td',
                                                    width: '100',
                                                    align: 'right',
                                                    cls: 'newRecordPanelButtonTD',
                                                    children: [{
                                                        tag: 'div',
                                                        id: this.getId('saveUserPreferences')
                                                    }]
                                                }, {
                                                    tag: 'td',
                                                    width: '10',
                                                    html: "&nbsp;"
                                                }, {
                                                    tag: 'td',
                                                    cls: 'newRecordPanelButtonTD',
                                                    children: [{
                                                        tag: 'div',
                                                        id: this.getId('cancelUserPreferences')
                                                    }]
                                                }]
                                            }]
                                        }]
                                    }]
                                }]
                            });
                            this.selectSelectedLanguageOption();
                            if (this.user().preferences().shouldShowDonationPanel()) {
                                this.getDom('showDonationReminderCheckbox').checked = true;
                            }
                            saveUserPreferencesButton = new YAHOO.ext.Button(this.getDom('saveUserPreferences'), {
                                text: '-----------------',
                                handler: this.doSaveUserPreferences,
                                scope: this
                            });
                            saveUserPreferencesButton.setText(Clipperz.PM.Strings['saveUserPreferencesFormSubmitLabel']);
                            cancelUserPreferencesButton = new YAHOO.ext.Button(this.getDom('cancelUserPreferences'), {
                                text: '-----------------',
                                handler: this.doCancelUserPreferences,
                                scope: this
                            });
                            cancelUserPreferencesButton.setText(Clipperz.PM.Strings['cancelUserPreferencesFormSubmitLabel']);
                            if (Clipperz.PM.Proxy.defaultProxy.isReadOnly()) {
                                this.getElement('accountPreferencesForm').addClass('read-only');
                                saveUserPreferencesButton.disable();
                                cancelUserPreferencesButton.disable();
                            }
                        },
                        'reloadHistory': function () {
                            this.setShouldLoadLoginHistory(true);
                            this.renderLoginHistory();
                        },
                        'shouldLoadLoginHistory': function () {
                            return this._shouldLoadLoginHistory;
                        },
                        'setShouldLoadLoginHistory': function (aValue) {
                            this._shouldLoadLoginHistory = aValue;
                        },
                        'tabSelectedHandler': function (anEvent) {
                            if (anEvent.parameters() == 'accountPreferencesTab') {
                                this.renderPreferences();
                            }
                            if ((this.shouldLoadLoginHistory()) && (anEvent.parameters() == 'loginHistoryTab')) {
                                this.renderLoginHistory();
                                this.setShouldLoadLoginHistory(false);
                            }
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.Panels) == 'undefined') {
                        Clipperz.PM.Components.Panels = {};
                    }
                    Clipperz.PM.Components.Panels.DataPanel = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.Panels.DataPanel.superclass.constructor.call(this, anElement, args);
                        this._progressWidth = 400;
                        this.render();
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.Panels.DataPanel, Clipperz.PM.Components.Panels.BasePanel, {
                        'toString': function () {
                            return "Clipperz.PM.Components.DataPanel component";
                        },
                        'render': function () {
                            MochiKit.Signal.disconnectAllTo(this);
                            Clipperz.NotificationCenter.unregister(this);
                            this.element().update("");
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'table',
                                border: '0',
                                cellspacing: '0',
                                cellpadding: '0',
                                children: [{
                                    tag: 'tbody',
                                    children: [{
                                        tag: 'tr',
                                        children: [{
                                            tag: 'td',
                                            valign: 'top',
                                            width: '200',
                                            children: [{
                                                tag: 'ul',
                                                id: "dataSubMenu",
                                                cls: 'subMenu',
                                                children: [{
                                                    tag: 'li',
                                                    id: 'offlineCopyTab',
                                                    htmlString: Clipperz.PM.Strings['offlineCopyTabLabel']
                                                }, {
                                                    tag: 'li',
                                                    id: 'sharingTab',
                                                    htmlString: Clipperz.PM.Strings['sharingTabLabel']
                                                }, {
                                                    tag: 'li',
                                                    id: 'importTab',
                                                    htmlString: Clipperz.PM.Strings['importTabLabel']
                                                }, {
                                                    tag: 'li',
                                                    id: 'printingTab',
                                                    htmlString: Clipperz.PM.Strings['printingTabLabel']
                                                }]
                                            }]
                                        }, {
                                            tag: 'td',
                                            valign: 'top',
                                            children: [{
                                                tag: 'ul',
                                                cls: 'clipperzTabPanels',
                                                children: [{
                                                    tag: 'li',
                                                    id: this.getId('offlineCopyPanel'),
                                                    children: [{
                                                        tag: 'div',
                                                        cls: 'clipperzSubPanel',
                                                        children: [{
                                                            tag: 'h5',
                                                            htmlString: Clipperz.PM.Strings['offlineCopyTabTitle']
                                                        }, {
                                                            tag: 'div',
                                                            cls: 'panelDescription',
                                                            htmlString: Clipperz.PM.Strings['offlineCopyTabDescription']
                                                        }, {
                                                            tag: 'div',
                                                            id: this.getId('offlineCopyLinkBox'),
                                                            children: [{
                                                                tag: 'a',
                                                                id: 'offlineCopyLink',
                                                                href: '#',
                                                                htmlString: Clipperz.PM.Strings['offlineCopyDownloadLinkLabel']
                                                            }]
                                                        }, {
                                                            tag: 'div',
                                                            id: this.getId('offlineCopyLinkBox_read-only'),
                                                            children: [{
                                                                tag: 'span',
                                                                cls: 'read-only',
                                                                htmlString: Clipperz.PM.Strings['offlineCopyDownloadLinkLabel']
                                                            }]
                                                        }]
                                                    }]
                                                }, {
                                                    tag: 'li',
                                                    id: this.getId('sharingPanel'),
                                                    children: [{
                                                        tag: 'div',
                                                        cls: 'clipperzSubPanel',
                                                        children: [{
                                                            tag: 'h5',
                                                            htmlString: Clipperz.PM.Strings['sharingTabTitle']
                                                        }, {
                                                            tag: 'div',
                                                            cls: 'panelDescription',
                                                            htmlString: Clipperz.PM.Strings['sharingTabDescription']
                                                        }]
                                                    }]
                                                }, {
                                                    tag: 'li',
                                                    id: this.getId('importPanel'),
                                                    children: [{
                                                        tag: 'div',
                                                        cls: 'clipperzSubPanel',
                                                        children: [{
                                                            tag: 'div',
                                                            id: this.getId('importPanelMainComponent')
                                                        }]
                                                    }]
                                                }, {
                                                    tag: 'li',
                                                    id: this.getId('printingPanel'),
                                                    children: [{
                                                        tag: 'div',
                                                        cls: 'clipperzSubPanel',
                                                        children: [{
                                                            tag: 'h5',
                                                            htmlString: Clipperz.PM.Strings['printingTabTitle']
                                                        }, {
                                                            tag: 'div',
                                                            cls: 'panelDescription',
                                                            htmlString: Clipperz.PM.Strings['printingTabDescription']
                                                        }, {
                                                            tag: 'div',
                                                            id: this.getId('printingLinkBox'),
                                                            children: [{
                                                                tag: 'a',
                                                                id: 'printingLink',
                                                                href: '#',
                                                                htmlString: Clipperz.PM.Strings['printingLinkLabel']
                                                            }]
                                                        }, {
                                                            tag: 'hr'
                                                        }, {
                                                            tag: 'div',
                                                            cls: 'panelDescription',
                                                            htmlString: Clipperz.PM.Strings['exportTabDescription']
                                                        }, {
                                                            tag: 'div',
                                                            id: this.getId('exportLinkBox'),
                                                            children: [{
                                                                tag: 'a',
                                                                id: 'exportLink',
                                                                href: '#',
                                                                htmlString: Clipperz.PM.Strings['exportLinkLabel']
                                                            }]
                                                        }]
                                                    }]
                                                }]
                                            }]
                                        }]
                                    }]
                                }]
                            });
                            this.tabPanelController().setUp();
                            if (Clipperz.PM.Proxy.defaultProxy.isReadOnly()) {
                                this.getElement('offlineCopyLinkBox').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                            } else {
                                this.getElement('offlineCopyLinkBox_read-only').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                                MochiKit.Signal.connect('offlineCopyLink', 'onclick', this, 'downloadOfflineCopy');
                            }
                            new Clipperz.PM.Components.Import.MainComponent(this.getElement('importPanelMainComponent'), {
                                user: this.user()
                            });
                            MochiKit.Signal.connect('printingLink', 'onclick', this, 'printAllData');
                            MochiKit.Signal.connect('exportLink', 'onclick', this, 'exportAllData');
                            Clipperz.NotificationCenter.register(null, 'switchLanguage', this, 'switchLanguageHandler');
                        },
                        'tabPanelController': function () {
                            if (this._tabPanelController == null) {
                                var tabPanelControllerConfig;
                                tabPanelControllerConfig = {}
                                tabPanelControllerConfig['offlineCopyTab'] = this.getId('offlineCopyPanel');
                                tabPanelControllerConfig['sharingTab'] = this.getId('sharingPanel');
                                tabPanelControllerConfig['importTab'] = this.getId('importPanel');
                                tabPanelControllerConfig['printingTab'] = this.getId('printingPanel');
                                this._tabPanelController = new Clipperz.PM.Components.TabPanel.TabPanelController({
                                    name: 'dataTabPanel',
                                    config: tabPanelControllerConfig,
                                    selectedTab: 'offlineCopyTab'
                                });
                            }
                            return this._tabPanelController;
                        },
                        'downloadOfflineCopy': function (anEvent) {
                            var downloadHref;
                            downloadHref = window.location.href.replace(/\/[^\/]*$/, '') + Clipperz_dumpUrl;
                            if (Clipperz_IEisBroken == true) {
                                window.open(downloadHref, "");
                            } else {
                                var deferredResult;
                                var newWindow;
                                newWindow = window.open("", "");
                                anEvent.preventDefault();
                                deferredResult = new MochiKit.Async.Deferred();
                                deferredResult.addCallback(MochiKit.Base.method(this.user().connection(), 'message'), 'echo', {
                                    'echo': "echo"
                                });
                                deferredResult.addCallback(function (aWindow) {
                                    aWindow.location.href = downloadHref;
                                }, newWindow);
                                deferredResult.callback();
                            }
                        },
                        'compareRecords': function (a, b) {
                            return MochiKit.Base.compare(a.label().toLowerCase(), b.label().toLowerCase());
                        },
                        'logo': function () {
                            var result;
                            if (Clipperz_IEisBroken == true) {
                                if (Clipperz.PM.Proxy.defaultProxy.isReadOnly()) {
                                    result = "<span><span class=\"clipperzLogoSpan\">clipper</span><span class=\"clipperzLoggoZSpan\">z</span></span>";
                                } else {
                                    result = "<img src=\"./images/exportLogo.png\" />";
                                }
                            } else {
                                result = "<img src=\"data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAANYAAABOCAIAAADTtH9XAAANIWlDQ1BJQ0MgUHJvZmlsZQAAeJyV13k0lG8bB/BrFsYyZhhjDyO77LKHLJFItmwp2bdhJiZRypIUIkso2iiSFC0kEtWPLCHJkq2oyJI9kmXeP6R6f+f9ve95rz+ecz3385xz389zzud7nxsAr+FKpZKRABAQSAuyNjEgOTg6kTBdgAJewAEzaLi6B1P1LS3N4R9roRMQAADtcq5UKvmf3/uPhQtycHQCQMgCANF7vd8OAES39d4WAIhHaFQaAMIHAIjuPq4eAIhwAJANsrU2BEAUAADOe70vBwCc23pfDwC4EHdvGgCiG4CREOjhGwiAmQBg1PXwDHYHwMkCgIdHsHsAAC4ZACwCAigeALgPACDlTg2iAeCZAEDOwdGJtL7kffEAW/kAmMx+jx1JByjNAZDa/XtM9BEAtytAbuLvsTlrQAAAgrs12EtFGQAAEFgDAIYBOn1OAgCTCrCaQqcv59Lpq9cBUH0ANWT3w0EhP/8XAtEM8L/u17/5Z6EQAEgAhBgiH3kUFY4OZzjBGImJZjrJbMRcy3Ka9Qw2ju0srozdhyOFkMKZSjzPlc6dzpPJW8tPEcjelC14WaiedFgkd/N10VbxYxL5km3SJ2Rub+mUi5a/o9CjdFr5vsp71bNqZeqDmklaFdrDOmm6T/XG9DMMnhtO7sgyrjOZNb26q9FsYXeuRcue15avrdqsV2wL93bYddp3OXQ7offdc+7b339gwOX9wQ9uWPfHHp88P3sNe4/4fPEd9eciPwv4GjhJmaJOH5oJmg2ep80f/haycGQx9HvY0tEfx1bCV46vRkhHdkQjTiJjUKfQsQynGc9g4pjimRNYzrImYpPYzuGS8SnsqRxphPOc6cQMrkzuCzwXebP4svkvCVzedEXwqtA14RxSrsj1zTdE88TyxW9KFkjekiqUvi1ze7yIfEf2rlyxQoniPaX7Sg+UH24tVS1TK1t4FFKu/lijQqtS+8m2qm1PdZ6uVUfU6D3b/lz/hcFfhrXo2pi6HS+N600aTBtNm1iaEl6ZNZu3WLTiWs+9tmyzemPdTmhPfWvTYdu5t4u7K7Pb/p1Dj1Mvf292n3O/88D+90Lvr35wGTw4JDKU+9Htk/tnj2Hx4fwRry/eoz5j0mOF434T/l/Jk3KTd6cCpykz1Fml2ftzQfPB32gLqgtliyHfQ5fCfoQtay1XrhxbDV/TWXtKpwMgRJE45DSqCX2bIY0xHOPNZMtsyLKVVRIrycaL48HzsvNycBEkOKWIGlzm3Ad4gnmT+Ir5mwRGBTmF1IS9SRdEXooixHTED0nck5ySlpIhb6mUQ8nrK6QoDipLq8Ru7VKTUadq1GrxaIdue6XLrUfZ/txAzPCYUZuxkEnozirTJTMlc8/d6RZtljgrE+tQmzzbt3Ys9tsdDjledqrbN7Vf+MAel6MHc11r3UY9uDz1vBy8T/hc863x6/dfCuAM3EIxovocCg9KDs6llR6uD+k9Mha6cBR1jCOcdFz2hGrE9kizqD3R+04ejPE8RY6lnQ46ExkXGX8yIe5samJCUta5i8mZKSmpl9JSz2ekX8goyLx54e7Fgqzb2cWXnlx+cqX26qtrbTntue3X22/05n3KH7k5VPD51lThzO2posk7s3enisdLJu6N3B98MPSwp7StrOFRTfmjx8UVlypTn0RWBTzdV21Ws+2ZzHPC86UXH/5qrH1Yl/YyqN6mQa1RoJHe1PPqYXN8i1OraOvw6wdtx9/saMe197+91uHXqdK52tXcnfZuf490z1xvRV90v9kAcWDg/a0PwYPaQ+ihxo/nPx34LPl5YrhiJOrLrlGu0f6xG+PkCdWJta8Nk6lT+6bFpidmHsyGz5nME+a7v+UtUBY1v6O+v1xK+bFvWXT560rZauSaKZ2bTgeAk4hQ5FGUNqoCfZxBj6GaMQpzismYqZY5luU0azx2F7aJLRGXiE9i38PeypFMSOVMI6Zx2XK95c7gyeC9wJfFny2QvemSoLNgv9BV4WukHJGczTmi18VuiOdJ5EvelCqQviXjKzO2pVC2SO6O/F2FYsUSpXvK91UebH2oWqZWpl6mEarxXbNCq0K7ctsTnSrdE7pretXba/SfGTw3fGEUswO9o9a4zuTlznrThl2NZgnmWPNXu5stWva0WiZbsVu1Wb+xabd9u7fTLsOe277LodvxnVPPvmxnAee+/f0H3rt8OPjBNcdNxG3I/aPHJ8/PXvneEusJ4jfmf5ssS574txSZ+5Ui5WEaYUtHfxxbDl85vnpiLYIeBdHIX0mCOYOJY4priN+VwHoWm4hNYjuHT2ZP4fiVJdyZPBd4f2bJpj+zJHfouvsN0TyxfImbEhtpUiR7R+6u/B9ZolK6tUz1kXq5+mONCs1K7SfaVdue6lbr/pEjO+qMXxrXmzTsbDRtMnsV0rK51eK1ZZvlG6v24x0ynXZd9t3RPQq9Tn2xAyrv4wZVh85+8hjWHkkZ9R33+0qeoszEzzstnFtKWLWm0wHW9z4AAEY1gIwtAHZZADa5ALFbACRdALgLACzZAGw1AckgBEgdKiB26WzsH4AAdhAEeTAARwiGZCiB7wgSwgwRiihAtCBGkHikCTIKWYVcQemgolB1qBW0CNoRnY/+xmDMcIqhmGGK0YQxh3EYw4VxxlQxYZg0mWKYxpm1mCnMNSxyLJEs5aw41ijWd1giNhD7hW0H20m2QZwr7jkehffCT7BbsWewr3LEccwStAh5nOqceZxTRBfiIpcvVxn3Fu6XPF68GN5CPnG+I3zz/JcFTATmNl0TFBMMF0IIlQr7kURIPSLnN2/eHCmKF20VSxHfK8EvMSR5W8pQ6pa0gQyHzOCWB7Kn5ZzlVRSwCiOKfynlKkereGw1UZVV41RbUR/WyNTEadZolWjnbDuvc0Y3Qu/I9kP6ZANfQx8jnx3+xoEmtJ3HTGN2nTPLNr+1u9yiYU+f5Yw1xkbIVmOvjR3VPsnhruNrpzln3v26B7xckg9Wun5x5/Ew8QzzKvLl9bP0jyfXBiIp+tSoQy+CGWlmh1NDxcIoR5+Esxx3OlEUQY+yjUGeco59dIYz7lB8W2J60lKyS0pdmsL5rMzgCx+zbLJrr9y9Jp5z+TpPPvvNpFu4wnN3MosFS27clys1Kmsrd308U8XztKjG4AWtFl9XVL+rKb5ZrqXtdUh7XQe1S6C7vk+iv/t9/KDep6Jhjy/Coz1f7aa4p7tms+ZdFieWSpcj6Lx0OgAggQV4QBr0wAEOQzqUwwACg1BEuCCSENWIOaQM0gWZhXyLwqN2o86imtFs6D3odHQvA4nBl6GE4TujIeM5xncYccxhzAsmApMHUzkzK7Mz810WNMsBloesLKzurNVYLiwV28wmw5bINoEzxxXj2fAUfCf7dvYbHDiOEI5egjHhHieJM5VzjRhM/MrlxzXGTeae5aHxLPAe5UPwneXn5y8U0BSo22S3aVQwUohPqEzYSniMFCsiIVK/OVCUR/SpmLs4VvyZRKCksOQbqThpA+lVmcot4bI6soty1fJnFGwVRRSnlKqVU1T8thqpCqkuq3WoP9a4rBml5a1tv01HR0FXRI+wHa2P0p81mDGcMhrfMWw8ZzK+89supBnRnGe3koXunj2W1lb+1mE22bb3976y67VfcSQ6KeyzcD60/+KBWpcRV2Y3RXcfjyzPaq9pH2lfT79M/44AgcC9lGzqlyCp4BBaQ4jgkeDQxqOix5LCx044RtRHqUXnxRBOJZ0mnMmI503ITlRNakn2TPmRlpiunvH5wpUsv0t7r0hfY8iZuP48r/TmxVuxt93vOBcb39N4sLVU/pHcY6lK8SqpasVnei921lq9JDccakppvtb6pG2gnd4p3K3T49GXMFDxYeIj32eDkcjRgvFPk/zTXrNX5ocXpZYCl8vWEHQ6ADACOwiCAThCMpTAmw37G+7X1aPxaEf0NwZjhqyf3tcwzkzCTDFM48y2zDUsciyXWHGsUayL2EDsFzYPnCvuI94LP8EezL7KEUfgJuRxqnM2El2Ii1zJv0xb8M3/9GwphBAq/WnZal3yT8ch0gZ/Gv4t+KffN5o1WiW/7f6W+89u/5ta70FfXj/Lv6sN6fm72+jCP+WeVf4tN4Nxw+5lzQ29N9I2/BYRNgQ/KN8wXHlyXfGzng3HDaNN8a/+as5oaXsd8kawva6D2lnSFdtd3xPSJ9HvP2D0Pn5Qb+j0R7dPRZ8Xhtu/CI/6j5mOS01gvtpN5k/FTnvP7JyVmWOdm5x//e3BQsai7eLE95glgx+SP4aXI1Z4V66scqzGrC6u3aAn0OkA6+clAABgMaSQKUEkc0Oj//Ow978qgHx4Yw4kAGA9A/faAAABAKR8aaa2AEAEAC0wBAqQgQJBQAJzMASjn1cSuP964guwfpYDAGBkB7hkDwBQ/f1Y5N/npXmG0gAADCnUsCBfbx8aSZ9KJXuSDCkB1MM0zyBZkmmgu7wsSVlRURUA4F93RgACxGzQPQAAAAlwSFlzAAALEwAACxMBAJqcGAAAC25JREFUeJztnHlUE9cex38JYY2JGhQ14Hae1BSXKoK4C0UtbtRqRUWlomi1NK5Y6tKKQpG2qK0pWo8oPp+ix+rRFlCPyxEVV9TXpx7klOdxKQFERQ1CWMLM+wMfDZk7k5nJMsHez8k/+d3f/d1fJt+5d+6SiEiSBAxGOMRCJ4D5u4MliBEYLEGMwGAJYgQGSxAjMFiCGIHBEsQIDJYgRmCwBDECgyWIERgsQYzAYAliBAZLECMwWIIYgcESxAgMliBGYLAEMQKDJYgRGCxBjMBgCWIEBksQIzASoRN4w+93X25YpWkl8zCyifr37bDsy5mcfDAtDkeRYFFRmVZbbmKsrixeBjM5+WBaHI4yEJNg/ufMbHwwLQ5HkSDmb0uLl6BM1kroFDAW0ZIkqNfXU43FJU/snwnGijjKdIQNUTP6hoelmhjdXEWCJIOxFi1JgiIRtFW4Cp0Fxsq0pIEY81ZitV5QV0nmZOUfz877o/CBkZlQqbpMmDB0TJh/a4UHbWV2NBBQ/PiFi4uzkU3k7ka2UTSbkehr4GnZC2cjt/q6ui7d2gKIAOB5heHg/tyjR85W6l43JRkYqPpkTlhAUA+RmHZYt1FYJNoS/bEjl86culqi/etJVy53DwsLipg+onO39szVmVMFgCfl9ds0x07kXGh8HxTos3VHPAmkqP4uiC0YZ5ze4VFJZPn/CxaX1EVFrqv669LTYUhPX9HHvwey7NDRe5sSt5kYO3s7H87a3PT2n5m3t6XuNPGRy+tO5+4wtiDdzp5Z79FW8WF4crm2lCHFz2PHzZ43Fllko7AmXLqiXRqbYm5sMqSlqQMG+9EVI1PNyV7bTtmhpg6mTjHNtvE6G8iHkp+6s0mSFnUDj3HV0oE4OeXklAkrWOgPACQxMT9GRyYBSfBry93dmWr0UXZg4/bgYfWAAWpmoQDAT2nHRwerkRnaKGwTBgImTkxebl5/ACCJjd2++FPTmRlzqq1kHroqGDGINlsnEaKWHbBIgtMjt/56KIdTlYLCJ0EDFvBWIZXKSjbqh5iYb13YBdTpYHTIEpatWytsTR0MCjAvZWOu5T/6eOIXrN2JoiJd8HC1Ay4f8Jfg0hUHHxQW8arqHj3za97t2gGdDhZ/utFuYQkShg5SO3EP+KdWv3rFD+x8xTExKcL0cubgKcF7RdVXzl2iKw0J6bciLnLs+BF0DgWFr67k3uDXtOXI5a5zosctip3aybsTnc+1/JJnHBe9eYddHneQblYYGKj6LHby8rjZdDHPnrtfdPc+pzzpaCARK/92gOeMeMa0eOTEKXx8/zUb5v5/4gXrEqfuz7ylSc2gen6dsOt0bgC/1i3AkJX9jZdS0fhmzrwRryrh/ZFq5FVYGafJyEyyddjyCkDezEGBXX9IWyaWvOkcp0UOLC6p/2jCcmqfMSsq8dqtPezybIa3dzsSxFptuUzmAQASUTdQmx5EMkICUA0aH8aQfHo0PhJ8XNKA1F9oiO+axLnGFhHArEj/1/r6jLR9Js46HQkkASJ7LkwaLl3eLHFzNza1lsG1G5qgAIRcCgpfNNTVObmYfdizKOyqVbuoEUNDfJM3LTYx+iidcy9rQoZQn+dkL8sr2ngpzOX5hs7erXfsivf0kqEKmZZ7nh+f5MlQrK5imYAJfBSwadMvKHNt8iY10j9qdhBq4cf55dOXPFrnzfa0hSZCaUQihqPZW1A1xKdy8mwattYAd/J/pzjUJ6d+jmxL6gbhEROo9j27s8zm2Uj4+D6Hs5Jo9MeELi/S8/4F2mJ1OQDPdV8+EryIGjji46Y0rXya4OECfQPfk8ulMqMXAOHqbs/dtlr/wX3pyrooJa5yxImbQ7/k2jTsvUId9ZLFRAczDA6fxX5ANR44dAlYHKaUyw1rEheYdaNSdS9B/u8DtMULbzN3n8xwHoiratB1RocFMdRK3xHDtSHrEhriR3eHNKJe8klqYpqdw2ZlX6Ea0zMudvTp+bxCh6pB3ClATpKcSEODSGLm20zfGc/sgISoyJKeWU9bPPM3cO7DI2wTnCX4SkeiLnm9rK3ckjxszfBhtH1VIyNHqlITTY0FhcUAJIPILAx75dJNVCVxUuJu5rAUJM/Kn7enrNI3R9/VtyvHsAD1d8T7w2lLx34HiomcYzaH80AskSC/DwOIHHDV0xh+8x4XMLOBaVFYpRnRcMBZYmbVz0/VkbnDpkKCFn6mv8f6z4AeKzkFRML5Crq7Ih46eHw8O+PX27LdT9uElbZCzGNsRGVlNSd/EqprGZZglO/BsExLcwIAHhKsrEIMxAWF5WwehwXkZn6BA4YtK31mrUwMBjMLy5EzRrOPRgDxTCN1oyt2bwNTqBN5nljrsJYYSNLhx2ImDAa02cIPxSNsUKDyx+2rDAYOtzRBgCutXvhQlu6pZCiOeW7FtjhLsJUUee2cn5U+bUf/ZLNFc/FgxiETY0rytJCwYVwT4EfmgbOTI5mOS2VlXaca/VRK5gcMC8OGhAZlUPbZgwa+KxKDs4tg9/OTI/2UevolW3WVdU86c44llwKyx9+39yRDrb0U/QFAn76+XFvnzZ9aPVFXx+Dwc9q/UGYzJ3osDDsqtB+1bGvaMeZGCQJqa0jjV4PBaiePKvIiO5T8h7ZYXcx7CZoOPnL+YHwo1Xjg0HVDjR7pX1IOqE0ug6dXGx6t80WckriHruzClTLkNtyCBZNsGrZbF1eUdmSPih4xNBkQoB4xZLHxK2zUInN5sqL6v98rGJag5+cDeFulIWP4SHDZMuQXIx46ZBF1UlJvgAlhiI27zt5SkcSuv0X6NefOiaPnqfbScmJl7DeoGobBIxC9lBXDSsQQirqfI6al6GkmsEtXZFJXXzYkzDebp1mIiiyPE/QHEOdeBDebHCvhMx3xUkA3le9DxGFBWZD/or171/Ts1RlEQBCQe+HhquWbkAtW69cLsF+SkHj4+MmbSRsXNv6QpaYG9u2/vDMNfd+HhviCmNX1sSTsV2smncs5S/GSBI+Mnxs9Jnr+OBc3JwAgCLh6rXhJ7LeoPqN28Eh/NnkyQAJZtT+caef48RmoRD5UNGfgDvM+zeE5I965c/Ho4chDCc5RUd+ZrS6XG3r5q/g1bSHX8x+MGcVqn2rdhoV2CCt1g+nRHx/MOEz13J1xanfGKWMLcsxKSZ5jlQNH6Ll7Ewx7dMYM3M51aOWZulwKSZt5r4wTJ05uNu8lKAlfTXGVWvm5my7sMvVI5GkGNvip2oaEDbE4LyHhf/eMDu6SmraaR8Xs7ATk6SYbw2HOOCNi4NiPgu0Z9nzuxvb0Z63pkMshI5Nd5+TAWNSBDx/cKfvM1gbW/n6qDpevbm6vRB7sYbMMxn+pLCV5RvYZDRvPL+I+XPrlbDuHFQFkZ62eH8vhjxInju9/OldjxX1Rof5Yw9JniPYK0Y1bmm3pazt6M+24v6vq9Fv2+ozMtU4u6N30jh0RCzQmu/hsfOh4UVHZXgF51zWTI8LofAID/3Hu/PdTIkexCWiLsDHzBuVe1syKnsS8MTItYnje5S1rmx9QN8YddRATaTTGzLMgWzjfElb4KXsTBAFlZdVFf2hfvdC5uruVasu9vT1VKh+fLgp7ns9H/io+Pm5c0zYGSUJpafWd2w9q9TXV+jpPhZRNkjYKS0dVFfnwwVNt8dMafTUJkhq9vnt3r3d6erdRuDn4iRCuWLP3FYtBqfRQKpv2PHpZMbgVEYka87RyetYNK5WKevX26tXbyyrRHBn8t0YYgcESxAgMliBGYLAEMQKDJYgRmLdQgno90wE+RwuLaUn/Nc2S4UN8n0a8LzXain1dVeMf2Nsxw2KsuTSNwfDgLRyIMS0LLEGMwGAJYgQGSxAjMFiCGIHBEsQIDJYgRmCwBDECgyWIERgsQYzAYAliBOZ/jys2NWyvP3gAAAAASUVORK5CYIIK\" />";
                            }
                            return result;
                        },
                        'progressWidth': function () {
                            return this._progressWidth;
                        },
                        'updateProgress': function (aProgressComponent, aPercentage) {},
                        'printAllData': function (anEvent) {
                            var newWindow;
                            var allRecords;
                            newWindow = window.open("", "");
                            newWindow.document.write("<html>" + "<header>" + " <title>Clipperz export data</title>" + "<style>" + "#exportedData {" + " width: 600px;" + "}" + ".ext-mb-progress-wrap {" + " border:1px solid #6593cf;" + " margin-bottom: 10px;" + " width: " + this.progressWidth() + "px;" + "}" + ".ext-mb-progress {" + " height:18px;" + " background:transparent url(./images/default/basic-dialog/progress2.gif) repeat-x 1px 1px;" + "}" + ".ext-mb-progress-bar {" + " height:18px;" + " overflow:hidden;" + " width:0;" + " background:#8bb8f3;" + "}" + "body {" + " font-family: sans-serif;" + "}" + "div#logo {" + " border-bottom: 1px dotted #aaaaaa;" + " margin-bottom: 15px;" + "}" + "div.recordBlock h2 {" + " font-size: 14pt;" + " margin: 0px;" + " padding: 0px;" + " border: 0px;" + " color: #666666;" + "}" + "div.recordBlock div.recordNotes p {" + " margin: 0px;" + " padding: 0px;" + " border: 0px;" + " color: #aaaaaa;" + " font-size: 10pt;" + " line-height: 18pt;" + " border-left: 1px solid #aaaaaa;" + " padding-left: 10px;" + "}" + "div.recordBlock dl {" + " margin: 0px;" + " padding: 0px;" + " border: 0px;" + " color: #999999;" + " padding-bottom: 10px;" + " border-bottom: 1px dotted #aaaaaa;" + " margin-top: 10px;" + " margin-bottom: 15px;" + "}" + "div.recordBlock dl dt {" + " display: block;" + " float: left;" + " min-width: 100px;" + " white-space: nowrap;" + " overflow: hidden;" + " margin-right: 10px;" + " font-size: 10pt;" + " line-height: 18pt;" + "}" + "div.recordBlock dl dd {" + " color: #666666;" + " font-size: 10pt;" + " line-height: 18pt;" + "}" + "" + "</style>" + "" + "<!--[if IE]>" + "<style>" + "div.recordBlock dl dt {" + " width: 100px;" + "}" + "</style>" + "<![endif]-->" + "" + "</header>" + "<body>" + " <div id=\"logo\">" + this.logo() + " <div id=\"progressWrapper\"><div class=\"ext-mb-progress-wrap\"><div class=\"ext-mb-progress\"><div id=\"progress\" class=\"ext-mb-progress-bar\">&#160;</div></div></div></div>" + "   </div>" + "</body>" + "</html>");
                            anEvent.preventDefault();
                            allRecords = MochiKit.Base.values(this.user().records());
                            allRecords.sort(this.compareRecords);
                            MochiKit.DOM.withWindow(newWindow, MochiKit.Base.bind(function (someRecords) {
                                var currentWindow;
                                var deferredResult;
                                var progressBar;
                                var progressWrapper;
                                var i, c;
                                currentWindow = MochiKit.DOM.currentWindow();
                                progressBar = MochiKit.DOM.getElement('progress');
                                progressWrapper = MochiKit.DOM.getElement('progressWrapper');
                                deferredResult = new MochiKit.Async.Deferred();
                                c = someRecords.length;
                                for (i = 0; i < c; i++) {
                                    deferredResult.addCallback(function (aWindow, aRecord) {
                                        var printerRecord;
                                        printerRecord = new Clipperz.PM.Components.Printing.Record({
                                            record: aRecord
                                        });
                                        return printerRecord.deferredDrawToWindow(aWindow);
                                    }, currentWindow, someRecords[i])
                                    deferredResult.addCallback(MochiKit.Base.bind(function (aProgressBar, aProgress) {
                                        MochiKit.Style.setElementDimensions(aProgressBar, {
                                            w: aProgress * this.progressWidth()
                                        });
                                    }, this, progressBar, ((i + 1) / c)));
                                    deferredResult.addCallback(MochiKit.Async.wait, 0.2);
                                }
                                deferredResult.addCallback(function (aWindow, aProgressWrapper) {
                                    MochiKit.DOM.replaceChildNodes(aProgressWrapper);
                                    MochiKit.Style.hideElement(aProgressWrapper);
                                    aWindow.stop();
                                }, currentWindow, progressWrapper);
                                deferredResult.callback();
                            }, this, allRecords));
                        },
                        'exportAllData': function (anEvent) {
                            var newWindow;
                            var allRecords;
                            newWindow = window.open("", "");
                            newWindow.document.write("<html>" + "<header>" + " <title>Clipperz export data</title>" + "<style>" + "#exportedData {" + " width: 600px;" + "}" + ".ext-mb-progress-wrap {" + " margin-top:4px;" + " margin-bottom: 10px;" + " border:1px solid #6593cf;" + " width: " + this.progressWidth() + "px;" + "}" + ".ext-mb-progress {" + " height:18px;" + " background:transparent url(./images/default/basic-dialog/progress2.gif) repeat-x 1px 1px;" + "}" + ".ext-mb-progress-bar {" + " height:18px;" + " overflow:hidden;" + " width:0;" + " background:#8bb8f3;" + "}" + "</style>" + "" + "<!--[if IE]>" + "<style>" + "</style>" + "<![endif]-->" + "" + "</header>" + "<body>" + " <div id=\"logo\">" + this.logo() + "</div>" + " <div id=\"progressWrapper\">" + "  <div class=\"description\">" + Clipperz.PM.Strings['exportDataInProgressDescription'] + "</div>" + "  <div class=\"ext-mb-progress-wrap\"><div class=\"ext-mb-progress\"><div id=\"progress\" class=\"ext-mb-progress-bar\">&#160;</div></div></div>" + " </div>" + " <div id=\"textareaWrapper\">" + "  <div class=\"description\">" + Clipperz.PM.Strings['exportDataDescription'] + "</div>" + "  <textarea id=\"exportedData\" cols=\"80\" rows=\"20\">[</textarea>" + " </div>" + "</body>" + "</html>");
                            anEvent.preventDefault();
                            allRecords = MochiKit.Base.values(this.user().records());
                            allRecords.sort(this.compareRecords);
                            MochiKit.DOM.withWindow(newWindow, MochiKit.Base.bind(function (someRecords) {
                                var currentWindow;
                                var deferredResult;
                                var textareaWrapper;
                                var textarea;
                                var progressBar;
                                var progressWrapper;
                                var i, c;
                                currentWindow = MochiKit.DOM.currentWindow();
                                textarea = MochiKit.DOM.getElement('exportedData');
                                textareaWrapper = MochiKit.DOM.getElement('textareaWrapper');
                                MochiKit.Style.hideElement(textareaWrapper);
                                progressBar = MochiKit.DOM.getElement('progress');
                                progressWrapper = MochiKit.DOM.getElement('progressWrapper');
                                deferredResult = new MochiKit.Async.Deferred();
                                c = someRecords.length;
                                for (i = 0; i < c; i++) {
                                    deferredResult.addCallback(MochiKit.Base.method(someRecords[i], 'deferredData'));
                                    deferredResult.addCallback(MochiKit.Base.method(someRecords[i], 'exportedData'));
                                    deferredResult.addCallback(MochiKit.Base.bind(function (aTextarea, aProgressBar, aProgress, someRecordExportedData) {
                                        aTextarea.value = aTextarea.value + "\n" + someRecordExportedData + ",";
                                        MochiKit.Style.setElementDimensions(aProgressBar, {
                                            w: aProgress * this.progressWidth()
                                        });
                                    }, this, textarea, progressBar, ((i + 1) / c)));
                                    deferredResult.addCallback(MochiKit.Async.wait, 0.2);
                                }
                                deferredResult.addCallback(function (aTextareaWrapper, aTextarea, aProgressWrapper) {
                                    aTextarea.value = aTextarea.value.slice(0, - 1) + "\n]";
                                    MochiKit.Style.hideElement(aProgressWrapper);
                                    MochiKit.Style.showElement(aTextareaWrapper);
                                    aTextarea.focus();
                                    aTextarea.select();
                                }, textareaWrapper, textarea, progressWrapper);
                                deferredResult.addBoth(function (aWindow) {
                                    aWindow.stop();
                                }, currentWindow);
                                deferredResult.callback();
                            }, this, allRecords));
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.Panels) == 'undefined') {
                        Clipperz.PM.Components.Panels = {};
                    }
                    Clipperz.PM.Components.Panels.ContactsPanel = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.Panels.ContactsPanel.superclass.constructor.call(this, anElement, args);
                        this.render();
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.Panels.ContactsPanel, Clipperz.PM.Components.Panels.BasePanel, {
                        'toString': function () {
                            return "Clipperz.PM.Components.ContactsPanel component";
                        },
                        'render': function () {
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'table',
                                border: '0',
                                cellspacing: '0',
                                cellpadding: '0',
                                children: [{
                                    tag: 'tbody',
                                    children: [{
                                        tag: 'tr',
                                        children: [{
                                            tag: 'td',
                                            valign: 'top',
                                            width: '200',
                                            children: [{
                                                tag: 'ul',
                                                id: "dataSubMenu",
                                                cls: 'subMenu',
                                                children: [{
                                                    tag: 'li',
                                                    id: this.getId('contacts'),
                                                    htmlString: Clipperz.PM.Strings['contactsTabLabel']
                                                }, ]
                                            }]
                                        }, {
                                            tag: 'td',
                                            valign: 'top',
                                            children: [{
                                                tag: 'ul',
                                                cls: 'clipperzTabPanels',
                                                children: [{
                                                    tag: 'li',
                                                    id: this.getId('contactsPanel'),
                                                    children: [{
                                                        tag: 'div',
                                                        cls: 'clipperzSubPanel',
                                                        children: [{
                                                            tag: 'h5',
                                                            htmlString: Clipperz.PM.Strings['contactsTabTitle']
                                                        }, {
                                                            tag: 'div',
                                                            htmlString: Clipperz.PM.Strings['comingSoon']
                                                        }]
                                                    }]
                                                }]
                                            }]
                                        }]
                                    }]
                                }]
                            });
                            this.tabPanelController().setUp();
                        },
                        'tabPanelController': function () {
                            if (this._tabPanelController == null) {
                                var tabPanelControllerConfig;
                                tabPanelControllerConfig = {}
                                tabPanelControllerConfig[this.getId('contacts')] = this.getId('contactsPanel');
                                this._tabPanelController = new Clipperz.PM.Components.TabPanel.TabPanelController({
                                    config: tabPanelControllerConfig,
                                    selectedTab: this.getId('contacts')
                                });
                            }
                            return this._tabPanelController;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.Panels) == 'undefined') {
                        Clipperz.PM.Components.Panels = {};
                    }
                    Clipperz.PM.Components.Panels.ToolsPanel = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.Panels.ToolsPanel.superclass.constructor.call(this, anElement, args);
                        this._generateButtonElement = null;
                        this._needsRenderingUponTabSwitch = false;
                        this.render();
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.Panels.ToolsPanel, Clipperz.PM.Components.Panels.BasePanel, {
                        'toString': function () {
                            return "Clipperz.PM.Components.Panels.ToolsPanel component";
                        },
                        'render': function () {
                            var bookmarkletUrl;
                            Clipperz.NotificationCenter.unregister(this);
                            MochiKit.Signal.disconnectAllTo(this);
                            if (Clipperz_IEisBroken == true) {
                                bookmarkletUrl = bookmarklet_ie;
                            } else {
                                bookmarkletUrl = bookmarklet;
                            }
                            this.element().update("");
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'table',
                                border: '0',
                                cellspacing: '0',
                                cellpadding: '0',
                                children: [{
                                    tag: 'tbody',
                                    children: [{
                                        tag: 'tr',
                                        children: [{
                                            tag: 'td',
                                            valign: 'top',
                                            width: '200',
                                            children: [{
                                                tag: 'ul',
                                                id: "dataSubMenu",
                                                cls: 'subMenu',
                                                children: [{
                                                    tag: 'li',
                                                    id: this.getId('passwordGenerator'),
                                                    htmlString: Clipperz.PM.Strings['passwordGeneratorTabLabel']
                                                }, {
                                                    tag: 'li',
                                                    id: this.getId('bookmarklet'),
                                                    htmlString: Clipperz.PM.Strings['bookmarkletTabLabel']
                                                }, {
                                                    tag: 'li',
                                                    id: this.getId('compact'),
                                                    htmlString: Clipperz.PM.Strings['compactTabLabel']
                                                }, {
                                                    tag: 'li',
                                                    id: this.getId('httpAuth'),
                                                    htmlString: Clipperz.PM.Strings['httpAuthTabLabel']
                                                }]
                                            }]
                                        }, {
                                            tag: 'td',
                                            valign: 'top',
                                            children: [{
                                                tag: 'ul',
                                                cls: 'clipperzTabPanels',
                                                children: [{
                                                    tag: 'li',
                                                    id: this.getId('passwordGeneratorPanel'),
                                                    children: [{
                                                        tag: 'div',
                                                        cls: 'clipperzSubPanel',
                                                        children: [{
                                                            tag: 'h5',
                                                            htmlString: Clipperz.PM.Strings['passwordGeneratorTabTitle']
                                                        }, {
                                                            tag: 'div',
                                                            cls: 'panelDescription',
                                                            htmlString: Clipperz.PM.Strings['paswordGeneratorTabDescription']
                                                        }, {
                                                            tag: 'div',
                                                            children: [{
                                                                tag: 'form',
                                                                id: this.getId('passwordGeneratorForm'),
                                                                cls: 'passwordGenerator',
                                                                children: [{
                                                                    tag: 'input',
                                                                    type: 'text',
                                                                    cls: 'clipperz_passwordGenerator_password',
                                                                    id: this.getId('passwordField')
                                                                }, {
                                                                    tag: 'table',
                                                                    children: [{
                                                                        tag: 'tbody',
                                                                        children: [{
                                                                            tag: 'tr',
                                                                            children: [{
                                                                                tag: 'td',
                                                                                width: '20%',
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'checkbox',
                                                                                    name: 'lowercase',
                                                                                    id: this.getId('lowercase'),
                                                                                    checked: true
                                                                                }, {
                                                                                    tag: 'span',
                                                                                    htmlString: Clipperz.PM.Strings['passwordGeneratorLowercaseLabel']
                                                                                }]
                                                                            }, {
                                                                                tag: 'td',
                                                                                width: '20%',
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'checkbox',
                                                                                    name: 'uppercase',
                                                                                    id: this.getId('uppercase'),
                                                                                    checked: true
                                                                                }, {
                                                                                    tag: 'span',
                                                                                    htmlString: Clipperz.PM.Strings['passwordGeneratorUppercaseLabel']
                                                                                }]
                                                                            }, {
                                                                                tag: 'td',
                                                                                width: '20%',
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'checkbox',
                                                                                    name: 'numbers',
                                                                                    id: this.getId('numbers'),
                                                                                    checked: true
                                                                                }, {
                                                                                    tag: 'span',
                                                                                    htmlString: Clipperz.PM.Strings['passwordGeneratorNumberLabel']
                                                                                }]
                                                                            }, {
                                                                                tag: 'td',
                                                                                width: '20%',
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'checkbox',
                                                                                    name: 'symbols',
                                                                                    id: this.getId('symbols'),
                                                                                    checked: true
                                                                                }, {
                                                                                    tag: 'span',
                                                                                    htmlString: Clipperz.PM.Strings['passwordGeneratorSymbolLabel']
                                                                                }]
                                                                            }, {
                                                                                tag: 'td',
                                                                                width: '20%',
                                                                                children: [{
                                                                                    tag: 'span',
                                                                                    cls: 'passwordGeneratorLength',
                                                                                    children: [{
                                                                                        tag: 'span',
                                                                                        htmlString: Clipperz.PM.Strings['passwordGeneratorLengthLabel']
                                                                                    }, {
                                                                                        tag: 'span',
                                                                                        id: this.getId('passwordLength'),
                                                                                        cls: 'passwordGeneratorLengthValue',
                                                                                        html: '0'
                                                                                    }]
                                                                                }]
                                                                            }]
                                                                        }]
                                                                    }]
                                                                }]
                                                            }, {
                                                                tag: 'div',
                                                                id: this.getId('generateRandomPassword')
                                                            }]
                                                        }]
                                                    }]
                                                }, {
                                                    tag: 'li',
                                                    id: this.getId('bookmarkletPanel'),
                                                    children: [{
                                                        tag: 'div',
                                                        cls: 'clipperzSubPanel',
                                                        children: [{
                                                            tag: 'h5',
                                                            htmlString: Clipperz.PM.Strings['bookmarkletTabTitle']
                                                        }, {
                                                            tag: 'div',
                                                            cls: 'panelDescription',
                                                            htmlString: Clipperz.PM.Strings['bookmarkletTabDescription']
                                                        }, {
                                                            tag: 'a',
                                                            href: bookmarkletUrl,
                                                            cls: 'bookmarkletLink',
                                                            htmlString: Clipperz.PM.Strings['bookmarkletTabBookmarkletTitle']
                                                        }, {
                                                            tag: 'div',
                                                            cls: 'panelDescription',
                                                            htmlString: Clipperz.PM.Strings['bookmarkletTabInstructions']
                                                        }]
                                                    }]
                                                }, {
                                                    tag: 'li',
                                                    id: this.getId('compactPanel'),
                                                    children: [{
                                                        tag: 'div',
                                                        cls: 'clipperzSubPanel',
                                                        children: [{
                                                            tag: 'h5',
                                                            htmlString: Clipperz.PM.Strings['compactTabTitle']
                                                        }, {
                                                            tag: 'div',
                                                            cls: 'panelDescription',
                                                            htmlString: Clipperz.PM.Strings['compactTabDescription']
                                                        }]
                                                    }]
                                                }, {
                                                    tag: 'li',
                                                    id: this.getId('httpAuthPanel'),
                                                    children: [{
                                                        tag: 'div',
                                                        cls: 'clipperzSubPanel',
                                                        children: [{
                                                            tag: 'h5',
                                                            htmlString: Clipperz.PM.Strings['httpAuthTabTitle']
                                                        }, {
                                                            tag: 'div',
                                                            cls: 'panelDescription',
                                                            htmlString: Clipperz.PM.Strings['httpAuthTabDescription']
                                                        }, {
                                                            tag: 'div',
                                                            cls: 'bookmarkletConfiguration',
                                                            children: [Clipperz.PM.Strings['httpAuthBookmarkletConfiguration']]
                                                        }]
                                                    }]
                                                }]
                                            }]
                                        }]
                                    }]
                                }]
                            });
                            new Clipperz.PM.Components.PasswordEntropyDisplay(this.getElement('passwordField'));
                            MochiKit.Signal.connect(this.getId('lowercase'), 'onclick', this, 'updatePasswordValue');
                            MochiKit.Signal.connect(this.getId('uppercase'), 'onclick', this, 'updatePasswordValue');
                            MochiKit.Signal.connect(this.getId('numbers'), 'onclick', this, 'updatePasswordValue');
                            MochiKit.Signal.connect(this.getId('symbols'), 'onclick', this, 'updatePasswordValue');
                            MochiKit.Signal.connect(this.getDom('passwordField'), 'onkeyup', this, 'updatePasswordLengthLabel');
                            MochiKit.Signal.connect(this.getDom('passwordField'), 'onchange', this, 'updatePasswordLengthLabel');
                            MochiKit.Signal.connect(this.getDom('passwordField'), 'onblur', this, 'updatePasswordLengthLabel');
                            this.setGenerateButtonElement(new YAHOO.ext.Button(this.getDom('generateRandomPassword'), {
                                text: Clipperz.PM.Strings['passwordGeneratorTabButtonLabel'],
                                handler: this.updatePasswordValue,
                                scope: this
                            }));
                            this.setNeedsRenderingUponTabSwitch(false);
                            this.tabPanelController().setUp();
                            Clipperz.NotificationCenter.register(null, 'tabSelected', this, 'tabSelectedHandler');
                            Clipperz.NotificationCenter.register(null, 'switchLanguage', this, 'switchLanguageHandler');
                        },
                        'needsRenderingUponTabSwitch': function () {
                            return this._needsRenderingUponTabSwitch;
                        },
                        'setNeedsRenderingUponTabSwitch': function (aValue) {
                            this._needsRenderingUponTabSwitch = aValue;
                        },
                        'tabSelectedHandler': function (anEvent) {
                            if (this.needsRenderingUponTabSwitch()) {
                                this.render();
                            }
                            if (anEvent.parameters() == this.getId('httpAuth')) {
                                var textarea;
                                textarea = document.getElementById("httpAuthDefaultConfiguration");
                                textarea.focus();
                                textarea.select();
                            }
                        },
                        'tabPanelController': function () {
                            if (this._tabPanelController == null) {
                                var tabPanelControllerConfig;
                                tabPanelControllerConfig = {}
                                tabPanelControllerConfig[this.getId('passwordGenerator')] = this.getId('passwordGeneratorPanel');
                                tabPanelControllerConfig[this.getId('bookmarklet')] = this.getId('bookmarkletPanel');
                                tabPanelControllerConfig[this.getId('compact')] = this.getId('compactPanel');
                                tabPanelControllerConfig[this.getId('httpAuth')] = this.getId('httpAuthPanel');
                                this._tabPanelController = new Clipperz.PM.Components.TabPanel.TabPanelController({
                                    config: tabPanelControllerConfig,
                                    selectedTab: this.getId('passwordGenerator')
                                });
                            }
                            return this._tabPanelController;
                        },
                        'generateButtonElement': function () {
                            return this._generateButtonElement;
                        },
                        'setGenerateButtonElement': function (aValue) {
                            this._generateButtonElement = aValue;
                        },
                        'updatePasswordValue': function (anEvent) {
                            var randomBytes;
                            var randomValue;
                            var charset;
                            var charsetBitSize;
                            var stringValue;
                            var blockIndex;
                            randomBytes = Clipperz.Crypto.PRNG.defaultRandomGenerator().getRandomBytes(50);
                            stringValue = "";
                            blockIndex = 0;
                            charset = "";
                            if (this.getDom('lowercase').checked) {
                                charset += Clipperz.PM.Strings['passwordGeneratorLowercaseCharset'];
                            }
                            if (this.getDom('uppercase').checked) {
                                charset += Clipperz.PM.Strings['passwordGeneratorUppercaseCharset'];
                            }
                            if (this.getDom('numbers').checked) {
                                charset += Clipperz.PM.Strings['passwordGeneratorNumberCharset'];
                            }
                            if (this.getDom('symbols').checked) {
                                charset += Clipperz.PM.Strings['passwordGeneratorSymbolCharset'];
                            }
                            charsetBitSize = 0;
                            while (Math.pow(2, charsetBitSize) < charset.length) {
                                charsetBitSize++;
                            }
                            if (charsetBitSize > 0) {
                                while (Clipperz.PM.Crypto.passwordEntropy(stringValue) < 128) {
                                    if (((blockIndex + 1) * charsetBitSize) > (randomBytes.length() * 8)) {
                                        randomBytes = Clipperz.Crypto.PRNG.defaultRandomGenerator().getRandomBytes(50);
                                        blockIndex = 0;
                                    }
                                    randomValue = randomBytes.bitBlockAtIndexWithSize(blockIndex * charsetBitSize, charsetBitSize);
                                    if (randomValue < charset.length) {
                                        stringValue += charset.charAt(randomValue);
                                    }
                                    blockIndex++;
                                }
                            } else {
                                stringValue = "";
                            }
                            this.getElement('passwordField').dom.focus()
                            this.getElement('passwordField').dom.value = stringValue;
                            if (anEvent.src) {
                                anEvent.src().focus();
                            } else {
                                this.generateButtonElement().el.focus();
                            }
                            this.setNeedsRenderingUponTabSwitch(true);
                            return false;
                        },
                        'updatePasswordLengthLabel': function () {
                            this.getElement('passwordLength').update(this.getDom('passwordField').value.length);
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.Panels) == 'undefined') {
                        Clipperz.PM.Components.Panels = {};
                    }
                    Clipperz.PM.Components.Panels.LogoutPanel = function (args) {
                        args = args || {};
                        Clipperz.PM.Components.Panels.LogoutPanel.superclass.constructor.call(this, args);
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.Panels.LogoutPanel, Clipperz.PM.Components.Panels.BasePanel, {
                        'toString': function () {
                            return "Clipperz.PM.Components.LogoutPanel component";
                        },
                        'initPanel': function () {
                            var result;
                            var layout;
                            result = new YAHOO.ext.ContentPanel(this.getId('panel'), {
                                title: 'logout',
                                closable: false,
                                autoCreate: true
                            });
                            Clipperz.YUI.DomHelper.append(result.getEl().dom, {
                                tag: 'div',
                                children: [{
                                    tag: 'h2',
                                    html: 'Logout panel'
                                }]
                            });
                            return result;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.RecordDetail) == 'undefined') {
                        Clipperz.PM.Components.RecordDetail = {};
                    }
                    Clipperz.PM.Components.RecordDetail.MainComponent = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.RecordDetail.MainComponent.superclass.constructor.call(this, anElement, args);
                        this._user = args.user;
                        this._editMode = args.editMode || 'VIEW';
                        this._mainPanel = args.mainPanel;
                        this._record = null;
                        this._editComponents = [];
                        this._addFieldButton = null;
                        this._enableSaveButton = true;
                        this._shouldShowLoginInfo = (Clipperz.PM.Proxy.defaultProxy.isReadOnly() ? false : true);
                        Clipperz.NotificationCenter.register(null, 'loadingRecordData', this, 'render');
                        Clipperz.NotificationCenter.register(null, 'decryptingRecordData', this, 'render');
                        Clipperz.NotificationCenter.register(null, 'loadingRecordVersionData', this, 'render');
                        Clipperz.NotificationCenter.register(null, 'decryptingRecordVersionData', this, 'render');
                        Clipperz.NotificationCenter.register(null, 'setupDone', this, 'render');
                        Clipperz.NotificationCenter.register(null, 'switchLanguage', this, 'render');
                        this.render();
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.RecordDetail.MainComponent, Clipperz.PM.Components.BaseComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.RecordDetail.MainComponent component";
                        },
                        'editMode': function () {
                            return this._editMode;
                        },
                        'setEditMode': function (aValue, aButtonElement, shouldSkipComponentSynchronization) {
                            this.scrollToTop();
                            if (aValue == 'VIEW') {
                                if (shouldSkipComponentSynchronization == true) {
                                    this.exitModalView();
                                } else {
                                    this.synchronizeComponentValues();
                                    if (this.record().hasPendingChanges()) {
                                        if (this.record().isBrandNew()) {
                                            this.record().removeEmptyFields();
                                        }
                                        this.saveCurrentRecordChanges(aButtonElement);
                                    } else {
                                        if (this.record().isBrandNew()) {
                                            this.record().user().removeRecord(this.record());
                                        }
                                        this.exitModalView();
                                    }
                                }
                            } else if (aValue == 'EDIT') {
                                this.enterModalView();
                            } else {}
                            this._editMode = aValue;
                            this.render();
                        },
                        'user': function () {
                            return this._user;
                        },
                        'mainPanel': function () {
                            return this._mainPanel;
                        },
                        'render': function () {
                            this.setEnableSaveButton(true);
                            this.element().update("");
                            if (this.record() == null) {
                                if (MochiKit.Base.keys(this.user().records()).length == 0) {
                                    this.renderWithNoRecordAtAll();
                                } else {
                                    this.renderWithNoSelectedRecord();
                                }
                            } else {
                                this.renderWithSelectedRecord();
                            }
                        },
                        'renderWithNoRecordAtAll': function () {
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'form',
                                cls: 'noRecordAtAllFORM',
                                children: [{
                                    tag: 'div',
                                    cls: 'recordTitleBlock',
                                    children: [{
                                        tag: 'h2',
                                        id: 'recordTitle',
                                        htmlString: Clipperz.PM.Strings['recordDetailNoRecordAtAllTitle']
                                    }]
                                }, {
                                    tag: 'table',
                                    border: '0',
                                    cellspacing: '0',
                                    cellpadding: '0',
                                    children: [{
                                        tag: 'tbody',
                                        children: [{
                                            tag: 'tr',
                                            children: [{
                                                tag: 'td',
                                                colspan: '5',
                                                children: [{
                                                    tag: 'div',
                                                    cls: 'recordDetailDescriptionBox',
                                                    htmlString: Clipperz.PM.Strings['recordDetailNoRecordAtAllDescription']
                                                }]
                                            }]
                                        }]
                                    }]
                                }]
                            });
                        },
                        'renderWithNoSelectedRecord': function () {
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'form',
                                cls: 'noRecordSelectedFORM',
                                children: [{
                                    tag: 'div',
                                    cls: 'recordTitleBlock',
                                    children: [{
                                        tag: 'h2',
                                        id: 'recordTitle',
                                        htmlString: Clipperz.PM.Strings['recordDetailNoRecordSelectedTitle']
                                    }]
                                }, {
                                    tag: 'table',
                                    border: '0',
                                    cellspacing: '0',
                                    cellpadding: '0',
                                    children: [{
                                        tag: 'tbody',
                                        children: [{
                                            tag: 'tr',
                                            children: [{
                                                tag: 'td',
                                                colspan: '5',
                                                children: [{
                                                    tag: 'div',
                                                    cls: 'recordDetailDescriptionBox',
                                                    htmlString: Clipperz.PM.Strings['recordDetailNoRecordSelectedDescription']
                                                }]
                                            }]
                                        }, {
                                            tag: 'tr',
                                            colspan: '5',
                                            children: [{
                                                tag: 'td',
                                                colspan: '5',
                                                children: this.loginInfo()
                                            }]
                                        }]
                                    }]
                                }]
                            });
                            if (MochiKit.DOM.getElement('fullLoginHistoryLink') != null) {
                                MochiKit.Signal.connect('fullLoginHistoryLink', 'onclick', this, 'showLoginHistoryPanel');
                            }
                            if (MochiKit.DOM.getElement('offlineCopyDownloadWarningLink') != null) {
                                MochiKit.Signal.connect('offlineCopyDownloadWarningLink', 'onclick', this, 'showDownloadOfflineCopyPanel');
                            }
                        },
                        'renderWithSelectedRecord': function () {
                            if (this.record().shouldLoadData() === true) {
                                this.renderWhileProcessingWithMessage(Clipperz.PM.Strings['recordDetailLoadingRecordMessage']);
                            } else if (this.record().shouldDecryptData() === true) {
                                this.renderWhileProcessingWithMessage(Clipperz.PM.Strings['recordDetailDecryptingRecordMessage']);
                            } else if (this.record().currentVersion().shouldLoadData() === true) {
                                this.renderWhileProcessingWithMessage(Clipperz.PM.Strings['recordDetailLoadingRecordVersionMessage']);
                            } else if (this.record().currentVersion().shouldDecryptData() === true) {
                                this.renderWhileProcessingWithMessage(Clipperz.PM.Strings['recordDetailDecryptingRecordVersionMessage']);
                            } else {
                                this.renderWithSelectedRecordData();
                            }
                        },
                        'renderWhileProcessingWithMessage': function (aMessage) {
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'form',
                                cls: 'processingRecordFORM',
                                children: [{
                                    tag: 'div',
                                    cls: 'recordTitleBlock',
                                    children: [{
                                        tag: 'h2',
                                        id: 'recordTitle',
                                        html: this.record().label()
                                    }]
                                }, {
                                    tag: 'table',
                                    border: '0',
                                    cellspacing: '0',
                                    cellpadding: '0',
                                    children: [{
                                        tag: 'tbody',
                                        children: [{
                                            tag: 'tr',
                                            cls: 'recordTR',
                                            children: [{
                                                tag: 'td',
                                                colspan: '5',
                                                children: [{
                                                    tag: 'div',
                                                    cls: 'recordDetailDescriptionBox',
                                                    children: [{
                                                        tag: 'h5',
                                                        cls: 'recordLoadingMessage',
                                                        html: aMessage
                                                    }]
                                                }]
                                            }]
                                        }]
                                    }]
                                }]
                            });
                        },
                        'renderWithErrorMessage': function (anErrorMessage) {
                            this.element().update("");
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'form',
                                cls: 'errorMessageFORM',
                                children: [{
                                    tag: 'div',
                                    cls: 'recordTitleBlock',
                                    children: [{
                                        tag: 'h2',
                                        id: 'recordTitle',
                                        html: this.record().label()
                                    }]
                                }, {
                                    tag: 'table',
                                    border: '0',
                                    cellspacing: '0',
                                    cellpadding: '0',
                                    children: [{
                                        tag: 'tbody',
                                        children: [{
                                            tag: 'tr',
                                            cls: 'recordTR',
                                            children: [{
                                                tag: 'td',
                                                colspan: '5',
                                                children: [{
                                                    tag: 'div',
                                                    cls: 'recordDetailDescriptionBox loadingError',
                                                    children: [{
                                                        tag: 'h5',
                                                        htmlString: Clipperz.PM.Strings['recordDetailLoadingErrorMessageTitle']
                                                    }, {
                                                        tag: 'p',
                                                        html: anErrorMessage.message
                                                    }]
                                                }]
                                            }]
                                        }]
                                    }]
                                }]
                            });
                        },
                        'renderWithSelectedRecordData': function () {
                            var columns;
                            this.resetEditComponents();
                            columns = [{
                                tag: 'td',
                                width: '25',
                                html: '&#160'
                            }, {
                                tag: 'td',
                                width: '25%',
                                htmlString: Clipperz.PM.Strings['recordDetailLabelFieldColumnLabel']
                            }, {
                                tag: 'td',
                                width: '3',
                                html: '&#160'
                            }, {
                                tag: 'td',
                                htmlString: Clipperz.PM.Strings['recordDetailDataFieldColumnLabel']
                            }];
                            if (this.editMode() == 'EDIT') {
                                columns.push({
                                    tag: 'td',
                                    htmlString: Clipperz.PM.Strings['recordDetailTypeFieldColumnLabel']
                                })
                            }
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'form',
                                cls: 'recordDataFORM',
                                children: [{
                                    tag: 'div',
                                    cls: 'recordTitleBlock',
                                    id: this.getId('title')
                                }, {
                                    tag: 'div',
                                    id: 'recordDetailDataBox',
                                    cls: 'recordDetailDataBox',
                                    children: [{
                                        tag: 'table',
                                        width: '100%',
                                        border: '0',
                                        cellspacing: '0',
                                        cellpadding: '0',
                                        children: [{
                                            tag: 'tbody',
                                            children: [{
                                                tag: 'tr',
                                                children: [{
                                                    tag: 'td',
                                                    width: '5',
                                                    html: "&nbsp;"
                                                }, {
                                                    tag: 'td',
                                                    children: [{
                                                        tag: 'table',
                                                        cls: 'recordDetailDataBoxTABLE',
                                                        border: '0',
                                                        cellspacing: '0',
                                                        cellpadding: '0',
                                                        children: [{
                                                            tag: 'tbody',
                                                            id: this.getId('tbody'),
                                                            children: [{
                                                                tag: 'tr',
                                                                children: [{
                                                                    tag: 'td',
                                                                    colspan: '5',
                                                                    id: this.getId('notes')
                                                                }]
                                                            }, {
                                                                tag: 'tr',
                                                                cls: 'recordFieldsTR',
                                                                children: columns
                                                            }]
                                                        }]
                                                    }, {
                                                        tag: 'div',
                                                        cls: 'addFieldButton',
                                                        id: this.getId('addField'),
                                                        children: [{
                                                            tag: 'div',
                                                            id: this.getId('addFieldButton')
                                                        }]
                                                    }, {
                                                        tag: 'div',
                                                        id: this.getId('directLogins')
                                                    }, {
                                                        tag: 'div',
                                                        id: this.getId('footer')
                                                    }]
                                                }]
                                            }]
                                        }]
                                    }]
                                }]
                            });
                            new Clipperz.PM.Components.RecordDetail.TitleComponent(this.getElement('title'), {
                                mainComponent: this
                            });
                            new Clipperz.PM.Components.RecordDetail.NotesComponent(this.getElement('notes'), {
                                mainComponent: this
                            });
                            new Clipperz.PM.Components.RecordDetail.DirectLoginsComponent(this.getElement('directLogins'), {
                                mainComponent: this
                            });
                            new Clipperz.PM.Components.RecordDetail.HeaderComponent(this.getElement('footer'), {
                                mainComponent: this
                            });
                            MochiKit.Iter.forEach(MochiKit.Base.values(this.record().currentVersion().fields()), this.appendFieldComponent, this);
                            this.setAddFieldButton(new YAHOO.ext.Button(this.getDom('addFieldButton'), {
                                text: Clipperz.PM.Strings['recordDetailAddFieldButtonLabel'],
                                handler: this.addNewRecordField,
                                scope: this
                            }));
                            this.update();
                        },
                        'editComponents': function () {
                            return this._editComponents;
                        },
                        'resetEditComponents': function () {
                            this._editComponents = [];
                        },
                        'addEditComponent': function (aValue) {
                            this.editComponents().push(aValue);
                        },
                        'removeEditComponent': function (aValue) {
                            Clipperz.Base.removeFromArray(this.editComponents(), aValue);
                        },
                        'record': function () {
                            return this._record;
                        },
                        'setRecord': function (aValue) {
                            var result;
                            if (this._record != aValue) {
                                var deferredResult;
                                deferredResult = new MochiKit.Async.Deferred();
                                if ((this._record != null) && (this.editMode() == 'EDIT')) {
                                    this.synchronizeComponentValues();
                                    deferredResult.addCallback(MochiKit.Base.method(this._record, 'saveChanges'));
                                }
                                this._record = aValue;
                                if (aValue != null) {
                                    this.setShouldShowLoginInfo(false);
                                    deferredResult.addCallback(MochiKit.Base.method(this._record, 'deferredData'));
                                }
                                deferredResult.addCallbacks(MochiKit.Base.method(this, 'render'), MochiKit.Base.method(this, 'renderWithErrorMessage'));
                                deferredResult.callback();
                                this.scrollToTop();
                                result = deferredResult;
                            } else {
                                result = MochiKit.Async.success();
                            }
                            return result;
                        },
                        'saveCurrentRecordChanges': function (aButtonElement) {
                            var deferred;
                            var currentNumberOfRecords;
                            deferred = new MochiKit.Async.Deferred();
                            deferred.addCallback(MochiKit.Base.method(Clipperz.PM.Components.MessageBox(), 'deferredShow'), {
                                title: Clipperz.PM.Strings['recordDetailSavingChangesMessagePanelInitialTitle'],
                                text: Clipperz.PM.Strings['recordDetailSavingChangesMessagePanelInitialText'],
                                width: 240,
                                showProgressBar: true,
                                showCloseButton: false,
                                steps: 6
                            }, aButtonElement.dom);
                            deferred.addCallback(MochiKit.Base.method(this, 'exitModalView'));
                            deferred.addCallback(MochiKit.Base.method(this.record(), 'saveChanges'));
                            deferred.addCallback(Clipperz.NotificationCenter.deferredNotification, this.record(), 'recordUpdated');
                            deferred.addCallback(function (res) {
                                Clipperz.PM.Components.MessageBox().hide(YAHOO.ext.Element.get('main'));
                                return res;
                            });
                            currentNumberOfRecords = MochiKit.Base.keys(this.user().records()).length;
                            if ((this.record().isBrandNew()) && (this.user().preferences().shouldShowDonationPanel()) && (currentNumberOfRecords >= 5)) {
                                deferred.addCallback(Clipperz.PM.showDonationSplashScreen, this.user(), 'recordListAddRecordButton');
                            }
                            deferred.callback();
                        },
                        'update': function (anEvent) {
                            if (this.editMode() == 'EDIT') {
                                this.updateEditMode();
                            } else if (this.editMode() == 'VIEW') {
                                this.updateViewMode();
                            }
                            MochiKit.Iter.forEach(this.editComponents(), MochiKit.Base.methodcaller('update'));
                        },
                        'updateViewMode': function () {
                            this.addFieldButton().hide();
                        },
                        'updateEditMode': function () {
                            this.addFieldButton().show();
                        },
                        'appendFieldComponent': function (aRecordField) {
                            new Clipperz.PM.Components.RecordDetail.FieldComponent(Clipperz.YUI.DomHelper.append(this.getDom('tbody'), {
                                tag: 'tr'
                            }, true), {
                                recordField: aRecordField,
                                mainComponent: this
                            });
                        },
                        'removeField': function (aFieldComponent) {
                            var recordField;
                            recordField = aFieldComponent.recordField();
                            this.removeEditComponent(aFieldComponent);
                            aFieldComponent.destroy();
                            this.record().removeField(recordField);
                            Clipperz.NotificationCenter.notify(this.record(), 'removedField');
                        },
                        'synchronizeComponentValues': function () {
                            MochiKit.Iter.forEach(this.editComponents(), MochiKit.Base.methodcaller('synchronizeComponentValues'));
                        },
                        'addFieldButton': function () {
                            return this._addFieldButton;
                        },
                        'setAddFieldButton': function (aValue) {
                            this._addFieldButton = aValue;
                        },
                        'addNewRecordField': function () {
                            var newField;
                            newField = this.record().addNewField();
                            this.appendFieldComponent(newField);
                            Clipperz.NotificationCenter.notify(this.record(), 'addNewRecordField');
                        },
                        'enterModalView': function () {
                            this.mainPanel().enterModalView();
                        },
                        'exitModalView': function () {
                            this.mainPanel().exitModalView();
                        },
                        'enableSaveButton': function () {
                            return this._enableSaveButton;
                        },
                        'setEnableSaveButton': function (aValue) {
                            this._enableSaveButton = aValue;
                        },
                        'scrollToTop': function () {
                            YAHOO.ext.Element.get('recordTitleTopBlock').scrollIntoView(document.body);
                        },
                        'loginInfo': function () {
                            var result;
                            if (this.shouldShowLoginInfo() == true) {
                                var imageExtension;
                                var currentConnectionText;
                                var currentIP;
                                var contentChildren;
                                result = [];
                                contentChildren = [];
                                imageExtension = (Clipperz_IEisBroken == true) ? 'gif' : 'png';
                                contentChildren.push({
                                    tag: 'h4',
                                    valign: 'top',
                                    htmlString: Clipperz.PM.Strings['WELCOME_BACK']
                                });
                                currentIP = (this.user().loginInfo()['current']['ip'].match(/^\d{1,3}(.\d{1,3}){3}$/)) ? this.user().loginInfo()['current']['ip'] : Clipperz.PM.Strings['unknown_ip'];
                                currentConnectionText = Clipperz.PM.Strings['currentConnectionText'];
                                currentConnectionText = currentConnectionText.replace(/__ip__/, "<b>" + Clipperz.Base.sanitizeString(this.user().loginInfo()['current']['ip']) + "</b>");
                                currentConnectionText = currentConnectionText.replace(/__country__/, "<b>" + Clipperz.PM.Strings['countries'][Clipperz.Base.sanitizeString(this.user().loginInfo()['current']['country'])] + "</b>");
                                currentConnectionText = currentConnectionText.replace(/__browser__/, "<b>" + Clipperz.PM.Strings['browsers'][Clipperz.Base.sanitizeString(this.user().loginInfo()['current']['browser'])] + "</b>");
                                currentConnectionText = currentConnectionText.replace(/__operatingSystem__/, "<b>" + Clipperz.PM.Strings['operatingSystems'][Clipperz.Base.sanitizeString(this.user().loginInfo()['current']['operatingSystem'])] + "</b>");
                                contentChildren.push({
                                    tag: 'div',
                                    cls: 'loginInfo_now',
                                    children: [{
                                        tag: 'div',
                                        cls: 'text',
                                        htmlString: currentConnectionText
                                    }, {
                                        tag: 'div',
                                        cls: 'icons',
                                        children: [{
                                            tag: 'img',
                                            title: Clipperz.PM.Strings['countries'][Clipperz.Base.sanitizeString(this.user().loginInfo()['current']['country'])],
                                            cls: 'flag',
                                            src: Clipperz.PM.Strings['icons_baseUrl'] + "/flags/" + Clipperz.Base.sanitizeString(this.user().loginInfo()['current']['country']).toLowerCase() + "." + imageExtension,
                                            width: '32',
                                            height: '32'
                                        }, {
                                            tag: 'img',
                                            title: Clipperz.PM.Strings['browsers'][Clipperz.Base.sanitizeString(this.user().loginInfo()['current']['browser'])],
                                            src: Clipperz.PM.Strings['icons_baseUrl'] + "/browsers/" + Clipperz.Base.sanitizeString(this.user().loginInfo()['current']['browser']).toLowerCase() + "." + imageExtension,
                                            width: '32',
                                            height: '32'
                                        }, {
                                            tag: 'img',
                                            title: Clipperz.PM.Strings['operatingSystems'][Clipperz.Base.sanitizeString(this.user().loginInfo()['current']['operatingSystem'])],
                                            src: Clipperz.PM.Strings['icons_baseUrl'] + "/operatingSystems/" + Clipperz.Base.sanitizeString(this.user().loginInfo()['current']['operatingSystem']).toLowerCase() + "." + imageExtension,
                                            width: '32',
                                            height: '32'
                                        }]
                                    }]
                                });
                                if (typeof (this.user().loginInfo()['latest']) != 'undefined') {
                                    var latestLoginDate;
                                    var elapsedTimeDescription;
                                    var latestIP;
                                    var latestConnectionText;
                                    latestLoginDate = Clipperz.PM.Date.parseDateWithUTCFormat(Clipperz.Base.sanitizeString(this.user().loginInfo()['latest']['date']));
                                    elapsedTimeDescription = Clipperz.PM.Date.getElapsedTimeDescription(latestLoginDate);
                                    latestIP = (this.user().loginInfo()['latest']['ip'].match(/^\d{1,3}(.\d{1,3}){3}$/)) ? this.user().loginInfo()['latest']['ip'] : Clipperz.PM.Strings['unknown_ip'];
                                    latestConnectionText = Clipperz.PM.Strings['latestConnectionText'];
                                    latestConnectionText = latestConnectionText.replace(/__elapsedTimeDescription__/, "<b>" + elapsedTimeDescription + "</b>");
                                    latestConnectionText = latestConnectionText.replace(/__time__/, Clipperz.PM.Date.formatDateWithTemplate(latestLoginDate, Clipperz.PM.Strings['fullDate_format']));
                                    latestConnectionText = latestConnectionText.replace(/__ip__/, "<b>" + Clipperz.Base.sanitizeString(this.user().loginInfo()['latest']['ip']) + "</b>");
                                    latestConnectionText = latestConnectionText.replace(/__country__/, "<b>" + Clipperz.PM.Strings['countries'][Clipperz.Base.sanitizeString(this.user().loginInfo()['latest']['country'])] + "</b>");
                                    latestConnectionText = latestConnectionText.replace(/__browser__/, "<b>" + Clipperz.PM.Strings['browsers'][Clipperz.Base.sanitizeString(this.user().loginInfo()['latest']['browser'])] + "</b>");
                                    latestConnectionText = latestConnectionText.replace(/__operatingSystem__/, "<b>" + Clipperz.PM.Strings['operatingSystems'][Clipperz.Base.sanitizeString(this.user().loginInfo()['latest']['operatingSystem'])] + "</b>");
                                    contentChildren.push({
                                        tag: 'div',
                                        cls: 'loginInfo_latest',
                                        children: [{
                                            tag: 'div',
                                            cls: 'inner_header',
                                            html: '&nbsp;'
                                        }, {
                                            tag: 'div',
                                            cls: 'content',
                                            children: [{
                                                tag: 'div',
                                                cls: 'text',
                                                htmlString: latestConnectionText
                                            }, {
                                                tag: 'div',
                                                cls: 'icons',
                                                children: [{
                                                    tag: 'img',
                                                    title: Clipperz.PM.Strings['countries'][Clipperz.Base.sanitizeString(this.user().loginInfo()['latest']['country'])],
                                                    cls: 'flag',
                                                    src: Clipperz.PM.Strings['icons_baseUrl'] + "/flags/" + Clipperz.Base.sanitizeString(this.user().loginInfo()['latest']['country']).toLowerCase() + "." + imageExtension,
                                                    width: '32',
                                                    height: '32'
                                                }, {
                                                    tag: 'img',
                                                    title: Clipperz.PM.Strings['browsers'][Clipperz.Base.sanitizeString(this.user().loginInfo()['latest']['browser'])],
                                                    src: Clipperz.PM.Strings['icons_baseUrl'] + "/browsers/" + Clipperz.Base.sanitizeString(this.user().loginInfo()['latest']['browser']).toLowerCase() + "." + imageExtension,
                                                    width: '32',
                                                    height: '32'
                                                }, {
                                                    tag: 'img',
                                                    title: Clipperz.PM.Strings['operatingSystems'][Clipperz.Base.sanitizeString(this.user().loginInfo()['latest']['operatingSystem'])],
                                                    src: Clipperz.PM.Strings['icons_baseUrl'] + "/operatingSystems/" + Clipperz.Base.sanitizeString(this.user().loginInfo()['latest']['operatingSystem']).toLowerCase() + "." + imageExtension,
                                                    width: '32',
                                                    height: '32'
                                                }]
                                            }]
                                        }, {
                                            tag: 'div',
                                            children: [{
                                                tag: 'a',
                                                href: '#',
                                                id: 'fullLoginHistoryLink',
                                                htmlString: Clipperz.PM.Strings['fullLoginHistoryLinkLabel']
                                            }]
                                        }, {
                                            tag: 'div',
                                            cls: 'inner_footer',
                                            html: '&nbsp;'
                                        }]
                                    });
                                }
                                contentChildren.push({
                                    tag: 'table',
                                    id: 'shouldDownloadOfflineCopyWarningBox',
                                    children: [{
                                        tag: 'tbody',
                                        width: '100%',
                                        children: [{
                                            tag: 'tr',
                                            children: [{
                                                tag: 'td',
                                                cls: 'offlineCopyDownloadWarningIconTD',
                                                valign: 'top',
                                                align: 'center',
                                                width: '50',
                                                children: (this.user().shouldDownloadOfflineCopy() ? [{
                                                    tag: 'img',
                                                    src: Clipperz.PM.Strings['icons_baseUrl'] + "/misc/offlineCopyWarning.png",
                                                    width: '32',
                                                    height: '32'
                                                }] : [])
                                            }, {
                                                tag: 'td',
                                                children: [{
                                                    tag: 'div',
                                                    cls: 'offlineCopyDownloadWarning',
                                                    htmlString: (this.user().shouldDownloadOfflineCopy() ? Clipperz.PM.Strings['offlineCopyDownloadWarning'] : Clipperz.PM.Strings['offlineCopyDownloadOk'])
                                                }]
                                            }]
                                        }]
                                    }]
                                });
                                result = [{
                                    tag: 'div',
                                    id: 'loginInfoWrapper',
                                    children: [{
                                        tag: 'div',
                                        id: 'loginInfo',
                                        children: [{
                                            tag: 'div',
                                            cls: 'header',
                                            html: '&nbsp;'
                                        }, {
                                            tag: 'div',
                                            cls: 'content',
                                            children: contentChildren
                                        }, {
                                            tag: 'div',
                                            cls: 'footer',
                                            html: '&nbsp;'
                                        }]
                                    }]
                                }];
                            } else {
                                resut = [];
                            }
                            return result;
                        },
                        'shouldShowLoginInfo': function () {
                            return this._shouldShowLoginInfo;
                        },
                        'setShouldShowLoginInfo': function (aValue) {
                            this._shouldShowLoginInfo = aValue;
                        },
                        'showLoginHistoryPanel': function (anEvent) {
                            anEvent.stop();
                            Clipperz.NotificationCenter.notify(this, 'selectTab', 'mainTabPanel.accountTab', true);
                            Clipperz.NotificationCenter.notify(this, 'selectTab', 'accountTabPanel.loginHistoryTab', true);
                        },
                        'showDownloadOfflineCopyPanel': function (anEvent) {
                            anEvent.stop();
                            Clipperz.NotificationCenter.notify(this, 'selectTab', 'mainTabPanel.dataTab', true);
                            Clipperz.NotificationCenter.notify(this, 'selectTab', 'dataTabPanel.offlineCopyTab', true);
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.RecordDetail) == 'undefined') {
                        Clipperz.PM.Components.RecordDetail = {};
                    }
                    Clipperz.PM.Components.RecordDetail.AbstractComponent = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.RecordDetail.AbstractComponent.superclass.constructor.call(this, args);
                        this._element = anElement;
                        this._mainComponent = args.mainComponent;
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.RecordDetail.AbstractComponent, Clipperz.PM.Components.BaseComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.RecordDetail.AbstractComponent";
                        },
                        'mainComponent': function () {
                            return this._mainComponent;
                        },
                        'record': function () {
                            return this.mainComponent().record();
                        },
                        'editMode': function () {
                            return this.mainComponent().editMode();
                        },
                        'render': function () {
                            this.element().update("");
                            this.update();
                        },
                        'update': function (anEvent) {
                            if (this.editMode() == 'EDIT') {
                                this.updateEditMode();
                            } else if (this.editMode() == 'VIEW') {
                                this.updateViewMode();
                            }
                        },
                        'updateViewMode': function () {},
                        'updateEditMode': function () {},
                        'synchronizeComponentValues': function () {},
                        'destroy': function () {
                            this.element().remove();
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.RecordDetail) == 'undefined') {
                        Clipperz.PM.Components.RecordDetail = {};
                    }
                    Clipperz.PM.Components.RecordDetail.HeaderComponent = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.RecordDetail.HeaderComponent.superclass.constructor.call(this, anElement, args);
                        this.mainComponent().addEditComponent(this);
                        this._saveButton = null;
                        this.render();
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.RecordDetail.HeaderComponent, Clipperz.PM.Components.RecordDetail.AbstractComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.RecordDetail.HeaderComponent component";
                        },
                        'render': function () {
                            var editButton;
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'div',
                                cls: 'recordDetailButtonsBox',
                                children: [{
                                    tag: 'div',
                                    id: this.getId('editButtonBox'),
                                    children: [{
                                        tag: 'table',
                                        cls: 'recordDetailButtonsTABLE',
                                        border: '0',
                                        cellpadding: '0',
                                        cellspacing: '0',
                                        children: [{
                                            tag: 'tbody',
                                            children: [{
                                                tag: 'tr',
                                                children: [{
                                                    tag: 'td',
                                                    align: 'center',
                                                    children: [{
                                                        tag: 'div',
                                                        id: this.getId('editButton')
                                                    }]
                                                }]
                                            }]
                                        }]
                                    }]
                                }, {
                                    tag: 'div',
                                    id: this.getId('saveCancelButtonBox'),
                                    children: [{
                                        tag: 'table',
                                        cls: 'recordDetailButtonsTABLE',
                                        border: '0',
                                        cellpadding: '0',
                                        cellspacing: '0',
                                        children: [{
                                            tag: 'tbody',
                                            children: [{
                                                tag: 'tr',
                                                children: [{
                                                    tag: 'td',
                                                    width: '49%',
                                                    align: 'right',
                                                    children: [{
                                                        tag: 'div',
                                                        id: this.getId('saveButton')
                                                    }]
                                                }, {
                                                    tag: 'td',
                                                    html: '&nbsp'
                                                }, {
                                                    tag: 'td',
                                                    width: '49%',
                                                    align: 'left',
                                                    children: [{
                                                        tag: 'div',
                                                        id: this.getId('cancelButton')
                                                    }]
                                                }]
                                            }]
                                        }]
                                    }]
                                }]
                            });
                            this.getElement('editButtonBox').setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                            this.getElement('saveCancelButtonBox').setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                            editButton = new YAHOO.ext.Button(this.getDom('editButton'), {
                                text: Clipperz.PM.Strings['recordDetailEditButtonLabel'],
                                handler: this.editButtonHandler,
                                scope: this
                            });
                            this.setSaveButton(new YAHOO.ext.Button(this.getDom('saveButton'), {
                                text: Clipperz.PM.Strings['recordDetailSaveButtonLabel'],
                                handler: this.saveButtonHandler,
                                scope: this
                            }));
                            new YAHOO.ext.Button(this.getDom('cancelButton'), {
                                text: Clipperz.PM.Strings['recordDetailCancelButtonLabel'],
                                handler: this.cancelButtonHandler,
                                scope: this
                            });
                            if (Clipperz.PM.Proxy.defaultProxy.isReadOnly()) {
                                editButton.disable();
                            }
                            this.update();
                        },
                        'updateViewMode': function () {
                            this.getElement('editButtonBox').show();
                            this.getElement('saveCancelButtonBox').hide();
                        },
                        'updateEditMode': function () {
                            this.getElement('editButtonBox').hide();
                            this.getElement('saveCancelButtonBox').show();
                            if (this.mainComponent().enableSaveButton() == true) {
                                this.saveButton().enable();
                            } else {
                                this.saveButton().disable();
                            }
                        },
                        'saveButton': function () {
                            return this._saveButton;
                        },
                        'setSaveButton': function (aValue) {
                            this._saveButton = aValue;
                        },
                        'editButtonHandler': function (anEvent) {
                            this.mainComponent().setEditMode('EDIT');
                        },
                        'saveButtonHandler': function (anEvent) {
                            this.mainComponent().setEditMode('VIEW', this.getElement('saveButton'));
                        },
                        'cancelButtonHandler': function (anEvent) {
                            this.record().cancelChanges();
                            this.mainComponent().setEditMode('VIEW', null, true);
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.RecordDetail) == 'undefined') {
                        Clipperz.PM.Components.RecordDetail = {};
                    }
                    Clipperz.PM.Components.RecordDetail.TitleComponent = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.RecordDetail.TitleComponent.superclass.constructor.call(this, anElement, args);
                        this.mainComponent().addEditComponent(this);
                        this.render();
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.RecordDetail.TitleComponent, Clipperz.PM.Components.RecordDetail.AbstractComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.RecordDetail.TitleComponent component";
                        },
                        'value': function () {
                            return this.record().label();
                        },
                        'setValue': function (aValue) {
                            this.record().setLabel(aValue);
                        },
                        'render': function () {
                            this.update();
                        },
                        'updateViewMode': function () {
                            this.element().update("");
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'h2',
                                html: this.value()
                            });
                        },
                        'updateEditMode': function () {
                            this.element().update("");
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'input',
                                id: this.getId('titleField'),
                                type: 'text',
                                value: "this.value()"
                            });
                            this.getElement('titleField').dom.value = this.value();
                        },
                        'synchronizeComponentValues': function () {
                            var inputElement;
                            inputElement = this.element().getChildrenByTagName('input')[0];
                            if (inputElement != null) {
                                this.setValue(inputElement.dom.value);
                            }
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.RecordDetail) == 'undefined') {
                        Clipperz.PM.Components.RecordDetail = {};
                    }
                    Clipperz.PM.Components.RecordDetail.NotesComponent = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.RecordDetail.NotesComponent.superclass.constructor.call(this, anElement, args);
                        this.mainComponent().addEditComponent(this);
                        this._staticOffset = null;
                        this._componentHeight = 50;
                        this._mouseMoveIdentifier = null;
                        this._mouseUpIdentifier = null;
                        this.element().setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                        this.render();
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.RecordDetail.NotesComponent, Clipperz.PM.Components.RecordDetail.AbstractComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.RecordDetail.NotesComponent component";
                        },
                        'value': function () {
                            return this.record().notes();
                        },
                        'setValue': function (aValue) {
                            this.record().setNotes(aValue);
                        },
                        'render': function () {
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'span',
                                cls: 'noteFieldLabel',
                                htmlString: Clipperz.PM.Strings['recordDetailNotesLabel']
                            });
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'div',
                                cls: 'noteFieldContent',
                                id: this.getId('notes'),
                                children: [{
                                    tag: 'div',
                                    id: this.getId('resizableDiv'),
                                    cls: 'resizable-textarea',
                                    children: [{
                                        tag: 'div',
                                        id: this.getId('contentView'),
                                        cls: 'viewMode',
                                        html: ""
                                    }, {
                                        tag: 'div',
                                        id: this.getId('contentEdit'),
                                        children: [{
                                            tag: 'span',
                                            children: [{
                                                tag: 'textarea',
                                                id: this.getId('textarea'),
                                                html: ""
                                            }]
                                        }]
                                    }, {
                                        tag: 'div',
                                        id: this.getId('grippie'),
                                        cls: 'grippie'
                                    }]
                                }]
                            });
                            this.getElement('contentView').setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                            this.getElement('contentEdit').setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                            MochiKit.Signal.connect(this.getId('grippie'), 'onmousedown', this, 'startResize');
                            this.update();
                        },
                        'updateViewMode': function () {
                            this.getElement('contentView').update(Clipperz.Base.sanitizeString(this.value()).replace(/\n/g, '<br>'));
                            if (this.isNoteEmpty()) {
                                this.element().hide();
                            } else {
                                this.getElement('contentView').show();
                                this.getElement('contentView').setHeight(this.componentHeight());
                            }
                            this.getElement('contentEdit').hide();
                        },
                        'updateEditMode': function () {
                            this.getDom('textarea').value = this.value().replace(/\n/g, Clipperz_normalizedNewLine);
                            this.getElement('contentView').hide();
                            this.getElement('contentEdit').show();
                            this.getElement('textarea').setHeight(this.componentHeight());
                        },
                        'synchronizeComponentValues': function () {
                            if (this.getElement('textarea') != null) {
                                this.setValue(this.getDom('textarea').value.replace(/(\x0a\x0d|\x0d\x0a)/g, '\n'));
                            }
                        },
                        'componentHeight': function () {
                            return this._componentHeight;
                        },
                        'setComponentHeight': function (aValue) {
                            this._componentHeight = aValue;
                        },
                        'isNoteEmpty': function () {
                            return !/[^ \n]/.test(this.value());
                        },
                        'staticOffset': function () {
                            return this._staticOffset;
                        },
                        'setStaticOffset': function (aValue) {
                            this._staticOffset = aValue;
                        },
                        'startResize': function (anEvent) {
                            if (this.editMode() == 'VIEW') {
                                this.setStaticOffset(this.getElement('contentView').getHeight() - anEvent.mouse().page['y'])
                            } else {
                                this.setStaticOffset(this.getElement('textarea').getHeight() - anEvent.mouse().page['y'])
                            }
                            this.setMouseMoveIdentifier(MochiKit.Signal.connect(MochiKit.DOM.currentDocument(), 'onmousemove', this, 'whileResizing'));
                            this.setMouseUpIdentifier(MochiKit.Signal.connect(MochiKit.DOM.currentDocument(), 'onmouseup', this, 'endResize'));
                            anEvent.stop();
                        },
                        'whileResizing': function (anEvent) {
                            this.getElement('textarea').setHeight(Math.max(32, this.staticOffset() + anEvent.mouse().page['y']) + 'px');
                            this.getElement('contentView').setHeight(Math.max(32, this.staticOffset() + anEvent.mouse().page['y']) + 'px');
                            anEvent.stop();
                        },
                        'endResize': function (anEvent) {
                            MochiKit.Signal.disconnect(this.mouseMoveIdentifier());
                            this.setMouseMoveIdentifier(null);
                            MochiKit.Signal.disconnect(this.mouseUpIdentifier());
                            this.setMouseUpIdentifier(null);
                            this.setComponentHeight(this.getElement('textarea').getHeight());
                        },
                        'mouseMoveIdentifier': function () {
                            return this._mouseMoveIdentifier;
                        },
                        'setMouseMoveIdentifier': function (aValue) {
                            this._mouseMoveIdentifier = aValue;
                        },
                        'mouseUpIdentifier': function () {
                            return this._mouseUpIdentifier;
                        },
                        'setMouseUpIdentifier': function (aValue) {
                            this._mouseUpIdentifier = aValue;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.RecordDetail) == 'undefined') {
                        Clipperz.PM.Components.RecordDetail = {};
                    }
                    Clipperz.PM.Components.RecordDetail.FieldComponent = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.RecordDetail.FieldComponent.superclass.constructor.call(this, anElement, args);
                        this._element = anElement;
                        this._recordField = args.recordField || null;
                        this._buttonComponent = null;
                        this._labelComponent = null;
                        this._dragHandler = null;
                        this._valueComponent = null;
                        this._typeComponent = null;
                        this.mainComponent().addEditComponent(this);
                        this.render();
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.RecordDetail.FieldComponent, Clipperz.PM.Components.RecordDetail.AbstractComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.RecordDetail.FieldComponent component";
                        },
                        'recordField': function () {
                            return this._recordField;
                        },
                        'buttonComponent': function () {
                            return this._buttonComponent;
                        },
                        'setButtonComponent': function (aValue) {
                            this._buttonComponent = aValue;
                        },
                        'labelComponent': function () {
                            return this._labelComponent;
                        },
                        'setLabelComponent': function (aValue) {
                            this._labelComponent = aValue;
                        },
                        'dragHandler': function () {
                            return this._dragHandler;
                        },
                        'setDragHandler': function (aValue) {
                            this._dragHandler = aValue;
                        },
                        'valueComponent': function () {
                            return this._valueComponent;
                        },
                        'setValueComponent': function (aValue) {
                            this._valueComponent = aValue;
                        },
                        'typeComponent': function () {
                            return this._typeComponent;
                        },
                        'setTypeComponent': function (aValue) {
                            this._typeComponent = aValue;
                        },
                        'render': function () {
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'td',
                                height: '24',
                                cls: 'removeFieldButton',
                                align: 'left',
                                valign: 'top',
                                id: this.getId('button')
                            });
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'td',
                                valign: 'top',
                                id: this.getId('label')
                            });
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'td',
                                valign: 'top',
                                id: this.getId('dragHandler')
                            });
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'td',
                                valign: 'top',
                                children: [{
                                    tag: 'div',
                                    cls: 'Clipperz_recordFieldData',
                                    id: this.getId('value')
                                }]
                            });
                            this.setButtonComponent(new Clipperz.PM.Components.RecordDetail.FieldButtonComponent(this.getElement('button'), {
                                fieldComponent: this
                            }));
                            this.setLabelComponent(new Clipperz.PM.Components.RecordDetail.FieldLabelComponent(this.getElement('label'), {
                                fieldComponent: this
                            }));
                            this.setDragHandler(new Clipperz.PM.Components.RecordDetail.FieldDragHandler(this.getElement('dragHandler'), {
                                fieldComponent: this
                            }));
                            this.setValueComponent(new Clipperz.PM.Components.RecordDetail.FieldValueComponent(this.getElement('value'), {
                                fieldComponent: this
                            }));
                            if (this.editMode() == 'EDIT') {
                                Clipperz.YUI.DomHelper.append(this.element().dom, {
                                    tag: 'td',
                                    align: 'left',
                                    cls: 'fieldTypeTD',
                                    valign: 'top',
                                    id: this.getId('type')
                                });
                                this.setTypeComponent(new Clipperz.PM.Components.RecordDetail.FieldTypeComponent(this.getElement('type'), {
                                    fieldComponent: this
                                }));
                            }
                            this.update();
                        },
                        'handleButtonClick': function () {
                            this.mainComponent().record().removeField(this.recordField());
                        },
                        'update': function (anEvent) {
                            this.buttonComponent().update();
                            this.labelComponent().update();
                            this.dragHandler().update();
                            this.valueComponent().update();
                            if (this.editMode() == 'EDIT') {
                                this.typeComponent().update();
                            }
                        },
                        'synchronizeComponentValues': function () {
                            this.labelComponent().synchronizeComponentValues();
                            this.valueComponent().synchronizeComponentValues();
                            if (this.editMode() == 'EDIT') {
                                this.typeComponent().synchronizeComponentValues();
                            }
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.RecordDetail) == 'undefined') {
                        Clipperz.PM.Components.RecordDetail = {};
                    }
                    Clipperz.PM.Components.RecordDetail.AbstractFieldSubComponent = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.RecordDetail.AbstractFieldSubComponent.superclass.constructor.call(this, anElement, args);
                        this._fieldComponent = args.fieldComponent || null;
                        this.render();
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.RecordDetail.AbstractFieldSubComponent, Clipperz.PM.Components.RecordDetail.AbstractComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.RecordDetail.AbstractFieldSubComponent";
                        },
                        'fieldComponent': function () {
                            return this._fieldComponent;
                        },
                        'mainComponent': function () {
                            return this.fieldComponent().mainComponent();
                        },
                        'recordField': function () {
                            return this.fieldComponent().recordField();
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.RecordDetail) == 'undefined') {
                        Clipperz.PM.Components.RecordDetail = {};
                    }
                    Clipperz.PM.Components.RecordDetail.FieldButtonComponent = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.RecordDetail.FieldButtonComponent.superclass.constructor.call(this, anElement, args);
                        this._button = null;
                        this.render();
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.RecordDetail.FieldButtonComponent, Clipperz.PM.Components.RecordDetail.AbstractFieldSubComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.RecordDetail.FieldButtonComponent";
                        },
                        'buttonText': function () {
                            var result;
                            if (this.recordField() == null) {
                                result = Clipperz.PM.Strings['recordDetailAddFieldButtonLabel'];
                            } else {
                                result = Clipperz.PM.Strings['recordDetailRemoveFieldButtonLabel'];
                            }
                            return result;
                        },
                        'button': function () {
                            return this._button;
                        },
                        'setButton': function (aValue) {
                            this._button = aValue;
                        },
                        'render': function () {
                            this.element().update("");
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'div',
                                id: this.getId('button')
                            })
                            this.setButton(new YAHOO.ext.Button(this.getDom('button'), {
                                text: this.buttonText(),
                                handler: this.handleButtonClick,
                                scope: this
                            }));
                            this.update();
                        },
                        'handleButtonClick': function () {
                            if (this.recordField() == null) {
                                this.mainComponent().addNewField();
                            } else {
                                this.mainComponent().removeField(this.fieldComponent());
                            }
                        },
                        'updateEditMode': function () {
                            this.button().show();
                        },
                        'updateViewMode': function () {
                            this.button().hide();
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.RecordDetail) == 'undefined') {
                        Clipperz.PM.Components.RecordDetail = {};
                    }
                    Clipperz.PM.Components.RecordDetail.FieldLabelComponent = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.RecordDetail.FieldLabelComponent.superclass.constructor.call(this, anElement, args);
                        this._inputElement = null;
                        this.render();
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.RecordDetail.FieldLabelComponent, Clipperz.PM.Components.RecordDetail.AbstractFieldSubComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.RecordDetail.FieldLabelComponent component";
                        },
                        'value': function () {
                            return this.recordField().label();
                        },
                        'inputElement': function () {
                            return this._inputElement;
                        },
                        'setInputElement': function (aValue) {
                            this._inputElement = aValue;
                        },
                        'render': function () {
                            var newTextFormField;
                            this.element().update("");
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'div',
                                cls: 'Clipperz_recordFieldLabel',
                                id: this.getId('label')
                            });
                            newTextFormField = new Clipperz.PM.Components.TextFormField(this.getElement('label'), {
                                editMode: this.editMode(),
                                value: this.value()
                            });
                            newTextFormField.on('change', this.notifyChanges, this, true)
                            this.setInputElement(newTextFormField);
                            this.update();
                        },
                        'notifyChanges': function () {
                            this.synchronizeComponentValues();
                            Clipperz.NotificationCenter.notify(this.recordField().recordVersion().record(), 'updatedFieldLabel');
                        },
                        'update': function () {
                            this.inputElement().update({
                                editMode: this.editMode(),
                                value: this.value()
                            });
                        },
                        'synchronizeComponentValues': function () {
                            if (this.inputElement() != null) {
                                this.recordField().setLabel(this.inputElement().value());
                            }
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.RecordDetail) == 'undefined') {
                        Clipperz.PM.Components.RecordDetail = {};
                    }
                    Clipperz.PM.Components.RecordDetail.FieldDragHandler = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.RecordDetail.FieldDragHandler.superclass.constructor.call(this, anElement, args);
                        this._element = anElement;
                        this.render();
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.RecordDetail.FieldDragHandler, Clipperz.PM.Components.RecordDetail.AbstractFieldSubComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.RecordDetail.FieldDragHandler component";
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.RecordDetail) == 'undefined') {
                        Clipperz.PM.Components.RecordDetail = {};
                    }
                    Clipperz.PM.Components.RecordDetail.FieldValueComponent = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.RecordDetail.FieldValueComponent.superclass.constructor.call(this, anElement, args);
                        this._inputElement = null;
                        this._scrambledStatus = 'SCRAMBLED';
                        this.render();
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.RecordDetail.FieldValueComponent, Clipperz.PM.Components.RecordDetail.AbstractFieldSubComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.RecordDetail.FieldValueComponent component";
                        },
                        'value': function () {
                            return this.recordField().value();
                        },
                        'setValue': function (aValue) {
                            this.recordField().setValue(aValue);
                        },
                        'inputElement': function () {
                            return this._inputElement;
                        },
                        'setInputElement': function (aValue) {
                            this._inputElement = aValue;
                        },
                        'scrambledStatus': function () {
                            return this._scrambledStatus;
                        },
                        'setScrambledStatus': function (aValue) {
                            this._scrambledStatus = aValue;
                        },
                        'handleTypeChange': function () {
                            this.synchronizeComponentValues();
                            this.update();
                        },
                        'addrUrl': function () {
                            var result;
                            result = "http://maps.google.com/maps?q=" + this.value().split(' ').join('+');
                            return result;
                        },
                        'updateViewMode': function () {
                            var scarmbledStatus;
                            scrambledStatus = this.scrambledStatus() || 'SCRAMBLED';
                            this.element().update("");
                            if (this.recordField().hidden() == false) {
                                switch (this.recordField().type()) {
                                case 'TXT':
                                case 'PWD':
                                    Clipperz.YUI.DomHelper.append(this.element().dom, {
                                        tag: 'span',
                                        html: this.value()
                                    });
                                    break;
                                case 'URL':
                                    var urlLocation;
                                    urlLocation = Clipperz.Base.sanitizeString(this.value());
                                    if (!(/^(https?|ftp|svn):\/\//.test(urlLocation))) {
                                        urlLocation = 'http://' + urlLocation;
                                    }                                    
                                    Clipperz.YUI.DomHelper.append(this.element().dom, {
                                        tag: 'a',
                                        href: urlLocation,
                                        html: this.value(),
                                        target: '_parent',
                                        onClick: "handleLinkClick('"+urlLocation+"')"
                                    });
                                    break;
                                case 'DATE':
                                    Clipperz.YUI.DomHelper.append(this.element().dom, {
                                        tag: 'span',
                                        html: this.value()
                                    });
                                    break;
                                case 'ADDR':
                                    Clipperz.YUI.DomHelper.append(this.element().dom, {
                                        tag: 'a',
                                        href: this.addrUrl(),
                                        html: this.value(),
                                        target: 'window'
                                    });
                                    break;
                                }
                            } else {
                                var tableElement;
                                var tdElement;
                                var inputElement;
                                var passwordElementConfiguration;
                                if (scrambledStatus == 'SCRAMBLED') {
                                    var scrambledInputElement;
                                    if ((Clipperz_IEisBroken === true) && (Clipperz.PM.Proxy.defaultProxy.isReadOnly())) {
                                        scrambledInputElement = {
                                            tag: 'input',
                                            type: 'password',
                                            value: "this.value()"
                                        };
                                    } else {
                                        scrambledInputElement = {
                                            tag: 'input',
                                            type: 'text',
                                            cls: 'scrambledField',
                                            title: Clipperz.PM.Strings['recordDetailPasswordFieldTooltipLabel'],
                                            value: "this.value()"
                                        };
                                    }
                                    passwordElementConfiguration = {
                                        tag: 'table',
                                        border: '0',
                                        cellspacing: '2',
                                        cellpadding: '0',
                                        children: [{
                                            tag: 'tbody',
                                            children: [{
                                                tag: 'tr',
                                                children: [{
                                                    tag: 'td',
                                                    valign: 'top',
                                                    children: [scrambledInputElement, {
                                                        tag: 'a',
                                                        cls: 'scrambleLink',
                                                        id: this.getId('scrambleLink'),
                                                        href: '#',
                                                        htmlString: Clipperz.PM.Strings['recordDetailPasswordFieldUnscrambleLabel']
                                                    }]
                                                }, {
                                                    tag: 'td',
                                                    valign: 'top',
                                                    children: [{
                                                        tag: 'span',
                                                        cls: 'scrambledFieldLabel',
                                                        htmlString: Clipperz.PM.Strings['recordDetailPasswordFieldHelpLabel']
                                                    }]
                                                }]
                                            }]
                                        }]
                                    };
                                } else {
                                    passwordElementConfiguration = {
                                        tag: 'div',
                                        children: [{
                                            tag: 'input',
                                            type: 'text',
                                            cls: 'unscrambledField',
                                            value: "this.value()"
                                        }, {
                                            tag: 'a',
                                            cls: 'scrambleLink',
                                            id: this.getId('scrambleLink'),
                                            href: '#',
                                            htmlString: Clipperz.PM.Strings['recordDetailPasswordFieldScrambleLabel']
                                        }]
                                    };
                                }
                                tableElement = Clipperz.YUI.DomHelper.append(this.element().dom, passwordElementConfiguration, true);
                                inputElement = tableElement.getChildrenByTagName('input')[0];
                                inputElement.dom.value = this.value();
                                inputElement.wrap({
                                    tag: 'div',
                                    cls: 'passwordBackground'
                                }).setStyle('background-position', "0px -" + Math.min(128, Clipperz.PM.Crypto.passwordEntropy(this.value())) + "px");
                                MochiKit.Signal.connect(inputElement.dom, 'onfocus', this, 'selectHiddenFieldOnFocus');
                                MochiKit.Signal.connect(this.getDom('scrambleLink'), 'onclick', this, 'toggleScramble');
                            }
                        },
                        'updateEditMode': function () {
                            var inputElement;
                            var scarmbledStatus;
                            scrambledStatus = this.scrambledStatus() || 'SCRAMBLED';
                            this.element().update("");
                            switch (this.recordField().type()) {
                            case 'TXT':
                            case 'URL':
                            case 'ADDR':
                                inputElement = Clipperz.YUI.DomHelper.append(this.element().dom, {
                                    tag: 'input',
                                    type: 'text',
                                    value: "this.value()"
                                }, true);
                                inputElement.dom.value = this.value();
                                break;
                            case 'PWD':
                                Clipperz.YUI.DomHelper.append(this.element().dom, {
                                    tag: 'table',
                                    width: '100%',
                                    cellpadding: '0',
                                    cellspacing: '0',
                                    children: [{
                                        tag: 'tbody',
                                        children: [{
                                            tag: 'tr',
                                            children: [{
                                                tag: 'td',
                                                valign: 'top',
                                                children: [{
                                                    tag: 'input',
                                                    type: ((scrambledStatus == 'SCRAMBLED') ? 'password' : 'text'),
                                                    id: this.getId('passwordInputElement'),
                                                    value: "this.value()"
                                                }, {
                                                    tag: 'a',
                                                    cls: 'scrambleLink',
                                                    id: this.getId('scrambleLink'),
                                                    href: '#',
                                                    html: (scrambledStatus == 'SCRAMBLED' ? Clipperz.PM.Strings['recordDetailPasswordFieldUnscrambleLabel'] : Clipperz.PM.Strings['recordDetailPasswordFieldScrambleLabel'])
                                                }]
                                            }, {
                                                tag: 'td',
                                                valign: 'top',
                                                children: [{
                                                    tag: 'div',
                                                    id: this.getId('passwordGenerator'),
                                                    cls: 'Clipperz_PasswordGenerator_button',
                                                    html: '&nbsp;'
                                                }]
                                            }]
                                        }]
                                    }]
                                })
                                inputElement = this.getElement('passwordInputElement');
                                inputElement.dom.value = this.value();
                                new Clipperz.PM.Components.PasswordEntropyDisplay(this.getElement('passwordInputElement'));
                                new Clipperz.PM.Components.PasswordGenerator(this.getElement('passwordGenerator'), this);
                                MochiKit.Signal.connect(this.getDom('scrambleLink'), 'onclick', this, 'toggleScramble');
                                break;
                            case 'DATE':
                                inputElement = Clipperz.YUI.DomHelper.append(this.element().dom, {
                                    tag: 'input',
                                    type: 'text',
                                    value: "this.value()"
                                }, true);
                                inputElement.dom.value = this.value();
                                break;
                            }
                            this.setInputElement(inputElement);
                        },
                        'synchronizeComponentValues': function () {
                            if (this.inputElement() != null) {
                                var value;
                                switch (this.recordField().type()) {
                                case 'TXT':
                                case 'URL':
                                case 'ADDR':
                                case 'PWD':
                                case 'DATE':
                                    value = this.inputElement().dom.value;
                                    break;
                                }
                                this.setValue(value);
                            }
                        },
                        'selectHiddenFieldOnFocus': function (anEvent) {
                            anEvent.src().select();
                        },
                        'toggleScramble': function (anEvent) {
                            this.synchronizeComponentValues();
                            if (this.scrambledStatus() == 'SCRAMBLED') {
                                this.setScrambledStatus('UNSCRAMBLED');
                            } else {
                                this.setScrambledStatus('SCRAMBLED');
                            };
                            this.update();
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.RecordDetail) == 'undefined') {
                        Clipperz.PM.Components.RecordDetail = {};
                    }
                    Clipperz.PM.Components.RecordDetail.FieldTypeComponent = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.RecordDetail.FieldTypeComponent.superclass.constructor.call(this, anElement, args);
                        this._inputElement = null;
                        this.render();
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.RecordDetail.FieldTypeComponent, Clipperz.PM.Components.RecordDetail.AbstractFieldSubComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.RecordDetail.FieldTypeComponent component";
                        },
                        'inputElement': function () {
                            return this._inputElement;
                        },
                        'setInputElement': function (aValue) {
                            this._inputElement = aValue;
                        },
                        'value': function () {
                            return this.recordField().type();
                        },
                        'canChangeType': function () {
                            var value;
                            var result;
                            value = this.value();
                            result = ((value == 'TXT') || (value == 'PWD') || (value == 'URL') || (value == 'DATE') || (value == 'ADDR'));
                            return result
                        },
                        'updateViewMode': function () {
                            this.element().update("");
                            if (this.canChangeType()) {
                                var width;
                                var element;
                                width = this.element().getWidth(true);
                                element = Clipperz.YUI.DomHelper.append(this.element().dom, {
                                    tag: 'div',
                                    html: this.recordField().typeShortDescription()
                                }, true);
                                element.setWidth(width - 1);
                            }
                        },
                        'updateEditMode': function () {
                            this.element().update("");
                            if (this.canChangeType()) {
                                var width;
                                width = this.element().getWidth(true);
                                this.setInputElement(Clipperz.YUI.DomHelper.append(this.element().dom, {
                                    tag: 'select',
                                    children: [{
                                        tag: 'option',
                                        value: 'TXT',
                                        htmlString: Clipperz.PM.Strings['recordFieldTypologies']['TXT']['shortDescription']
                                    }, {
                                        tag: 'option',
                                        value: 'PWD',
                                        htmlString: Clipperz.PM.Strings['recordFieldTypologies']['PWD']['shortDescription']
                                    }, {
                                        tag: 'option',
                                        value: 'URL',
                                        htmlString: Clipperz.PM.Strings['recordFieldTypologies']['URL']['shortDescription']
                                    }, {
                                        tag: 'option',
                                        value: 'DATE',
                                        htmlString: Clipperz.PM.Strings['recordFieldTypologies']['DATE']['shortDescription']
                                    }, {
                                        tag: 'option',
                                        value: 'ADDR',
                                        htmlString: Clipperz.PM.Strings['recordFieldTypologies']['ADDR']['shortDescription']
                                    }]
                                }, true));
                                this.inputElement().setWidth(width - 1);
                                this.inputElement().addHandler('change', true, this.onChange, this, true);
                                Clipperz.DOM.selectOptionMatchingValue(this.inputElement().dom, this.value());
                            }
                        },
                        'onChange': function () {
                            this.synchronizeComponentValues();
                            this.fieldComponent().valueComponent().handleTypeChange();
                        },
                        'synchronizeComponentValues': function () {
                            if (this.inputElement() != null) {
                                this.recordField().setType(this.inputElement().dom.value);
                            }
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.RecordDetail) == 'undefined') {
                        Clipperz.PM.Components.RecordDetail = {};
                    }
                    Clipperz.PM.Components.RecordDetail.DirectLoginsComponent = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.RecordDetail.DirectLoginsComponent.superclass.constructor.call(this, anElement, args);
                        this._addDirectLoginButton = null;
                        this.mainComponent().addEditComponent(this);
                        this.render();
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.RecordDetail.DirectLoginsComponent, Clipperz.PM.Components.RecordDetail.AbstractComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.RecordDetail.DirectLoginsComponent component";
                        },
                        'addDirectLoginButton': function () {
                            return this._addDirectLoginButton;
                        },
                        'setAddDirectLoginButton': function (aValue) {
                            this._addDirectLoginButton = aValue;
                        },
                        'render': function () {
                            this.element().update("");
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'div',
                                cls: 'directLoginsRecordBox',
                                children: [{
                                    tag: 'h3',
                                    htmlString: Clipperz.PM.Strings['recordDetailDirectLoginBlockTitle']
                                }, {
                                    tag: 'ul',
                                    id: this.getId('directLogins')
                                }, {
                                    tag: 'div',
                                    cls: 'addDirectLoginBox',
                                    id: this.getId('addDirectLogin'),
                                    children: [{
                                        tag: 'div',
                                        cls: 'addDirectLoginBoxContent',
                                        children: [{
                                            tag: 'div',
                                            cls: 'bookmarkletConfiguration',
                                            children: [{
                                                tag: 'div',
                                                htmlString: Clipperz.PM.Strings['recordDetailNewDirectLoginDescription']
                                            }, {
                                                tag: 'textarea',
                                                id: this.getId('addDirectLoginTextarea')
                                            }]
                                        }, {
                                            tag: 'div',
                                            id: this.getId('addDirectLoginButton')
                                        }]
                                    }]
                                }]
                            });
                            if (MochiKit.Base.keys(this.record().directLogins()).length == 0) {
                                Clipperz.YUI.DomHelper.append(this.getElement('directLogins'), {
                                    tag: 'li',
                                    children: [{
                                        tag: 'div',
                                        cls: 'recordDetailNoDirectLoginDescriptionBox',
                                        htmlString: Clipperz.PM.Strings['recordDetailDirectLoginBlockNoDirectLoginConfiguredDescription']
                                    }]
                                });
                            } else {
                                for (directLoginReference in this.record().directLogins()) {
                                    this.addDirectLogin(this.record().directLogins()[directLoginReference]);
                                }
                            }
                            this.setAddDirectLoginButton(new YAHOO.ext.Button(this.getDom('addDirectLoginButton'), {
                                text: Clipperz.PM.Strings['recordDetailAddNewDirectLoginButtonLabel'],
                                handler: this.addNewDirectLogin,
                                scope: this
                            }));
                            MochiKit.Signal.connect(this.getId('addDirectLoginTextarea'), 'onkeydown', this, 'onkeydown');
                            this.update();
                        },
                        'addDirectLogin': function (aDirectLogin) {
                            new Clipperz.PM.Components.RecordDetail.DirectLoginComponent(Clipperz.YUI.DomHelper.append(this.getDom('directLogins'), {
                                tag: 'div'
                            }, true), {
                                mainComponent: this.mainComponent(),
                                directLogin: aDirectLogin
                            });
                        },
                        'addNewDirectLogin': function () {
                            var newDirectLogin;
                            var configuration;
                            if (MochiKit.Base.keys(this.record().directLogins()).length == 0) {
                                this.getElement('directLogins').update("");
                            }
                            this.mainComponent().synchronizeComponentValues();
                            this.mainComponent().exitModalView();
                            configuration = Clipperz.PM.BookmarkletProcessor.checkBookmarkletConfiguration(this.getDom('addDirectLoginTextarea').value, this.getDom('addDirectLoginButton'), MochiKit.Base.method(this.mainComponent(), 'enterModalView'));
                            this.mainComponent().enterModalView();
                            newDirectLogin = new Clipperz.PM.DataModel.DirectLogin({
                                record: this.record(),
                                label: configuration['page']['title'],
                                bookmarkletVersion: '0.2',
                                formData: configuration['form']
                            });
                            this.record().addDirectLogin(newDirectLogin);
                            this.addDirectLogin(newDirectLogin);
                            this.getDom('addDirectLoginTextarea').value = "";
                        },
                        'updateViewMode': function () {
                            this.getElement('addDirectLogin').setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                            this.getElement('addDirectLogin').hide();
                        },
                        'updateEditMode': function () {
                            this.getElement('addDirectLogin').show();
                        },
                        'onkeydown': function (anEvent) {
                            if (anEvent.key().code == 13) {
                                this.addNewDirectLogin();
                            }
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.RecordDetail) == 'undefined') {
                        Clipperz.PM.Components.RecordDetail = {};
                    }
                    Clipperz.PM.Components.RecordDetail.DirectLoginComponent = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.RecordDetail.DirectLoginComponent.superclass.constructor.call(this, anElement, args);
                        this._directLogin = args.directLogin || null;
                        this._structureElement = null;
                        this._removeButton = null;
                        this._directLoginBindingComponents = null;
                        this._collapser = null;
                        this.mainComponent().addEditComponent(this);
                        this.render();
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.RecordDetail.DirectLoginComponent, Clipperz.PM.Components.RecordDetail.AbstractComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.RecordDetail.DirectLoginComponent component";
                        },
                        'directLogin': function () {
                            return this._directLogin;
                        },
                        'directLoginBindingComponents': function () {
                            return this._directLoginBindingComponents;
                        },
                        'removeDirectLogin': function () {
                            this.mainComponent().synchronizeComponentValues();
                            this.directLogin().remove();
                            this.mainComponent().removeEditComponent(this);
                            this.mainComponent().render();
                        },
                        'removeButton': function () {
                            return this._removeButton;
                        },
                        'setRemoveButton': function (aValue) {
                            this._removeButton = aValue;
                        },
                        'structureElement': function () {
                            return this._structureElement;
                        },
                        'setStructureElement': function (aValue) {
                            this._structureElement = aValue;
                        },
                        'render': function () {
                            try {
                                this.element().update("");
                                Clipperz.YUI.DomHelper.append(this.element().dom, {
                                    tag: 'li',
                                    children: [{
                                        tag: 'table',
                                        width: '100%',
                                        border: '0',
                                        cellpadding: '0',
                                        cellspacing: '0',
                                        children: [{
                                            tag: 'tbody',
                                            children: [{
                                                tag: 'tr',
                                                children: [{
                                                    tag: 'td',
                                                    rowspan: '2',
                                                    width: '30',
                                                    valign: 'top',
                                                    html: '&#160',
                                                    children: [{
                                                        tag: 'div',
                                                        id: this.getId('removeDirectLogin'),
                                                        children: [{
                                                            tag: 'div',
                                                            id: this.getId('removeDirectLoginButton')
                                                        }]
                                                    }, {
                                                        tag: 'div',
                                                        id: this.getId('collapseLink'),
                                                        cls: 'directLoginCollapseLink'
                                                    }]
                                                }, {
                                                    tag: 'td',
                                                    valign: 'top',
                                                    children: [{
                                                        tag: 'table',
                                                        width: '100%',
                                                        border: '0',
                                                        cellpadding: '0',
                                                        cellspacing: '0',
                                                        children: [{
                                                            tag: 'tbody',
                                                            children: [{
                                                                tag: 'tr',
                                                                children: [{
                                                                    tag: 'td',
                                                                    width: '20',
                                                                    valign: 'top',
                                                                    children: [{
                                                                        tag: 'a',
                                                                        href: '#',
                                                                        id: this.getId('directLogin'),
                                                                        children: [{
                                                                            tag: 'img',
                                                                            id: this.getId('faviconImage'),
                                                                            width: '16',
                                                                            height: '16',
                                                                            src: this.directLogin().fixedFavicon()
                                                                        }]
                                                                    }]
                                                                }, {
                                                                    tag: 'td',
                                                                    valign: 'top',
                                                                    children: [{
                                                                        tag: 'div',
                                                                        cls: 'directLoginDetailTitle',
                                                                        children: [{
                                                                            tag: 'div',
                                                                            id: this.getId('titleViewBox'),
                                                                            children: [{
                                                                                tag: 'a',
                                                                                href: '#',
                                                                                id: this.getId('titleLink')
                                                                            }]
                                                                        }, {
                                                                            tag: 'div',
                                                                            id: this.getId('titleEditBox'),
                                                                            children: [{
                                                                                tag: 'input',
                                                                                type: 'text',
                                                                                id: this.getId('titleInput')
                                                                            }]
                                                                        }]
                                                                    }]
                                                                }]
                                                            }]
                                                        }]
                                                    }]
                                                }]
                                            }, {
                                                tag: 'tr',
                                                children: [{
                                                    tag: 'td',
                                                    children: [{
                                                        tag: 'div',
                                                        id: this.getId('details'),
                                                        children: [{
                                                            tag: 'table',
                                                            cls: 'directLoginBindings',
                                                            border: '0',
                                                            cellpadding: '0',
                                                            cellspacing: '0',
                                                            children: [{
                                                                tag: 'tbody',
                                                                id: this.getId('tbodyBindings'),
                                                                children: []
                                                            }]
                                                        }]
                                                    }]
                                                }]
                                            }]
                                        }]
                                    }]
                                });
                                MochiKit.Signal.connect(this.getId('faviconImage'), 'onload', this, 'handleLoadedFaviconImage');
                                MochiKit.Signal.connect(this.getId('faviconImage'), 'onerror', this.directLogin(), 'handleMissingFaviconImage');
                                MochiKit.Signal.connect(this.getId('faviconImage'), 'onabort', this.directLogin(), 'handleMissingFaviconImage');
                                this.getElement('removeDirectLogin').setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                                this.getElement('collapseLink').addClassOnOver('hover');
                                this._collapser = new Clipperz.YUI.Collapser(this.getElement('collapseLink'), this.getElement('details'), true);
                                MochiKit.Signal.connect(this.getId('directLogin'), 'onclick', this, 'runDirectLogin');
                                this.getElement('titleViewBox').setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                                this.getElement('titleEditBox').setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                                MochiKit.Signal.connect(this.getId('titleLink'), 'onclick', this, 'runDirectLogin'); {
                                    var bindingKey;
                                    var valueName;
                                    var inputsRequiringAdditionalValues;
                                    var bindingsElement;
                                    var i, c;
                                    this._directLoginBindingComponents = [];
                                    bindingsElement = this.getElement('tbodyBindings');
                                    for (bindingKey in this.directLogin().bindings()) {
                                        try {
                                            var directLoginBindingElement;
                                            var directLoginBindingComponent;
                                            directLoginBindingElement = Clipperz.YUI.DomHelper.append(bindingsElement.dom, {
                                                tag: 'tr'
                                            }, true);
                                            directLoginBindingComponent = new Clipperz.PM.Components.RecordDetail.DirectLoginBindingComponent(directLoginBindingElement, {
                                                mainComponent: this,
                                                directLoginBinding: this.directLogin().bindings()[bindingKey]
                                            });
                                            this._directLoginBindingComponents.push(directLoginBindingComponent);
                                        } catch (e) {
                                            MochiKit.Logging.logError("Error while rendering a DirectLoginBindingComponent - " + e);
                                        }
                                    }
                                    inputsRequiringAdditionalValues = this.directLogin().inputsRequiringAdditionalValues();
                                    for (valueName in inputsRequiringAdditionalValues) {
                                        var directLoginValueElement;
                                        var directLoginValueComponent;
                                        directLoginValueElement = Clipperz.YUI.DomHelper.append(bindingsElement.dom, {
                                            tag: 'tr'
                                        }, true);
                                        directLoginValueComponent = new Clipperz.PM.Components.RecordDetail.DirectLoginValueComponent(directLoginValueElement, {
                                            mainComponent: this,
                                            directLoginInputValue: inputsRequiringAdditionalValues[valueName]
                                        });
                                        this._directLoginBindingComponents.push(directLoginValueComponent);
                                    }
                                }
                                this.setRemoveButton(new YAHOO.ext.Button(this.getDom('removeDirectLoginButton'), {
                                    text: Clipperz.PM.Strings['recordDetailDeleteDirectLoginButtonLabel'],
                                    handler: this.removeDirectLogin,
                                    scope: this
                                }));
                                this.update();
                            } catch (e) {
                                MochiKit.Logging.logError("Error while rendering a DirectLoginComponent - " + e);
                            }
                        },
                        'collapser': function () {
                            return this._collapser;
                        },
                        'handleLoadedFaviconImage': function (anEvent) {
                            MochiKit.Signal.disconnectAll(anEvent.src())
                        },
                        'update': function () {
                            var i, c;
                            var bindingComponents;
                            bindingComponents = this.directLoginBindingComponents();
                            c = bindingComponents.length;
                            for (i = 0; i < c; i++) {
                                bindingComponents[i].update();
                            }
                            Clipperz.PM.Components.RecordDetail.DirectLoginComponent.superclass.update.call(this);
                        },
                        'updateEditMode': function () {
                            this.getElement('titleEditBox').show();
                            this.getElement('titleViewBox').hide();
                            this.getDom('titleInput').value = this.directLogin().label();
                            this.collapser().expand();
                            this.getElement('collapseLink').hide();
                            this.getElement('removeDirectLogin').show();
                        },
                        'updateViewMode': function () {
                            this.getElement('titleEditBox').hide();
                            this.getElement('titleViewBox').show();
                            this.getElement('titleLink').update(this.directLogin().label());
                            this.getElement('collapseLink').show();
                            this.getElement('removeDirectLogin').hide();
                        },
                        'synchronizeComponentValues': function () {
                            this.directLogin().setLabel(this.getDom('titleInput').value);
                            MochiKit.Iter.forEach(this.directLoginBindingComponents(), MochiKit.Base.methodcaller('synchronizeComponentValues'));
                        },
                        'runDirectLogin': function (anEvent) {
                            anEvent.stop();
                            this.directLogin().runDirectLogin();
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.RecordDetail) == 'undefined') {
                        Clipperz.PM.Components.RecordDetail = {};
                    }
                    Clipperz.PM.Components.RecordDetail.DirectLoginBindingComponent = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.RecordDetail.DirectLoginBindingComponent.superclass.constructor.call(this, anElement, args);
                        this._directLoginBinding = args.directLoginBinding || null;
                        this.render();
                        Clipperz.NotificationCenter.register(this.record(), 'addNewRecordField', this, 'syncAndUpdateEditMode');
                        Clipperz.NotificationCenter.register(this.record(), 'removedField', this, 'syncAndUpdateEditMode');
                        Clipperz.NotificationCenter.register(this.record(), 'updatedFieldLabel', this, 'syncAndUpdateEditMode');
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.RecordDetail.DirectLoginBindingComponent, Clipperz.PM.Components.RecordDetail.AbstractComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.RecordDetail.DirectLoginBindingComponent component";
                        },
                        'directLoginBinding': function () {
                            return this._directLoginBinding;
                        },
                        'render': function () {
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'td',
                                cls: 'directLoginBindingLabelTD',
                                children: [{
                                    tag: 'span',
                                    html: this.directLoginBinding().key()
                                }]
                            });
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'td',
                                cls: 'directLoginBindingValueTD',
                                children: [{
                                    tag: 'div',
                                    id: this.getId('editModeBox'),
                                    children: [{
                                        tag: 'select',
                                        id: this.getId('select'),
                                        children: this.recordFieldOptions()
                                    }]
                                }, {
                                    tag: 'div',
                                    id: this.getId('viewModeBox'),
                                    children: [{
                                        tag: 'span',
                                        id: this.getId('viewValue'),
                                        html: ""
                                    }]
                                }]
                            });
                            this.getElement('editModeBox').setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                            this.getElement('viewModeBox').setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                            this.update();
                        },
                        'recordFieldOptions': function () {
                            var result;
                            var option;
                            var recordFieldKey;
                            var recordFields;
                            recordFields = this.directLoginBinding().directLogin().record().currentVersion().fields();
                            result = [];
                            option = {
                                tag: 'option',
                                value: null,
                                html: '---'
                            };
                            result.push(option);
                            for (recordFieldKey in recordFields) {
                                option = {
                                    tag: 'option',
                                    value: recordFieldKey,
                                    html: recordFields[recordFieldKey].label()
                                }
                                if (recordFieldKey == this.directLoginBinding().fieldKey()) {
                                    option['selected'] = true;
                                }
                                result.push(option);
                            }
                            return result;
                        },
                        'syncAndUpdateEditMode': function () {
                            this.synchronizeComponentValues();
                            this.updateEditMode();
                        },
                        'updateEditMode': function () {
                            var selectElementBox;
                            this.getElement('viewModeBox').hide();
                            selectElementBox = this.getElement('editModeBox');
                            selectElementBox.update("");
                            Clipperz.YUI.DomHelper.append(selectElementBox.dom, {
                                tag: 'select',
                                id: this.getId('select'),
                                children: this.recordFieldOptions()
                            });
                            this.getElement('editModeBox').show();
                        },
                        'updateViewMode': function () {
                            this.getElement('editModeBox').hide();
                            this.getElement('viewModeBox').show();
                            this.getElement('viewValue').update(this.directLoginBinding().field().label());
                        },
                        'synchronizeComponentValues': function () {
                            this.directLoginBinding().setFieldKey(this.getDom('select').value);
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.RecordDetail) == 'undefined') {
                        Clipperz.PM.Components.RecordDetail = {};
                    }
                    Clipperz.PM.Components.RecordDetail.DirectLoginValueComponent = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.RecordDetail.DirectLoginValueComponent.superclass.constructor.call(this, anElement, args);
                        this._directLoginInputValue = args.directLoginInputValue || null;
                        this._value = this.directLoginInputValue().directLogin().formValues()[this.directLoginInputValue().name()];
                        this.render();
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.RecordDetail.DirectLoginValueComponent, Clipperz.PM.Components.RecordDetail.AbstractComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.RecordDetail.DirectLoginValueComponent component - " + this.directLoginInputValue().name();
                        },
                        'directLoginInputValue': function () {
                            return this._directLoginInputValue;
                        },
                        'render': function () {
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'td',
                                cls: 'directLoginDataLabelTD',
                                children: [{
                                    tag: 'span',
                                    html: this.directLoginInputValue().name()
                                }]
                            });
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'td',
                                cls: 'directLoginDataValueTD',
                                children: [{
                                    tag: 'span',
                                    id: this.getId('inputElement')
                                }]
                            });
                            this.update();
                        },
                        'inputElementConfiguration': function () {
                            var result;
                            var currentValue;
                            result = [];
                            currentValue = this.value();
                            switch (this.directLoginInputValue().type()) {
                            case 'checkbox':
                                var checkbox;
                                checkbox = {
                                    tag: 'input',
                                    id: this.getId('checkbox'),
                                    type: 'checkbox'
                                }
                                if (currentValue == true) {
                                    checkbox.checked = true;
                                }
                                result.push(checkbox);
                                break;
                            case 'select':
                                var input;
                                input = {
                                    tag: 'select',
                                    id: this.getId('select'),
                                    name: this.directLoginInputValue().name(),
                                    children: []
                                };
                                input.children.push({
                                    tag: 'option',
                                    value: null,
                                    html: "---"
                                });
                                MochiKit.Iter.forEach(this.directLoginInputValue().args()['options'], function (anOption) {
                                    var option;
                                    option = {
                                        tag: 'option',
                                        value: anOption['value'],
                                        html: anOption['label']
                                    }
                                    if (currentValue == anOption['value']) {
                                        option.selected = true;
                                    }
                                    input.children.push(option);
                                })
                                result.push(input);
                                break;
                            case 'radio':
                                var name;
                                var radioBox;
                                name = this.getId(this.directLoginInputValue().name());
                                radioBox = {
                                    tag: 'div',
                                    id: this.getId('radioBox'),
                                    children: []
                                };
                                result.push(radioBox);
                                MochiKit.Iter.forEach(this.directLoginInputValue().args()['options'], function (anOption) {
                                    var radio;
                                    radio = {
                                        tag: 'input',
                                        type: 'radio',
                                        name: name,
                                        value: anOption['value']
                                    };
                                    if (currentValue == anOption['value']) {
                                        radio.checked = true;
                                    }
                                    radioBox.children.push({
                                        tag: 'div',
                                        children: [radio, {
                                            tag: 'span',
                                            html: anOption['value']
                                        }]
                                    })
                                })
                                break;
                            }
                            return result;
                        },
                        'inputValue': function () {
                            var result;
                            switch (this.directLoginInputValue().type()) {
                            case 'checkbox':
                                result = this.getDom('checkbox').checked;
                                break;
                            case 'select':
                                result = this.getDom('select').value;
                                break;
                            case 'radio':
                                var checkedRadioButtons;
                                checkedRadioButtons = MochiKit.Base.filter(function (aRadioButton) {
                                    return aRadioButton.dom.checked
                                }, this.getElement('radioBox').getChildrenByTagName('input'));
                                if (checkedRadioButtons.length == 0) {
                                    result = null;
                                } else {
                                    result = checkedRadioButtons[0].dom.value;
                                }
                                break;
                            }
                            return result;
                        },
                        'value': function () {
                            return this._value;
                        },
                        'setValue': function (aValue) {
                            this._value = aValue;
                        },
                        'updateEditMode': function () {
                            this.getElement('inputElement').update("");
                            Clipperz.YUI.DomHelper.append(this.getDom('inputElement'), {
                                tag: 'div',
                                children: this.inputElementConfiguration()
                            });
                        },
                        'updateViewMode': function () {
                            this.getElement('inputElement').update("");
                            switch (this.directLoginInputValue().type()) {
                            case 'checkbox':
                                if (this.value() == true) {
                                    this.getElement('inputElement').update(Clipperz.PM.Strings['directLoginConfigurationCheckBoxFieldSelectedValue']);
                                } else {
                                    this.getElement('inputElement').update(Clipperz.PM.Strings['directLoginConfigurationCheckBoxFieldNotSelectedValue'])
                                }
                                break;
                            case 'select':
                                var displayedValue;
                                var selectedOptions;
                                var currentValue;
                                currentValue = this.value();
                                selectedOptions = MochiKit.Base.filter(function (anOption) {
                                    return (anOption['value'] == currentValue);
                                }, this.directLoginInputValue().args()['options']);
                                if (selectedOptions.length == 0) {
                                    displayedValue = "---";
                                } else {
                                    displayedValue = selectedOptions[0]['label'];
                                }
                                this.getElement('inputElement').update(displayedValue);
                                break;
                            case 'radio':
                                this.getElement('inputElement').update(this.value());
                                break;
                            }
                        },
                        'synchronizeComponentValues': function () {
                            this.setValue(this.inputValue());
                            this.directLoginInputValue().directLogin().formValues()[this.directLoginInputValue().name()] = this.value();
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.RecordDetail) == 'undefined') {
                        Clipperz.PM.Components.RecordDetail = {};
                    }
                    Clipperz.PM.Components.RecordDetail.CreationWizard = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.RecordDetail.CreationWizard.superclass.constructor.call(this, anElement, args);
                        this._mainComponent = args.mainComponent;
                        this._previouslySelectedRecord = args.previouslySelectedRecord;
                        this._createButton_header = null;
                        this._createButton_footer = null;
                        this._cancelButton_header = null;
                        this._cancelButton_footer = null;
                        this.render();
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.RecordDetail.CreationWizard, Clipperz.PM.Components.BaseComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.RecordDetail.CreationWizard component";
                        },
                        'previouslySelectedRecord': function () {
                            return this._previouslySelectedRecord;
                        },
                        'render': function () {
                            var templateListElement;
                            var templates;
                            this.element().update("");
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'form',
                                cls: 'recordDataFORM',
                                id: this.getId('form'),
                                children: [{
                                    tag: 'div',
                                    id: 'recordDetailDataBox',
                                    cls: 'recordDetailDataBox',
                                    children: [{
                                        tag: 'div',
                                        id: this.getId('wizardBox'),
                                        cls: 'recordCreationWizard',
                                        children: [{
                                            tag: 'div',
                                            id: this.getId('recordCreationWizardTitleBox'),
                                            cls: 'recordCreationWizardTitleBox',
                                            htmlString: Clipperz.PM.Strings['newRecordWizardTitleBox']
                                        }, {
                                            tag: 'ul',
                                            id: this.getId('templateList'),
                                            cls: 'radioList'
                                        }]
                                    }]
                                }]
                            });
                            Clipperz.YUI.DomHelper.append(this.getDom('recordCreationWizardTitleBox'), {
                                tag: 'div',
                                cls: 'newRecordWizardHeader',
                                children: [{
                                    tag: 'table',
                                    width: '100%',
                                    cellpadding: '5',
                                    children: [{
                                        tag: 'tbody',
                                        children: [{
                                            tag: 'tr',
                                            children: [{
                                                tag: 'td',
                                                width: '49%',
                                                align: 'right',
                                                children: [{
                                                    tag: 'div',
                                                    id: this.getId('cancelButton_header')
                                                }]
                                            }, {
                                                tag: 'td',
                                                width: '10',
                                                html: '&nbsp;'
                                            }, {
                                                tag: 'td',
                                                width: '49%',
                                                align: 'left',
                                                children: [{
                                                    tag: 'div',
                                                    id: this.getId('createButton_header')
                                                }]
                                            }]
                                        }]
                                    }]
                                }]
                            });
                            templateListElement = this.getElement('templateList');
                            templates = Clipperz.PM.Strings['recordTemplates'];
                            MochiKit.Iter.forEach(MochiKit.Base.keys(templates), MochiKit.Base.bind(function (aTemplateKey) {
                                Clipperz.YUI.DomHelper.append(templateListElement.dom, {
                                    tag: 'li',
                                    children: [{
                                        tag: 'table',
                                        children: [{
                                            tag: 'tbody',
                                            children: [{
                                                tag: 'tr',
                                                children: [{
                                                    tag: 'td',
                                                    valign: 'top',
                                                    children: [{
                                                        tag: 'input',
                                                        id: this.getId(aTemplateKey + "_radio"),
                                                        type: 'radio',
                                                        name: 'recordTemplate',
                                                        value: "aTemplateKey"
                                                    }]
                                                }, {
                                                    tag: 'td',
                                                    valign: 'top',
                                                    children: [{
                                                        tag: 'h4',
                                                        id: this.getId(aTemplateKey + "_title"),
                                                        html: templates[aTemplateKey]['title']
                                                    }, {
                                                        tag: 'div',
                                                        cls: 'templateDescription',
                                                        htmlString: templates[aTemplateKey]['description']
                                                    }]
                                                }]
                                            }]
                                        }]
                                    }]
                                });
                                this.getElement(aTemplateKey + "_radio").dom.value = aTemplateKey;
                                MochiKit.Signal.connect(this.getDom(aTemplateKey + "_title"), 'onclick', MochiKit.Base.partial(function (aRadioButton) {
                                    aRadioButton.click();
                                }, this.getDom(aTemplateKey + "_radio")));
                            }, this));
                            Clipperz.YUI.DomHelper.append(templateListElement.dom, {
                                tag: 'li',
                                children: [{
                                    tag: 'table',
                                    children: [{
                                        tag: 'tbody',
                                        children: [{
                                            tag: 'tr',
                                            children: [{
                                                tag: 'td',
                                                valign: 'top',
                                                children: [{
                                                    tag: 'input',
                                                    type: 'radio',
                                                    name: 'recordTemplate',
                                                    id: this.getId('bookmarkletRadioButton'),
                                                    value: 'BookmarkletConfigurationTemplate'
                                                }]
                                            }, {
                                                tag: 'td',
                                                valign: 'top',
                                                children: [{
                                                    tag: 'h4',
                                                    htmlString: Clipperz.PM.Strings['newRecordWizardBookmarkletConfigurationTitle']
                                                }, {
                                                    tag: 'div',
                                                    cls: 'templateDescription',
                                                    htmlString: Clipperz.PM.Strings['newRecordWizardBookmarkletConfigurationDescription']
                                                }, {
                                                    tag: 'div',
                                                    cls: 'bookmarkletConfiguration',
                                                    children: [{
                                                        tag: 'div',
                                                        htmlString: Clipperz.PM.Strings['recordDetailNewDirectLoginDescription']
                                                    }, {
                                                        tag: 'textarea',
                                                        id: this.getId('bookmarkletConfiguration')
                                                    }]
                                                }]
                                            }]
                                        }]
                                    }]
                                }]
                            });
                            Clipperz.YUI.DomHelper.append(this.getDom('wizardBox'), {
                                tag: 'div',
                                cls: 'newRecordWizardFooter',
                                children: [{
                                    tag: 'table',
                                    width: '100%',
                                    cellpadding: '5',
                                    children: [{
                                        tag: 'tbody',
                                        children: [{
                                            tag: 'tr',
                                            children: [{
                                                tag: 'td',
                                                width: '49%',
                                                align: 'right',
                                                children: [{
                                                    tag: 'div',
                                                    id: this.getId('cancelButton_footer')
                                                }]
                                            }, {
                                                tag: 'td',
                                                width: '10',
                                                html: '&nbsp;'
                                            }, {
                                                tag: 'td',
                                                width: '49%',
                                                align: 'left',
                                                children: [{
                                                    tag: 'div',
                                                    id: this.getId('createButton_footer')
                                                }]
                                            }]
                                        }]
                                    }]
                                }]
                            });
                            this.setCreateButton_header(new YAHOO.ext.Button(this.getDom('createButton_header'), {
                                text: Clipperz.PM.Strings['newRecordWizardCreateButtonLabel'],
                                handler: this.createRecord,
                                scope: this
                            }));
                            this.setCreateButton_footer(new YAHOO.ext.Button(this.getDom('createButton_footer'), {
                                text: Clipperz.PM.Strings['newRecordWizardCreateButtonLabel'],
                                handler: this.createRecord,
                                scope: this
                            }));
                            this.setCancelButton_header(new YAHOO.ext.Button(this.getDom('cancelButton_header'), {
                                text: Clipperz.PM.Strings['newRecordWizardCancelButtonLabel'],
                                handler: this.exitWizard,
                                scope: this
                            }));
                            this.setCancelButton_footer(new YAHOO.ext.Button(this.getDom('cancelButton_footer'), {
                                text: Clipperz.PM.Strings['newRecordWizardCancelButtonLabel'],
                                handler: this.exitWizard,
                                scope: this
                            }));
                            this.createButton_header().disable();
                            this.createButton_footer().disable();
                            MochiKit.Iter.forEach(this.getElement('form').getChildrenByTagName('input'), MochiKit.Base.bind(function (anInput) {
                                MochiKit.Signal.connect(anInput.dom, 'onclick', this, 'enableCreateButton');
                            }, this));
                            MochiKit.Signal.connect(this.getDom('bookmarkletConfiguration'), 'onkeyup', this, 'enableCreateButton');
                            MochiKit.Signal.connect(this.getDom('bookmarkletConfiguration'), 'onkeydown', this, 'enableCreateButton');
                        },
                        'createButton_header': function () {
                            return this._createButton_header;
                        },
                        'setCreateButton_header': function (aValue) {
                            this._createButton_header = aValue;
                        },
                        'createButton_footer': function () {
                            return this._createButton_footer;
                        },
                        'setCreateButton_footer': function (aValue) {
                            this._createButton_footer = aValue;
                        },
                        'cancelButton_header': function () {
                            return this._cancelButton_header;
                        },
                        'setCancelButton_header': function (aValue) {
                            this._cancelButton_header = aValue;
                        },
                        'cancelButton_footer': function () {
                            return this._cancelButton_footer;
                        },
                        'setCancelButton_footer': function (aValue) {
                            this._cancelButton_footer = aValue;
                        },
                        'enableCreateButton': function (anEvent, skipKeyDownCheck) {
                            if ((anEvent.type() == "keydown") && (skipKeyDownCheck != true)) {
                                MochiKit.Async.callLater(0.3, MochiKit.Base.method(this, 'enableCreateButton', anEvent, true));
                            } else {
                                var shouldEnableCreateButton;
                                var isBookmarkletConfigurationEmpty;
                                shouldEnableCreateButton = true;
                                isBookmarkletConfigurationEmpty = !/[^ \n]/.test(this.getDom('bookmarkletConfiguration').value);
                                if ((anEvent.src() == this.getDom('bookmarkletConfiguration')) && !isBookmarkletConfigurationEmpty) {
                                    this.getDom('bookmarkletRadioButton').checked = true;
                                }
                                if ((this.getDom('bookmarkletRadioButton').checked) && isBookmarkletConfigurationEmpty) {
                                    shouldEnableCreateButton = false;
                                }
                                if (shouldEnableCreateButton) {
                                    this.createButton_header().enable();
                                    this.createButton_footer().enable();
                                } else {
                                    this.createButton_header().disable();
                                    this.createButton_footer().disable();
                                }
                            }
                        },
                        'createRecord': function () {
                            var selectedTemplateKey;
                            var newRecord;
                            selectedTemplateKey = MochiKit.Base.filter(function (aCheckBoxElement) {
                                return aCheckBoxElement.dom.checked;
                            }, this.getElement('form').getChildrenByTagName('input'))[0].dom.value;
                            if (selectedTemplateKey == 'BookmarkletConfigurationTemplate') {
                                var bookmarkletConfiguration;
                                this.mainComponent().exitModalView();
                                bookmarkletConfiguration = Clipperz.PM.BookmarkletProcessor.checkBookmarkletConfiguration(this.getDom('bookmarkletConfiguration').value, this.getDom('createButton'), MochiKit.Base.method(this.mainComponent(), 'enterModalView'));
                                this.mainComponent().enterModalView();
                                newRecord = Clipperz.PM.BookmarkletProcessor.createRecordFromBookmarkletConfiguration(this.mainComponent().user(), bookmarkletConfiguration);
                            } else {
                                var fieldsConfigurations;
                                newRecord = this.mainComponent().user().addNewRecord();
                                newRecord.setLabel(Clipperz.PM.Strings['recordTemplates'][selectedTemplateKey]['title']);
                                fieldsConfigurations = Clipperz.PM.Strings['recordTemplates'][selectedTemplateKey]['fields'];
                                MochiKit.Iter.forEach(fieldsConfigurations, MochiKit.Base.partial(function (aRecord, aFieldConfiguration) {
                                    var newField;
                                    newField = new Clipperz.PM.DataModel.RecordField({
                                        recordVersion: aRecord.currentVersion()
                                    });
                                    newField.setLabel(aFieldConfiguration['label']);
                                    newField.setType(aFieldConfiguration['type']);
                                    aRecord.currentVersion().addField(newField);
                                }, newRecord));
                            }
                            this.mainComponent().exitWizard(newRecord, true);
                        },
                        'exitWizard': function () {
                            this.mainComponent().exitWizard(this.previouslySelectedRecord());
                        },
                        'mainComponent': function () {
                            return this._mainComponent;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.TabPanel) == 'undefined') {
                        Clipperz.PM.Components.TabPanel = {};
                    }
                    Clipperz.PM.Components.TabPanel.TabPanelController = function (args) {
                        args = args || {};
                        Clipperz.PM.Components.TabPanel.TabPanelController.superclass.constructor.call(this);
                        this._name = args.name || 'undefined';
                        this._config = args.config;
                        this._selectedTab = args.selectedTab || ((MochiKit.Base.keys(args.config).length > 0) ? MochiKit.Base.keys(args.config)[0] : null);
                        this._tabs = {};
                        this._panels = {};
                        Clipperz.NotificationCenter.register(null, 'selectTab', this, 'handleSelectTabNotification');
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.TabPanel.TabPanelController, YAHOO.ext.util.Observable, {
                        'name': function () {
                            return this._name;
                        },
                        'tabs': function () {
                            return this._tabs;
                        },
                        'panels': function () {
                            return this._panels;
                        },
                        'config': function () {
                            return this._config;
                        },
                        'selectedTab': function () {
                            return this._selectedTab;
                        },
                        'setSelectedTab': function (aValue) {
                            this._selectedTab = aValue;
                        },
                        'setUp': function () {
                            var tabId;
                            for (tabId in this.config()) {
                                var tabElement;
                                var panelElement;
                                tabElement = YAHOO.ext.Element.get(tabId);
                                tabElement.addClassOnOver("hover");
                                MochiKit.Signal.connect(tabId, 'onclick', this, 'selectTabHandler');
                                panelElement = YAHOO.ext.Element.get(this.config()[tabId]);
                                this._tabs[tabId] = tabElement;
                                this._panels[tabId] = panelElement;
                                if (tabId == this.selectedTab()) {
                                    tabElement.addClass('selectedTab');
                                    panelElement.addClass('selectedPanel');
                                } else {
                                    panelElement.addClass('hiddenPanel');
                                }
                            }
                        },
                        'selectTab': function (aTab) {
                            if (aTab != this.selectedTab()) {
                                this.tabs()[this.selectedTab()].removeClass('selectedTab');
                                this.panels()[this.selectedTab()].removeClass('selectedPanel').addClass('hiddenPanel');
                                this.tabs()[aTab].addClass('selectedTab');
                                this.panels()[aTab].addClass('selectedPanel').removeClass('hiddenPanel');
                                this.setSelectedTab(aTab);
                                Clipperz.NotificationCenter.notify(this, 'tabSelected', aTab);
                            }
                        },
                        'selectTabHandler': function (anEvent) {
                            this.selectTab(anEvent.src().id);
                        },
                        'handleSelectTabNotification': function (aNotificationEvent) {
                            var parameters;
                            var splittedParamters;
                            var targetTabPanel;
                            parameters = aNotificationEvent.parameters();
                            splittedParamters = parameters.split('.');
                            targetTabPanel = splittedParamters[0];
                            if (targetTabPanel == this.name()) {
                                this.selectTab(splittedParamters[1])
                            }
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.Import) == 'undefined') {
                        Clipperz.PM.Components.Import = {};
                    }
                    Clipperz.PM.Components.Import.MainComponent = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.Import.MainComponent.superclass.constructor.call(this, anElement, args);
                        this._user = args.user;
                        this._wizardComponent = null;
                        this._backButton = null;
                        this._nextButton = null;
                        this._selectedComponent = null;
                        this.render();
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.Import.MainComponent, Clipperz.PM.Components.BaseComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.Import.MainComponent component";
                        },
                        'user': function () {
                            return this._user;
                        },
                        'wizardComponent': function () {
                            return this._wizardComponent;
                        },
                        'setWizardComponent': function (aValue) {
                            if (this._wizardComponent != null) {
                                this._wizardComponent.remove();
                            }
                            if (aValue != null) {
                                this.getElement('importCover').hide();
                                this.getElement('importWizard').show();
                            }
                            this._wizardComponent = aValue;
                        },
                        'resetImportComponent': function () {
                            this.setWizardComponent(null);
                            this.getElement('wizardComponent').update("");
                            this.getElement('importCover').show();
                            this.getElement('importWizard').hide();
                        },
                        'backButton': function () {
                            return this._backButton;
                        },
                        'setBackButton': function (aValue) {
                            this._backButton = aValue;
                        },
                        'nextButton': function () {
                            return this._nextButton;
                        },
                        'setNextButton': function (aValue) {
                            this._nextButton = aValue;
                        },
                        'render': function () {
                            Clipperz.NotificationCenter.unregister(this);
                            MochiKit.Signal.disconnectAllTo(this);
                            this.element().update("");
                            this.domHelper().append(this.element(), {
                                tag: 'div',
                                id: this.getId('mainDiv'),
                                children: [{
                                    tag: 'div',
                                    id: this.getId('importCover'),
                                    children: [{
                                        tag: 'h5',
                                        htmlString: Clipperz.PM.Strings['importTabTitle']
                                    }, {
                                        tag: 'div',
                                        cls: 'panelDescription',
                                        htmlString: Clipperz.PM.Strings['importTabDescription']
                                    }, {
                                        tag: 'div',
                                        cls: 'importFormats',
                                        children: [{
                                            tag: 'ul',
                                            cls: 'radioList',
                                            children: [{
                                                tag: 'li',
                                                children: [{
                                                    tag: 'table',
                                                    children: [{
                                                        tag: 'tbody',
                                                        children: [{
                                                            tag: 'tr',
                                                            children: [{
                                                                tag: 'td',
                                                                valign: 'top',
                                                                children: [{
                                                                    tag: 'input',
                                                                    id: this.getId('CSV_radio'),
                                                                    type: 'radio',
                                                                    name: 'importFormat',
                                                                    value: 'CSV'
                                                                }]
                                                            }, {
                                                                tag: 'td',
                                                                valign: 'top',
                                                                children: [{
                                                                    tag: 'h4',
                                                                    id: this.getId('CSV_title'),
                                                                    htmlString: Clipperz.PM.Strings['importFormats']['CSV']['label']
                                                                }, {
                                                                    tag: 'div',
                                                                    cls: 'templateDescription',
                                                                    htmlString: Clipperz.PM.Strings['importFormats']['CSV']['description']
                                                                }]
                                                            }]
                                                        }]
                                                    }]
                                                }]
                                            }, {
                                                tag: 'li',
                                                children: [{
                                                    tag: 'table',
                                                    children: [{
                                                        tag: 'tbody',
                                                        children: [{
                                                            tag: 'tr',
                                                            children: [{
                                                                tag: 'td',
                                                                valign: 'top',
                                                                children: [{
                                                                    tag: 'input',
                                                                    id: this.getId('Excel_radio'),
                                                                    type: 'radio',
                                                                    name: 'importFormat',
                                                                    value: 'EXCEL'
                                                                }]
                                                            }, {
                                                                tag: 'td',
                                                                valign: 'top',
                                                                children: [{
                                                                    tag: 'h4',
                                                                    id: this.getId('Excel_title'),
                                                                    htmlString: Clipperz.PM.Strings['importFormats']['Excel']['label']
                                                                }, {
                                                                    tag: 'div',
                                                                    cls: 'templateDescription',
                                                                    htmlString: Clipperz.PM.Strings['importFormats']['Excel']['description']
                                                                }]
                                                            }]
                                                        }]
                                                    }]
                                                }]
                                            }, {
                                                tag: 'li',
                                                children: [{
                                                    tag: 'table',
                                                    children: [{
                                                        tag: 'tbody',
                                                        children: [{
                                                            tag: 'tr',
                                                            children: [{
                                                                tag: 'td',
                                                                valign: 'top',
                                                                children: [{
                                                                    tag: 'input',
                                                                    id: this.getId('KeePass_radio'),
                                                                    type: 'radio',
                                                                    name: 'importFormat',
                                                                    value: 'KEEPASS'
                                                                }]
                                                            }, {
                                                                tag: 'td',
                                                                valign: 'top',
                                                                children: [{
                                                                    tag: 'h4',
                                                                    id: this.getId('KeePass_title'),
                                                                    htmlString: Clipperz.PM.Strings['importFormats']['KeePass']['label']
                                                                }, {
                                                                    tag: 'div',
                                                                    cls: 'templateDescription',
                                                                    htmlString: Clipperz.PM.Strings['importFormats']['KeePass']['description']
                                                                }]
                                                            }]
                                                        }]
                                                    }]
                                                }]
                                            }, {
                                                tag: 'li',
                                                children: [{
                                                    tag: 'table',
                                                    children: [{
                                                        tag: 'tbody',
                                                        children: [{
                                                            tag: 'tr',
                                                            children: [{
                                                                tag: 'td',
                                                                valign: 'top',
                                                                children: [{
                                                                    tag: 'input',
                                                                    id: this.getId('Roboform_radio'),
                                                                    type: 'radio',
                                                                    name: 'importFormat',
                                                                    value: 'ROBOFORM'
                                                                }]
                                                            }, {
                                                                tag: 'td',
                                                                valign: 'top',
                                                                children: [{
                                                                    tag: 'h4',
                                                                    id: this.getId('Roboform_title'),
                                                                    htmlString: Clipperz.PM.Strings['importFormats']['Roboform']['label']
                                                                }, {
                                                                    tag: 'div',
                                                                    cls: 'templateDescription',
                                                                    htmlString: Clipperz.PM.Strings['importFormats']['Roboform']['description']
                                                                }]
                                                            }]
                                                        }]
                                                    }]
                                                }]
                                            }, {
                                                tag: 'li',
                                                children: [{
                                                    tag: 'table',
                                                    children: [{
                                                        tag: 'tbody',
                                                        children: [{
                                                            tag: 'tr',
                                                            children: [{
                                                                tag: 'td',
                                                                valign: 'top',
                                                                children: [{
                                                                    tag: 'input',
                                                                    id: this.getId('PasswordPlus_radio'),
                                                                    type: 'radio',
                                                                    name: 'importFormat',
                                                                    value: 'PASSWORD_PLUS'
                                                                }]
                                                            }, {
                                                                tag: 'td',
                                                                valign: 'top',
                                                                children: [{
                                                                    tag: 'h4',
                                                                    id: this.getId('PasswordPlus_title'),
                                                                    htmlString: Clipperz.PM.Strings['importFormats']['PasswordPlus']['label']
                                                                }, {
                                                                    tag: 'div',
                                                                    cls: 'templateDescription',
                                                                    htmlString: Clipperz.PM.Strings['importFormats']['PasswordPlus']['description']
                                                                }]
                                                            }]
                                                        }]
                                                    }]
                                                }]
                                            }, {
                                                tag: 'li',
                                                children: [{
                                                    tag: 'table',
                                                    children: [{
                                                        tag: 'tbody',
                                                        children: [{
                                                            tag: 'tr',
                                                            children: [{
                                                                tag: 'td',
                                                                valign: 'top',
                                                                children: [{
                                                                    tag: 'input',
                                                                    id: this.getId('ClipperzExport_radio'),
                                                                    type: 'radio',
                                                                    name: 'importFormat',
                                                                    value: 'CLIPPERZ_EXPORT'
                                                                }]
                                                            }, {
                                                                tag: 'td',
                                                                valign: 'top',
                                                                children: [{
                                                                    tag: 'h4',
                                                                    id: this.getId('ClipperzExport_title'),
                                                                    htmlString: Clipperz.PM.Strings['importFormats']['ClipperzExport']['label']
                                                                }, {
                                                                    tag: 'div',
                                                                    cls: 'templateDescription',
                                                                    htmlString: Clipperz.PM.Strings['importFormats']['ClipperzExport']['description']
                                                                }]
                                                            }]
                                                        }]
                                                    }]
                                                }]
                                            }]
                                        }, {
                                            tag: 'div',
                                            cls: 'importOptionsButtons',
                                            children: [{
                                                tag: 'table',
                                                children: [{
                                                    tag: 'tbody',
                                                    children: [{
                                                        tag: 'tr',
                                                        children: [{
                                                            tag: 'td',
                                                            html: '&nbsp;'
                                                        }, {
                                                            tag: 'td',
                                                            children: [{
                                                                tag: 'div',
                                                                id: this.getId('backActionButton')
                                                            }]
                                                        }, {
                                                            tag: 'td',
                                                            html: '&nbsp;'
                                                        }, {
                                                            tag: 'td',
                                                            children: [{
                                                                tag: 'div',
                                                                id: this.getId('nextActionButton')
                                                            }]
                                                        }, {
                                                            tag: 'td',
                                                            html: '&nbsp;'
                                                        }]
                                                    }]
                                                }]
                                            }]
                                        }]
                                    }]
                                }, {
                                    tag: 'div',
                                    id: this.getId('importWizard'),
                                    children: [{
                                        tag: 'form',
                                        id: this.getId('importWizardForm'),
                                        children: [{
                                            tag: 'div',
                                            cls: 'wizardComponent',
                                            id: this.getId('wizardComponent'),
                                            children: []
                                        }]
                                    }]
                                }]
                            });
                            this.setBackButton(new YAHOO.ext.Button(this.getDom('backActionButton'), {
                                text: "back",
                                handler: this.backAction,
                                scope: this
                            }));
                            this.setNextButton(new YAHOO.ext.Button(this.getDom('nextActionButton'), {
                                text: "next",
                                handler: this.nextAction,
                                scope: this
                            }));
                            this.backButton().disable();
                            this.nextButton().disable();
                            this.getElement('importCover').setVisibilityMode(YAHOO.ext.Element.DISPLAY).show();
                            this.getElement('importWizard').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                            if (Clipperz.PM.Proxy.defaultProxy.isReadOnly()) {
                                this.getElement('mainDiv').addClass('read-only');
                                this.getDom('ClipperzExport_radio').disabled = true;
                                this.getDom('CSV_radio').disabled = true;
                                this.getDom('Excel_radio').disabled = true;
                                this.getDom('PasswordPlus_radio').disabled = true;
                                this.getDom('Roboform_radio').disabled = true;
                                this.getDom('KeePass_radio').disabled = true;
                            } else {
                                MochiKit.Signal.connect(this.getId('ClipperzExport_radio'), 'onclick', MochiKit.Base.method(this, 'selectComponent'));
                                MochiKit.Signal.connect(this.getId('CSV_radio'), 'onclick', MochiKit.Base.method(this, 'selectComponent'));
                                MochiKit.Signal.connect(this.getId('Excel_radio'), 'onclick', MochiKit.Base.method(this, 'selectComponent'));
                                MochiKit.Signal.connect(this.getId('PasswordPlus_radio'), 'onclick', MochiKit.Base.method(this, 'selectComponent'));
                                MochiKit.Signal.connect(this.getId('Roboform_radio'), 'onclick', MochiKit.Base.method(this, 'selectComponent'));
                                MochiKit.Signal.connect(this.getId('KeePass_radio'), 'onclick', MochiKit.Base.method(this, 'selectComponent'));
                                if (Clipperz_IEisBroken != true) {
                                    MochiKit.Signal.connect(this.getId('ClipperzExport_title'), 'onclick', this.getDom('ClipperzExport_radio'), 'click');
                                    MochiKit.Signal.connect(this.getId('CSV_title'), 'onclick', this.getDom('CSV_radio'), 'click');
                                    MochiKit.Signal.connect(this.getId('Excel_title'), 'onclick', this.getDom('Excel_radio'), 'click');
                                    MochiKit.Signal.connect(this.getId('PasswordPlus_title'), 'onclick', this.getDom('PasswordPlus_radio'), 'click');
                                    MochiKit.Signal.connect(this.getId('Roboform_title'), 'onclick', this.getDom('Roboform_radio'), 'click');
                                    MochiKit.Signal.connect(this.getId('KeePass_title'), 'onclick', this.getDom('KeePass_radio'), 'click');
                                }
                                Clipperz.NotificationCenter.register(null, 'importCompleted', this, 'resetImportComponent');
                                Clipperz.NotificationCenter.register(null, 'importCancelled', this, 'resetImportComponent');
                            }
                        },
                        'updateSelectedImportWizardComponent': function (aComponent) {
                            var newWizardComponent;
                            this.getElement('wizardComponent').update("");
                            switch (aComponent) {
                            case 'CLIPPERZ_EXPORT':
                                newWizardComponent = new Clipperz.PM.Components.Import.ClipperzImportComponent(this.getElement('wizardComponent'), {
                                    user: this.user()
                                });
                                break;
                            case 'CSV':
                                newWizardComponent = new Clipperz.PM.Components.Import.CSVImportComponent(this.getElement('wizardComponent'), {
                                    user: this.user()
                                });
                                break;
                            case 'EXCEL':
                                newWizardComponent = new Clipperz.PM.Components.Import.ExcelImportComponent(this.getElement('wizardComponent'), {
                                    user: this.user()
                                });
                                break;
                            case 'PASSWORD_PLUS':
                                newWizardComponent = new Clipperz.PM.Components.Import.PasswordPlusImportComponent(this.getElement('wizardComponent'), {
                                    user: this.user()
                                });
                                break;
                            case 'ROBOFORM':
                                newWizardComponent = new Clipperz.PM.Components.Import.RoboFormImportComponent(this.getElement('wizardComponent'), {
                                    user: this.user()
                                });;
                                break;
                            case 'KEEPASS':
                                newWizardComponent = new Clipperz.PM.Components.Import.KeePassImportComponent(this.getElement('wizardComponent'), {
                                    user: this.user()
                                });
                                break;
                            }
                            this.setWizardComponent(newWizardComponent);
                        },
                        'selectComponent': function (anEvent) {
                            this.setSelectedComponent(anEvent.src().value);
                            this.nextButton().enable();
                        },
                        'selectedComponent': function () {
                            return this._selectedComponent;
                        },
                        'setSelectedComponent': function (aValue) {
                            this._selectedComponent = aValue;
                        },
                        'backAction': function () {},
                        'nextAction': function () {
                            this.updateSelectedImportWizardComponent(this.selectedComponent());
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.Import) == 'undefined') {
                        Clipperz.PM.Components.Import = {};
                    }
                    Clipperz.PM.Components.Import.GenericImportComponent = function (anElement, args) {
                        args = args || {};
                        this._steps = this._steps || ['EDIT', 'PREVIEW', 'IMPORT'];
                        Clipperz.PM.Components.Import.GenericImportComponent.superclass.constructor.call(this, anElement, args);
                        this._user = args['user'];
                        this._currentStep = 0;
                        this._currentStatus = 'IDLE';
                        this._parsedValues = null;
                        this._processedValues = null;
                        this._backButton = null;
                        this._nextButton = null;
                        Clipperz.NotificationCenter.register(null, 'importProcessorProgressUpdate', this, 'updateProgressDialogStatus');
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.Import.GenericImportComponent, Clipperz.PM.Components.BaseComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.Import.GenericImportComponent component";
                        },
                        'user': function () {
                            return this._user;
                        },
                        'textAreaConfig': function () {
                            return {
                                tag: 'textarea',
                                name: this.getId('importTextArea'),
                                cls: 'importTextArea',
                                id: this.getId('importTextArea'),
                                cols: 60,
                                rows: 15,
                                html: ""
                            };
                        },
                        'textAreaContent': function () {
                            return this.getDom('importTextArea').value
                        },
                        'steps': function () {
                            return this._steps;
                        },
                        'currentStep': function () {
                            return this._currentStep;
                        },
                        'setCurrentStep': function (aValue) {
                            this._currentStep = aValue;
                            this.updateSteps();
                        },
                        'currentStatus': function () {
                            return this._currentStatus;
                        },
                        'startProcessing': function () {
                            this._currentStatus = 'PROCESSING';
                            this.updateSteps();
                        },
                        'processingDone': function () {
                            this._currentStatus = 'IDLE';
                            this.setCurrentStep(this.currentStep() + 1);
                        },
                        'processingAborted': function () {
                            this._currentStatus = 'IDLE';
                            this.updateSteps();
                        },
                        'stepsConfig': function () {
                            var result;
                            var i, c;
                            result = [];
                            c = this.steps().length;
                            for (i = 0; i < c; i++) {
                                var cls;
                                if (this.currentStep() == i) {
                                    if (this.currentStatus() == 'IDLE') {
                                        cls = 'current';
                                    } else {
                                        cls = 'currentProcessing';
                                    }
                                } else {
                                    cls = "";
                                }
                                result.push({
                                    tag: 'td',
                                    cls: cls,
                                    children: [{
                                        tag: 'div',
                                        children: [{
                                            tag: 'span',
                                            htmlString: Clipperz.PM.Strings['ImportWizard'][this.steps()[i]]
                                        }]
                                    }]
                                })
                                if (i < (c - 1)) {
                                    if ((this.currentStep() == i) && (this.currentStatus() == 'PROCESSING')) {
                                        cls = 'stepSeparatorProcessing';
                                    } else {
                                        cls = 'stepSeparator';
                                    }
                                    result.push({
                                        tag: 'td',
                                        cls: cls,
                                        children: [{
                                            tag: 'div',
                                            children: [{
                                                tag: 'span',
                                                html: ">"
                                            }]
                                        }]
                                    });
                                }
                            }
                            result = [{
                                tag: 'div',
                                cls: 'importWizardStepsBox',
                                children: [{
                                    tag: 'div',
                                    cls: 'importWizardStepsInnerBox',
                                    children: [{
                                        tag: 'table',
                                        cls: 'importWizardSteps',
                                        children: [{
                                            tag: 'tbody',
                                            children: [{
                                                tag: 'tr',
                                                children: result
                                            }]
                                        }]
                                    }]
                                }, {
                                    tag: 'div',
                                    cls: 'importWizardStepsBoxFooter'
                                }]
                            }];
                            return result;
                        },
                        'updateSteps': function () {
                            this.getElement('importSteps').update("");
                            Clipperz.YUI.DomHelper.append(this.getDom('importSteps'), {
                                tag: 'div',
                                children: this.stepsConfig()
                            });
                        },
                        'backAction': function () {
                            if (this.currentStep() == 0) {
                                Clipperz.NotificationCenter.notify(this, 'importCancelled');
                            } else {
                                this.getElement('step_' + this.currentStep()).hide();
                                this.setCurrentStep(this.currentStep() - 1);
                                this.getElement('step_' + this.currentStep()).show();
                                this.nextButton().enable();
                            }
                        },
                        'backButton': function () {
                            return this._backButton;
                        },
                        'setBackButton': function (aValue) {
                            this._backButton = aValue;
                        },
                        'nextButton': function () {
                            return this._nextButton;
                        },
                        'setNextButton': function (aValue) {
                            this._nextButton = aValue;
                        },
                        'render': function () {
                            this.domHelper().append(this.element(), {
                                tag: 'div',
                                children: [{
                                    tag: 'h2',
                                    html: this.toString()
                                }]
                            });
                        },
                        'previewValues': function () {
                            Clipperz.PM.Components.MessageBox.showProgressPanel(MochiKit.Base.method(this, 'deferredPreviewValues'), MochiKit.Base.method(this, 'handlePreviewError'), this.getDom('nextActionButton'));
                        },
                        'deferredPreviewValues': function () {
                            throw Clipperz.Base.exception.AbstractMethod;
                        },
                        'handlePreviewError': function (anError) {
                            MochiKit.Logging.logError("An error occurred while previewing the data: " + anError);
                            alert("An error occurred while previewing the data");
                            Clipperz.PM.Components.MessageBox().hide();
                        },
                        'previewRecordValues': function (someProcessedRecords) {
                            this.getElement('previewDiv').update("");
                            this.domHelper().append(this.getElement('previewDiv'), {
                                tag: 'div',
                                cls: 'importPreviewDiv',
                                children: [{
                                    tag: 'table',
                                    id: 'importPreview',
                                    cellspacing: '0',
                                    children: [{
                                        tag: 'tbody',
                                        children: MochiKit.Base.map(MochiKit.Base.bind(function (aRecord) {
                                            var result;
                                            result = {
                                                tag: 'tr',
                                                children: [{
                                                    tag: 'td',
                                                    children: [{
                                                        tag: 'table',
                                                        cls: 'importPreview_record',
                                                        children: [{
                                                            tag: 'tbody',
                                                            children: [{
                                                                tag: 'tr',
                                                                children: [{
                                                                    tag: 'td',
                                                                    rowspan: '2',
                                                                    valign: 'top',
                                                                    children: [{
                                                                        tag: 'input',
                                                                        type: 'checkbox',
                                                                        id: this.getId(aRecord.reference()),
                                                                        value: "aRecord.reference()",
                                                                        checked: true
                                                                    }]
                                                                }, {
                                                                    tag: 'td',
                                                                    colspan: '2',
                                                                    children: [{
                                                                        tag: 'span',
                                                                        cls: 'importPreview_title',
                                                                        html: aRecord.label()
                                                                    }]
                                                                }]
                                                            }, {
                                                                tag: 'tr',
                                                                children: [{
                                                                    tag: 'td',
                                                                    valign: 'top',
                                                                    children: [{
                                                                        tag: 'span',
                                                                        cls: 'importPreview_notes',
                                                                        html: (MochiKit.Base.isNotEmpty(aRecord.notes()) ? aRecord.notes().replace(/\n/g, '<br>') : '&nbsp;')
                                                                    }]
                                                                }, {
                                                                    tag: 'td',
                                                                    valign: 'top',
                                                                    cls: 'importPreview_fieds',
                                                                    children: [{
                                                                        tag: 'table',
                                                                        cls: 'importPreview_fields',
                                                                        children: [{
                                                                            tag: 'tbody',
                                                                            children: MochiKit.Base.map(function (aField) {
                                                                                var result;
                                                                                result = {
                                                                                    tag: 'tr',
                                                                                    children: [{
                                                                                        tag: 'td',
                                                                                        valign: 'top',
                                                                                        children: [{
                                                                                            tag: 'span',
                                                                                            cls: 'importPreview_fields_label',
                                                                                            html: aField.label()
                                                                                        }]
                                                                                    }, {
                                                                                        tag: 'td',
                                                                                        valign: 'top',
                                                                                        children: [{
                                                                                            tag: 'span',
                                                                                            cls: 'importPreview_fields_value',
                                                                                            html: aField.value()
                                                                                        }]
                                                                                    }]
                                                                                };
                                                                                return result;
                                                                            }, MochiKit.Base.values(aRecord.currentVersion().fields()))
                                                                        }]
                                                                    }]
                                                                }]
                                                            }]
                                                        }]
                                                    }]
                                                }]
                                            };
                                            return result;
                                        }, this), someProcessedRecords)
                                    }]
                                }]
                            });
                            MochiKit.Base.map(MochiKit.Base.bind(function (aRecord) {
                                this.getElement(aRecord.reference()).dom.value = aRecord.reference();
                            }, this), someProcessedRecords);
                            Clipperz.Style.applyZebraStylesToTable('importPreview');
                        },
                        'updateProgressDialogStatus': function (anEvent) {
                            Clipperz.PM.Components.MessageBox().update({
                                step: anEvent.parameters().progress
                            });
                        },
                        'parsedValues': function () {
                            return this._parsedValues;
                        },
                        'setParsedValues': function (aValue) {
                            this._parsedValues = aValue;
                            return this._parsedValues;
                        },
                        'processedValues': function () {
                            return this._processedValues;
                        },
                        'setProcessedValues': function (aValue) {
                            this._processedValues = aValue;
                            return this._processedValues;
                        },
                        'importValues': function () {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.bind(function () {
                                this.nextButton().disable();
                                this.startProcessing();
                            }, this));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'importProcessedValues'));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'processingDone'));
                            deferredResult.addErrback(MochiKit.Base.method(this, 'processingAborted'));
                            deferredResult.callback();
                            return deferredResult;
                        },
                        'importProcessedValues': function () {
                            var deferredResult;
                            var processedValues;
                            var selectedRecords;
                            var i, c;
                            processedValues = this.processedValues();
                            selectedRecords = [];
                            c = processedValues.length;
                            for (i = 0; i < c; i++) {
                                var currentRecord;
                                currentRecord = processedValues[i];
                                if (this.getDom(currentRecord.reference()).checked == true) {
                                    selectedRecords.push(currentRecord);
                                }
                            }
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(function (someRecords) {
                                var innerDeferredResult;
                                var text;
                                text = Clipperz.PM.Strings['importData_importConfirmation_text'];
                                text = text.replace(/__numberOfRecords__/, someRecords.length);
                                innerDeferredResult = new MochiKit.Async.Deferred();
                                innerDeferredResult.addCallback(MochiKit.Async.succeed, someRecords);
                                Clipperz.PM.Components.MessageBox().deferredShow({
                                    title: Clipperz.PM.Strings['importData_importConfirmation_title'],
                                    text: text,
                                    width: 240,
                                    showProgressBar: false,
                                    showCloseButton: false,
                                    buttons: {
                                        'yes': "yes",
                                        'no': "no"
                                    },
                                    fn: MochiKit.Base.partial(function (aDeferred, aResult) {
                                        if (aResult == 'yes') {
                                            aDeferred.callback(aResult);
                                        } else {
                                            aDeferred.errback(aResult);
                                        }
                                    }, innerDeferredResult)
                                });
                                return innerDeferredResult;
                            });
                            deferredResult.addCallback(MochiKit.Base.method(Clipperz.PM.Components.MessageBox(), 'deferredShow'), {
                                width: 240,
                                showProgressBar: true,
                                showCloseButton: false
                            });
                            deferredResult.addCallback(MochiKit.Base.bind(function (someRecords) {
                                var innerDeferredResult;
                                innerDeferredResult = new MochiKit.Async.Deferred();
                                innerDeferredResult.addCallback(MochiKit.Base.method(this, 'importProcessedValues_core', someRecords));
                                innerDeferredResult.addErrback(MochiKit.Base.method(this, 'handleProcessError'));
                                innerDeferredResult.callback(someRecords);
                                return innerDeferredResult;
                            }, this), selectedRecords);
                            deferredResult.addCallback(MochiKit.Base.method(Clipperz.PM.Components.MessageBox(), 'hide'), 'mainDiv');
                            deferredResult.addErrback(MochiKit.Base.bind(function () {
                                this.nextButton().enable();
                                this.setCurrentStep(this.currentStep() - 1);
                            }, this));
                            deferredResult.callback(selectedRecords);
                            return deferredResult;
                        },
                        'importProcessedValues_core': function (someRecords) {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'processingImportData');
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', {
                                steps: (someRecords.length + 6 + 1)
                            });
                            deferredResult.addCallback(MochiKit.Async.wait, 0.5);
                            deferredResult.addCallback(MochiKit.Base.bind(function (someRecords) {
                                var i, c;
                                c = someRecords.length;
                                for (i = 0; i < c; i++) {
                                    this.user().addRecord(someRecords[i], true);
                                }
                                return someRecords;
                            }, this));
                            deferredResult.addCallback(MochiKit.Async.wait, 0.5);
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'recordAdded', null);
                            deferredResult.addCallback(MochiKit.Base.method(this.user(), 'saveRecords'));
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'selectTab', 'mainTabPanel.recordsTab');
                            if (this.user().preferences().shouldShowDonationPanel()) {
                                deferredResult.addCallback(Clipperz.PM.showDonationSplashScreen, this.user(), 'mainDiv');
                            }
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'importCompleted', null);
                            deferredResult.callback(someRecords);
                            return deferredResult;
                        },
                        'handleParseError': function (res) {
                            this.processingAborted();
                            MochiKit.Logging.logError("An error occurred while parsing the values: " + res);
                            alert("An error occurred while parsing the values: " + res);
                            Clipperz.PM.Components.MessageBox().hide();
                        },
                        'handleProcessError': function (res) {
                            this.processingAborted();
                            MochiKit.Logging.logError("An error occurred while processing the values: " + res);
                            alert("An error occurred while processing the values: " + res);
                            Clipperz.PM.Components.MessageBox().hide();
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.Import) == 'undefined') {
                        Clipperz.PM.Components.Import = {};
                    }
                    Clipperz.PM.Components.Import.CSVImportComponent = function (anElement, args) {
                        args = args || {};
                        this._steps = this._steps || ['CSV_EDIT', 'CSV_COLUMNS', 'CSV_HEADER', 'CSV_TITLE', 'CSV_NOTES', 'CSV_FIELDS', 'PREVIEW', 'IMPORT'];
                        Clipperz.PM.Components.Import.CSVImportComponent.superclass.constructor.call(this, anElement, args);
                        this._step1Component = null;
                        this._step2Component = null;
                        this._step3Component = null;
                        this._step4Component = null;
                        this._step5Component = null;
                        this._isFirstRowHeader = false;
                        this._titleColumnIndex = -1;
                        this._notesColumnIndex = -1;
                        this._fieldSettings = {};
                        this._skippedColumns = new Clipperz.Set();
                        this.render();
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.Import.CSVImportComponent, Clipperz.PM.Components.Import.GenericImportComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.Import.CSVImportComponent component";
                        },
                        'render': function () {
                            this.domHelper().append(this.element(), {
                                tag: 'div',
                                cls: 'csvImportWizard',
                                children: [{
                                    tag: 'h3',
                                    htmlString: Clipperz.PM.Strings['CSV_ImportWizard_Title']
                                }, {
                                    tag: 'div',
                                    cls: 'importSteps',
                                    id: this.getId('importSteps')
                                }, {
                                    tag: 'div',
                                    cls: 'importStepBlocks',
                                    children: [{
                                        tag: 'div',
                                        cls: 'step_0',
                                        id: this.getId('step_0'),
                                        children: [{
                                            tag: 'div',
                                            children: [{
                                                tag: 'div',
                                                cls: 'importOptionsDescription',
                                                htmlString: Clipperz.PM.Strings['importOptions_csv_description']
                                            }, {
                                                tag: 'div',
                                                cls: 'importOptionsParameters',
                                                children: [{
                                                    tag: 'div',
                                                    cls: 'CSVImportOptionsParameters',
                                                    children: [{
                                                        tag: 'ul',
                                                        children: [{
                                                            tag: 'li',
                                                            children: [{
                                                                tag: 'label',
                                                                'for': this.getId('CSV_inputOptions_separator'),
                                                                html: "separator"
                                                            }, {
                                                                tag: 'select',
                                                                name: this.getId('CSV_inputOptions_separator'),
                                                                id: this.getId('CSV_inputOptions_separator'),
                                                                children: [{
                                                                    tag: 'option',
                                                                    name: 'comma',
                                                                    value: ',',
                                                                    html: "comma (,)",
                                                                    selected: true
                                                                }, {
                                                                    tag: 'option',
                                                                    name: 'tab',
                                                                    value: '\t',
                                                                    html: "tab"
                                                                }]
                                                            }]
                                                        }, {
                                                            tag: 'li',
                                                            children: [{
                                                                tag: 'label',
                                                                'for': this.getId('CSV_inputOptions_quote'),
                                                                html: "quote"
                                                            }, {
                                                                tag: 'select',
                                                                name: this.getId('CSV_inputOptions_quote'),
                                                                id: this.getId('CSV_inputOptions_quote'),
                                                                children: [{
                                                                    tag: 'option',
                                                                    name: 'doubleQuote',
                                                                    value: '\"',
                                                                    html: "double quote (\")",
                                                                    selected: true
                                                                }, {
                                                                    tag: 'option',
                                                                    name: 'singleQuote',
                                                                    value: '\'',
                                                                    html: "single quote (\')"
                                                                }]
                                                            }]
                                                        }, {
                                                            tag: 'li',
                                                            children: [{
                                                                tag: 'label',
                                                                'for': this.getId('CSV_inputOptions_escape'),
                                                                html: "escape"
                                                            }, {
                                                                tag: 'select',
                                                                name: this.getId('CSV_inputOptions_escape'),
                                                                id: this.getId('CSV_inputOptions_escape'),
                                                                children: [{
                                                                    tag: 'option',
                                                                    name: 'doubleQuote',
                                                                    value: '\"',
                                                                    html: "double quote (\")",
                                                                    selected: true
                                                                }, {
                                                                    tag: 'option',
                                                                    name: 'slash',
                                                                    value: '\/',
                                                                    html: "slash (\/)"
                                                                }, {
                                                                    tag: 'option',
                                                                    name: 'backslash',
                                                                    value: '\\',
                                                                    html: "backslash (\\)"
                                                                }]
                                                            }]
                                                        }]
                                                    }]
                                                }]
                                            },
                                            this.textAreaConfig()]
                                        }]
                                    }, {
                                        tag: 'div',
                                        cls: 'step_1',
                                        id: this.getId('step_1'),
                                        children: []
                                    }, {
                                        tag: 'div',
                                        cls: 'step_2',
                                        id: this.getId('step_2'),
                                        children: []
                                    }, {
                                        tag: 'div',
                                        cls: 'step_3',
                                        id: this.getId('step_3'),
                                        children: []
                                    }, {
                                        tag: 'div',
                                        cls: 'step_4',
                                        id: this.getId('step_4'),
                                        children: []
                                    }, {
                                        tag: 'div',
                                        cls: 'step_5',
                                        id: this.getId('step_5'),
                                        children: []
                                    }, {
                                        tag: 'div',
                                        cls: 'step_6',
                                        id: this.getId('step_6'),
                                        children: [{
                                            tag: 'div',
                                            children: [{
                                                tag: 'div',
                                                id: this.getId('previewDiv'),
                                                html: "preview"
                                            }]
                                        }]
                                    }, {
                                        tag: 'div',
                                        cls: 'step_7',
                                        id: this.getId('step_7'),
                                        children: [{
                                            tag: 'div',
                                            children: [{
                                                tag: 'h4',
                                                html: "done"
                                            }]
                                        }]
                                    }]
                                }, {
                                    tag: 'div',
                                    cls: 'importOptionsButtons',
                                    children: [{
                                        tag: 'table',
                                        children: [{
                                            tag: 'tbody',
                                            children: [{
                                                tag: 'tr',
                                                children: [{
                                                    tag: 'td',
                                                    html: '&nbsp;'
                                                }, {
                                                    tag: 'td',
                                                    children: [{
                                                        tag: 'div',
                                                        id: this.getId('backActionButton')
                                                    }]
                                                }, {
                                                    tag: 'td',
                                                    html: '&nbsp;'
                                                }, {
                                                    tag: 'td',
                                                    children: [{
                                                        tag: 'div',
                                                        id: this.getId('nextActionButton')
                                                    }]
                                                }, {
                                                    tag: 'td',
                                                    html: '&nbsp;'
                                                }]
                                            }]
                                        }]
                                    }]
                                }]
                            });
                            this.setBackButton(new YAHOO.ext.Button(this.getDom('backActionButton'), {
                                text: "back",
                                handler: this.backAction,
                                scope: this
                            }));
                            this.setNextButton(new YAHOO.ext.Button(this.getDom('nextActionButton'), {
                                text: "next",
                                handler: this.nextAction,
                                scope: this
                            }));
                            this.updateSteps();
                            this.getElement('step_0').setVisibilityMode(YAHOO.ext.Element.DISPLAY).show()
                            this.getElement('step_1').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                            this.getElement('step_2').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                            this.getElement('step_3').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                            this.getElement('step_4').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                            this.getElement('step_5').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                            this.getElement('step_6').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                            this.getElement('step_7').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                        },
                        'nextAction': function () {
                            switch (this.currentStep()) {
                            case 0:
                                Clipperz.PM.Components.MessageBox.showProgressPanel(MochiKit.Base.method(this, 'deferredParseValues'), MochiKit.Base.method(this, 'handleParseError'), this.getDom('nextActionButton'));
                                break;
                            case 1:
                                this.getElement('step_1').hide();
                                this.step2Component().render();
                                this.setCurrentStep(2);
                                this.getElement('step_2').show();
                                break;
                            case 2:
                                this.getElement('step_2').hide();
                                this.step3Component().render();
                                this.setCurrentStep(3);
                                this.getElement('step_3').show();
                                break;
                            case 3:
                                this.getElement('step_3').hide();
                                this.step4Component().render();
                                this.setCurrentStep(4);
                                this.getElement('step_4').show();
                                break;
                            case 4:
                                this.getElement('step_4').hide();
                                this.step5Component().render();
                                this.setCurrentStep(5);
                                this.getElement('step_5').show();
                                break;
                            case 5:
                                this.previewValues();
                                break;
                            case 6:
                                this.importValues();
                                break;
                            }
                        },
                        'deferredParseValues': function () {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'parseImportData');
                            deferredResult.addCallback(MochiKit.Base.bind(function (res) {
                                this.startProcessing();
                                return res;
                            }, this));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'parseCSVValues'));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'setParsedValues'));
                            deferredResult.addCallback(MochiKit.Base.method(this.step1Component(), 'render'));
                            deferredResult.addCallback(MochiKit.Base.bind(function (res) {
                                this.processingDone();
                                this.getElement('step_0').hide();
                                this.getElement('step_1').show();
                                this.backButton().enable();
                                return res;
                            }, this));
                            deferredResult.callback(this.textAreaContent());
                            return deferredResult;
                        },
                        'deferredPreviewValues': function () {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'previewImportData');
                            deferredResult.addCallback(MochiKit.Base.bind(function (res) {
                                this.startProcessing();
                                return res;
                            }, this));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'processCSVParsedValues'));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'setProcessedValues'));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'previewRecordValues'));
                            deferredResult.addCallback(MochiKit.Base.bind(function (res) {
                                this.processingDone();
                                this.getElement('step_5').hide();
                                this.getElement('step_6').show();
                                this.backButton().enable();
                                return res;
                            }, this));
                            deferredResult.callback(this.parsedValues());
                            return deferredResult;
                        },
                        'csvProcessor': function () {
                            return new Clipperz.CSVProcessor({
                                quoteChar: this.getDom('CSV_inputOptions_quote').value,
                                escapeChar: this.getDom('CSV_inputOptions_escape').value,
                                separatorChar: this.getDom('CSV_inputOptions_separator').value,
                                binary: true
                            });
                        },
                        'parseCSVValues': function (someData) {
                            var deferredResult;
                            var csvProcessor;
                            csvProcessor = this.csvProcessor();
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(function (res) {
                                return Clipperz.NotificationCenter.deferredNotification(this, 'updatedProgressState', {
                                    steps: (res.length)
                                }, res);
                            })
                            deferredResult.addCallback(MochiKit.Base.method(csvProcessor, 'deferredParse'));
                            deferredResult.callback(someData);
                            return deferredResult;
                        },
                        'processCSVParsedValues': function (someValues) {
                            var deferredResult;
                            var records;
                            var titleColumnIndex;
                            var notesColumnIndex;
                            var i, c;
                            deferredResult = new MochiKit.Async.Deferred();
                            records = [];
                            titleColumnIndex = this.titleColumnIndex();
                            notesColumnIndex = this.notesColumnIndex();
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', {
                                steps: (someValues.length)
                            });
                            c = someValues.length;
                            if (this.isFirstRowHeader()) {
                                i = 1;
                            } else {
                                i = 0;
                            }
                            for (; i < c; i++) {
                                deferredResult.addCallback(MochiKit.Async.wait, 0.2);
                                deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', {});
                                deferredResult.addCallback(MochiKit.Base.bind(function (someRecords, someData) {
                                    var record;
                                    var recordVersion;
                                    var ii;
                                    record = new Clipperz.PM.DataModel.Record({
                                        user: this.user()
                                    });
                                    record.setLabel(someData[titleColumnIndex]);
                                    if (notesColumnIndex != -1) {
                                        record.setNotes(someData[notesColumnIndex]);
                                    }
                                    recordVersion = record.currentVersion()
                                    for (ii in someData) {
                                        if ((ii != titleColumnIndex) && (ii != notesColumnIndex) && (this.isColumnSelected(ii))) {
                                            var recordField;
                                            recordField = new Clipperz.PM.DataModel.RecordField({
                                                recordVersion: recordVersion,
                                                label: this.labelForColumn(ii),
                                                value: someData[ii],
                                                type: this.typeForColumn(ii)
                                            });
                                            recordVersion.addField(recordField);
                                        }
                                    }
                                    someRecords.push(record);
                                    return someRecords;
                                }, this), records, someValues[i]);
                            }
                            deferredResult.addCallback(MochiKit.Async.succeed, records);
                            deferredResult.callback();
                            return deferredResult;
                        },
                        'step1Component': function () {
                            if (this._step1Component == null) {
                                this._step1Component = new Clipperz.PM.Components.Import.CSVImport.CSVImportColumns(this.getElement('step_1'), {
                                    mainComponent: this
                                });
                            }
                            return this._step1Component;
                        },
                        'step2Component': function () {
                            if (this._step2Component == null) {
                                this._step2Component = new Clipperz.PM.Components.Import.CSVImport.CSVImportHeader(this.getElement('step_2'), {
                                    mainComponent: this
                                });
                            }
                            return this._step2Component;
                        },
                        'step3Component': function () {
                            if (this._step3Component == null) {
                                this._step3Component = new Clipperz.PM.Components.Import.CSVImport.CSVImportTitle(this.getElement('step_3'), {
                                    mainComponent: this
                                });
                            }
                            return this._step3Component;
                        },
                        'step4Component': function () {
                            if (this._step4Component == null) {
                                this._step4Component = new Clipperz.PM.Components.Import.CSVImport.CSVImportNotes(this.getElement('step_4'), {
                                    mainComponent: this
                                });
                            }
                            return this._step4Component;
                        },
                        'step5Component': function () {
                            if (this._step5Component == null) {
                                this._step5Component = new Clipperz.PM.Components.Import.CSVImport.CSVImportFields(this.getElement('step_5'), {
                                    mainComponent: this
                                });
                            }
                            return this._step5Component;
                        },
                        'isFirstRowHeader': function () {
                            return this._isFirstRowHeader;
                        },
                        'setIsFirstRowHeader': function (aValue) {
                            this._isFirstRowHeader = aValue;
                        },
                        'titleColumnIndex': function () {
                            return this._titleColumnIndex;
                        },
                        'setTitleColumnIndex': function (aValue) {
                            this._titleColumnIndex = aValue;
                        },
                        'notesColumnIndex': function () {
                            return this._notesColumnIndex;
                        },
                        'setNotesColumnIndex': function (aValue) {
                            this._notesColumnIndex = aValue;
                        },
                        'fieldSettings': function () {
                            return this._fieldSettings;
                        },
                        'skippedColumns': function () {
                            return this._skippedColumns;
                        },
                        'isColumnSelected': function (aColumnIndex) {
                            return !this.skippedColumns().contains("" + aColumnIndex);
                        },
                        'labelForColumn': function (aColumnIndex) {
                            var result;
                            if ((typeof (this.fieldSettings()) != 'undefined') && (typeof (this.fieldSettings()[aColumnIndex]) != 'undefined')) {
                                if (this.isFirstRowHeader()) {
                                    result = this.fieldSettings()[aColumnIndex]['_firstRowLabel'];
                                } else {
                                    result = this.fieldSettings()[aColumnIndex]['_emptyLabel'];
                                }
                            } else {
                                result = "";
                            }
                            return result;
                        },
                        'setLabelForColumn': function (aLabel, aColumnIndex) {
                            var fieldSettings;
                            fieldSettings = this.fieldSettings();
                            if (typeof (fieldSettings[aColumnIndex]) == 'undefined') {
                                fieldSettings[aColumnIndex] = {}
                            }
                            if (this.isFirstRowHeader()) {
                                fieldSettings[aColumnIndex]['_firstRowLabel'] = aLabel;
                            } else {
                                if (typeof (fieldSettings[aColumnIndex]['_emptyLabel']) == 'undefined') {
                                    if (aLabel == null) {
                                        fieldSettings[aColumnIndex]['_emptyLabel'] = "";
                                    } else {
                                        fieldSettings[aColumnIndex]['_emptyLabel'] = aLabel;
                                    }
                                } else {
                                    if (aLabel != null) {
                                        fieldSettings[aColumnIndex]['_emptyLabel'] = aLabel;
                                    }
                                }
                            }
                        },
                        'typeForColumn': function (aColumnIndex) {
                            var result;
                            if ((typeof (this.fieldSettings()) != 'undefined') && (typeof (this.fieldSettings()[aColumnIndex]) != 'undefined') && (typeof (this.fieldSettings()[aColumnIndex]['type']) != 'undefined')) {
                                result = this.fieldSettings()[aColumnIndex]['type'];
                            } else {
                                result = 'UNDEFINED';
                            }
                            return result;
                        },
                        'setTypeForColumn': function (aType, aColumnIndex) {
                            var fieldSettings;
                            fieldSettings = this.fieldSettings();
                            if (typeof (fieldSettings[aColumnIndex]) == 'undefined') {
                                fieldSettings[aColumnIndex] = {}
                            }
                            fieldSettings[aColumnIndex]['type'] = aType;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.Import) == 'undefined') {
                        Clipperz.PM.Components.Import = {};
                    }
                    if (typeof (Clipperz.PM.Components.Import.CSVImport) == 'undefined') {
                        Clipperz.PM.Components.Import.CSVImport = {};
                    }
                    Clipperz.PM.Components.Import.CSVImport.CSVImportColumns = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.Import.CSVImport.CSVImportColumns.superclass.constructor.call(this, anElement, args);
                        this._mainComponent = args.mainComponent;
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.Import.CSVImport.CSVImportColumns, Clipperz.PM.Components.BaseComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.Import.CSVImport.CSVImportColumns component";
                        },
                        'mainComponent': function () {
                            return this._mainComponent;
                        },
                        'render': function () {
                            var i, c;
                            var columnSelectorCheckboxCells;
                            var checkboxes;
                            var data;
                            Clipperz.NotificationCenter.unregister(this);
                            MochiKit.Signal.disconnectAllTo(this);
                            this.element().update("");
                            data = this.mainComponent().parsedValues();
                            columnSelectorCheckboxCells = [];
                            c = data[0].length;
                            for (i = 0; i < c; i++) {
                                columnSelectorCheckboxCells.push({
                                    tag: 'th',
                                    valign: 'top',
                                    cls: (this.mainComponent().isColumnSelected(i) ? 'selectedColumn' : 'skippedColumn'),
                                    children: [{
                                        tag: 'input',
                                        type: 'checkbox',
                                        id: this.getId('columnCheckbox_' + i),
                                        value: i
                                    }]
                                })
                            }
                            this.domHelper().append(this.element(), {
                                tag: 'div',
                                children: [{
                                    tag: 'div',
                                    cls: 'importStepDescription',
                                    htmlString: Clipperz.PM.Strings['CSV_ImportWizard_Columns']
                                }, {
                                    tag: 'div',
                                    id: this.getId('dataDiv'),
                                    cls: 'csvImportPreview',
                                    children: [{
                                        tag: 'table',
                                        id: this.getId('previewDada'),
                                        cls: 'csvImportPreview columns',
                                        cellspacing: '0',
                                        children: [{
                                            tag: 'thead',
                                            id: this.getId('previewData_thead'),
                                            children: [{
                                                tag: 'tr',
                                                children: columnSelectorCheckboxCells
                                            }]
                                        }, {
                                            tag: 'tbody',
                                            id: this.getId('previewData_tbody'),
                                            children: []
                                        }]
                                    }]
                                }]
                            });
                            c = data[0].length;
                            for (i = 0; i < c; i++) {
                                if (this.mainComponent().isColumnSelected(i)) {
                                    this.getDom('columnCheckbox_' + i).checked = true;
                                }
                            }
                            this.renderData(this.getElement('previewData_tbody'), data);
                            checkboxes = MochiKit.DOM.getElementsByTagAndClassName('input', null, this.getDom('previewData_thead'));
                            c = checkboxes.length;
                            for (i = 0; i < c; i++) {
                                MochiKit.Signal.connect(checkboxes[i], 'onclick', this, 'renderDataHandler');
                            }
                        },
                        'renderData': function (anElement, someData) {
                            var config;
                            var i, c;
                            MochiKit.DOM.replaceChildNodes(anElement.dom);
                            config = MochiKit.Base.map(MochiKit.Base.bind(function (aRowData) {
                                var result;
                                var i, c;
                                result = {
                                    tag: 'tr',
                                    children: []
                                };
                                c = aRowData.length;
                                for (i = 0; i < c; i++) {
                                    var field;
                                    field = aRowData[i];
                                    result.children.push({
                                        tag: 'td',
                                        valign: 'top',
                                        cls: (this.mainComponent().isColumnSelected(i) ? 'selectedColumn' : 'skippedColumn'),
                                        html: (MochiKit.Base.isNotEmpty(field) ? field.replace(/\n/g, '<br>') : '&nbsp;')
                                    });
                                }
                                return result;
                            }, this), someData);
                            MochiKit.Base.map(function (aRowConfig) {
                                Clipperz.YUI.DomHelper.append(anElement, aRowConfig);
                            }, config);
                            Clipperz.Style.applyZebraStylesToTable(this.getId('previewDada'));
                        },
                        'renderDataHandler': function (anEvent) {
                            var thElement;
                            thElement = YAHOO.ext.Element.get(anEvent.src().parentNode);
                            if (anEvent.src().checked == true) {
                                this.mainComponent().skippedColumns().remove(anEvent.src().value);
                                thElement.addClass('selectedColumn');
                                thElement.removeClass('skippedColumn');
                            } else {
                                this.mainComponent().skippedColumns().add(anEvent.src().value);
                                thElement.removeClass('selectedColumn');
                                thElement.addClass('skippedColumn');
                            }
                            if (this.mainComponent().skippedColumns().allItems().length == this.mainComponent().parsedValues()[0].length) {
                                this.mainComponent().nextButton().disable();
                            } else {
                                this.mainComponent().nextButton().enable();
                            }
                            this.renderData(this.getElement('previewData_tbody'), this.mainComponent().parsedValues());
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.Import) == 'undefined') {
                        Clipperz.PM.Components.Import = {};
                    }
                    if (typeof (Clipperz.PM.Components.Import.CSVImport) == 'undefined') {
                        Clipperz.PM.Components.Import.CSVImport = {};
                    }
                    Clipperz.PM.Components.Import.CSVImport.CSVImportHeader = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.Import.CSVImport.CSVImportHeader.superclass.constructor.call(this, anElement, args);
                        this._mainComponent = args.mainComponent;
                        this._pendingDeferredLabelFieldHandlerEvents = 0;
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.Import.CSVImport.CSVImportHeader, Clipperz.PM.Components.BaseComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.Import.CSVImport.CSVImportHeader component";
                        },
                        'mainComponent': function () {
                            return this._mainComponent;
                        },
                        'render': function () {
                            var thConfigs;
                            var i, c;
                            Clipperz.NotificationCenter.unregister(this);
                            MochiKit.Signal.disconnectAllTo(this);
                            thConfigs = [];
                            c = this.mainComponent().parsedValues()[0].length;
                            for (i = 0; i < c; i++) {
                                if (this.mainComponent().isColumnSelected(i)) {
                                    thConfigs.push({
                                        tag: 'th',
                                        children: [{
                                            tag: 'input',
                                            type: 'text',
                                            id: this.getId('headerTextField_' + i),
                                            value: ""
                                        }]
                                    });
                                }
                            }
                            this.element().update("");
                            this.domHelper().append(this.element(), {
                                tag: 'div',
                                children: [{
                                    tag: 'div',
                                    cls: 'importStepDescription',
                                    htmlString: Clipperz.PM.Strings['CSV_ImportWizard_Header']
                                }, {
                                    tag: 'div',
                                    cls: 'importStepParameters',
                                    children: [{
                                        tag: 'input',
                                        type: 'checkbox',
                                        name: 'isFistRowHeader',
                                        id: this.getId('isFirstRowHeader_checkbox')
                                    }, {
                                        tag: 'span',
                                        id: this.getId('isFirstRowHeader_span'),
                                        cls: 'clickableSpan',
                                        htmlString: Clipperz.PM.Strings['CSV_ImportWizard_Header_Settings_firstRowHeaderLabel']
                                    }]
                                }, {
                                    tag: 'div',
                                    id: this.getId('dataDiv'),
                                    children: [{
                                        tag: 'div',
                                        cls: 'csvImportPreview',
                                        children: [{
                                            tag: 'table',
                                            id: this.getId('previewDada'),
                                            cls: 'csvImportPreview header',
                                            cellspacing: '0',
                                            children: [{
                                                tag: 'thead',
                                                children: [{
                                                    tag: 'tr',
                                                    children: thConfigs
                                                }]
                                            }, {
                                                tag: 'tbody',
                                                id: this.getId('previewData_tbody')
                                            }]
                                        }]
                                    }]
                                }]
                            });
                            for (i = 0; i < c; i++) {
                                if (this.mainComponent().isColumnSelected(i)) {
                                    this.getElement('headerTextField_' + i).dom.value = this.mainComponent().labelForColumn(i);
                                }
                            }
                            this.renderData(this.getElement('previewData_tbody'), this.mainComponent().parsedValues());
                            if (this.mainComponent().isFirstRowHeader()) {
                                this.getDom('isFirstRowHeader_checkbox').click();
                            }
                            c = this.mainComponent().parsedValues()[0].length;
                            for (i = 0; i < c; i++) {
                                if (this.mainComponent().isColumnSelected(i)) {
                                    MochiKit.Signal.connect(this.getDom('headerTextField_' + i), 'onchange', MochiKit.Base.partial(MochiKit.Base.method(this, 'labelFieldHandler'), i));
                                    MochiKit.Signal.connect(this.getDom('headerTextField_' + i), 'onkeypress', MochiKit.Base.partial(MochiKit.Base.method(this, 'deferredLabelFieldHandler'), i));
                                }
                            }
                            MochiKit.Signal.connect(this.getDom('isFirstRowHeader_checkbox'), 'onclick', this, 'toggleFirstRowHeaderCheckboxHandler');
                            if (Clipperz_IEisBroken != true) {
                                MochiKit.Signal.connect(this.getDom('isFirstRowHeader_span'), 'onclick', this.getDom('isFirstRowHeader_checkbox'), 'click');
                            }
                        },
                        'renderData': function (anElement, someData) {
                            var trConfigs;
                            var data;
                            var i, c;
                            MochiKit.DOM.replaceChildNodes(anElement.dom);
                            if (this.mainComponent().isFirstRowHeader()) {
                                data = someData.slice(1);
                            } else {
                                data = someData;
                            }
                            trConfigs = MochiKit.Base.map(MochiKit.Base.bind(function (aRowData) {
                                var result;
                                var i, c;
                                result = {
                                    tag: 'tr',
                                    children: []
                                };
                                c = aRowData.length;
                                for (i = 0; i < c; i++) {
                                    if (this.mainComponent().isColumnSelected(i)) {
                                        result.children.push({
                                            tag: 'td',
                                            valign: 'top',
                                            html: (MochiKit.Base.isNotEmpty(aRowData[i]) ? aRowData[i].replace(/\n/g, '<br>') : '&nbsp;')
                                        });
                                    }
                                }
                                return result;
                            }, this), data);
                            MochiKit.Base.map(function (aRowConfig) {
                                Clipperz.YUI.DomHelper.append(anElement, aRowConfig);
                            }, trConfigs);
                            Clipperz.Style.applyZebraStylesToTable(this.getId('previewDada'));
                        },
                        'toggleFirstRowHeaderCheckboxHandler': function () {
                            var firstRowData;
                            var i, c;
                            this.mainComponent().setIsFirstRowHeader(this.getDom('isFirstRowHeader_checkbox').checked);
                            firstRowData = this.mainComponent().parsedValues()[0];
                            c = firstRowData.length;
                            for (i = 0; i < c; i++) {
                                if (this.mainComponent().isColumnSelected(i)) {
                                    var label;
                                    if (this.mainComponent().isFirstRowHeader()) {
                                        label = firstRowData[i];
                                    } else {
                                        label = null;
                                    }
                                    this.mainComponent().setLabelForColumn(label, i);
                                }
                            };
                            this.updateInputFieldValues();
                            this.renderData(this.getElement('previewData_tbody'), this.mainComponent().parsedValues());
                        },
                        'updateInputFieldValues': function () {
                            var i, c;
                            c = this.mainComponent().parsedValues()[0].length;
                            for (i = 0; i < c; i++) {
                                if (this.mainComponent().isColumnSelected(i)) {
                                    this.getDom('headerTextField_' + i).value = this.mainComponent().labelForColumn(i);
                                }
                            }
                        },
                        'labelFieldHandler': function (aColumnIndex, anEvent) {
                            var inputField;
                            inputField = anEvent.src();
                            this.mainComponent().setLabelForColumn(inputField.value, aColumnIndex);
                        },
                        'deferredLabelFieldHandler': function (aColumnIndex, anEvent) {
                            this._pendingDeferredLabelFieldHandlerEvents++;
                            MochiKit.Async.callLater(1, MochiKit.Base.partial(MochiKit.Base.method(this, 'deferredLabelFieldHandlerCatcher'), aColumnIndex, anEvent));
                        },
                        'deferredLabelFieldHandlerCatcher': function (aColumnIndex, anEvent) {
                            this._pendingDeferredLabelFieldHandlerEvents--;
                            if (this._pendingDeferredLabelFieldHandlerEvents == 0) {
                                this.labelFieldHandler(aColumnIndex, anEvent);
                            }
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.Import) == 'undefined') {
                        Clipperz.PM.Components.Import = {};
                    }
                    if (typeof (Clipperz.PM.Components.Import.CSVImport) == 'undefined') {
                        Clipperz.PM.Components.Import.CSVImport = {};
                    }
                    Clipperz.PM.Components.Import.CSVImport.CSVImportTitle = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.Import.CSVImport.CSVImportTitle.superclass.constructor.call(this, anElement, args);
                        this._mainComponent = args.mainComponent;
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.Import.CSVImport.CSVImportTitle, Clipperz.PM.Components.BaseComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.Import.CSVImport.CSVImportTitle component";
                        },
                        'mainComponent': function () {
                            return this._mainComponent;
                        },
                        'render': function () {
                            var titleSelectorCheckboxCells;
                            var titleColumnIndex;
                            var i, c;
                            Clipperz.NotificationCenter.unregister(this);
                            MochiKit.Signal.disconnectAllTo(this);
                            this.element().update("");
                            titleColumnIndex = this.mainComponent().titleColumnIndex()
                            titleSelectorCheckboxCells = [];
                            c = this.mainComponent().parsedValues()[0].length;
                            for (i = 0; i < c; i++) {
                                if (this.mainComponent().isColumnSelected(i)) {
                                    titleSelectorCheckboxCells.push({
                                        tag: 'th',
                                        valign: 'top',
                                        id: this.getId('th_' + i),
                                        children: [{
                                            tag: 'input',
                                            type: 'radio',
                                            id: this.getId('radio_' + i),
                                            name: 'CSVImportTitleColumn',
                                            value: i
                                        }, {
                                            tag: 'span',
                                            cls: 'clickableSpan',
                                            id: this.getId('columnLabel_' + i),
                                            html: this.mainComponent().labelForColumn(i)
                                        }]
                                    })
                                }
                            }
                            if (titleColumnIndex >= titleSelectorCheckboxCells.length) {
                                this.mainComponent().setTitleColumnIndex(-1);
                            }
                            this.domHelper().append(this.element(), {
                                tag: 'div',
                                children: [{
                                    tag: 'div',
                                    cls: 'importStepDescription',
                                    htmlString: Clipperz.PM.Strings['CSV_ImportWizard_Title']
                                }, {
                                    tag: 'div',
                                    id: this.getId('dataDiv'),
                                    cls: 'csvImportPreview',
                                    children: [{
                                        tag: 'table',
                                        id: this.getId('previewDada'),
                                        cls: 'csvImportPreview',
                                        cellspacing: '0',
                                        children: [{
                                            tag: 'thead',
                                            id: this.getId('previewData_thead'),
                                            children: [{
                                                tag: 'tr',
                                                children: titleSelectorCheckboxCells
                                            }]
                                        }, {
                                            tag: 'tbody',
                                            id: this.getId('previewData_tbody'),
                                            children: []
                                        }]
                                    }]
                                }]
                            });
                            this.renderData(this.getElement('previewData_tbody'), this.mainComponent().parsedValues());
                            c = this.mainComponent().parsedValues()[0].length;
                            for (i = 0; i < c; i++) {
                                if (this.mainComponent().isColumnSelected(i)) {
                                    MochiKit.Signal.connect(this.getDom('radio_' + i), 'onclick', this, 'renderDataHandler');
                                    if (Clipperz_IEisBroken != true) {
                                        MochiKit.Signal.connect(this.getDom('columnLabel_' + i), 'onclick', this.getDom('radio_' + i), 'click');
                                    }
                                }
                            }
                            if (titleColumnIndex != -1) {
                                this.getDom('radio_' + titleColumnIndex).click();
                            } else {
                                this.mainComponent().nextButton().disable();
                            }
                        },
                        'renderData': function (anElement, someData) {
                            var data;
                            var config;
                            var titleColumnIndex;
                            var i, c;
                            MochiKit.DOM.replaceChildNodes(anElement.dom);
                            titleColumnIndex = this.mainComponent().titleColumnIndex()
                            if (this.mainComponent().isFirstRowHeader()) {
                                data = someData.slice(1);
                            } else {
                                data = someData;
                            }
                            config = MochiKit.Base.map(MochiKit.Base.bind(function (aRowData) {
                                var result;
                                var i, c;
                                result = {
                                    tag: 'tr',
                                    children: []
                                };
                                c = aRowData.length;
                                for (i = 0; i < c; i++) {
                                    if (this.mainComponent().isColumnSelected(i)) {
                                        var field;
                                        field = aRowData[i];
                                        result.children.push({
                                            tag: 'td',
                                            valign: 'top',
                                            cls: ((titleColumnIndex == i) ? 'titleColumn' : ''),
                                            html: (MochiKit.Base.isNotEmpty(field) ? field.replace(/\n/g, '<br>') : '&nbsp;')
                                        });
                                    }
                                }
                                return result;
                            }, this), data);
                            MochiKit.Base.map(function (aRowConfig) {
                                Clipperz.YUI.DomHelper.append(anElement, aRowConfig);
                            }, config);
                            Clipperz.Style.applyZebraStylesToTable(this.getId('previewDada'));
                        },
                        'renderDataHandler': function (anEvent) {
                            var i, c;
                            this.mainComponent().setTitleColumnIndex(anEvent.src().value);
                            c = this.mainComponent().parsedValues()[0].length;
                            for (i = 0; i < c; i++) {
                                if (this.mainComponent().isColumnSelected(i)) {
                                    this.getElement('th_' + i).removeClass('titleColumn');
                                }
                            }
                            this.getElement('th_' + anEvent.src().value).addClass('titleColumn');
                            if (anEvent.src().value != -1) {
                                this.mainComponent().nextButton().enable();
                            } else {
                                this.mainComponent().nextButton().disable();
                            }
                            this.renderData(this.getElement('previewData_tbody'), this.mainComponent().parsedValues());
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.Import) == 'undefined') {
                        Clipperz.PM.Components.Import = {};
                    }
                    if (typeof (Clipperz.PM.Components.Import.CSVImport) == 'undefined') {
                        Clipperz.PM.Components.Import.CSVImport = {};
                    }
                    Clipperz.PM.Components.Import.CSVImport.CSVImportNotes = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.Import.CSVImport.CSVImportNotes.superclass.constructor.call(this, anElement, args);
                        this._mainComponent = args.mainComponent;
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.Import.CSVImport.CSVImportNotes, Clipperz.PM.Components.BaseComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.Import.CSVImport.CSVImportNotes component";
                        },
                        'mainComponent': function () {
                            return this._mainComponent;
                        },
                        'render': function () {
                            var notesSelectorCheckboxCells;
                            var totalNumberOfColumns;
                            var titleColumnIndex;
                            var notesColumnIndex;
                            var i, c;
                            Clipperz.NotificationCenter.unregister(this);
                            MochiKit.Signal.disconnectAllTo(this);
                            this.element().update("");
                            titleColumnIndex = this.mainComponent().titleColumnIndex()
                            notesColumnIndex = this.mainComponent().notesColumnIndex()
                            totalNumberOfColumns = this.mainComponent().parsedValues()[0].length;
                            notesSelectorCheckboxCells = [{
                                tag: 'th',
                                cls: 'title',
                                html: this.mainComponent().labelForColumn(titleColumnIndex)
                            }];
                            c = totalNumberOfColumns;
                            for (i = 0; i < c; i++) {
                                if ((i != titleColumnIndex) && (this.mainComponent().isColumnSelected(i))) {
                                    notesSelectorCheckboxCells.push({
                                        tag: 'th',
                                        id: this.getId('th_' + i),
                                        valign: 'top',
                                        children: [{
                                            tag: 'input',
                                            type: 'radio',
                                            id: this.getId('radio_' + i),
                                            name: 'CSVImportNotesColumn',
                                            value: i
                                        }, {
                                            tag: 'span',
                                            cls: 'clickableSpan',
                                            id: this.getId('columnLabel_' + i),
                                            html: this.mainComponent().labelForColumn(i)
                                        }]
                                    })
                                }
                            }
                            this.domHelper().append(this.element(), {
                                tag: 'div',
                                children: [{
                                    tag: 'div',
                                    cls: 'importStepDescription',
                                    htmlString: Clipperz.PM.Strings['CSV_ImportWizard_Notes']
                                }, {
                                    tag: 'div',
                                    id: this.getId('dataDiv'),
                                    children: [{
                                        tag: 'div',
                                        cls: 'importStepParameters',
                                        children: [{
                                            tag: 'input',
                                            id: this.getId('doNotSetNotes_radio'),
                                            type: 'radio',
                                            name: 'CSVImportNotesColumn',
                                            value: -1
                                        }, {
                                            tag: 'span',
                                            id: this.getId('doNotSetNotes_span'),
                                            cls: 'clickableSpan',
                                            htmlString: Clipperz.PM.Strings['CSV_ImportWizard_Notes_Settings_noSelectionLabel']
                                        }]
                                    }, {
                                        tag: 'div',
                                        cls: 'csvImportPreview',
                                        children: [{
                                            tag: 'table',
                                            id: this.getId('previewDada'),
                                            cls: 'csvImportPreview',
                                            cellspacing: '0',
                                            children: [{
                                                tag: 'thead',
                                                id: this.getId('previewData_thead'),
                                                children: [{
                                                    tag: 'tr',
                                                    children: notesSelectorCheckboxCells
                                                }]
                                            }, {
                                                tag: 'tbody',
                                                id: this.getId('previewData_tbody'),
                                                children: []
                                            }]
                                        }]
                                    }]
                                }]
                            });
                            this.renderData(this.getElement('previewData_tbody'), this.mainComponent().parsedValues());
                            if ((notesColumnIndex >= totalNumberOfColumns) || (notesColumnIndex == titleColumnIndex) || !(this.mainComponent().isColumnSelected(notesColumnIndex))) {
                                this.mainComponent().setNotesColumnIndex(-1);
                                notesColumnIndex = -1;
                            }
                            c = totalNumberOfColumns;
                            for (i = 0; i < c; i++) {
                                if ((i != titleColumnIndex) && (this.mainComponent().isColumnSelected(i))) {
                                    MochiKit.Signal.connect(this.getDom('radio_' + i), 'onclick', this, 'renderDataHandler');
                                    if (Clipperz_IEisBroken != true) {
                                        MochiKit.Signal.connect(this.getDom('columnLabel_' + i), 'onclick', this.getDom('radio_' + i), 'click');
                                    }
                                }
                            }
                            MochiKit.Signal.connect(this.getDom('doNotSetNotes_radio'), 'onclick', this, 'renderDataHandler');
                            if (Clipperz_IEisBroken != true) {
                                MochiKit.Signal.connect(this.getDom('doNotSetNotes_span'), 'onclick', this.getDom('doNotSetNotes_radio'), 'click');
                            }
                            if (notesColumnIndex == -1) {
                                this.getDom('doNotSetNotes_radio').click();
                            } else {
                                this.getDom('radio_' + notesColumnIndex).click();
                            }
                        },
                        'renderData': function (anElement, someData) {
                            var data;
                            var config;
                            var titleColumnIndex;
                            var notesColumnIndex;
                            var i, c;
                            MochiKit.DOM.replaceChildNodes(anElement.dom);
                            titleColumnIndex = this.mainComponent().titleColumnIndex();
                            notesColumnIndex = this.mainComponent().notesColumnIndex();
                            if (this.mainComponent().isFirstRowHeader()) {
                                data = someData.slice(1);
                            } else {
                                data = someData;
                            }
                            config = MochiKit.Base.map(MochiKit.Base.bind(function (aTitleColumnIndex, aRowData) {
                                var result;
                                var i, c;
                                result = {
                                    tag: 'tr',
                                    children: [{
                                        tag: 'td',
                                        valign: 'top',
                                        cls: 'title',
                                        html: (MochiKit.Base.isNotEmpty(aRowData[aTitleColumnIndex]) ? aRowData[aTitleColumnIndex].replace(/\n/g, '<br>') : '&nbsp;')
                                    }]
                                };
                                c = aRowData.length;
                                for (i = 0; i < c; i++) {
                                    if ((i != titleColumnIndex) && (this.mainComponent().isColumnSelected(i))) {
                                        result.children.push({
                                            tag: 'td',
                                            valign: 'top',
                                            cls: ((notesColumnIndex == i) ? 'notesColumn' : ''),
                                            html: (MochiKit.Base.isNotEmpty(aRowData[i]) ? aRowData[i].replace(/\n/g, '<br>') : '&nbsp;')
                                        });
                                    }
                                }
                                return result;
                            }, this, titleColumnIndex), data);
                            MochiKit.Base.map(function (aRowConfig) {
                                Clipperz.YUI.DomHelper.append(anElement, aRowConfig);
                            }, config);
                            Clipperz.Style.applyZebraStylesToTable(this.getId('previewDada'));
                        },
                        'renderDataHandler': function (anEvent) {
                            var titleColumnIndex;
                            var i, c;
                            this.mainComponent().setNotesColumnIndex(anEvent.src().value);
                            titleColumnIndex = this.mainComponent().titleColumnIndex();
                            c = this.mainComponent().parsedValues()[0].length;
                            for (i = 0; i < c; i++) {
                                if ((i != titleColumnIndex) && (this.mainComponent().isColumnSelected(i))) {
                                    this.getElement('th_' + i).removeClass('notesColumn');
                                }
                            }
                            if (anEvent.src().value != -1) {
                                this.getElement('th_' + anEvent.src().value).addClass('notesColumn');
                            }
                            this.renderData(this.getElement('previewData_tbody'), this.mainComponent().parsedValues());
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.Import) == 'undefined') {
                        Clipperz.PM.Components.Import = {};
                    }
                    if (typeof (Clipperz.PM.Components.Import.CSVImport) == 'undefined') {
                        Clipperz.PM.Components.Import.CSVImport = {};
                    }
                    Clipperz.PM.Components.Import.CSVImport.CSVImportFields = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.Import.CSVImport.CSVImportFields.superclass.constructor.call(this, anElement, args);
                        this._mainComponent = args.mainComponent;
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.Import.CSVImport.CSVImportFields, Clipperz.PM.Components.BaseComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.Import.CSVImport.CSVImportFields component";
                        },
                        'mainComponent': function () {
                            return this._mainComponent;
                        },
                        'render': function () {
                            var fieldsHeaderCells;
                            var titleColumnIndex;
                            var notesColumnIndex;
                            var i, c;
                            Clipperz.NotificationCenter.unregister(this);
                            MochiKit.Signal.disconnectAllTo(this);
                            this.element().update("");
                            titleColumnIndex = this.mainComponent().titleColumnIndex()
                            notesColumnIndex = this.mainComponent().notesColumnIndex()
                            fieldsHeaderCells = [];
                            fieldsHeaderCells.push({
                                tag: 'td',
                                valign: 'top',
                                cls: 'title',
                                html: this.mainComponent().labelForColumn(titleColumnIndex)
                            });
                            c = this.mainComponent().parsedValues()[0].length;
                            for (i = 0; i < c; i++) {
                                if ((i != titleColumnIndex) && (i != notesColumnIndex) && (this.mainComponent().isColumnSelected(i))) {
                                    var trimmedLabel;
                                    trimmedLabel = Clipperz.Base.trim(this.mainComponent().labelForColumn(i));
                                    fieldsHeaderCells.push({
                                        tag: 'td',
                                        valign: 'top',
                                        id: this.getId('fieldHeaderTD_' + i),
                                        cls: ((trimmedLabel == "") ? 'missingLabelWarning' : (this.isColumnSetup(i) ? 'configuredColumn' : 'unconfiguredColumn')),
                                        children: [{
                                            tag: 'span',
                                            html: ((trimmedLabel == "") ? Clipperz.PM.Strings['CSV_ImportWizard_Fields_MissingLabelWarning'] : trimmedLabel)
                                        }, {
                                            tag: 'select',
                                            id: this.getId('select_' + i),
                                            name: i,
                                            children: [{
                                                tag: 'option',
                                                value: 'UNDEFINED',
                                                html: "select data type",
                                                cls: 'disabledOption'
                                            }, {
                                                tag: 'option',
                                                value: 'TXT',
                                                htmlString: Clipperz.PM.Strings['recordFieldTypologies']['TXT']['shortDescription']
                                            }, {
                                                tag: 'option',
                                                value: 'PWD',
                                                htmlString: Clipperz.PM.Strings['recordFieldTypologies']['PWD']['shortDescription']
                                            }, {
                                                tag: 'option',
                                                value: 'URL',
                                                htmlString: Clipperz.PM.Strings['recordFieldTypologies']['URL']['shortDescription']
                                            }, {
                                                tag: 'option',
                                                value: 'DATE',
                                                htmlString: Clipperz.PM.Strings['recordFieldTypologies']['DATE']['shortDescription']
                                            }, {
                                                tag: 'option',
                                                value: 'ADDR',
                                                htmlString: Clipperz.PM.Strings['recordFieldTypologies']['ADDR']['shortDescription']
                                            }]
                                        }]
                                    })
                                }
                            }
                            if (notesColumnIndex != -1) {
                                fieldsHeaderCells.push({
                                    tag: 'td',
                                    valign: 'top',
                                    cls: 'notes',
                                    html: this.mainComponent().labelForColumn(notesColumnIndex)
                                });
                            }
                            this.domHelper().append(this.element(), {
                                tag: 'div',
                                children: [{
                                    tag: 'div',
                                    cls: 'importStepDescription',
                                    htmlString: Clipperz.PM.Strings['CSV_ImportWizard_Fields']
                                }, {
                                    tag: 'div',
                                    id: this.getId('dataDiv'),
                                    children: [{
                                        tag: 'div',
                                        children: []
                                    }, {
                                        tag: 'div',
                                        cls: 'csvImportPreview',
                                        children: [{
                                            tag: 'table',
                                            id: this.getId('previewDada'),
                                            cls: 'csvImportPreview',
                                            cellspacing: '0',
                                            children: [{
                                                tag: 'thead',
                                                id: this.getId('previewData_thead'),
                                                children: [{
                                                    tag: 'tr',
                                                    cls: 'CSV_previewData_header',
                                                    children: fieldsHeaderCells
                                                }]
                                            }, {
                                                tag: 'tbody',
                                                id: this.getId('previewData_tbody'),
                                                children: []
                                            }]
                                        }]
                                    }]
                                }]
                            });
                            for (i = 0; i < c; i++) {
                                if ((i != titleColumnIndex) && (i != notesColumnIndex) && (this.mainComponent().isColumnSelected(i))) {
                                    Clipperz.DOM.selectOptionMatchingValue(this.getDom('select_' + i), this.mainComponent().typeForColumn(i));
                                    MochiKit.Signal.connect(this.getDom('select_' + i), 'onchange', this, 'renderDataRowsHandler');
                                }
                            }
                            this.renderDataRows(this.getElement('previewData_tbody'));
                        },
                        'isColumnSetup': function (aColumnIndex) {
                            return ((Clipperz.Base.trim(this.mainComponent().labelForColumn(aColumnIndex)) != "") && (this.mainComponent().typeForColumn(aColumnIndex) != 'UNDEFINED'));
                        },
                        'renderDataRowsHandler': function (anEvent) {
                            var columnIndex;
                            var tdElement;
                            columnIndex = anEvent.src().name;
                            this.mainComponent().setTypeForColumn(anEvent.src().value, columnIndex);
                            tdElement = this.getElement('fieldHeaderTD_' + columnIndex);
                            if (this.isColumnSetup(columnIndex)) {
                                tdElement.removeClass('unconfiguredColumn');
                                tdElement.addClass('configuredColumn');
                            } else {
                                tdElement.addClass('unconfiguredColumn');
                                tdElement.removeClass('configuredColumn');
                            }
                            this.renderDataRows(this.getElement('previewData_tbody'));
                        },
                        'renderDataRows': function (anElement) {
                            var titleColumnIndex;
                            var notesColumnIndex;
                            var data
                            var i, c;
                            MochiKit.DOM.replaceChildNodes(anElement.dom);
                            if (this.mainComponent().isFirstRowHeader()) {
                                data = this.mainComponent().parsedValues().slice(1);
                            } else {
                                data = this.mainComponent().parsedValues();
                            }
                            titleColumnIndex = this.mainComponent().titleColumnIndex();
                            notesColumnIndex = this.mainComponent().notesColumnIndex();
                            c = data.length;
                            for (i = 0; i < c; i++) {
                                var rowData;
                                var rowConfig;
                                var ii, cc;
                                rowData = data[i];
                                rowConfig = {
                                    tag: 'tr',
                                    children: [{
                                        tag: 'td',
                                        valign: 'top',
                                        cls: 'title',
                                        html: (MochiKit.Base.isNotEmpty(rowData[titleColumnIndex]) ? rowData[titleColumnIndex].replace(/\n/g, '<br>') : '&nbsp;')
                                    }]
                                };
                                cc = rowData.length;
                                for (ii = 0; ii < cc; ii++) {
                                    if ((ii != titleColumnIndex) && (ii != notesColumnIndex) && (this.mainComponent().isColumnSelected(ii))) {
                                        rowConfig.children.push({
                                            tag: 'td',
                                            valign: 'top',
                                            cls: (this.isColumnSetup(ii) ? 'configuredColumn' : 'unconfiguredColumn'),
                                            html: (MochiKit.Base.isNotEmpty(rowData[ii]) ? rowData[ii].replace(/\n/g, '<br>') : '&nbsp;')
                                        });
                                    }
                                }
                                if (notesColumnIndex != -1) {
                                    rowConfig.children.push({
                                        tag: 'td',
                                        valign: 'top',
                                        cls: 'notes',
                                        html: (MochiKit.Base.isNotEmpty(rowData[notesColumnIndex]) ? rowData[notesColumnIndex].replace(/\n/g, '<br>') : '&nbsp;')
                                    });
                                }
                                this.domHelper().append(anElement, rowConfig);
                            }
                            Clipperz.Style.applyZebraStylesToTable(this.getId('previewDada'));
                            this.checkWetherToEnableNextButton();
                        },
                        'checkWetherToEnableNextButton': function () {
                            var result;
                            var titleColumnIndex;
                            var notesColumnIndex;
                            var i, c;
                            titleColumnIndex = this.mainComponent().titleColumnIndex()
                            notesColumnIndex = this.mainComponent().notesColumnIndex()
                            result = true;
                            c = this.mainComponent().parsedValues()[0].length;
                            for (i = 0; i < c; i++) {
                                if ((i != titleColumnIndex) && (i != notesColumnIndex) && (this.mainComponent().isColumnSelected(i))) {
                                    result = result && this.isColumnSetup(i);
                                }
                            }
                            if (result) {
                                this.mainComponent().nextButton().enable();
                            } else {
                                this.mainComponent().nextButton().disable();
                            }
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.Import) == 'undefined') {
                        Clipperz.PM.Components.Import = {};
                    }
                    Clipperz.PM.Components.Import.ExcelImportComponent = function (anElement, args) {
                        args = args || {};
                        this._steps = ['EXCEL_EDIT', 'CSV_COLUMNS', 'CSV_HEADER', 'CSV_TITLE', 'CSV_NOTES', 'CSV_FIELDS', 'PREVIEW', 'IMPORT'];
                        Clipperz.PM.Components.Import.ExcelImportComponent.superclass.constructor.call(this, anElement, args);
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.Import.ExcelImportComponent, Clipperz.PM.Components.Import.CSVImportComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.Import.ExcelImportComponent component";
                        },
                        'render': function () {
                            this.domHelper().append(this.element(), {
                                tag: 'div',
                                cls: 'excelImportWizard',
                                children: [{
                                    tag: 'h3',
                                    htmlString: Clipperz.PM.Strings['Excel_ImportWizard_Title']
                                }, {
                                    tag: 'div',
                                    cls: 'importSteps',
                                    id: this.getId('importSteps')
                                }, {
                                    tag: 'div',
                                    cls: 'importStepBlocks',
                                    children: [{
                                        tag: 'div',
                                        cls: 'step_0',
                                        id: this.getId('step_0'),
                                        children: [{
                                            tag: 'div',
                                            children: [{
                                                tag: 'div',
                                                cls: 'importOptionsDescription',
                                                htmlString: Clipperz.PM.Strings['importOptions_excel_description']
                                            }, {
                                                tag: 'div',
                                                cls: 'importOptionsParameters',
                                                children: []
                                            },
                                            this.textAreaConfig()]
                                        }]
                                    }, {
                                        tag: 'div',
                                        cls: 'step_1',
                                        id: this.getId('step_1'),
                                        children: []
                                    }, {
                                        tag: 'div',
                                        cls: 'step_2',
                                        id: this.getId('step_2'),
                                        children: []
                                    }, {
                                        tag: 'div',
                                        cls: 'step_3',
                                        id: this.getId('step_3'),
                                        children: []
                                    }, {
                                        tag: 'div',
                                        cls: 'step_4',
                                        id: this.getId('step_4'),
                                        children: []
                                    }, {
                                        tag: 'div',
                                        cls: 'step_5',
                                        id: this.getId('step_5'),
                                        children: []
                                    }, {
                                        tag: 'div',
                                        cls: 'step_6',
                                        id: this.getId('step_6'),
                                        children: [{
                                            tag: 'div',
                                            children: [{
                                                tag: 'div',
                                                id: this.getId('previewDiv'),
                                                html: "preview"
                                            }]
                                        }]
                                    }, {
                                        tag: 'div',
                                        cls: 'step_7',
                                        id: this.getId('step_7'),
                                        children: [{
                                            tag: 'div',
                                            children: [{
                                                tag: 'h4',
                                                html: "done"
                                            }]
                                        }]
                                    }]
                                }, {
                                    tag: 'div',
                                    cls: 'importOptionsButtons',
                                    children: [{
                                        tag: 'table',
                                        children: [{
                                            tag: 'tbody',
                                            children: [{
                                                tag: 'tr',
                                                children: [{
                                                    tag: 'td',
                                                    html: '&nbsp;'
                                                }, {
                                                    tag: 'td',
                                                    children: [{
                                                        tag: 'div',
                                                        id: this.getId('backActionButton')
                                                    }]
                                                }, {
                                                    tag: 'td',
                                                    html: '&nbsp;'
                                                }, {
                                                    tag: 'td',
                                                    children: [{
                                                        tag: 'div',
                                                        id: this.getId('nextActionButton')
                                                    }]
                                                }, {
                                                    tag: 'td',
                                                    html: '&nbsp;'
                                                }]
                                            }]
                                        }]
                                    }]
                                }]
                            });
                            this.updateSteps();
                            this.setBackButton(new YAHOO.ext.Button(this.getDom('backActionButton'), {
                                text: "back",
                                handler: this.backAction,
                                scope: this
                            }));
                            this.setNextButton(new YAHOO.ext.Button(this.getDom('nextActionButton'), {
                                text: "next",
                                handler: this.nextAction,
                                scope: this
                            }));
                            this.getElement('step_0').setVisibilityMode(YAHOO.ext.Element.DISPLAY).show()
                            this.getElement('step_1').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                            this.getElement('step_2').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                            this.getElement('step_3').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                            this.getElement('step_4').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                            this.getElement('step_5').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                            this.getElement('step_6').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                            this.getElement('step_7').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                        },
                        'csvProcessor': function () {
                            return new Clipperz.CSVProcessor({
                                separatorChar: '\t',
                                binary: true
                            });
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.Import) == 'undefined') {
                        Clipperz.PM.Components.Import = {};
                    }
                    Clipperz.PM.Components.Import.PasswordPlusImportComponent = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.Import.PasswordPlusImportComponent.superclass.constructor.call(this, anElement, args);
                        this.render();
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.Import.PasswordPlusImportComponent, Clipperz.PM.Components.Import.GenericImportComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.Import.PasswordPlusImportComponent component";
                        },
                        'render': function () {
                            this.domHelper().append(this.element(), {
                                tag: 'div',
                                cls: 'passwordPlusImportWizard',
                                children: [{
                                    tag: 'h3',
                                    htmlString: Clipperz.PM.Strings['PasswordPlus_ImportWizard_Title']
                                }, {
                                    tag: 'div',
                                    cls: 'importSteps',
                                    id: this.getId('importSteps')
                                }, {
                                    tag: 'div',
                                    cls: 'importStepBlocks',
                                    children: [{
                                        tag: 'div',
                                        cls: 'step_0',
                                        id: this.getId('step_0'),
                                        children: [{
                                            tag: 'div',
                                            children: [{
                                                tag: 'div',
                                                cls: 'importOptionsDescription',
                                                htmlString: Clipperz.PM.Strings['importOptions_passwordPlus_description']
                                            }, {
                                                tag: 'div',
                                                cls: 'importOptionsParameters',
                                                children: []
                                            },
                                            this.textAreaConfig()]
                                        }]
                                    }, {
                                        tag: 'div',
                                        cls: 'step_1',
                                        id: this.getId('step_1'),
                                        children: [{
                                            tag: 'div',
                                            children: [{
                                                tag: 'div',
                                                id: this.getId('previewDiv'),
                                                html: "preview"
                                            }]
                                        }]
                                    }, {
                                        tag: 'div',
                                        cls: 'step_2',
                                        id: this.getId('step_2'),
                                        children: [{
                                            tag: 'div',
                                            children: [{
                                                tag: 'h4',
                                                html: "done"
                                            }]
                                        }]
                                    }]
                                }, {
                                    tag: 'div',
                                    cls: 'importOptionsButtons',
                                    children: [{
                                        tag: 'table',
                                        children: [{
                                            tag: 'tbody',
                                            children: [{
                                                tag: 'tr',
                                                children: [{
                                                    tag: 'td',
                                                    html: '&nbsp;'
                                                }, {
                                                    tag: 'td',
                                                    children: [{
                                                        tag: 'div',
                                                        id: this.getId('backActionButton')
                                                    }]
                                                }, {
                                                    tag: 'td',
                                                    html: '&nbsp;'
                                                }, {
                                                    tag: 'td',
                                                    children: [{
                                                        tag: 'div',
                                                        id: this.getId('nextActionButton')
                                                    }]
                                                }, {
                                                    tag: 'td',
                                                    html: '&nbsp;'
                                                }]
                                            }]
                                        }]
                                    }]
                                }]
                            });
                            this.updateSteps();
                            this.setBackButton(new YAHOO.ext.Button(this.getDom('backActionButton'), {
                                text: "back",
                                handler: this.backAction,
                                scope: this
                            }));
                            this.setNextButton(new YAHOO.ext.Button(this.getDom('nextActionButton'), {
                                text: "next",
                                handler: this.nextAction,
                                scope: this
                            }));
                            this.getElement('step_0').setVisibilityMode(YAHOO.ext.Element.DISPLAY).show()
                            this.getElement('step_1').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                            this.getElement('step_2').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                        },
                        'nextAction': function () {
                            switch (this.currentStep()) {
                            case 0:
                                this.previewValues();
                                break;
                            case 1:
                                this.importValues();
                                break;
                            }
                        },
                        'deferredPreviewValues': function () {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.bind(function (res) {
                                this.startProcessing();
                                return res;
                            }, this));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'processPasswordPlusValues'));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'setProcessedValues'));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'previewRecordValues'));
                            deferredResult.addCallback(MochiKit.Base.bind(function (res) {
                                this.processingDone();
                                this.getElement('step_0').hide();
                                this.getElement('step_1').show();
                                this.backButton().enable();
                                return res;
                            }, this));
                            deferredResult.callback(this.textAreaContent());
                            return deferredResult;
                        },
                        'processPasswordPlusValues': function (someData) {
                            var deferredResult;
                            var csvProcessor;
                            csvProcessor = new Clipperz.CSVProcessor({
                                binary: true
                            });
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'parseImportData');
                            deferredResult.addCallback(function (res) {
                                return Clipperz.NotificationCenter.deferredNotification(this, 'updatedProgressState', {
                                    steps: (res.length * 2)
                                }, res);
                            })
                            deferredResult.addCallback(MochiKit.Base.method(csvProcessor, 'deferredParse'));
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'previewImportData');
                            deferredResult.addCallback(function (res) {
                                return Clipperz.NotificationCenter.deferredNotification(this, 'updatedProgressState', {
                                    steps: (res.length * 2),
                                    step: res.length
                                }, res);
                            })
                            deferredResult.addCallback(MochiKit.Base.bind(function (someCSVValues) {
                                var innerDeferredResult;
                                var records;
                                var i, c;
                                innerDeferredResult = new MochiKit.Async.Deferred();
                                records = [];
                                c = someCSVValues.length;
                                i = 0;
                                i++;
                                i++;
                                for (; i < c; i++) {
                                    innerDeferredResult.addCallback(MochiKit.Async.wait, 0.2);
                                    innerDeferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', {});
                                    innerDeferredResult.addCallback(MochiKit.Base.bind(function (someRecords, someData) {
                                        if (someData[0] == '0') {
                                            var record;
                                            var recordVersion;
                                            var ii, cc;
                                            record = new Clipperz.PM.DataModel.Record({
                                                user: this.user()
                                            });
                                            if (someData[1] != "") {
                                                record.setLabel(someData[1]);
                                            } else {
                                                record.setLabel("imported record [" + (i + 1) + "]");
                                            }
                                            record.setNotes(someData[33]);
                                            recordVersion = record.currentVersion()
                                            cc = 10;
                                            for (ii = 0; ii < cc; ii++) {
                                                var currentFieldValueIndex;
                                                var currentType;
                                                currentFieldValueIndex = (ii * 3) + 4;
                                                if (someData[currentFieldValueIndex] != "") {
                                                    var recordField;
                                                    var recordFieldType;
                                                    recordFieldType = 'TXT';
                                                    if (someData[currentFieldValueIndex + 1] == 1) {
                                                        recordFieldType = 'PWD';
                                                    } else if (/^http/.test(someData[currentFieldValueIndex])) {
                                                        recordFieldType = 'URL';
                                                    }
                                                    recordField = new Clipperz.PM.DataModel.RecordField({
                                                        recordVersion: recordVersion,
                                                        label: someData[currentFieldValueIndex - 1],
                                                        value: someData[currentFieldValueIndex],
                                                        type: recordFieldType
                                                    });
                                                    recordVersion.addField(recordField);
                                                }
                                            }
                                            someRecords.push(record);
                                        }
                                        return someRecords;
                                    }, this), records, someCSVValues[i]);
                                }
                                innerDeferredResult.addCallback(MochiKit.Async.succeed, records);
                                innerDeferredResult.callback();
                                return innerDeferredResult;
                            }, this));
                            deferredResult.callback(someData);
                            return deferredResult;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.Import) == 'undefined') {
                        Clipperz.PM.Components.Import = {};
                    }
                    Clipperz.PM.Components.Import.ClipperzImportComponent = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.Import.ClipperzImportComponent.superclass.constructor.call(this, anElement, args);
                        this.render();
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.Import.ClipperzImportComponent, Clipperz.PM.Components.Import.GenericImportComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.Import.ClipperzImportComponent component";
                        },
                        'render': function () {
                            this.domHelper().append(this.element(), {
                                tag: 'div',
                                cls: 'clipperzImportWizard',
                                children: [{
                                    tag: 'h3',
                                    htmlString: Clipperz.PM.Strings['Clipperz_ImportWizard_Title']
                                }, {
                                    tag: 'div',
                                    cls: 'importSteps',
                                    id: this.getId('importSteps')
                                }, {
                                    tag: 'div',
                                    cls: 'importStepBlocks',
                                    children: [{
                                        tag: 'div',
                                        cls: 'step_0',
                                        id: this.getId('step_0'),
                                        children: [{
                                            tag: 'div',
                                            children: [{
                                                tag: 'div',
                                                cls: 'importOptionsDescription',
                                                htmlString: Clipperz.PM.Strings['importOptions_clipperz_description']
                                            }, {
                                                tag: 'div',
                                                cls: 'importOptionsParameters',
                                                children: []
                                            },
                                            this.textAreaConfig()]
                                        }]
                                    }, {
                                        tag: 'div',
                                        cls: 'step_1',
                                        id: this.getId('step_1'),
                                        children: [{
                                            tag: 'div',
                                            children: [{
                                                tag: 'div',
                                                id: this.getId('previewDiv'),
                                                html: "preview"
                                            }]
                                        }]
                                    }, {
                                        tag: 'div',
                                        cls: 'step_2',
                                        id: this.getId('step_2'),
                                        children: [{
                                            tag: 'div',
                                            children: [{
                                                tag: 'h4',
                                                html: "done"
                                            }]
                                        }]
                                    }]
                                }, {
                                    tag: 'div',
                                    cls: 'importOptionsButtons',
                                    children: [{
                                        tag: 'table',
                                        children: [{
                                            tag: 'tbody',
                                            children: [{
                                                tag: 'tr',
                                                children: [{
                                                    tag: 'td',
                                                    html: '&nbsp;'
                                                }, {
                                                    tag: 'td',
                                                    children: [{
                                                        tag: 'div',
                                                        id: this.getId('backActionButton')
                                                    }]
                                                }, {
                                                    tag: 'td',
                                                    html: '&nbsp;'
                                                }, {
                                                    tag: 'td',
                                                    children: [{
                                                        tag: 'div',
                                                        id: this.getId('nextActionButton')
                                                    }]
                                                }, {
                                                    tag: 'td',
                                                    html: '&nbsp;'
                                                }]
                                            }]
                                        }]
                                    }]
                                }]
                            });
                            this.updateSteps();
                            this.setBackButton(new YAHOO.ext.Button(this.getDom('backActionButton'), {
                                text: "back",
                                handler: this.backAction,
                                scope: this
                            }));
                            this.setNextButton(new YAHOO.ext.Button(this.getDom('nextActionButton'), {
                                text: "next",
                                handler: this.nextAction,
                                scope: this
                            }));
                            this.getElement('step_0').setVisibilityMode(YAHOO.ext.Element.DISPLAY).show()
                            this.getElement('step_1').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                            this.getElement('step_2').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                        },
                        'nextAction': function () {
                            switch (this.currentStep()) {
                            case 0:
                                this.previewValues();
                                break;
                            case 1:
                                this.importValues();
                                break;
                            }
                        },
                        'deferredPreviewValues': function () {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.bind(function (res) {
                                this.startProcessing();
                                return res;
                            }, this));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'processClipperzValues'));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'setProcessedValues'));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'previewRecordValues'));
                            deferredResult.addCallback(MochiKit.Base.bind(function (res) {
                                this.processingDone();
                                this.getElement('step_0').hide();
                                this.getElement('step_1').show();
                                this.backButton().enable();
                                return res;
                            }, this));
                            deferredResult.callback(this.textAreaContent());
                            return deferredResult;
                        },
                        'processClipperzValues': function (someData) {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'parseImportData');
                            deferredResult.addCallback(Clipperz.Base.evalJSON);
                            deferredResult.addCallback(function (res) {
                                return Clipperz.NotificationCenter.deferredNotification(this, 'updatedProgressState', {
                                    steps: (res.length)
                                }, res);
                            })
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'previewImportData');
                            deferredResult.addCallback(MochiKit.Base.bind(function (someClipperzValues) {
                                var innerDeferredResult;
                                var records;
                                var i, c;
                                innerDeferredResult = new MochiKit.Async.Deferred();
                                records = [];
                                c = someClipperzValues.length;
                                for (i = 0; i < c; i++) {
                                    innerDeferredResult.addCallback(MochiKit.Async.wait, 0.2);
                                    innerDeferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', {});
                                    innerDeferredResult.addCallback(MochiKit.Base.bind(function (someRecords, someData) {
                                        var record;
                                        var recordVersion;
                                        record = new Clipperz.PM.DataModel.Record({
                                            user: this.user()
                                        });
                                        record.setLabel(someData['label']);
                                        record.setShouldProcessData(true);
                                        record.processData(someData);
                                        someRecords.push(record);
                                        return someRecords;
                                    }, this), records, someClipperzValues[i]);
                                }
                                innerDeferredResult.addCallback(MochiKit.Async.succeed, records);
                                innerDeferredResult.callback();
                                return innerDeferredResult;
                            }, this));
                            deferredResult.callback(someData);
                            return deferredResult;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.Import) == 'undefined') {
                        Clipperz.PM.Components.Import = {};
                    }
                    Clipperz.PM.Components.Import.RoboFormImportComponent = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.Import.RoboFormImportComponent.superclass.constructor.call(this, anElement, args);
                        this.render();
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.Import.RoboFormImportComponent, Clipperz.PM.Components.Import.GenericImportComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.Import.RoboFormImportComponent component";
                        },
                        'render': function () {
                            this.domHelper().append(this.element(), {
                                tag: 'div',
                                cls: 'roboFormImportWizard',
                                children: [{
                                    tag: 'h3',
                                    htmlString: Clipperz.PM.Strings['RoboForm_ImportWizard_Title']
                                }, {
                                    tag: 'div',
                                    cls: 'importSteps',
                                    id: this.getId('importSteps')
                                }, {
                                    tag: 'div',
                                    cls: 'importStepBlocks',
                                    children: [{
                                        tag: 'div',
                                        cls: 'step_0',
                                        id: this.getId('step_0'),
                                        children: [{
                                            tag: 'div',
                                            children: [{
                                                tag: 'div',
                                                cls: 'importOptionsDescription',
                                                htmlString: Clipperz.PM.Strings['importOptions_roboForm_description']
                                            }, {
                                                tag: 'div',
                                                cls: 'importOptionsParameters',
                                                children: []
                                            },
                                            this.textAreaConfig()]
                                        }]
                                    }, {
                                        tag: 'div',
                                        cls: 'step_1',
                                        id: this.getId('step_1'),
                                        children: [{
                                            tag: 'div',
                                            children: [{
                                                tag: 'div',
                                                id: this.getId('previewDiv'),
                                                html: "preview"
                                            }]
                                        }]
                                    }, {
                                        tag: 'div',
                                        cls: 'step_2',
                                        id: this.getId('step_2'),
                                        children: [{
                                            tag: 'div',
                                            children: [{
                                                tag: 'h4',
                                                html: "done"
                                            }]
                                        }]
                                    }]
                                }, {
                                    tag: 'div',
                                    cls: 'importOptionsButtons',
                                    children: [{
                                        tag: 'table',
                                        children: [{
                                            tag: 'tbody',
                                            children: [{
                                                tag: 'tr',
                                                children: [{
                                                    tag: 'td',
                                                    html: '&nbsp;'
                                                }, {
                                                    tag: 'td',
                                                    children: [{
                                                        tag: 'div',
                                                        id: this.getId('backActionButton')
                                                    }]
                                                }, {
                                                    tag: 'td',
                                                    html: '&nbsp;'
                                                }, {
                                                    tag: 'td',
                                                    children: [{
                                                        tag: 'div',
                                                        id: this.getId('nextActionButton')
                                                    }]
                                                }, {
                                                    tag: 'td',
                                                    html: '&nbsp;'
                                                }]
                                            }]
                                        }]
                                    }]
                                }]
                            });
                            this.updateSteps();
                            this.setBackButton(new YAHOO.ext.Button(this.getDom('backActionButton'), {
                                text: "back",
                                handler: this.backAction,
                                scope: this
                            }));
                            this.setNextButton(new YAHOO.ext.Button(this.getDom('nextActionButton'), {
                                text: "next",
                                handler: this.nextAction,
                                scope: this
                            }));
                            this.getElement('step_0').setVisibilityMode(YAHOO.ext.Element.DISPLAY).show()
                            this.getElement('step_1').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                            this.getElement('step_2').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                        },
                        'nextAction': function () {
                            switch (this.currentStep()) {
                            case 0:
                                this.previewValues();
                                break;
                            case 1:
                                this.importValues();
                                break;
                            }
                        },
                        'deferredPreviewValues': function () {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.bind(function (res) {
                                this.startProcessing();
                                return res;
                            }, this));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'processRoboFormValues'));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'setProcessedValues'));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'previewRecordValues'));
                            deferredResult.addCallback(MochiKit.Base.bind(function (res) {
                                this.processingDone();
                                this.getElement('step_0').hide();
                                this.getElement('step_1').show();
                                this.backButton().enable();
                                return res;
                            }, this));
                            deferredResult.callback(this.textAreaContent());
                            return deferredResult;
                        },
                        'processRoboFormValues': function (someData) {
                            var result;
                            if (someData.match(/^\<HTML\>\<HEAD\>\<TITLE\>RoboForm Passcards List /g)) {
                                result = this.processRoboFormPasscardsValues(someData);
                            } else if (someData.match(/\<HTML\>\<HEAD\>\<TITLE\>RoboForm Safenotes List /g)) {
                                result = this.processRoboFormSafenotesValues(someData);
                            }
                            return result;
                        },
                        'processRoboFormPasscardsValues': function (someData) {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'parseImportData');
                            deferredResult.addCallback(function (someData) {
                                var result;
                                var data;
                                data = someData.replace(/\r?\n/g, "");
                                result = data.match(/\<TABLE width\=\"100\%\"\>.*?\<\/TABLE\>/g);
                                return result;
                            });
                            deferredResult.addCallback(function (res) {
                                return Clipperz.NotificationCenter.deferredNotification(this, 'updatedProgressState', {
                                    steps: (res.length)
                                }, res);
                            })
                            deferredResult.addCallback(MochiKit.Base.bind(function (someRecordValues) {
                                var innerDeferredResult;
                                var records;
                                var i, c;
                                innerDeferredResult = new MochiKit.Async.Deferred();
                                records = [];
                                c = someRecordValues.length;
                                for (i = 0; i < c; i++) {
                                    innerDeferredResult.addCallback(MochiKit.Async.wait, 0.2);
                                    innerDeferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', {});
                                    innerDeferredResult.addCallback(MochiKit.Base.bind(function (someRecords, someData) {
                                        var data;
                                        var record;
                                        var recordVersion;
                                        var fields;
                                        var ii, cc;
                                        var hasNotes;
                                        var caption;
                                        var subcaption;
                                        data = someData.replace(/\<WBR\>/g, "");
                                        hasNotes = false;
                                        /\<TD class\=caption colSpan\=3\>(.*?)\<\/TD\>/.test(data);
                                        caption = RegExp.$1;
                                        /\<TD class\=subcaption colSpan\=3\>(.*?)\<\/TD\>/.test(data);
                                        subcaption = RegExp.$1;
                                        record = new Clipperz.PM.DataModel.Record({
                                            user: this.user()
                                        });
                                        recordVersion = record.currentVersion()
                                        record.setLabel(caption);
                                        if (subcaption != null) {
                                            var recordField;
                                            recordField = new Clipperz.PM.DataModel.RecordField({
                                                recordVersion: recordVersion,
                                                label: "url",
                                                value: subcaption,
                                                type: 'URL'
                                            });
                                            recordVersion.addField(recordField);
                                        }
                                        fields = data.match(/\<TR\>.*?\<\/TR\>/g) || [];
                                        cc = fields.length;
                                        for (ii = 0; ii < cc; ii++) {
                                            var recordField;
                                            var fieldString;
                                            var fieldName;
                                            var fieldValue;
                                            fieldString = fields[ii];
                                            /\<TD class\=field vAlign\=top align\=left width\=\"40\%\"\>(.*?)\<\/TD\>/.test(fieldString);
                                            fieldName = RegExp.$1;
                                            /\<TD class\=wordbreakfield vAlign\=top align\=left width\=\"55\%\"\>(.*?)\<\/TD\>/.test(fieldString);
                                            fieldValue = RegExp.$1;
                                            if (fieldName == "Note$") {
                                                record.setNotes(fieldValue);
                                                hasNotes = true;
                                            } else {
                                                var fieldType;
                                                if (((ii == 1) && (hasNotes == false)) || ((ii == 2) && (hasNotes == true))) {
                                                    fieldType = 'PWD';
                                                } else {
                                                    fieldType = 'TXT';
                                                }
                                                recordField = new Clipperz.PM.DataModel.RecordField({
                                                    recordVersion: recordVersion,
                                                    label: fieldName,
                                                    value: fieldValue,
                                                    type: fieldType
                                                });
                                                recordVersion.addField(recordField);
                                            }
                                        }
                                        someRecords.push(record);
                                        return someRecords;
                                    }, this), records, someRecordValues[i]);
                                }
                                innerDeferredResult.addCallback(MochiKit.Async.succeed, records);
                                innerDeferredResult.callback();
                                return innerDeferredResult;
                            }, this));
                            deferredResult.callback(someData);
                            return deferredResult;
                        },
                        'processRoboFormSafenotesValues': function (someData) {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'parseImportData');
                            deferredResult.addCallback(function (someData) {
                                var result;
                                var data;
                                data = someData.replace(/\r?\n/g, "");
                                result = data.match(/\<TABLE width\=\"100\%\"\>.*?\<\/TABLE\>/g);
                                return result;
                            });
                            deferredResult.addCallback(function (res) {
                                return Clipperz.NotificationCenter.deferredNotification(this, 'updatedProgressState', {
                                    steps: (res.length)
                                }, res);
                            })
                            deferredResult.addCallback(MochiKit.Base.bind(function (someRecordValues) {
                                var innerDeferredResult;
                                var records;
                                var i, c;
                                innerDeferredResult = new MochiKit.Async.Deferred();
                                records = [];
                                c = someRecordValues.length;
                                for (i = 0; i < c; i++) {
                                    innerDeferredResult.addCallback(MochiKit.Async.wait, 0.2);
                                    innerDeferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', {});
                                    innerDeferredResult.addCallback(MochiKit.Base.bind(function (someRecords, someData) {
                                        var data;
                                        var record;
                                        var recordVersion;
                                        var caption;
                                        var wordbreakfield;
                                        data = someData.replace(/\<WBR\>/g, "");
                                        hasNotes = false;
                                        /\<TD class\=caption colSpan\=3\>(.*?)\<\/TD\>/.test(data);
                                        caption = RegExp.$1;
                                        /\<TD class\=wordbreakfield vAlign=top align\=left width\=\"\1\0\0\%\"\>(.*?)\<\/TD\>/.test(data);
                                        wordbreakfield = RegExp.$1;
                                        record = new Clipperz.PM.DataModel.Record({
                                            user: this.user()
                                        });
                                        recordVersion = record.currentVersion()
                                        record.setLabel(caption);
                                        record.setNotes(wordbreakfield);
                                        someRecords.push(record);
                                        return someRecords;
                                    }, this), records, someRecordValues[i]);
                                }
                                innerDeferredResult.addCallback(MochiKit.Async.succeed, records);
                                innerDeferredResult.callback();
                                return innerDeferredResult;
                            }, this));
                            deferredResult.callback(someData);
                            return deferredResult;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.Import) == 'undefined') {
                        Clipperz.PM.Components.Import = {};
                    }
                    Clipperz.PM.Components.Import.KeePassImportComponent = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.Import.KeePassImportComponent.superclass.constructor.call(this, anElement, args);
                        this._steps = ['EDIT', 'KEEPASS_SETTINGS', 'PREVIEW', 'IMPORT'];
                        this._definedFields = ['Group', 'Group Tree', 'UserName', 'URL', 'Password', 'Notes', 'UUID', 'Icon', 'Creation Time', 'Last Access', 'Last Modification', 'Expires', 'Attachment Description', 'Attachment'];
                        this.render();
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.Import.KeePassImportComponent, Clipperz.PM.Components.Import.GenericImportComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.Import.KeePassImportComponent component";
                        },
                        'render': function () {
                            this.domHelper().append(this.element(), {
                                tag: 'div',
                                cls: 'keePassImportWizard',
                                children: [{
                                    tag: 'h3',
                                    htmlString: Clipperz.PM.Strings['KeePass_ImportWizard_Title']
                                }, {
                                    tag: 'div',
                                    cls: 'importSteps',
                                    id: this.getId('importSteps')
                                }, {
                                    tag: 'div',
                                    cls: 'importStepBlocks',
                                    children: [{
                                        tag: 'div',
                                        cls: 'step_0',
                                        id: this.getId('step_0'),
                                        children: [{
                                            tag: 'div',
                                            children: [{
                                                tag: 'div',
                                                cls: 'importOptionsDescription',
                                                htmlString: Clipperz.PM.Strings['importOptions_keePass_description']
                                            }, {
                                                tag: 'div',
                                                cls: 'importOptionsParameters',
                                                children: []
                                            },
                                            this.textAreaConfig()]
                                        }]
                                    }, {
                                        tag: 'div',
                                        cls: 'step_1',
                                        id: this.getId('step_1'),
                                        children: [{
                                            tag: 'div',
                                            children: [{
                                                tag: 'div',
                                                id: this.getId('settingsDiv'),
                                                children: [{
                                                    tag: 'table',
                                                    id: 'KeePassSettings',
                                                    children: [{
                                                        tag: 'tbody',
                                                        children: [{
                                                            tag: 'tr',
                                                            children: [{
                                                                tag: 'td',
                                                                width: '50%',
                                                                valign: 'top',
                                                                children: [{
                                                                    tag: 'table',
                                                                    children: [{
                                                                        tag: 'tbody',
                                                                        children: [{
                                                                            tag: 'tr',
                                                                            children: [{
                                                                                tag: 'td',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'checkbox',
                                                                                    id: this.getId('Group_checkbox'),
                                                                                    name: 'Group'
                                                                                }]
                                                                            }, {
                                                                                tag: 'td',
                                                                                width: '150',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'span',
                                                                                    cls: 'keePassFieldLabel',
                                                                                    id: this.getId('Group_label'),
                                                                                    html: "Group"
                                                                                }]
                                                                            }]
                                                                        }, {
                                                                            tag: 'tr',
                                                                            children: [{
                                                                                tag: 'td',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'checkbox',
                                                                                    id: this.getId('Group Tree_checkbox'),
                                                                                    name: 'Group Tree'
                                                                                }]
                                                                            }, {
                                                                                tag: 'td',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'span',
                                                                                    cls: 'keePassFieldLabel',
                                                                                    id: this.getId('Group Tree_label'),
                                                                                    html: "Group Tree"
                                                                                }]
                                                                            }]
                                                                        }, {
                                                                            tag: 'tr',
                                                                            children: [{
                                                                                tag: 'td',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'checkbox',
                                                                                    id: this.getId('UserName_checkbox'),
                                                                                    name: 'UserName',
                                                                                    checked: true
                                                                                }]
                                                                            }, {
                                                                                tag: 'td',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'span',
                                                                                    cls: 'keePassFieldLabel',
                                                                                    id: this.getId('UserName_label'),
                                                                                    html: "UserName"
                                                                                }]
                                                                            }]
                                                                        }, {
                                                                            tag: 'tr',
                                                                            children: [{
                                                                                tag: 'td',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'checkbox',
                                                                                    id: this.getId('URL_checkbox'),
                                                                                    name: 'URL',
                                                                                    checked: true
                                                                                }]
                                                                            }, {
                                                                                tag: 'td',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'span',
                                                                                    cls: 'keePassFieldLabel',
                                                                                    id: this.getId('URL_label'),
                                                                                    html: "URL"
                                                                                }]
                                                                            }]
                                                                        }, {
                                                                            tag: 'tr',
                                                                            children: [{
                                                                                tag: 'td',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'checkbox',
                                                                                    id: this.getId('Password_checkbox'),
                                                                                    name: 'Password',
                                                                                    checked: true
                                                                                }]
                                                                            }, {
                                                                                tag: 'td',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'span',
                                                                                    cls: 'keePassFieldLabel',
                                                                                    id: this.getId('Password_label'),
                                                                                    html: "Password"
                                                                                }]
                                                                            }]
                                                                        }, {
                                                                            tag: 'tr',
                                                                            children: [{
                                                                                tag: 'td',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'checkbox',
                                                                                    id: this.getId('Notes_checkbox'),
                                                                                    name: 'Notes',
                                                                                    checked: true
                                                                                }]
                                                                            }, {
                                                                                tag: 'td',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'span',
                                                                                    cls: 'keePassFieldLabel',
                                                                                    id: this.getId('Notes_label'),
                                                                                    html: "Notes"
                                                                                }]
                                                                            }]
                                                                        }, {
                                                                            tag: 'tr',
                                                                            children: [{
                                                                                tag: 'td',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'checkbox',
                                                                                    id: this.getId('UUID_checkbox'),
                                                                                    name: 'UUID'
                                                                                }]
                                                                            }, {
                                                                                tag: 'td',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'span',
                                                                                    cls: 'keePassFieldLabel',
                                                                                    id: this.getId('UUID_label'),
                                                                                    html: "UUID"
                                                                                }]
                                                                            }]
                                                                        }]
                                                                    }]
                                                                }]
                                                            }, {
                                                                tag: 'td',
                                                                width: '50%',
                                                                valign: 'top',
                                                                children: [{
                                                                    tag: 'table',
                                                                    children: [{
                                                                        tag: 'tbody',
                                                                        children: [{
                                                                            tag: 'tr',
                                                                            children: [{
                                                                                tag: 'td',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'checkbox',
                                                                                    id: this.getId('Icon_checkbox'),
                                                                                    name: 'Icon'
                                                                                }]
                                                                            }, {
                                                                                tag: 'td',
                                                                                width: '150',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'span',
                                                                                    cls: 'keePassFieldLabel',
                                                                                    id: this.getId('Icon_label'),
                                                                                    html: "Icon"
                                                                                }]
                                                                            }]
                                                                        }, {
                                                                            tag: 'tr',
                                                                            children: [{
                                                                                tag: 'td',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'checkbox',
                                                                                    id: this.getId('Creation Time_checkbox'),
                                                                                    name: 'Creation Time'
                                                                                }]
                                                                            }, {
                                                                                tag: 'td',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'span',
                                                                                    cls: 'keePassFieldLabel',
                                                                                    id: this.getId('Creation Time_label'),
                                                                                    html: "Creation Time"
                                                                                }]
                                                                            }]
                                                                        }, {
                                                                            tag: 'tr',
                                                                            children: [{
                                                                                tag: 'td',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'checkbox',
                                                                                    id: this.getId('Last Access_checkbox'),
                                                                                    name: 'Last Access'
                                                                                }]
                                                                            }, {
                                                                                tag: 'td',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'span',
                                                                                    cls: 'keePassFieldLabel',
                                                                                    id: this.getId('Last Access_label'),
                                                                                    html: "Last Access"
                                                                                }]
                                                                            }]
                                                                        }, {
                                                                            tag: 'tr',
                                                                            children: [{
                                                                                tag: 'td',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'checkbox',
                                                                                    id: this.getId('Last Modification_checkbox'),
                                                                                    name: 'Last Modification'
                                                                                }]
                                                                            }, {
                                                                                tag: 'td',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'span',
                                                                                    cls: 'keePassFieldLabel',
                                                                                    id: this.getId('Last Modification_label'),
                                                                                    html: "Last Modification"
                                                                                }]
                                                                            }]
                                                                        }, {
                                                                            tag: 'tr',
                                                                            children: [{
                                                                                tag: 'td',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'checkbox',
                                                                                    id: this.getId('Expires_checkbox'),
                                                                                    name: 'Expires'
                                                                                }]
                                                                            }, {
                                                                                tag: 'td',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'span',
                                                                                    cls: 'keePassFieldLabel',
                                                                                    id: this.getId('Expires_label'),
                                                                                    html: "Expires"
                                                                                }]
                                                                            }]
                                                                        }, {
                                                                            tag: 'tr',
                                                                            children: [{
                                                                                tag: 'td',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'checkbox',
                                                                                    id: this.getId('Attachment Description_checkbox'),
                                                                                    name: 'Attachment Description',
                                                                                    checked: true
                                                                                }]
                                                                            }, {
                                                                                tag: 'td',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'span',
                                                                                    cls: 'keePassFieldLabel',
                                                                                    id: this.getId('Attachment Description_label'),
                                                                                    html: "Attachment Description"
                                                                                }]
                                                                            }]
                                                                        }, {
                                                                            tag: 'tr',
                                                                            children: [{
                                                                                tag: 'td',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'input',
                                                                                    type: 'checkbox',
                                                                                    id: this.getId('Attachment_checkbox'),
                                                                                    name: 'Attachment',
                                                                                    checked: true
                                                                                }]
                                                                            }, {
                                                                                tag: 'td',
                                                                                valign: 'top',
                                                                                children: [{
                                                                                    tag: 'span',
                                                                                    cls: 'keePassFieldLabel',
                                                                                    id: this.getId('Attachment_label'),
                                                                                    html: "Attachment"
                                                                                }]
                                                                            }]
                                                                        }]
                                                                    }]
                                                                }]
                                                            }]
                                                        }]
                                                    }]
                                                }]
                                            }]
                                        }]
                                    }, {
                                        tag: 'div',
                                        cls: 'step_2',
                                        id: this.getId('step_2'),
                                        children: [{
                                            tag: 'div',
                                            children: [{
                                                tag: 'div',
                                                id: this.getId('previewDiv'),
                                                html: "preview"
                                            }]
                                        }]
                                    }, {
                                        tag: 'div',
                                        cls: 'step_3',
                                        id: this.getId('step_3'),
                                        children: [{
                                            tag: 'div',
                                            children: [{
                                                tag: 'h4',
                                                html: "done"
                                            }]
                                        }]
                                    }]
                                }, {
                                    tag: 'div',
                                    cls: 'importOptionsButtons',
                                    children: [{
                                        tag: 'table',
                                        children: [{
                                            tag: 'tbody',
                                            children: [{
                                                tag: 'tr',
                                                children: [{
                                                    tag: 'td',
                                                    html: '&nbsp;'
                                                }, {
                                                    tag: 'td',
                                                    children: [{
                                                        tag: 'div',
                                                        id: this.getId('backActionButton')
                                                    }]
                                                }, {
                                                    tag: 'td',
                                                    html: '&nbsp;'
                                                }, {
                                                    tag: 'td',
                                                    children: [{
                                                        tag: 'div',
                                                        id: this.getId('nextActionButton')
                                                    }]
                                                }, {
                                                    tag: 'td',
                                                    html: '&nbsp;'
                                                }]
                                            }]
                                        }]
                                    }]
                                }]
                            });
                            this.updateSteps();
                            this.setBackButton(new YAHOO.ext.Button(this.getDom('backActionButton'), {
                                text: "back",
                                handler: this.backAction,
                                scope: this
                            }));
                            this.setNextButton(new YAHOO.ext.Button(this.getDom('nextActionButton'), {
                                text: "next",
                                handler: this.nextAction,
                                scope: this
                            }));
                            this.getElement('step_0').setVisibilityMode(YAHOO.ext.Element.DISPLAY).show()
                            this.getElement('step_1').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                            this.getElement('step_2').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                            this.getElement('step_3').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                        },
                        'nextAction': function () {
                            switch (this.currentStep()) {
                            case 0:
                                Clipperz.PM.Components.MessageBox.showProgressPanel(MochiKit.Base.method(this, 'deferredParseValues'), MochiKit.Base.method(this, 'handleParseError'), this.getDom('nextActionButton'));
                                break;
                            case 1:
                                this.previewValues();
                                break;
                            case 2:
                                this.importValues();
                                break;
                            }
                        },
                        'deferredParseValues': function () {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'parseImportData');
                            deferredResult.addCallback(MochiKit.Base.bind(function (res) {
                                this.startProcessing();
                                return res;
                            }, this));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'parseKeePassValues'));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'setParsedValues'));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'showSettings'));
                            deferredResult.addCallback(MochiKit.Base.bind(function (res) {
                                this.processingDone();
                                this.getElement('step_0').hide();
                                this.getElement('step_1').show();
                                this.backButton().enable();
                                return res;
                            }, this));
                            deferredResult.callback(this.textAreaContent());
                            return deferredResult;
                        },
                        'deferredPreviewValues': function () {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'previewImportData');
                            deferredResult.addCallback(MochiKit.Base.bind(function (res) {
                                this.startProcessing();
                                return res;
                            }, this));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'processKeePassParsedValues'));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'setProcessedValues'));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'previewRecordValues'));
                            deferredResult.addCallback(MochiKit.Base.bind(function (res) {
                                this.processingDone();
                                this.getElement('step_1').hide();
                                this.getElement('step_2').show();
                                this.backButton().enable();
                                return res;
                            }, this));
                            deferredResult.callback(this.parsedValues());
                            return deferredResult;
                        },
                        'definedFields': function () {
                            return this._definedFields;
                        },
                        'parseKeePassValues': function (someData) {
                            var deferredResult;
                            var keePassProcessor;
                            keePassProcessor = new Clipperz.KeePassExportProcessor();
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(function (res) {
                                return Clipperz.NotificationCenter.deferredNotification(this, 'updatedProgressState', {
                                    steps: (res.length)
                                }, res);
                            })
                            deferredResult.addCallback(MochiKit.Base.method(keePassProcessor, 'deferredParse'));
                            deferredResult.callback(someData);
                            return deferredResult;
                        },
                        'showSettings': function (someValues) {
                            var availableFields;
                            var i, c;
                            availableFields = new Clipperz.Set();
                            c = this.parsedValues().length;
                            for (i = 0; i < c; i++) {
                                var fieldLabel;
                                for (fieldLabel in this.parsedValues()[i]) {
                                    availableFields.add(fieldLabel);
                                }
                            }
                            c = this.definedFields().length;
                            for (i = 0; i < c; i++) {
                                var definedField;
                                definedField = this.definedFields()[i];
                                if (availableFields.contains(definedField)) {
                                    this.getDom(definedField + '_checkbox').disabled = false;
                                    this.getElement(definedField + '_label').removeClass('disabled');
                                } else {
                                    this.getDom(definedField + '_checkbox').disabled = true;
                                    this.getDom(definedField + '_checkbox').checked = false;
                                    this.getElement(definedField + '_label').addClass('disabled');
                                }
                            }
                            return MochiKit.Async.succeed(someValues);
                        },
                        'shouldImportField': function (aFieldName) {
                            var fieldCheckbox;
                            var result;
                            fieldCheckbox = MochiKit.DOM.getElement(this.getId(aFieldName + '_checkbox'));
                            if (fieldCheckbox != null) {
                                result = fieldCheckbox.checked;
                            } else {
                                result = false;
                            }
                            return result;
                        },
                        'processKeePassParsedValues': function (someValues) {
                            var deferredResult;
                            var records;
                            var i, c;
                            deferredResult = new MochiKit.Async.Deferred();
                            records = [];
                            c = someValues.length;
                            deferredResult.addCallback(function (res) {
                                return Clipperz.NotificationCenter.deferredNotification(this, 'updatedProgressState', {
                                    steps: c
                                }, res);
                            })
                            for (i = 0; i < c; i++) {
                                deferredResult.addCallback(MochiKit.Async.wait, 0.2);
                                deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', {});
                                deferredResult.addCallback(MochiKit.Base.bind(function (someRecords, someData) {
                                    var record;
                                    var recordVersion;
                                    var ii;
                                    record = new Clipperz.PM.DataModel.Record({
                                        user: this.user()
                                    });
                                    record.setLabel(someData['Title']);
                                    if (this.shouldImportField('Notes')) {
                                        record.setNotes(someData['Notes']);
                                    }
                                    recordVersion = record.currentVersion()
                                    for (ii in someData) {
                                        if ((ii != 'Title') && (ii != 'Notes') && (typeof (someData[ii]) != "undefined") && (this.shouldImportField(ii))) {
                                            var recordField;
                                            var recordFieldType;
                                            recordFieldType = 'TXT';
                                            if (ii == 'Password') {
                                                recordFieldType = 'PWD';
                                            } else if (ii == 'URL') {
                                                recordFieldType = 'URL';
                                            } else if ((ii == 'Creation Time') || (ii == 'Last Access') || (ii == 'Last Modification') || (ii == 'Expires')) {
                                                recordFieldType = 'Date';
                                            }
                                            recordField = new Clipperz.PM.DataModel.RecordField({
                                                recordVersion: recordVersion,
                                                label: ii,
                                                value: someData[ii],
                                                type: recordFieldType
                                            });
                                            recordVersion.addField(recordField);
                                        }
                                    }
                                    someRecords.push(record);
                                    return someRecords;
                                }, this), records, someValues[i]);
                            }
                            deferredResult.addCallback(MochiKit.Async.succeed, records);
                            deferredResult.callback();
                            return deferredResult;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.Printing) == 'undefined') {
                        Clipperz.PM.Components.Printing = {};
                    }
                    Clipperz.PM.Components.Printing.Record = function (args) {
                        args = args || {};
                        this._record = args['record'];
                        return this;
                    }
                    MochiKit.Base.update(Clipperz.PM.Components.Printing.Record.prototype, {
                        'record': function () {
                            return this._record;
                        },
                        'deferredDrawToWindow': function (aWindow) {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(this.record(), 'deferredData'));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'appendToWindow', aWindow));
                            deferredResult.callback();
                            return deferredResult;
                        },
                        'appendToWindow': function (aWindow) {
                            MochiKit.DOM.withWindow(aWindow, MochiKit.Base.bind(function () {
                                var newBlock;
                                var fields;
                                fields = MochiKit.Base.concat(MochiKit.Base.map(MochiKit.Base.bind(function (aField) {
                                    var result;
                                    var dt, dd;
                                    var label, value;
                                    label = aField.label();
                                    value = aField.value();
                                    dt = MochiKit.DOM.createDOM('DT', null, label);
                                    dd = MochiKit.DOM.createDOM('DD', null, value)
                                    result = [dt, dd];
                                    return result
                                }, this), MochiKit.Base.values(this.record().currentVersion().fields())));
                                newBlock = MochiKit.DOM.DIV({
                                    'class': 'recordBlock'
                                }, MochiKit.DOM.H2(null, this.record().label()), MochiKit.DOM.DIV({
                                    'class': 'recordNotes'
                                }, MochiKit.Base.map(MochiKit.Base.partial(MochiKit.DOM.P, null), this.record().notes().split("\n"))), MochiKit.DOM.createDOM('DL', null, fields));
                                MochiKit.DOM.appendChildNodes(MochiKit.DOM.currentDocument().body, newBlock);
                            }, this));
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.OTP) == 'undefined') {
                        Clipperz.PM.Components.OTP = {};
                    }
                    Clipperz.PM.Components.OTP.MainComponent = function (anElement, args) {
                        args = args || {};
                        Clipperz.PM.Components.OTP.MainComponent.superclass.constructor.call(this, anElement, args);
                        this._user = args.user;
                        this._shouldRender = true;
                        this._deleteButton = null;
                        this._printButton = null;
                        Clipperz.NotificationCenter.register(null, 'tabSelected', this, 'tabSelectedHandler');
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Components.OTP.MainComponent, Clipperz.PM.Components.BaseComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.OTP.MainComponent component";
                        },
                        'render': function () {
                            Clipperz.NotificationCenter.unregister(this);
                            MochiKit.Signal.disconnectAllTo(this);
                            if (Clipperz.PM.Proxy.defaultProxy.isReadOnly()) {
                                this.element().update("");
                                this.domHelper().append(this.element(), {
                                    tag: 'div',
                                    cls: 'oneTimePasswordReadOnlyMessage',
                                    htmlString: Clipperz.PM.Strings['oneTimePasswordReadOnlyMessage']
                                });
                            } else {
                                var deferredResult;
                                deferredResult = new MochiKit.Async.Deferred();
                                deferredResult.addCallback(MochiKit.Base.bind(function () {
                                    this.element().update("");
                                    Clipperz.YUI.DomHelper.append(this.element(), {
                                        tag: 'div',
                                        htmlString: Clipperz.PM.Strings['oneTimePasswordLoadingMessage']
                                    });
                                }, this));
                                deferredResult.addCallback(MochiKit.Base.method(this.user(), 'loadOneTimePasswords'));
                                deferredResult.addCallback(MochiKit.Base.bind(function (aResult) {
                                    var tbodyElement;
                                    var oneTimePasswordReferenceKeys;
                                    var imageExtension;
                                    var isThereAnyActiveOneTimePassword;
                                    isThereAnyActiveOneTimePassword = false;
                                    this.element().update("");
                                    Clipperz.YUI.DomHelper.append(this.element(), {
                                        tag: 'div',
                                        id: 'oneTimePasswordList',
                                        children: [{
                                            tag: 'div',
                                            id: 'oneTimePasswords_header',
                                            children: [{
                                                tag: 'table',
                                                width: '100%',
                                                children: [{
                                                    tag: 'tbody',
                                                    children: [{
                                                        tag: 'tr',
                                                        children: [{
                                                            tag: 'td',
                                                            width: '10%',
                                                            children: [{
                                                                tag: 'div',
                                                                id: this.getId('createNewOneTimePasswordButton')
                                                            }]
                                                        }, {
                                                            tag: 'td',
                                                            width: '40%',
                                                            children: [{
                                                                tag: 'div',
                                                                id: this.getId('deleteSelectedOneTimePasswordButton')
                                                            }]
                                                        }, {
                                                            tag: 'td',
                                                            width: '50%',
                                                            align: 'right',
                                                            children: [{
                                                                tag: 'div',
                                                                id: this.getId('printOneTimePasswordButton')
                                                            }]
                                                        }]
                                                    }]
                                                }]
                                            }, {
                                                tag: 'div',
                                                children: [{
                                                    tag: 'ul',
                                                    children: [{
                                                        tag: 'li',
                                                        children: [{
                                                            tag: 'span',
                                                            htmlString: Clipperz.PM.Strings['oneTimePasswordSelectionLink_selectLabel']
                                                        }]
                                                    }, {
                                                        tag: 'li',
                                                        children: [{
                                                            tag: 'a',
                                                            href: '#',
                                                            id: this.getId('selectAllOneTimePasswords_link'),
                                                            htmlString: Clipperz.PM.Strings['oneTimePasswordSelectionLink_all']
                                                        }]
                                                    }, {
                                                        tag: 'li',
                                                        children: [{
                                                            tag: 'a',
                                                            href: '#',
                                                            id: this.getId('selectNoneOneTimePasswords_link'),
                                                            htmlString: Clipperz.PM.Strings['oneTimePasswordSelectionLink_none']
                                                        }]
                                                    }, {
                                                        tag: 'li',
                                                        children: [{
                                                            tag: 'a',
                                                            href: '#',
                                                            id: this.getId('selectUsedOneTimePasswords_link'),
                                                            htmlString: Clipperz.PM.Strings['oneTimePasswordSelectionLink_used']
                                                        }]
                                                    }, {
                                                        tag: 'li',
                                                        children: [{
                                                            tag: 'a',
                                                            href: '#',
                                                            id: this.getId('selectUnusedOneTimePasswords_link'),
                                                            htmlString: Clipperz.PM.Strings['oneTimePasswordSelectionLink_unused']
                                                        }]
                                                    }]
                                                }]
                                            }]
                                        }, {
                                            tag: 'form',
                                            id: this.getId('oneTimePasswords_form'),
                                            children: [{
                                                tag: 'table',
                                                cls: 'oneTimePassword',
                                                cellspacing: '0',
                                                cellpadding: '2',
                                                children: [{
                                                    tag: 'tbody',
                                                    id: this.getId('oneTimePasswords_tbody'),
                                                    children: []
                                                }]
                                            }]
                                        }]
                                    });
                                    imageExtension = (Clipperz_IEisBroken == true) ? 'gif' : 'png';
                                    tbodyElement = this.getElement('oneTimePasswords_tbody');
                                    oneTimePasswordReferenceKeys = MochiKit.Base.keys(this.user().oneTimePasswordManager().oneTimePasswords()).reverse();
                                    c = oneTimePasswordReferenceKeys.length;
                                    if (c > 0) {
                                        for (i = 0; i < c; i++) {
                                            var otpReference;
                                            var currentOTP;
                                            var loginSessionInfoConfig;
                                            imageExtension = (Clipperz_IEisBroken == true) ? 'gif' : 'png';
                                            otpReference = oneTimePasswordReferenceKeys[i];
                                            currentOTP = this.user().oneTimePasswordManager().oneTimePasswords()[otpReference];
                                            switch (currentOTP.status()) {
                                            case 'USED':
                                                var loginSessionInfo;
                                                loginSessionInfo = currentOTP.connectionInfo();
                                                try {
                                                    var ip;
                                                    ip = (currentOTP.connectionInfo()['ip'].match(/^\d{1,3}(.\d{1,3}){3}$/)) ? currentOTP.connectionInfo()['ip'] : Clipperz.PM.Strings['unknown_ip'];
                                                    loginSessionInfoConfig = [{
                                                        tag: 'div',
                                                        cls: 'oneTimePassword_usageDateDescription',
                                                        children: [{
                                                            tag: 'span',
                                                            cls: 'value',
                                                            html: Clipperz.PM.Date.getElapsedTimeDescription(currentOTP.usageDate())
                                                        }]
                                                    }, {
                                                        tag: 'div',
                                                        cls: 'oneTimePassword_usageDetails',
                                                        children: [{
                                                            tag: 'img',
                                                            cls: 'flag',
                                                            title: Clipperz.PM.Strings['countries'][loginSessionInfo['country']],
                                                            src: Clipperz.PM.Strings['icons_baseUrl'] + "/flags/" + loginSessionInfo['country'].toLowerCase() + "." + imageExtension,
                                                            width: '32',
                                                            height: '32'
                                                        }, {
                                                            tag: 'img',
                                                            cls: 'browser',
                                                            title: Clipperz.PM.Strings['browsers'][loginSessionInfo['browser']],
                                                            src: Clipperz.PM.Strings['icons_baseUrl'] + "/browsers/" + loginSessionInfo['browser'].toLowerCase() + "." + imageExtension,
                                                            width: '32',
                                                            height: '32'
                                                        }, {
                                                            tag: 'img',
                                                            cls: 'operatingSystem',
                                                            title: Clipperz.PM.Strings['operatingSystems'][loginSessionInfo['operatingSystem']],
                                                            src: Clipperz.PM.Strings['icons_baseUrl'] + "/operatingSystems/" + loginSessionInfo['operatingSystem'].toLowerCase() + "." + imageExtension,
                                                            width: '32',
                                                            height: '32'
                                                        }]
                                                    }, {
                                                        tag: 'div',
                                                        cls: 'oneTimePassword_usageDate',
                                                        html: Clipperz.PM.Date.formatDateWithTemplate(currentOTP.usageDate(), Clipperz.PM.Strings['fullDate_format'])
                                                    }, {
                                                        tag: 'div',
                                                        cls: 'oneTimePassword_IP',
                                                        children: [{
                                                            tag: 'span',
                                                            cls: 'oneTimePassword_IPLabel',
                                                            htmlString: Clipperz.PM.Strings['loginHistoryIPLabel']
                                                        }, {
                                                            tag: 'span',
                                                            cls: 'oneTimePassword_IPValue',
                                                            html: ip
                                                        }]
                                                    }];
                                                } catch (exception) {
                                                    MochiKit.Logging.logWarning("an error occured while showing the One Time Password session details");
                                                    loginSessionInfoConfig = [];
                                                }
                                                break;
                                            case 'DISABLED':
                                                loginSessionInfoConfig = [{
                                                    tag: 'span',
                                                    cls: 'disabledOneTimePassword',
                                                    htmlString: Clipperz.PM.Strings['disabledOneTimePassword_warning']
                                                }];
                                                break;
                                            case 'ACTIVE':
                                            default:
                                                loginSessionInfoConfig = [];
                                                break;
                                            }
                                            if (currentOTP.isExpired() == false) {
                                                isThereAnyActiveOneTimePassword = true;
                                            };
                                            this.domHelper().append(tbodyElement, {
                                                tag: 'tr',
                                                cls: (currentOTP.isExpired() ? 'oneTimePassword_used' : 'oneTimePassword_new'),
                                                children: [{
                                                    tag: 'td',
                                                    valign: 'top',
                                                    children: [{
                                                        tag: 'input',
                                                        type: 'checkbox',
                                                        cls: 'otpCheckbox',
                                                        name: currentOTP.reference()
                                                    }]
                                                }, {
                                                    tag: 'td',
                                                    valign: 'top',
                                                    children: [{
                                                        tag: 'span',
                                                        cls: 'oneTimePassword_value',
                                                        html: currentOTP.password()
                                                    }]
                                                }, {
                                                    tag: 'td',
                                                    valign: 'top',
                                                    children: [{
                                                        tag: 'div',
                                                        cls: 'oneTimePassword_usageStats',
                                                        children: loginSessionInfoConfig
                                                    }]
                                                }]
                                            });
                                        }
                                    } else {
                                        this.domHelper().append(tbodyElement, {
                                            tag: 'tr',
                                            children: [{
                                                tag: 'td',
                                                children: [{
                                                    tag: 'div',
                                                    cls: 'oneTimePassword_noPasswordPresent',
                                                    htmlString: Clipperz.PM.Strings['oneTimePasswordNoPasswordAvailable']
                                                }]
                                            }]
                                        });
                                    }
                                    new YAHOO.ext.Button(this.getDom('createNewOneTimePasswordButton'), {
                                        text: Clipperz.PM.Strings['createNewOTPButtonLabel'],
                                        handler: this.createNewOneTimePassword,
                                        scope: this
                                    });
                                    this.setDeleteButton(new YAHOO.ext.Button(this.getDom('deleteSelectedOneTimePasswordButton'), {
                                        text: Clipperz.PM.Strings['deleteOTPButtonLabel'],
                                        handler: this.deleteSelectedOneTimePasswords,
                                        scope: this
                                    }));
                                    this.setPrintButton(new YAHOO.ext.Button(this.getDom('printOneTimePasswordButton'), {
                                        text: Clipperz.PM.Strings['printOTPButtonLabel'],
                                        handler: this.printOneTimePasswords,
                                        scope: this
                                    }));
                                    MochiKit.Signal.connect(this.getId('selectAllOneTimePasswords_link'), 'onclick', this, 'selectAllOneTimePasswords');
                                    MochiKit.Signal.connect(this.getId('selectNoneOneTimePasswords_link'), 'onclick', this, 'selectNoneOneTimePasswords');
                                    MochiKit.Signal.connect(this.getId('selectUsedOneTimePasswords_link'), 'onclick', this, 'selectUsedOneTimePasswords');
                                    MochiKit.Signal.connect(this.getId('selectUnusedOneTimePasswords_link'), 'onclick', this, 'selectUnusedOneTimePasswords');
                                    MochiKit.Base.map(MochiKit.Base.bind(function (aCheckbox) {
                                        MochiKit.Signal.connect(aCheckbox, 'onclick', this, 'handleCheckboxClick');
                                    }, this), this.oneTimePasswordCheckboxes());
                                    this.updateDeleteButtonStatus();
                                    if (isThereAnyActiveOneTimePassword == true) {
                                        this.printButton().enable();
                                    } else {
                                        this.printButton().disable();
                                    }
                                    Clipperz.NotificationCenter.register(null, 'oneTimePassword_saveChanges_done', this, 'render');
                                }, this));
                                deferredResult.callback();
                            }
                        },
                        'printOneTimePasswords': function () {
                            var newWindow;
                            var activeOneTimePasswords;
                            newWindow = window.open("", "");
                            newWindow.document.write("<html>" + "<header>" + " <title>Clipperz One Time Password</title>" + "<style>" + "div.oneTimePassword_print h2 {" + " font-family: monospace;" + " font-weight: normal;" + " padding: 10px 20px;" + "}" + "</style>" + "" + "<!--[if IE]>" + "<style>" + "</style>" + "<![endif]-->" + "" + "</header>" + "<body>" + "</body>" + "</html>");
                            activeOneTimePasswords = MochiKit.Base.filter(function (aOneTimePassword) {
                                return (aOneTimePassword.isExpired() == false)
                            }, MochiKit.Base.values(this.user().oneTimePasswordManager().oneTimePasswords()).reverse());
                            MochiKit.Iter.forEach(activeOneTimePasswords, MochiKit.Base.partial(function (aWindow, aOneTimePassword) {
                                MochiKit.DOM.withWindow(aWindow, MochiKit.Base.partial(function (aOneTimePassword) {
                                    var newBlock;
                                    newBlock = MochiKit.DOM.DIV({
                                        'class': 'oneTimePassword_print'
                                    }, MochiKit.DOM.H2(null, aOneTimePassword.password()));
                                    MochiKit.DOM.appendChildNodes(MochiKit.DOM.currentDocument().body, newBlock);
                                }, aOneTimePassword));
                            }, newWindow));
                        },
                        'generateRandomBase32OTPValue': function (aButton) {
                            var randomValue;
                            var result;
                            randomValue = Clipperz.Crypto.PRNG.defaultRandomGenerator().getRandomBytes(160 / 8);
                            result = randomValue.toBase32String();
                            result = result.replace(/.{4}\B/g, '$&' + ' ');
                            result = result.replace(/(.{4} ){2}/g, '$&' + '- ');
                            return result;
                        },
                        'createNewOneTimePassword': function () {
                            var newOneTimePassword;
                            var password;
                            password = this.generateRandomBase32OTPValue();
                            newOneTimePassword = new Clipperz.PM.DataModel.OneTimePassword({
                                user: this.user(),
                                password: password
                            });
                            this.user().oneTimePasswordManager().addOneTimePassword(newOneTimePassword);
                            Clipperz.PM.Components.MessageBox.showProgressPanel(MochiKit.Base.method(newOneTimePassword, 'saveChanges'), null, this.getDom('createNewOneTimePasswordButton'));
                        },
                        'oneTimePasswordCheckboxes': function () {
                            return MochiKit.DOM.getElementsByTagAndClassName('input', 'otpCheckbox', this.getId('oneTimePasswords_tbody'));
                        },
                        'checkedOneTimePasswordCheckboxes': function () {
                            return MochiKit.Base.filter(function (aCheckbox) {
                                return (aCheckbox.checked == true)
                            }, this.oneTimePasswordCheckboxes());
                        },
                        'selectAllOneTimePasswords': function (anEvent) {
                            var checkboxes;
                            var i, c;
                            anEvent.stop();
                            checkboxes = this.oneTimePasswordCheckboxes();
                            c = checkboxes.length;
                            for (i = 0; i < c; i++) {
                                checkboxes[i].checked = true;
                            }
                            this.updateDeleteButtonStatus();
                        },
                        'selectNoneOneTimePasswords': function (anEvent) {
                            var checkboxes;
                            var i, c;
                            anEvent.stop();
                            checkboxes = this.oneTimePasswordCheckboxes();
                            c = checkboxes.length;
                            for (i = 0; i < c; i++) {
                                checkboxes[i].checked = false;
                            }
                            this.updateDeleteButtonStatus();
                        },
                        'selectUsedOneTimePasswords': function (anEvent) {
                            var checkboxes;
                            var oneTimePasswordManager;
                            var i, c;
                            anEvent.stop();
                            oneTimePasswordManager = this.user().oneTimePasswordManager();
                            checkboxes = this.oneTimePasswordCheckboxes();
                            c = checkboxes.length;
                            for (i = 0; i < c; i++) {
                                var matchingOneTimePassword;
                                matchingOneTimePassword = oneTimePasswordManager.oneTimePasswordWithReference(checkboxes[i].name);
                                checkboxes[i].checked = matchingOneTimePassword.isExpired();
                            }
                            this.updateDeleteButtonStatus();
                        },
                        'selectUnusedOneTimePasswords': function (anEvent) {
                            var checkboxes;
                            var oneTimePasswordManager;
                            var i, c;
                            anEvent.stop();
                            oneTimePasswordManager = this.user().oneTimePasswordManager();
                            checkboxes = this.oneTimePasswordCheckboxes();
                            c = checkboxes.length;
                            for (i = 0; i < c; i++) {
                                var matchingOneTimePassword;
                                matchingOneTimePassword = oneTimePasswordManager.oneTimePasswordWithReference(checkboxes[i].name);
                                checkboxes[i].checked = !matchingOneTimePassword.isExpired();
                            }
                            this.updateDeleteButtonStatus();
                        },
                        'handleCheckboxClick': function (anEvent) {
                            this.updateDeleteButtonStatus();
                        },
                        'deleteSelectedOneTimePasswords': function () {
                            var deferredResult;
                            var otpToDelete;
                            var i, c;
                            otpToDelete = this.checkedOneTimePasswordCheckboxes();
                            c = otpToDelete.length;
                            for (i = 0; i < c; i++) {
                                this.user().oneTimePasswordManager().deleteOneTimePasswordWithReference(otpToDelete[i].name);
                            };
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(Clipperz.PM.Components.MessageBox.showProgressPanel, MochiKit.Base.method(this.user().oneTimePasswordManager(), 'saveChanges'), null, null);
                            deferredResult.addCallback(MochiKit.Base.method(this, 'render'));
                            deferredResult.callback();
                        },
                        'user': function () {
                            return this._user;
                        },
                        'shouldRender': function () {
                            return this._shouldRender;
                        },
                        'setShouldRender': function (aValue) {
                            this._shouldRender = aValue;
                        },
                        'tabSelectedHandler': function (anEvent) {
                            if ((this.shouldRender()) && (anEvent.source().selectedTab() == 'manageOTPTab')) {
                                this.render();
                                this.setShouldRender(false);
                            }
                        },
                        'deleteButton': function () {
                            return this._deleteButton;
                        },
                        'setDeleteButton': function (aValue) {
                            this._deleteButton = aValue;
                        },
                        'updateDeleteButtonStatus': function () {
                            if (this.checkedOneTimePasswordCheckboxes().length > 0) {
                                this.deleteButton().enable();
                            } else {
                                this.deleteButton().disable();
                            }
                        },
                        'printButton': function () {
                            return this._printButton;
                        },
                        'setPrintButton': function (aValue) {
                            this._printButton = aValue;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.Compact) == 'undefined') {
                        Clipperz.PM.Components.Compact = {};
                    }
                    Clipperz.PM.Components.Compact.CompactHeader = function (anElement, args) {
                        Clipperz.PM.Components.Compact.CompactHeader.superclass.constructor.call(this, anElement, args);
                        this.render();
                        return this;
                    };
                    YAHOO.extendX(Clipperz.PM.Components.Compact.CompactHeader, Clipperz.PM.Components.BaseComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.Compact.CompactHeader";
                        },
                        'render': function () {
                            this.element().update("");
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'div',
                                children: [{
                                    tag: 'img',
                                    src: './images/logo.gif'
                                }, {
                                    tag: 'div',
                                    id: 'lockBlock',
                                    children: [{
                                        tag: 'input',
                                        type: 'checkbox',
                                        id: 'autolock'
                                    }, {
                                        tag: 'span',
                                        html: 'auto'
                                    }, {
                                        tag: 'a',
                                        href: '#',
                                        htmlString: Clipperz.PM.Strings['lockMenuLabel'],
                                        id: 'lock'
                                    }]
                                }]
                            });
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'div',
                                id: 'compactMiscLinks',
                                children: [{
                                    tag: 'a',
                                    id: 'donateHeaderIconLink',
                                    target: '_parent',
                                    href: Clipperz.PM.Strings['donateHeaderLinkUrl'],
                                    children: [{
                                        tag: 'img',
                                        id: 'donateHeaderLinkIcon',
                                        src: './images/smiles_small.gif'
                                    }]
                                }, {
                                    tag: 'ul',
                                    children: [{
                                        tag: 'li',
                                        children: [{
                                            tag: 'a',
                                            id: 'donateHeaderLink',
                                            html: 'donate',
                                            target: '_parent'
                                        }]
                                    }, {
                                        tag: 'li',
                                        children: [{
                                            tag: 'a',
                                            id: 'creditsHeaderLink',
                                            html: 'credits',
                                            target: '_parent'
                                        }]
                                    }, {
                                        tag: 'li',
                                        children: [{
                                            tag: 'a',
                                            id: 'feedbackHeaderLink',
                                            html: 'feedback',
                                            target: '_parent'
                                        }]
                                    }, {
                                        tag: 'li',
                                        children: [{
                                            tag: 'a',
                                            id: 'helpHeaderLink',
                                            html: 'help',
                                            target: '_parent'
                                        }]
                                    }, {
                                        tag: 'li',
                                        children: [{
                                            tag: 'a',
                                            id: 'forumHeaderLink',
                                            html: 'forum',
                                            target: '_parent'
                                        }]
                                    }]
                                }]
                            });
                            YAHOO.ext.Element.get('lockBlock').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                            Clipperz.NotificationCenter.notify(this, 'switchLanguage');
                        },
                        __syntaxFix__: '__syntaxFix__'
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.Compact) == 'undefined') {
                        Clipperz.PM.Components.Compact = {};
                    }
                    Clipperz.PM.Components.Compact.LoginForm = function (anElement, args) {
                        Clipperz.PM.Components.Compact.LoginForm.superclass.constructor.call(this, anElement, args);
                        this.render();
                        Clipperz.NotificationCenter.register(null, 'updatedProgressState', this, 'userNotificationHandler')
                        return this;
                    };
                    YAHOO.extendX(Clipperz.PM.Components.Compact.LoginForm, Clipperz.PM.Components.BaseComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.Compact.LoginForm";
                        },
                        'render': function () {
                            var result;
                            var layout;
                            MochiKit.Signal.disconnectAllTo(this);
                            this.element().update("");
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'div',
                                id: this.getId('baseDiv'),
                                cls: 'LoginPanel',
                                children: [{
                                    tag: 'div',
                                    id: 'compactHeader'
                                }, {
                                    tag: 'div',
                                    id: 'compactBody',
                                    children: [{
                                        tag: 'form',
                                        id: this.getId('loginForm_form'),
                                        children: [{
                                            tag: 'dl',
                                            children: [{
                                                tag: 'dt',
                                                htmlString: Clipperz.PM.Strings['loginFormUsernameLabel']
                                            }, {
                                                tag: 'dd',
                                                children: [{
                                                    tag: 'input',
                                                    id: this.getId('login_username'),
                                                    type: 'text',
                                                    size: '30',
                                                    name: 'username'
                                                }]
                                            }, {
                                                tag: 'dt',
                                                htmlString: Clipperz.PM.Strings['loginFormPassphraseLabel']
                                            }, {
                                                tag: 'dd',
                                                children: [{
                                                    tag: 'input',
                                                    id: this.getId('login_passphrase'),
                                                    type: 'password',
                                                    size: '30',
                                                    name: 'passphrase'
                                                }]
                                            }]
                                        }, {
                                            tag: 'div',
                                            id: this.getId('login_submit')
                                        }]
                                    }, {
                                        tag: 'h4',
                                        id: this.getId('message')
                                    }]
                                }]
                            });
                            new Clipperz.PM.Components.Compact.CompactHeader(YAHOO.ext.Element.get('compactHeader'));
                            MochiKit.Signal.connect(this.getId('loginForm_form'), 'onsubmit', this, 'stopFormSubmit');
                            new YAHOO.ext.Button(this.getId('login_submit'), {
                                text: Clipperz.PM.Strings['loginFormButtonLabel'],
                                handler: this.doLogin,
                                scope: this,
                                minWidth: 0
                            });
                            this.getElement('login_submit').swallowEvent('click', true);
                            MochiKit.Signal.connect(this.getId('loginForm_form'), 'onkeydown', this, 'onkeydown');
                            new Clipperz.PM.Components.PasswordEntropyDisplay(this.getElement('login_passphrase'));
                            this.getElement('login_username').focus();
                            return result;
                        },
                        'doLogin': function (e) {
                            if (this.checkLoginForm()) {
                                this.doLoginWithUsernameAndPassphrase(this.getDom('login_username').value, this.getDom('login_passphrase').value);
                            }
                        },
                        'doLoginWithUsernameAndPassphrase': function (anUsername, aPassphrase) {
                            var deferredResult;
                            var user;
                            user = new Clipperz.PM.DataModel.User({
                                username: anUsername,
                                passphrase: aPassphrase
                            });
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(user, 'connect'));
                            deferredResult.addCallback(MochiKit.Base.method(user, 'loadPreferences'));
                            deferredResult.addCallback(MochiKit.Base.method(user, 'loadRecords'));
                            deferredResult.addCallback(MochiKit.Base.method(user, 'loadDirectLogins'));
                            deferredResult.addErrback(MochiKit.Base.bind(function () {
                                this.getElement('loginForm_form').setVisibilityMode(YAHOO.ext.Element.DISPLAY).show();
                                this.getElement('message').update(Clipperz.PM.Strings['loginMessagePanelFailureText']);
                                this.getDom('login_passphrase').value = "";
                                this.getElement('login_passphrase').focus();
                            }, this))
                            deferredResult.callback("token");
                            return deferredResult;
                        },
                        'checkLoginForm': function () {
                            var result;
                            var username
                            var passphrase;
                            username = this.getDom('login_username').value;
                            passphrase = this.getDom('login_passphrase').value;
                            if ((username != "") && (passphrase != "")) {
                                result = true;
                            } else {
                                if (username == "") {
                                    this.getElement('login_username').focus();
                                } else if (passphrase == "") {
                                    this.getElement('login_passphrase').focus();
                                }
                                result = false;
                            }
                            return result;
                        },
                        'stopFormSubmit': function (anEvent) {
                            anEvent.stop();
                        },
                        'onkeydown': function (anEvent) {
                            if (anEvent.key().code == 13) {
                                this.doLogin();
                                anEvent.stop();
                            }
                        },
                        'userNotificationHandler': function (anEvent) {
                            this.getElement('loginForm_form').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                            if (this.getDom('message') != null) {
                                this.getElement('message').update(Clipperz.PM.Strings.messagePanelConfigurations[anEvent.parameters()]()['text']);
                            }
                        },
                        __syntaxFix__: '__syntaxFix__'
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Components) == 'undefined') {
                        Clipperz.PM.Components = {};
                    }
                    if (typeof (Clipperz.PM.Components.Compact) == 'undefined') {
                        Clipperz.PM.Components.Compact = {};
                    }
                    Clipperz.PM.Components.Compact.CompactInterface = function (anElement, args) {
                        Clipperz.PM.Components.Compact.CompactInterface.superclass.constructor.call(this, anElement, args);
                        this._directLoginItemTemplate = null;
                        this._user = args.user;
                        this._autoLockTimer = null;
                        Clipperz.NotificationCenter.register(null, 'updatedProgressState', this, 'userNotificationHandler')
                        Clipperz.NotificationCenter.register(null, 'directLoginAdded', this, 'directLoginAddedHandler');
                        this.render();
                        return this;
                    };
                    YAHOO.extendX(Clipperz.PM.Components.Compact.CompactInterface, Clipperz.PM.Components.BaseComponent, {
                        'toString': function () {
                            return "Clipperz.PM.Components.Compact.CompactInterface";
                        },
                        'render': function () {
                            var result;
                            var layout;
                            var registerButton;
                            this.element().update("");
                            Clipperz.YUI.DomHelper.append(this.element().dom, {
                                tag: 'div',
                                children: [{
                                    tag: 'div',
                                    id: this.getId('cantentPanel'),
                                    children: [{
                                        tag: 'h4',
                                        id: this.getId('message')
                                    }, {
                                        tag: 'ul',
                                        id: 'directLogins',
                                        children: []
                                    }]
                                }, {
                                    tag: 'div',
                                    id: this.getId('lockPanel'),
                                    cls: 'lockPanel',
                                    children: [{
                                        tag: 'div',
                                        htmlString: Clipperz.PM.Strings['lockDescription']
                                    }, {
                                        tag: 'form',
                                        id: 'lockDialogForm',
                                        children: [{
                                            tag: 'input',
                                            type: 'password',
                                            id: this.getId('lockPassphrase')
                                        }]
                                    }, {
                                        tag: 'div',
                                        id: this.getId('unlock')
                                    }]
                                }]
                            });
                            this.getElement('lockPanel').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                            YAHOO.ext.Element.get('lockBlock').show();
                            MochiKit.Signal.connect(YAHOO.ext.Element.get('lock').dom, 'onclick', this, 'doLockEventHandler');
                            new YAHOO.ext.Button(this.getId('unlock'), {
                                text: Clipperz.PM.Strings['unlockButtonLabel'],
                                handler: this.doUnlockEventHandler,
                                scope: this,
                                minWidth: 0
                            });
                            this.getElement('unlock').swallowEvent('click', true);
                            new Clipperz.PM.Components.PasswordEntropyDisplay(this.getElement('lockPassphrase'));
                            MochiKit.Signal.connect('lockDialogForm', 'onsubmit', this, 'doUnlockEventHandler');
                            this.getElement('cantentPanel').setVisibilityMode(YAHOO.ext.Element.DISPLAY);
                            return result;
                        },
                        'directLoginAddedHandler': function (anEvent) {
                            this.redrawDirectLoginItems();
                        },
                        'compareDirectLogins': function (a, b) {
                            return MochiKit.Base.compare(a.label().toLowerCase(), b.label().toLowerCase());
                        },
                        'redrawDirectLoginItems': function () {
                            var template;
                            var allDirectLogins;
                            this.getElement('message').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide();
                            MochiKit.Iter.forEach(YAHOO.ext.Element.get('directLogins').getChildrenByTagName('li'), function (aDirectLoginElement) {
                                MochiKit.Signal.disconnectAll(aDirectLoginElement.dom);
                                MochiKit.Signal.disconnectAll(aDirectLoginElement.getChildrenByTagName('img')[0].dom);
                            })
                            YAHOO.ext.Element.get('directLogins').update("");
                            allDirectLogins = MochiKit.Base.values(this.user().directLoginReferences());
                            allDirectLogins.sort(this.compareDirectLogins);
                            template = this.directLoginItemTemplate();
                            MochiKit.Iter.forEach(allDirectLogins, MochiKit.Base.bind(function (aDirectLogin) {
                                var directLoginElement;
                                var faviconImageElementID;
                                faviconImageElementID = aDirectLogin.reference() + "_faviconIMG";
                                directLoginElement = template.append('directLogins', {
                                    elementID: faviconImageElementID,
                                    faviconUrl: aDirectLogin.fixedFavicon(),
                                    directLoginTitle: aDirectLogin.label(),
                                    directLoginReference: aDirectLogin.reference()
                                }, true);
                                directLoginElement.addClassOnOver("hover");
                                MochiKit.Signal.connect(directLoginElement.dom, 'onclick', this, 'handleDirectLoginClick');
                                MochiKit.Signal.connect(faviconImageElementID, 'onload', this, 'handleLoadedFaviconImage');
                                MochiKit.Signal.connect(faviconImageElementID, 'onerror', aDirectLogin, 'handleMissingFaviconImage');
                                MochiKit.Signal.connect(faviconImageElementID, 'onabort', aDirectLogin, 'handleMissingFaviconImage');
                            }, this));
                            this.resetAutoLockTimer();
                        },
                        'directLoginItemTemplate': function () {
                            if (this._directLoginItemTemplate == null) {
                                this._directLoginItemTemplate = Clipperz.YUI.DomHelper.createTemplate({
                                    tag: 'li',
                                    id: '{directLoginReference}',
                                    children: [{
                                        tag: 'table',
                                        border: '0',
                                        cellpadding: '0',
                                        cellspacing: '0',
                                        children: [{
                                            tag: 'tbody',
                                            children: [{
                                                tag: 'tr',
                                                children: [{
                                                    tag: 'td',
                                                    width: '20',
                                                    align: 'center',
                                                    valign: 'top',
                                                    children: [{
                                                        tag: 'img',
                                                        id: '{elementID}',
                                                        src: '{faviconUrl}'
                                                    }]
                                                }, {
                                                    tag: 'td',
                                                    valign: 'top',
                                                    children: [{
                                                        tag: 'a',
                                                        cls: 'directLoginItemTitle',
                                                        html: '{directLoginTitle}'
                                                    }]
                                                }]
                                            }]
                                        }]
                                    }]
                                });
                                this._directLoginItemTemplate.compile();
                            }
                            return this._directLoginItemTemplate;
                        },
                        'handleDirectLoginClick': function (anEvent) {
                            var directLoginReference;
                            directLoginReference = this.user().directLoginReferences()[anEvent.src().id];
                            this.openDirectLogin(directLoginReference);
                            this.resetAutoLockTimer();
                        },
                        'openDirectLogin': function (aDirectLoginReference) {

                            var deferredResult;
                            var newWindow;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(aDirectLoginReference, 'setupJumpPageWindow'));
                            deferredResult.addCallback(MochiKit.Base.method(aDirectLoginReference, 'deferredDirectLogin'));
                            deferredResult.addCallback(function (aDirectLogin) {
                                aDirectLogin.runDirectLogin(newWindow);
                            });
                            newWindow = window.open(Clipperz.PM.Strings['directLoginJumpPageUrl'], "");
                            deferredResult.callback(newWindow);
                        },
                        'handleLoadedFaviconImage': function (anEvent) {
                            MochiKit.Signal.disconnectAll(anEvent.src())
                        },
                        'doLockEventHandler': function (anEvent) {
                            anEvent.stop();
                            this.lock();
                        },
                        'doUnlockEventHandler': function (anEvent) {
                            if (typeof (anEvent.stop) != 'undefined') {
                                anEvent.stop();
                            }
                            this.unlock();
                        },
                        'autolock': function () {
                            var shouldAutoLock;
                            shouldAutoLock = YAHOO.ext.Element.get('autolock').dom.checked;
                            if (shouldAutoLock) {
                                this.lock();
                            } else {
                                this.resetAutoLockTimer();
                            }
                        },
                        'lock': function () {
                            this.getDom('lockPassphrase').value = "";
                            this.getElement('lockPanel').show();
                            this.getElement('cantentPanel').hide();
                            YAHOO.ext.Element.get('lockBlock').hide();
                        },
                        'unlock': function (anEvent) {
                            if (this.getDom('lockPassphrase').value == this.user().passphrase()) {
                                this.getElement('lockPanel').hide();
                                this.getElement('cantentPanel').show();
                                YAHOO.ext.Element.get('lockBlock').show();
                                this.resetAutoLockTimer();
                            } else {
                                this.getDom('lockPassphrase').value = "";
                                this.getElement('lockPassphrase').focus();
                            }
                        },
                        'user': function () {
                            return this._user;
                        },
                        'autoLockTimer': function () {
                            if (this._autoLockTimer == null) {
                                this._autoLockTimer = MochiKit.Async.callLater(60, MochiKit.Base.method(this, 'autolock'));
                            }
                            return this._autoLockTimer;
                        },
                        'resetAutoLockTimer': function () {
                            this.autoLockTimer().cancel();
                            this._autoLockTimer = null;
                            this.autoLockTimer();
                        },
                        'userNotificationHandler': function (anEvent) {
                            this.getElement('message').update(anEvent.parameters().text);
                        },
                        __syntaxFix__: '__syntaxFix__'
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    Clipperz.PM.Toll = function (args) {
                        this._requestType = args.requestType;
                        this._targetValue = args.targetValue;
                        this._cost = args.cost;
                        this._toll = null;
                        return this;
                    }
                    Clipperz.PM.Toll.prototype = MochiKit.Base.update(null, {
                        'toString': function () {
                            return "Clipperz.PM.Toll (" + this.requestType() + ": " + this.cost() + " - " + ((this.toll() == null) ? 'UNPAID' : 'PAID') + ")";
                        },
                        'requestType': function () {
                            return this._requestType;
                        },
                        'targetValue': function () {
                            return this._targetValue;
                        },
                        'cost': function () {
                            return this._cost;
                        },
                        'toll': function () {
                            return this._toll;
                        },
                        'prefixMatchingBits': function (aValue1, aValue2) {
                            var result;
                            var i, c;
                            result = 0;
                            c = Math.min(aValue1.length(), aValue2.length());
                            i = 0;
                            while (i < c && (aValue1.byteAtIndex(i) == aValue2.byteAtIndex(i))) {
                                result += 8;
                                i++;
                            }
                            if (i < c) {
                                var xorValue;
                                xorValue = (aValue1.byteAtIndex(i) ^ aValue2.byteAtIndex(i));
                                if (xorValue >= 128) {
                                    result += 0;
                                } else if (xorValue >= 64) {
                                    result += 1;
                                } else if (xorValue >= 32) {
                                    result += 2;
                                } else if (xorValue >= 16) {
                                    result += 3;
                                } else if (xorValue >= 8) {
                                    result += 4;
                                } else if (xorValue >= 4) {
                                    result += 5;
                                } else if (xorValue >= 2) {
                                    result += 6;
                                } else if (xorValue >= 1) {
                                    result += 7;
                                }
                            }
                            return result;
                        },
                        'pay': function () {
                            var result;
                            var targetData;
                            var targetMatchSize;
                            var prefixMatchingBits;
                            var payment;
                            var i;
                            if (this.toll() == null) {
                                i = 0;
                                targetData = new Clipperz.ByteArray("0x" + this.targetValue());
                                targetMatchSize = this.cost();
                                payment = Clipperz.Crypto.PRNG.defaultRandomGenerator().getRandomBytes(32);
                                do {
                                    var paymentData;
                                    payment.increment();
                                    paymentData = Clipperz.Crypto.SHA.sha256(payment);
                                    prefixMatchingBits = this.prefixMatchingBits(targetData, paymentData);
                                    i++;
                                } while (prefixMatchingBits < targetMatchSize);
                                this._toll = payment.toHexString().substring(2)
                            }
                            return this;
                        },
                        'deferredPay': function () {
                            var deferredResult;
                            var toll;
                            toll = this;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(toll, 'pay'));
                            deferredResult.addCallback(function (aToll) {
                                var result;
                                result = {
                                    targetValue: aToll.targetValue(),
                                    toll: aToll.toll()
                                };
                                return result;
                            });
                            deferredResult.callback();
                            return deferredResult;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    Clipperz.PM.Proxy = function (args) {
                        args = args || {};
                        this._shouldPayTolls = args.shouldPayTolls || false;
                        this._tolls = {
                            'CONNECT': [],
                            'REGISTER': [],
                            'MESSAGE': []
                        };
                        if (args.isDefault === true) {
                            Clipperz.PM.Proxy.defaultProxy = this;
                        }
                        return this;
                    }
                    Clipperz.PM.Proxy.prototype = MochiKit.Base.update(null, {
                        'toString': function () {
                            return "Clipperz.PM.Proxy";
                        },
                        'shouldPayTolls': function () {
                            return this._shouldPayTolls;
                        },
                        'tolls': function () {
                            return this._tolls;
                        },
                        'payToll': function (aRequestType, someParameters) {
                            var deferredResult;
                            if (this.shouldPayTolls()) {
                                deferredResult = new MochiKit.Async.Deferred();
                                if (this.tolls()[aRequestType].length == 0) {
                                    deferredResult.addCallback(MochiKit.Base.method(this, 'sendMessage', 'knock', {
                                        requestType: aRequestType
                                    }));
                                    deferredResult.addCallback(MochiKit.Base.method(this, 'setTollCallback'));
                                }
                                deferredResult.addCallback(MochiKit.Base.method(this.tolls()[aRequestType], 'pop'));
                                deferredResult.addCallback(MochiKit.Base.methodcaller('deferredPay'));
                                deferredResult.addCallback(function (aToll) {
                                    var result;
                                    result = {
                                        parameters: someParameters,
                                        toll: aToll
                                    }
                                    return result;
                                });
                                deferredResult.callback();
                            } else {
                                deferredResult = MochiKit.Async.succeed({
                                    parameters: someParameters
                                });
                            }
                            return deferredResult;
                        },
                        'addToll': function (aToll) {
                            this.tolls()[aToll.requestType()].push(aToll);
                        },
                        'setTollCallback': function (someParameters) {
                            if (typeof (someParameters['toll']) != 'undefined') {
                                this.addToll(new Clipperz.PM.Toll(someParameters['toll']));
                            }
                            return someParameters['result'];
                        },
                        'registration': function (someParameters) {
                            return this.processMessage('registration', someParameters, 'REGISTER');
                        },
                        'handshake': function (someParameters) {
                            return this.processMessage('handshake', someParameters, 'CONNECT');
                        },
                        'message': function (someParameters) {
                            return this.processMessage('message', someParameters, 'MESSAGE');
                        },
                        'logout': function (someParameters) {
                            return this.processMessage('logout', someParameters, 'MESSAGE');
                        },
                        'processMessage': function (aFunctionName, someParameters, aRequestType) {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(this, 'payToll', aRequestType));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'sendMessage', aFunctionName));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'setTollCallback'));
                            deferredResult.callback(someParameters);
                            return deferredResult;
                        },
                        'sendMessage': function () {
                            throw Clipperz.Base.exception.AbstractMethod;
                        },
                        'isReadOnly': function () {
                            return false;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    Clipperz.PM.Proxy.JSON = function (args) {
                        Clipperz.PM.Proxy.JSON.superclass.constructor.call(this, args);
                        this._url = args.url || Clipperz.Base.exception.raise('MandatoryParameter');
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Proxy.JSON, Clipperz.PM.Proxy, {
                        'toString': function () {
                            return "Clipperz.PM.Proxy.JSON";
                        },
                        'url': function () {
                            return this._url;
                        },
                        'sendMessage': function (aFunctionName, someParameters) {
                            var deferredResult;
                            var parameters;
                            parameters = {
                                method: aFunctionName,
                                parameters: Clipperz.Base.serializeJSON(someParameters)
                            };
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(function (aValue) {
                                MochiKit.Signal.signal(Clipperz.Signal.NotificationCenter, 'remoteRequestSent');
                                return aValue;
                            });
                            deferredResult.addCallback(MochiKit.Async.doXHR, this.url(), {
                                method: 'POST',
                                sendContent: MochiKit.Base.queryString(parameters),
                                headers: {
                                    "Content-Type": "application/x-www-form-urlencoded"
                                }
                            });
                            deferredResult.addCallback(function (aValue) {
                                MochiKit.Signal.signal(Clipperz.Signal.NotificationCenter, 'remoteRequestReceived');
                                return aValue;
                            });
                            deferredResult.addCallback(MochiKit.Base.itemgetter('responseText'));
                            deferredResult.addCallback(Clipperz.Base.evalJSON);
                            deferredResult.addCallback(function (someValues) {

                                if (someValues['result'] == 'EXCEPTION') {
                                    throw someValues['message'];
                                }
                                return someValues;
                            })
                            deferredResult.callback();
                            return deferredResult;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    Clipperz.PM.Proxy.Offline = function (args) {
                        args = args || {};
                        Clipperz.PM.Proxy.Offline.superclass.constructor.call(this, args);
                        this._dataStore = args.dataStore || new Clipperz.PM.Proxy.Offline.DataStore(args);
                        return this;
                    }
                    YAHOO.extendX(Clipperz.PM.Proxy.Offline, Clipperz.PM.Proxy, {
                        'toString': function () {
                            return "Clipperz.PM.Proxy.Offline";
                        },
                        'dataStore': function () {
                            return this._dataStore;
                        },
                        'sendMessage': function (aFunctionName, someParameters) {
                            return this.dataStore().processMessage(aFunctionName, someParameters);
                        },
                        'isReadOnly': function () {
                            return true;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    try {
                        if (typeof (Clipperz.PM.Proxy.Offline) == 'undefined') {
                            throw "";
                        }
                    } catch (e) {
                        throw "Clipperz.PM.Proxy.Offline.DataStore depends on Clipperz.PM.Proxy.Offline!";
                    }
                    Clipperz.PM.Proxy.Offline.DataStore = function (args) {
                        args = args || {};
                        this._data = args.data || (typeof (_clipperz_dump_data_) != 'undefined' ? _clipperz_dump_data_ : null);
                        this._isReadOnly = (typeof (args.readOnly) == 'undefined' ? true : args.readOnly);
                        this._shouldPayTolls = args.shouldPayTolls || false;
                        this._tolls = {};
                        this._connections = {};
                        this._b = null;
                        this._B = null;
                        this._A = null;
                        this._userData = null;
                        return this;
                    }
                    Clipperz.PM.Proxy.Offline.DataStore.prototype = MochiKit.Base.update(null, {
                        'isReadOnly': function () {
                            return this._isReadOnly;
                        },
                        'shouldPayTolls': function () {
                            return this._shouldPayTolls;
                        },
                        'data': function () {
                            return this._data;
                        },
                        'tolls': function () {
                            return this._tolls;
                        },
                        'connections': function () {
                            return this._connections;
                        },
                        'resetData': function () {
                            this._data = {
                                'users': {
                                    'catchAllUser': {
                                        __masterkey_test_value__: 'masterkey',
                                        s: '112233445566778899aabbccddeeff00112233445566778899aabbccddeeff00',
                                        v: '112233445566778899aabbccddeeff00112233445566778899aabbccddeeff00'
                                    }
                                }
                            };
                        },
                        'setupWithEncryptedData': function (someData) {
                            this._data = Clipperz.Base.deepClone(someData);
                        },
                        'setupWithData': function (someData) {
                            var deferredResult;
                            var resultData;
                            var i, c;
                            resultData = this._data;
                            deferredResult = new MochiKit.Async.Deferred();
                            c = someData['users'].length;
                            for (i = 0; i < c; i++) {
                                var newConnection;
                                var recordConfiguration;
                                deferredResult.addCallback(MochiKit.Base.method(this, 'userSerializedEncryptedData', someData['users'][i]));
                                deferredResult.addCallback(MochiKit.Base.bind(function (aUserSerializationContext) {
                                    resultData['users'][aUserSerializationContext['credentials']['C']] = {
                                        's': aUserSerializationContext['credentials']['s'],
                                        'v': aUserSerializationContext['credentials']['v'],
                                        'version': aUserSerializationContext['data']['connectionVersion'],
                                        'userDetails': aUserSerializationContext['encryptedData']['user']['header'],
                                        'userDetailsVersion': aUserSerializationContext['encryptedData']['user']['version'],
                                        'statistics': aUserSerializationContext['encryptedData']['user']['statistics'],
                                        'lock': aUserSerializationContext['encryptedData']['user']['lock'],
                                        'records': this.rearrangeRecordsData(aUserSerializationContext['encryptedData']['records'])
                                    }
                                }, this));
                            }
                            deferredResult.addCallback(MochiKit.Base.bind(function () {
                                this._data = resultData;
                            }, this));
                            deferredResult.callback();
                            return deferredResult;
                        },
                        'b': function () {
                            return this._b;
                        },
                        'set_b': function (aValue) {
                            this._b = aValue;
                        },
                        'B': function () {
                            return this._B;
                        },
                        'set_B': function (aValue) {
                            this._B = aValue;
                        },
                        'A': function () {
                            return this._A;
                        },
                        'set_A': function (aValue) {
                            this._A = aValue;
                        },
                        'userData': function () {
                            return this._userData;
                        },
                        'setUserData': function (aValue) {
                            this._userData = aValue;
                        },
                        'getTollForRequestType': function (aRequestType) {
                            var result;
                            var targetValue;
                            var cost;
                            targetValue = Clipperz.Crypto.PRNG.defaultRandomGenerator().getRandomBytes(32).toHexString().substring(2);
                            switch (aRequestType) {
                            case 'REGISTER':
                                cost = 5;
                                break;
                            case 'CONNECT':
                                cost = 5;
                                break;
                            case 'MESSAGE':
                                cost = 2;
                                break;
                            }
                            result = {
                                requestType: aRequestType,
                                targetValue: targetValue,
                                cost: cost
                            }
                            if (this.shouldPayTolls()) {
                                this.tolls()[targetValue] = result;
                            }
                            return result;
                        },
                        'checkToll': function (aFunctionName, someParameters) {
                            if (this.shouldPayTolls()) {
                                var localToll;
                                var tollParameters;
                                tollParameters = someParameters['toll'];
                                localToll = this.tolls()[tollParameters['targetValue']];
                                if (localToll != null) {
                                    if (!Clipperz.PM.Toll.validate(tollParameters['targetValue'], tollParameters['toll'], localToll['cost'])) {
                                        throw "Toll value too low.";
                                    };
                                } else {
                                    throw "Missing toll";
                                }
                            }
                        },
                        'processMessage': function (aFunctionName, someParameters) {
                            var result;
                            switch (aFunctionName) {
                            case 'knock':
                                result = this._knock(someParameters);
                                break;
                            case 'registration':
                                this.checkToll(aFunctionName, someParameters);
                                result = this._registration(someParameters.parameters);
                                break;
                            case 'handshake':
                                this.checkToll(aFunctionName, someParameters);
                                result = this._handshake(someParameters.parameters);
                                break;
                            case 'message':
                                this.checkToll(aFunctionName, someParameters);
                                result = this._message(someParameters.parameters);
                                break;
                            case 'logout':
                                result = this._logout(someParameters.parameters);
                                break;
                            }
                            return result;
                        },
                        '_knock': function (someParameters) {
                            var result;
                            result = {
                                toll: this.getTollForRequestType(someParameters['requestType'])
                            }
                            return result;
                        },
                        '_registration': function (someParameters) {
                            if (this.isReadOnly() == false) {
                                if (typeof (this.data()['users'][someParameters['credentials']['C']]) == 'undefined') {
                                    this.data()['users'][someParameters['credentials']['C']] = {
                                        's': someParameters['credentials']['s'],
                                        'v': someParameters['credentials']['v'],
                                        'version': someParameters['credentials']['version'],
                                        'lock': Clipperz.Crypto.Base.generateRandomSeed(),
                                        'userDetails': someParameters['user']['header'],
                                        'statistics': someParameters['user']['statistics'],
                                        'userDetailsVersion': someParameters['user']['version'],
                                        'records': {}
                                    }
                                } else {
                                    throw "user already exists";
                                }
                            } else {
                                throw Clipperz.PM.Proxy.Offline.DataStore.exception.ReadOnly;
                            }
                            result = {
                                result: {
                                    'lock': this.data()['users'][someParameters['credentials']['C']]['lock'],
                                    'result': 'done'
                                },
                                toll: this.getTollForRequestType('CONNECT')
                            }
                            return MochiKit.Async.succeed(result);
                        },
                        '_handshake': function (someParameters) {
                            var result;
                            var nextTollRequestType;
                            result = {};
                            if (someParameters.message == "connect") {
                                var userData;
                                var randomBytes;
                                var b, B, v;
                                userData = this.data()['users'][someParameters.parameters.C];
                                if ((typeof (userData) != 'undefined') && (userData['version'] == someParameters.version)) {
                                    this.setUserData(userData);
                                } else {
                                    this.setUserData(this.data()['users']['catchAllUser']);
                                }
                                randomBytes = Clipperz.Crypto.Base.generateRandomSeed();
                                this.set_b(new Clipperz.Crypto.BigInt(randomBytes, 16));
                                v = new Clipperz.Crypto.BigInt(this.userData()['v'], 16);
                                this.set_B(v.add(Clipperz.Crypto.SRP.g().powerModule(this.b(), Clipperz.Crypto.SRP.n())));
                                this.set_A(someParameters.parameters.A);
                                result['s'] = this.userData()['s'];
                                result['B'] = this.B().asString(16);
                                nextTollRequestType = 'CONNECT';
                            } else if (someParameters.message == "credentialCheck") {
                                var v, u, S, A, K, M1;
                                v = new Clipperz.Crypto.BigInt(this.userData()['v'], 16);
                                u = new Clipperz.Crypto.BigInt(Clipperz.PM.Crypto.encryptingFunctions.versions[someParameters.version].hash(new Clipperz.ByteArray(this.B().asString(10))).toHexString(), 16);
                                A = new Clipperz.Crypto.BigInt(this.A(), 16);
                                S = (A.multiply(v.powerModule(u, Clipperz.Crypto.SRP.n()))).powerModule(this.b(), Clipperz.Crypto.SRP.n());
                                K = Clipperz.PM.Crypto.encryptingFunctions.versions[someParameters.version].hash(new Clipperz.ByteArray(S.asString(10))).toHexString().slice(2);
                                M1 = Clipperz.PM.Crypto.encryptingFunctions.versions[someParameters.version].hash(new Clipperz.ByteArray(A.asString(10) + this.B().asString(10) + K)).toHexString().slice(2);
                                if (someParameters.parameters.M1 == M1) {
                                    var M2;
                                    M2 = Clipperz.PM.Crypto.encryptingFunctions.versions[someParameters.version].hash(new Clipperz.ByteArray(A.asString(10) + someParameters.parameters.M1 + K)).toHexString().slice(2);
                                    result['M2'] = M2;
                                } else {
                                    throw new Error("Client checksum verification failed! Expected <" + M1 + ">, received <" + someParameters.parameters.M1 + ">.", "Error");
                                }
                                nextTollRequestType = 'MESSAGE';
                            } else if (someParameters.message == "oneTimePassword") {
                                var otpData;
                                otpData = this.data()['onetimePasswords'][someParameters.parameters.oneTimePasswordKey];
                                try {
                                    if (typeof (otpData) != 'undefined') {
                                        if (otpData['status'] == 'ACTIVE') {
                                            if (otpData['key_checksum'] == someParameters.parameters.oneTimePasswordKeyChecksum) {
                                                result = {
                                                    'data': otpData['data'],
                                                    'version': otpData['version']
                                                }
                                                otpData['status'] = 'REQUESTED';
                                            } else {
                                                otpData['status'] = 'DISABLED';
                                                throw "The requested One Time Password has been disabled, due to a wrong keyChecksum";
                                            }
                                        } else {
                                            throw "The requested One Time Password was not active";
                                        }
                                    } else {
                                        throw "The requested One Time Password has not been found"
                                    }
                                } catch (exception) {
                                    result = {
                                        'data': Clipperz.PM.Crypto.randomKey(),
                                        'version': Clipperz.PM.Connection.communicationProtocol.currentVersion
                                    }
                                }
                                nextTollRequestType = 'CONNECT';
                            } else {
                                MochiKit.Logging.logError("Clipperz.PM.Proxy.Test.handshake - unhandled message: " + someParameters.message);
                            }
                            result = {
                                result: result,
                                toll: this.getTollForRequestType(nextTollRequestType)
                            }
                            return MochiKit.Async.succeed(result);
                        },
                        '_message': function (someParameters) {
                            var result;
                            result = {};
                            if (someParameters.message == 'getUserDetails') {
                                var recordsStats;
                                var recordReference;
                                recordsStats = {};
                                for (recordReference in this.userData()['records']) {
                                    recordsStats[recordReference] = {
                                        'updateDate': this.userData()['records'][recordReference]['updateDate']
                                    }
                                }
                                result['header'] = this.userDetails();
                                result['statistics'] = this.statistics();
                                result['maxNumberOfRecords'] = this.userData()['maxNumberOfRecords'];
                                result['version'] = this.userData()['userDetailsVersion'];
                                result['recordsStats'] = recordsStats;
                                if (this.isReadOnly() == false) {
                                    var lock;
                                    if (typeof (this.userData()['lock']) == 'undefined') {
                                        this.userData()['lock'] = "<<LOCK>>";
                                    }
                                    result['lock'] = this.userData()['lock'];
                                }
                            } else if (someParameters.message == 'getRecordDetail') {
                                recordData = this.userData()['records'][someParameters['parameters']['reference']];
                                result['reference'] = someParameters['parameters']['reference'];
                                result['data'] = recordData['data'];
                                result['version'] = recordData['version'];
                                result['creationData'] = recordData['creationDate'];
                                result['updateDate'] = recordData['updateDate'];
                                result['accessDate'] = recordData['accessDate'];
                                currentVersionData = recordData['versions'][recordData['currentVersion']];
                                result['currentVersion'] = {};
                                result['currentVersion']['reference'] = recordData['currentVersion'];
                                result['currentVersion']['version'] = currentVersionData['version'];
                                result['currentVersion']['header'] = currentVersionData['header'];
                                result['currentVersion']['data'] = currentVersionData['data'];
                                result['currentVersion']['creationData'] = currentVersionData['creationDate'];
                                result['currentVersion']['updateDate'] = currentVersionData['updateDate'];
                                result['currentVersion']['accessDate'] = currentVersionData['accessDate'];
                                if (typeof (currentVersionData['previousVersion']) != 'undefined') {
                                    result['currentVersion']['previousVersionKey'] = currentVersionData['previousVersionKey'];
                                    result['currentVersion']['previousVersion'] = currentVersionData['previousVersion'];
                                }
                            } else if (someParameters.message == 'upgradeUserCredentials') {
                                if (this.isReadOnly() == false) {
                                    var parameters;
                                    parameters = someParameters.parameters;
                                    if (parameters['C'] == null) {
                                        result = Clipperz.PM.DataModel.User.exception.CredentialUpgradeFailed;
                                    } else if (parameters['s'] == null) {
                                        result = Clipperz.PM.DataModel.User.exception.CredentialUpgradeFailed;
                                    } else if (parameters['v'] == null) {
                                        result = Clipperz.PM.DataModel.User.exception.CredentialUpgradeFailed;
                                    } else if (parameters['version'] != Clipperz.PM.Connection.communicationProtocol.currentVersion) {
                                        result = Clipperz.PM.DataModel.User.exception.CredentialUpgradeFailed;
                                    } else {
                                        result = {
                                            result: "done",
                                            parameters: parameters
                                        };
                                    }
                                } else {
                                    throw Clipperz.PM.Proxy.Offline.DataStore.exception.ReadOnly;
                                }
                            } else if (someParameters.message == 'saveChanges') {
                                if (this.isReadOnly() == false) {
                                    var i, c;
                                    if (this.userData()['lock'] != someParameters['parameters']['user']['lock']) {
                                        throw "the lock attribute is not processed correctly"
                                    }
                                    this.userData()['userDetails'] = someParameters['parameters']['user']['header'];
                                    this.userData()['statistics'] = someParameters['parameters']['user']['statistics'];
                                    this.userData()['userDetailsVersions'] = someParameters['parameters']['user']['version'];
                                    c = someParameters['parameters']['records']['updated'].length;
                                    for (i = 0; i < c; i++) {
                                        var currentRecord;
                                        var currentRecordData;
                                        currentRecordData = someParameters['parameters']['records']['updated'][i];
                                        currentRecord = this.userData()['records'][currentRecordData['record']['reference']];
                                        if ((typeof (this.userData()['records'][currentRecordData['record']['reference']]) == 'undefined') && (typeof (currentRecordData['currentRecordVersion']) == 'undefined')) {
                                            throw "Record added without a recordVersion";
                                        }
                                        if (currentRecord == null) {
                                            currentRecord = {};
                                            currentRecord['versions'] = {};
                                            currentRecord['creationDate'] = Clipperz.PM.Date.formatDateWithUTCFormat(new Date());
                                            currentRecord['accessDate'] = Clipperz.PM.Date.formatDateWithUTCFormat(new Date());
                                            this.userData()['records'][currentRecordData['record']['reference']] = currentRecord;
                                        }
                                        currentRecord['data'] = currentRecordData['record']['data'];
                                        currentRecord['version'] = currentRecordData['record']['version'];
                                        currentRecord['updateDate'] = Clipperz.PM.Date.formatDateWithUTCFormat(new Date());
                                        if (typeof (currentRecordData['currentRecordVersion']) != 'undefined') {
                                            currentRecord['currentVersion'] = currentRecordData['currentRecordVersion']['reference'];
                                            currentRecord['versions'][currentRecordData['currentRecordVersion']['reference']] = {
                                                'data': currentRecordData['currentRecordVersion']['data'],
                                                'version': currentRecordData['currentRecordVersion']['version'],
                                                'previousVersion': currentRecordData['currentRecordVersion']['previousVersion'],
                                                'previousVersionKey': currentRecordData['currentRecordVersion']['previousVersionKey'],
                                                'creationDate': Clipperz.PM.Date.formatDateWithUTCFormat(new Date()),
                                                'updateDate': Clipperz.PM.Date.formatDateWithUTCFormat(new Date()),
                                                'accessDate': Clipperz.PM.Date.formatDateWithUTCFormat(new Date())
                                            }
                                        }
                                    }
                                    c = someParameters['parameters']['records']['deleted'].length;
                                    for (i = 0; i < c; i++) {
                                        var currentRecordReference;
                                        currentRecordReference = someParameters['parameters']['records']['deleted'][i];
                                        delete this.userData()['records'][currentRecordReference];
                                    }
                                    this.userData()['lock'] = Clipperz.PM.Crypto.randomKey();
                                    result['lock'] = this.userData()['lock'];
                                    result['result'] = 'done';
                                } else {
                                    throw Clipperz.PM.Proxy.Offline.DataStore.exception.ReadOnly;
                                }
                            } else {
                                MochiKit.Logging.logError("Clipperz.PM.Proxy.Test.message - unhandled message: " + someParameters.message);
                            }
                            result = {
                                result: result,
                                toll: this.getTollForRequestType('MESSAGE')
                            }
                            return MochiKit.Async.succeed(result);
                        },
                        '_logout': function (someParameters) {
                            return MochiKit.Async.succeed({
                                result: 'done'
                            });
                        },
                        'isTestData': function () {
                            return (typeof (this.userData()['__masterkey_test_value__']) != 'undefined');
                        },
                        'userDetails': function () {
                            var result;
                            if (this.isTestData()) {
                                var serializedHeader;
                                var version;
                                version = this.userData()['userDetailsVersion'];
                                serializedHeader = Clipperz.Base.serializeJSON(this.userData()['userDetails']);
                                result = Clipperz.PM.Crypto.encryptingFunctions.versions[version].encrypt(this.userData()['__masterkey_test_value__'], serializedHeader);
                            } else {
                                result = this.userData()['userDetails'];
                            }
                            return result;
                        },
                        'statistics': function () {
                            var result;
                            if (this.userData()['statistics'] != null) {
                                if (this.isTestData()) {
                                    var serializedStatistics;
                                    var version;
                                    version = this.userData()['userDetailsVersion'];
                                    serializedStatistics = Clipperz.Base.serializeJSON(this.userData()['statistics']);
                                    result = Clipperz.PM.Crypto.encryptingFunctions.versions[version].encrypt(this.userData()['__masterkey_test_value__'], serializedStatistics);
                                } else {
                                    result = this.userData()['statistics'];
                                }
                            } else {
                                result = null;
                            }
                            return result;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.PM.Proxy.Offline.DataStore['exception'] = {
                        'ReadOnly': new MochiKit.Base.NamedError("Clipperz.PM.Proxy.Offline.DataStore.exception.ReadOnly")
                    };
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    Clipperz.PM.Connection = function (args) {
                        args = args || {};
                        this._user = args.user;
                        this._clipperz_pm_crypto_version = null;
                        this._connectionId = null;
                        this._oneTimePassword = null;
                        return this;
                    }
                    Clipperz.PM.Connection.prototype = MochiKit.Base.update(null, {
                        'user': function () {
                            return this._user;
                        },
                        'toString': function () {
                            return "Connection [" + this.version() + "] - user: " + this.user();
                        },
                        'version': function () {
                            throw Clipperz.Base.exception.AbstractMethod;
                        },
                        'clipperz_pm_crypto_version': function () {
                            if (this._clipperz_pm_crypto_version == null) {
                                var connectionVersions;
                                var versions;
                                var version;
                                var i, c;
                                version = null;
                                connectionVersions = Clipperz.PM.Crypto.communicationProtocol.versions;
                                versions = MochiKit.Base.keys(connectionVersions);
                                c = versions.length;
                                for (i = 0; i < c; i++) {
                                    if (!(versions[i] == 'current')) {
                                        if (this instanceof connectionVersions[versions[i]]) {
                                            version = versions[i];
                                        };
                                    }
                                }
                                this._clipperz_pm_crypto_version = version;
                            }
                            return this._clipperz_pm_crypto_version;
                        },
                        'defaultErrorHandler': function (anErrorString, anException) {
                            MochiKit.Logging.logError("### Connection.defaultErrorHandler: " + anErrorString + " (" + anException + ")");
                        },
                        'login': function (someArguments, aCallback) {
                            throw Clipperz.Base.exception.AbstractMethod;
                        },
                        'message': function (someArguments, aCallback) {
                            throw Clipperz.Base.exception.AbstractMethod;
                        },
                        'sharedSecret': function () {
                            throw Clipperz.Base.exception.AbstractMethod;
                        },
                        'serverSideUserCredentials': function () {
                            throw Clipperz.Base.exception.AbstractMethod;
                        },
                        'connectionId': function () {
                            return this._connectionId;
                        },
                        'setConnectionId': function (aValue) {
                            this._connectionId = aValue;
                        },
                        'oneTimePassword': function () {
                            return this._oneTimePassword;
                        },
                        'setOneTimePassword': function (aValue) {
                            this._oneTimePassword = aValue;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz.PM.Connection.SRP) == 'undefined') {
                        Clipperz.PM.Connection.SRP = {};
                    }
                    Clipperz.PM.Connection.SRP['1.0'] = function (args) {
                        args = args || {};
                        Clipperz.PM.Connection.call(this, args);
                        this._C = null;
                        this._P = null;
                        this._srpConnection = null;
                        return this;
                    }
                    Clipperz.PM.Connection.SRP['1.0'].prototype = MochiKit.Base.update(new Clipperz.PM.Connection(), {
                        'version': function () {
                            return '1.0';
                        },
                        'register': function (anInvitationCode) {
                            var deferredResult;
                            var parameters;
                            parameters = {};
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'registration_verify');
                            deferredResult.addCallback(function (aConnection, anInvitationCode) {
                                var args;
                                args = {};
                                args.message = 'register';
                                args.version = aConnection.clipperz_pm_crypto_version();
                                args.invitationCode = anInvitationCode;
                                return args;
                            }, this);
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'registration_sendingCredentials');
                            deferredResult.addCallback(MochiKit.Base.method(this.user(), 'encryptedData'));
                            deferredResult.addCallback(function (someParameters, anUser, anEncryptedData) {
                                var currentVersionConnection;
                                var args;
                                currentVersionConnection = new Clipperz.PM.Crypto.communicationProtocol.versions['current']({
                                    user: anUser
                                });
                                args = someParameters
                                args.credentials = currentVersionConnection.serverSideUserCredentials();
                                args.user = anEncryptedData;
                                args.version = args.credentials.version;
                                args.message = "completeRegistration";
                                return args;
                            }, parameters, this.user());
                            deferredResult.addCallback(MochiKit.Base.method(Clipperz.PM.Proxy.defaultProxy, 'registration'));
                            deferredResult.addCallback(MochiKit.Base.bind(function (res) {
                                this.user().setLock(res['lock']);
                                return res;
                            }, this));
                            deferredResult.callback(anInvitationCode);
                            return deferredResult;
                        },
                        'login': function (isReconnecting) {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'connection_sendingCredentials');
                            deferredResult.addCallback(function (aConnection) {
                                var args;
                                args = {};
                                args.message = 'connect';
                                args.version = aConnection.clipperz_pm_crypto_version();
                                args.parameters = {};
                                args.parameters['C'] = aConnection.srpConnection().C();
                                args.parameters['A'] = aConnection.srpConnection().A().asString(16);
                                if (isReconnecting == true) {
                                    args.parameters['reconnecting'] = aConnection.connectionId();
                                }
                                return args;
                            });
                            deferredResult.addCallback(MochiKit.Base.method(Clipperz.PM.Proxy.defaultProxy, 'handshake'));
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'connection_credentialVerification');
                            deferredResult.addErrback(MochiKit.Base.bind(function (res) {
                                MochiKit.Logging.logDebug("ERROR - c: " + this.srpConnection().C() + " # version: " + this.clipperz_pm_crypto_version());
                                return res;
                            }, this));
                            deferredResult.addCallback(MochiKit.Base.bind(function (someParameters) {
                                var args;
                                this.srpConnection().set_s(new Clipperz.Crypto.BigInt(someParameters['s'], 16));
                                this.srpConnection().set_B(new Clipperz.Crypto.BigInt(someParameters['B'], 16));
                                if (typeof (someParameters['oneTimePassword']) != 'undefined') {
                                    this.setOneTimePassword(someParameters['oneTimePassword']);
                                }
                                args = {};
                                args.message = 'credentialCheck';
                                args.version = this.clipperz_pm_crypto_version();
                                args.parameters = {};
                                args.parameters['M1'] = this.srpConnection().M1();
                                return args;
                            }, this));
                            deferredResult.addCallback(MochiKit.Base.method(Clipperz.PM.Proxy.defaultProxy, 'handshake'));
                            deferredResult.addCallback(MochiKit.Base.bind(function (someParameters) {
                                var result;
                                if (someParameters['M2'] == this.srpConnection().M2()) {
                                    result = new MochiKit.Async.Deferred();
                                    this.setConnectionId(someParameters['connectionId']);
                                    this.user().setLoginInfo(someParameters['loginInfo']);
                                    this.user().setShouldDownloadOfflineCopy(someParameters['offlineCopyNeeded']);
                                    this.user().setLock(someParameters['lock']);
                                    if (this.oneTimePassword() != null) {
                                        result.addCallback(MochiKit.Base.method(this.user().oneTimePasswordManager(), 'archiveOneTimePassword', this.oneTimePassword()));
                                    }
                                    result.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'connection_loggedIn');
                                    result.addCallback(MochiKit.Async.succeed, someParameters);
                                    result.callback();
                                } else {
                                    result = MochiKit.Async.fail(Clipperz.PM.Connection.exception.WrongChecksum);
                                }
                                return result;
                            }, this));
                            deferredResult.callback(this);
                            return deferredResult;
                        },
                        'logout': function () {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(Clipperz.PM.Proxy.defaultProxy, 'logout'), {});
                            deferredResult.addCallback(MochiKit.Base.method(this, 'resetSrpConnection'));
                            deferredResult.callback();
                            return deferredResult;
                        },
                        'message': function (aMessageName, someParameters) {
                            var args;
                            var deferredResult;
                            args = {}
                            args['message'] = aMessageName;
                            args['srpSharedSecret'] = this.srpConnection().K();
                            if (someParameters != null) {
                                args['parameters'] = someParameters;
                            } else {
                                args['parameters'] = {};
                            }
                            return this.sendMessage(args);
                        },
                        'sendMessage': function (someArguments) {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(Clipperz.PM.Proxy.defaultProxy, 'message'), someArguments);
                            deferredResult.addCallback(MochiKit.Base.bind(function (res) {
                                if (typeof (res['lock']) != 'undefined') {
                                    this.user().setLock(res['lock']);
                                }
                                return res;
                            }, this));
                            deferredResult.addErrback(MochiKit.Base.method(this, 'messageExceptionHandler'), someArguments);
                            deferredResult.callback();
                            return deferredResult
                        },
                        'messageExceptionHandler': function (anOriginalMessageArguments, anError) {
                            var result;
                            if (anError instanceof MochiKit.Async.CancelledError) {
                                result = anError;
                            } else {
                                if ((anError.message == 'Trying to communicate without an active connection') || (anError.message == 'No tollManager available for current session')) {
                                    result = this.reestablishConnection(anOriginalMessageArguments);
                                } else if (anError.message == 'Session with stale data') {
                                    Clipperz.NotificationCenter.notify(this, 'EXCEPTION');
                                } else {
                                    result = anError;
                                }
                            }
                            return result;;
                        },
                        'reestablishConnection': function (anOriginalMessageArguments) {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(this, 'resetSrpConnection'));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'login'), true);
                            deferredResult.addCallback(MochiKit.Base.bind(function (aMessage) {
                                aMessage['srpSharedSecret'] = this.srpConnection().K();
                                return aMessage;
                            }, this), anOriginalMessageArguments);
                            deferredResult.addCallback(MochiKit.Base.method(this, 'sendMessage'));
                            deferredResult.addErrback(Clipperz.NotificationCenter.deferredNotification, this, 'EXCEPTION', null);
                            deferredResult.callback();
                            return deferredResult;
                        },
                        'sharedSecret': function () {
                            return this.srpConnection().K();
                        },
                        'serverSideUserCredentials': function () {
                            var result;
                            var newSrpConnection;
                            newSrpConnection = new Clipperz.Crypto.SRP.Connection({
                                C: this.C(),
                                P: this.P(),
                                hash: this.hash()
                            });
                            result = newSrpConnection.serverSideCredentials();
                            result['version'] = this.clipperz_pm_crypto_version();
                            return result;
                        },
                        'C': function () {
                            if (this._C == null) {
                                this._C = this.hash()(new Clipperz.ByteArray(this.user().username())).toHexString().substring(2);
                            }
                            return this._C;
                        },
                        'P': function () {
                            if (this._P == null) {
                                this._P = this.hash()(new Clipperz.ByteArray(this.user().passphrase() + this.user().username())).toHexString().substring(2);
                            }
                            return this._P;
                        },
                        'hash': function () {
                            return Clipperz.PM.Crypto.encryptingFunctions.versions['0.1'].hash;
                        },
                        'srpConnection': function () {
                            if (this._srpConnection == null) {
                                this._srpConnection = new Clipperz.Crypto.SRP.Connection({
                                    C: this.C(),
                                    P: this.P(),
                                    hash: this.hash()
                                });
                            }
                            return this._srpConnection;
                        },
                        'resetSrpConnection': function () {
                            this._C = null;
                            this._P = null;
                            this._srpConnection = null;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.PM.Connection.SRP['1.1'] = function (args) {
                        args = args || {};
                        Clipperz.PM.Connection.SRP['1.0'].call(this, args);
                        return this;
                    }
                    Clipperz.PM.Connection.SRP['1.1'].prototype = MochiKit.Base.update(new Clipperz.PM.Connection.SRP['1.0'](), {
                        'version': function () {
                            return '1.1';
                        },
                        'C': function () {
                            if (this._C == null) {
                                this._C = this.hash()(new Clipperz.ByteArray(this.user().username() + this.user().passphrase())).toHexString().substring(2);
                            }
                            return this._C;
                        },
                        'P': function () {
                            if (this._P == null) {
                                this._P = this.hash()(new Clipperz.ByteArray(this.user().passphrase() + this.user().username())).toHexString().substring(2);
                            }
                            return this._P;
                        },
                        'hash': function () {
                            return Clipperz.PM.Crypto.encryptingFunctions.versions['0.2'].hash;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.PM.Connection.exception = {
                        WrongChecksum: new MochiKit.Base.NamedError("Clipperz.ByteArray.exception.InvalidValue")
                    };
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.Crypto) == 'undefined') {
                        Clipperz.PM.Crypto = {};
                    }
                    Clipperz.PM.Crypto.VERSION = "0.2";
                    Clipperz.PM.Crypto.NAME = "Clipperz.PM.Crypto";
                    MochiKit.Base.update(Clipperz.PM.Crypto, {
                        '__repr__': function () {
                            return "[" + this.NAME + " " + this.VERSION + "]";
                        },
                        'toString': function () {
                            return this.__repr__();
                        },
                        'communicationProtocol': {
                            'currentVersion': '0.2',
                            'versions': {
                                '0.1': Clipperz.PM.Connection.SRP['1.0'],
                                '0.2': Clipperz.PM.Connection.SRP['1.1']
                            },
                            'fallbackVersions': {
                                'current': '0.1',
                                '0.2': '0.1',
                                '0.1': null
                            }
                        },
                        'encryptingFunctions': {
                            'currentVersion': '0.3',
                            'versions': {
                                '0.1': {
                                    'encrypt': function (aKey, aValue) {
                                        return Clipperz.Crypto.Base.encryptUsingSecretKey(aKey, Clipperz.Base.serializeJSON(aValue));
                                    },
                                    'deferredEncrypt': function (aKey, aValue) {
                                        var deferredResult;
                                        deferredResult = new MochiKit.Async.Deferred();
                                        deferredResult.addCallback(Clipperz.PM.Crypto.encryptingFunctions.versions['0.1'].encrypt, aKey, aValue);
                                        deferredResult.callback();
                                        return deferredResult;
                                    },
                                    'decrypt': function (aKey, aValue) {
                                        var result;
                                        if (aValue != null) {
                                            result = Clipperz.Base.evalJSON(Clipperz.Crypto.Base.decryptUsingSecretKey(aKey, aValue));
                                        } else {
                                            result = null;
                                        }
                                        return result;
                                    },
                                    'deferredDecrypt': function (aKey, aValue) {
                                        var deferredResult;
                                        deferredResult = new MochiKit.Async.Deferred();
                                        deferredResult.addCallback(Clipperz.PM.Crypto.encryptingFunctions.versions['0.1'].decrypt, aKey, aValue);
                                        deferredResult.callback();
                                        return deferredResult;
                                    },
                                    'hash': function (aValue) {
                                        var result;
                                        var strngResult;
                                        stringResult = Clipperz.Crypto.Base.computeHashValue(aValue.asString());
                                        result = new Clipperz.ByteArray("0x" + stringResult);
                                        return result;
                                    }
                                },
                                '0.2': {
                                    'encrypt': function (aKey, aValue, aNonce) {
                                        var result;
                                        var key, value;
                                        var dataToEncrypt;
                                        var encryptedData;
                                        key = Clipperz.Crypto.SHA.sha_d256(new Clipperz.ByteArray(aKey));
                                        value = new Clipperz.ByteArray(Clipperz.Base.serializeJSON(aValue));
                                        dataToEncrypt = Clipperz.Crypto.SHA.sha_d256(value).appendBlock(value);
                                        encryptedData = Clipperz.Crypto.AES.encrypt(key, dataToEncrypt, aNonce);
                                        result = encryptedData.toBase64String();
                                        return result;
                                    },
                                    'deferredEncrypt': function (aKey, aValue, aNonce) {
                                        var deferredResult;
                                        var key, value;
                                        var dataToEncrypt;
                                        var encryptedData;
                                        key = Clipperz.Crypto.SHA.sha_d256(new Clipperz.ByteArray(aKey));
                                        value = new Clipperz.ByteArray(Clipperz.Base.serializeJSON(aValue));
                                        dataToEncrypt = Clipperz.Crypto.SHA.sha_d256(value).appendBlock(value);
                                        deferredResult = new MochiKit.Async.Deferred()
                                        deferredResult.addCallback(Clipperz.Crypto.AES.deferredEncrypt, key, dataToEncrypt, aNonce);
                                        deferredResult.addCallback(function (aResult) {
                                            return aResult.toBase64String();
                                        })
                                        deferredResult.callback();
                                        return deferredResult;
                                    },
                                    'decrypt': function (aKey, aValue) {
                                        var result;
                                        if (aValue != null) {
                                            var key, value;
                                            var decryptedData;
                                            var decryptedData;
                                            key = Clipperz.Crypto.SHA.sha_d256(new Clipperz.ByteArray(aKey));
                                            value = new Clipperz.ByteArray().appendBase64String(aValue);
                                            decryptedData = Clipperz.Crypto.AES.decrypt(key, value);
                                            decryptedData = decryptedData.split((256 / 8));
                                            try {
                                                result = Clipperz.Base.evalJSON(decryptedData.asString());
                                            } catch (exception) {
                                                MochiKit.Logging.logError("Error while decrypting data");
                                                throw Clipperz.Crypto.Base.exception.CorruptedMessage;
                                            }
                                        } else {
                                            result = null;
                                        }
                                        return result;
                                    },
                                    'deferredDecrypt': function (aKey, aValue) {
                                        var result;
                                        if (aValue != null) {
                                            var deferredResult;
                                            var key, value;
                                            var decryptedData;
                                            result = new MochiKit.Async.Deferred();
                                            key = Clipperz.Crypto.SHA.sha_d256(new Clipperz.ByteArray(aKey));
                                            value = new Clipperz.ByteArray().appendBase64String(aValue);
                                            deferredResult = new MochiKit.Async.Deferred()
                                            deferredResult.addCallback(Clipperz.Crypto.AES.deferredDecrypt, key, value);
                                            deferredResult.addCallback(function (aResult) {
                                                var result;
                                                var decryptedData;
                                                decryptedData = aResult.split((256 / 8));
                                                try {
                                                    result = Clipperz.Base.evalJSON(decryptedData.asString());
                                                } catch (exception) {
                                                    MochiKit.Logging.logError("Error while decrypting data");
                                                    throw Clipperz.Crypto.Base.exception.CorruptedMessage;
                                                }
                                                return result;
                                            })
                                            deferredResult.callback();
                                            result = deferredResult;
                                        } else {
                                            result = MochiKit.Async.succeed(null);
                                        }
                                        return result;
                                    },
                                    'hash': Clipperz.Crypto.SHA.sha_d256
                                },
                                '0.3': {
                                    'encrypt': function (aKey, aValue, aNonce) {
                                        var result;
                                        var key, value;
                                        var data;
                                        var dataToEncrypt;
                                        var encryptedData;
                                        key = Clipperz.Crypto.SHA.sha_d256(new Clipperz.ByteArray(aKey));
                                        value = Clipperz.Base.serializeJSON(aValue);
                                        data = new Clipperz.ByteArray(value);
                                        encryptedData = Clipperz.Crypto.AES.encrypt(key, data, aNonce);
                                        result = encryptedData.toBase64String();
                                        return result;
                                    },
                                    'deferredEncrypt': function (aKey, aValue, aNonce) {
                                        var deferredResult;
                                        var key, value;
                                        var data;
                                        var dataToEncrypt;
                                        var encryptedData;
                                        key = Clipperz.Crypto.SHA.sha_d256(new Clipperz.ByteArray(aKey));
                                        value = Clipperz.Base.serializeJSON(aValue);
                                        data = new Clipperz.ByteArray(value);
                                        deferredResult = new MochiKit.Async.Deferred()
                                        deferredResult.addCallback(Clipperz.Crypto.AES.deferredEncrypt, key, data, aNonce);
                                        deferredResult.addCallback(function (aResult) {
                                            return aResult.toBase64String();
                                        })
                                        deferredResult.callback();
                                        return deferredResult;
                                    },
                                    'decrypt': function (aKey, aValue) {
                                        var result;
                                        if (aValue != null) {
                                            var key, value;
                                            var decryptedData;
                                            var decryptedValue;
                                            key = Clipperz.Crypto.SHA.sha_d256(new Clipperz.ByteArray(aKey));
                                            value = new Clipperz.ByteArray().appendBase64String(aValue);
                                            decryptedData = Clipperz.Crypto.AES.decrypt(key, value);
                                            value = decryptedData.asString();
                                            try {
                                                result = Clipperz.Base.evalJSON(value);
                                            } catch (exception) {
                                                MochiKit.Logging.logError("Error while decrypting data");
                                                throw Clipperz.Crypto.Base.exception.CorruptedMessage;
                                            }
                                        } else {
                                            result = null;
                                        }
                                        return result;
                                    },
                                    'deferredDecrypt': function (aKey, aValue) {
                                        var deferredResult;
                                        deferredResult = new MochiKit.Async.Deferred();
                                        now = new Date;
                                        if (aValue != null) {
                                            var key, value;
                                            var decryptedData;
                                            var decryptedValue;
                                            key = Clipperz.Crypto.SHA.sha_d256(new Clipperz.ByteArray(aKey));
                                            value = new Clipperz.ByteArray().appendBase64String(aValue);
                                            deferredResult.addCallback(Clipperz.Crypto.AES.deferredDecrypt, key, value);
                                            deferredResult.addCallback(MochiKit.Async.wait, 0.1);
                                            deferredResult.addCallback(function (aResult) {
                                                return aResult.asString();
                                            });
                                            deferredResult.addCallback(MochiKit.Async.wait, 0.1);
                                            deferredResult.addCallback(Clipperz.Base.evalJSON);
                                            deferredResult.addErrback(function (anError) {
                                                MochiKit.Logging.logError("Error while decrypting data");
                                                throw Clipperz.Crypto.Base.exception.CorruptedMessage;
                                            })
                                        } else {
                                            deferredResult.addCallback(function () {
                                                return null;
                                            });
                                        }
                                        deferredResult.callback();
                                        return deferredResult;
                                    },
                                    'hash': Clipperz.Crypto.SHA.sha_d256
                                },
                                __syntaxFix__: "syntax fix"
                            }
                        },
                        'encrypt': function (aKey, aValue, aVersion) {
                            return Clipperz.PM.Crypto.encryptingFunctions.versions[aVersion].encrypt(aKey, aValue);
                        },
                        'deferredEncrypt': function (aKey, aValue, aVersion) {
                            return Clipperz.PM.Crypto.encryptingFunctions.versions[aVersion].deferredEncrypt(aKey, aValue);
                        },
                        'encryptWithCurrentVersion': function (aKey, aValue) {
                            return Clipperz.PM.Crypto.encrypt(aKey, aValue, Clipperz.PM.Crypto.encryptingFunctions.currentVersion);
                        },
                        'deferredEncryptWithCurrentVersion': function (aKey, aValue) {
                            return Clipperz.PM.Crypto.deferredEncrypt(aKey, aValue, Clipperz.PM.Crypto.encryptingFunctions.currentVersion);
                        },
                        'decrypt': function (aKey, aValue, aVersion) {
                            return Clipperz.PM.Crypto.encryptingFunctions.versions[aVersion].decrypt(aKey, aValue);
                        },
                        'deferredDecrypt': function (aKey, aValue, aVersion) {
                            return Clipperz.PM.Crypto.encryptingFunctions.versions[aVersion].deferredDecrypt(aKey, aValue);
                        },
                        'randomKey': function () {
                            return Clipperz.Crypto.PRNG.defaultRandomGenerator().getRandomBytes(32).toHexString().substring(2);
                        },
                        'passwordEntropy': function (aValue) {
                            var result;
                            var bitPerChar;
                            bitPerChar = 4;
                            if (/[a-z]/.test(aValue)) {
                                bitPerChar++;
                            }
                            if (/[A-Z]/.test(aValue)) {
                                bitPerChar++;
                            }
                            if (/[^a-zA-Z0-9]/.test(aValue)) {
                                bitPerChar++;
                            }
                            result = aValue.length * bitPerChar;
                            return result;
                        },
                        'nullValue': "####",
                        __syntaxFix__: "syntax fix"
                    });
                    MochiKit.Base.update(Clipperz.PM.Crypto.communicationProtocol.versions, {
                        'current': Clipperz.PM.Crypto.communicationProtocol.versions[Clipperz.PM.Crypto.communicationProtocol.currentVersion]
                    });
                    MochiKit.Base.update(Clipperz.PM.Crypto.encryptingFunctions.versions, {
                        'current': Clipperz.PM.Crypto.encryptingFunctions.versions[Clipperz.PM.Crypto.encryptingFunctions.currentVersion]
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    Clipperz.PM.BookmarkletProcessor = function (anUser, aConfiguration) {
                        this._user = anUser;
                        this._configuration = aConfiguration;
                        this._recordTitle = null;
                        this._record = null;
                        this._editableFields = null;
                        this._favicon = null;
                        return this;
                    }
                    Clipperz.PM.BookmarkletProcessor.prototype = MochiKit.Base.update(null, {
                        'toString': function () {
                            return "BookmarkletProcessor - " + this.user();
                        },
                        'user': function () {
                            return this._user;
                        },
                        'configuration': function () {
                            return this._configuration;
                        },
                        'recordTitle': function () {
                            if (this._recordTitle == null) {
                                this._recordTitle = this.configuration().page.title;
                            }
                            return this._recordTitle;
                        },
                        'fields': function () {
                            return this.configuration().form.inputs;
                        },
                        'editableFields': function () {
                            if (this._editableFields == null) {
                                this._editableFields = MochiKit.Base.filter(function (aField) {
                                    var result;
                                    var type;
                                    type = aField['type'].toLowerCase();
                                    result = ((type != 'hidden') && (type != 'submit') && (type != 'checkbox') && (type != 'radio') && (type != 'select'));
                                    return result;
                                }, this.fields())
                            }
                            return this._editableFields;
                        },
                        'hostname': function () {
                            if (this._hostname == null) {
                                var actionUrl;
                                actionUrl = this.configuration()['form']['attributes']['action'];
                                this._hostname = actionUrl.replace(/^https?:\/\/([^\/]*)\/.*/, '$1');
                            }
                            return this._hostname;
                        },
                        'favicon': function () {
                            if (this._favicon == null) {
                                this._favicon = "http://" + this.hostname() + "/favicon.ico";
                            }
                            return this._favicon;
                        },
                        'record': function () {
                            if (this._record == null) {
                                var record;
                                var recordVersion;
                                var directLogin;
                                var bindings;
                                var i, c;
                                record = new Clipperz.PM.DataModel.Record({
                                    label: this.recordTitle(),
                                    notes: "",
                                    user: this.user()
                                });
                                recordVersion = new Clipperz.PM.DataModel.RecordVersion(record, {})
                                record.setCurrentVersion(recordVersion);
                                bindings = {};
                                c = this.editableFields().length;
                                for (i = 0; i < c; i++) {
                                    var formField;
                                    var recordField;
                                    formField = this.editableFields()[i];
                                    recordField = new Clipperz.PM.DataModel.RecordField({
                                        recordVersion: recordVersion,
                                        label: formField['name'],
                                        value: formField['value'],
                                        type: Clipperz.PM.Strings.inputTypeToRecordFieldType[formField['type']],
                                        hidden: false
                                    });
                                    recordVersion.addField(recordField);
                                    bindings[formField['name']] = recordField.key();
                                }
                                directLogin = new Clipperz.PM.DataModel.DirectLogin({
                                    record: record,
                                    label: this.recordTitle() + Clipperz.PM.Strings['newDirectLoginLabelSuffix'],
                                    bookmarkletVersion: '0.2',
                                    favicon: this.favicon(),
                                    formData: this.configuration()['form'],
                                    bindingData: bindings
                                });
                                record.addDirectLogin(directLogin);
                                this.user().addRecord(record);
                                this._record = record;
                            }
                            return this._record;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.PM.BookmarkletProcessor.createRecordFromBookmarkletConfiguration = function (anUser, aConfiguration) {
                        var processor;
                        processor = new Clipperz.PM.BookmarkletProcessor(anUser, aConfiguration);
                        return processor.record();
                    };
                    Clipperz.PM.BookmarkletProcessor.sanitizeBookmarkletConfiguration = function (aConfiguration) {
                        var result;
                        result = aConfiguration;
                        return result;
                    };
                    Clipperz.PM.BookmarkletProcessor.checkBookmarkletConfiguration = function (aConfiguration, aButton, aCallback) {
                        var result;
                        try {
                            result = Clipperz.Base.evalJSON(aConfiguration);
                            result = Clipperz.PM.BookmarkletProcessor.sanitizeBookmarkletConfiguration(result);
                            if (result['version'] != '0.2.3') {
                                throw "WrongBookmarkletVersion";
                            }
                        } catch (exception) {
                            var title;
                            var message;
                            if (exception == "WrongBookmarkletVersion") {
                                title = Clipperz.PM.Strings['newRecordPanelWrongBookmarkletVersionExceptionTitle'];
                                message = Clipperz.PM.Strings['newRecordPanelWrongBookmarkletVersionExceptionMessage'];
                            } else {
                                title = Clipperz.PM.Strings['newRecordPanelGeneralExceptionTitle'];
                                message = Clipperz.PM.Strings['newRecordPanelGeneralExceptionMessage'];
                            }
                            Clipperz.PM.Components.MessageBox().show({
                                title: title,
                                text: message,
                                width: 240,
                                fn: aCallback,
                                closable: false,
                                showProgressBar: false,
                                showCloseButton: false,
                                buttons: {
                                    'ok': Clipperz.PM.Strings['newRecordPanelExceptionPanelCloseButtonLabel']
                                }
                            }, aButton);
                            throw exception;
                        }
                        return result;
                    };
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.DataModel) == 'undefined') {
                        Clipperz.PM.DataModel = {};
                    }
                    Clipperz.PM.DataModel.User = function (args) {
                        args = args || {};
                        this._username = args.username || null;
                        this._passphrase = args.passphrase || null;
                        this._connection = null;
                        this._connectionVersion = 'current';
                        this._header = null;
                        this._statistics = null;
                        this._lock = 'new lock';
                        this._preferences = null;
                        this._records = {};
                        this._directLoginReferences = {};
                        this._oneTimePasswordManager = null;
                        this._isLoadingUserDetails = false;
                        this._loadingUserDetailsPendingQueue = [];
                        this._maxNumberOfRecords = Number.MAX_VALUE;
                        this._shouldDownloadOfflineCopy = false;
                        this._loginInfo = null;
                        this._loginHistory = null;
                        this._serverData = null;
                        return this;
                    }
                    Clipperz.PM.DataModel.User.prototype = MochiKit.Base.update(null, {
                        'toString': function () {
                            return "Clipperz.PM.DataModel.User - " + this.username();
                        },
                        'username': function () {
                            return this._username;
                        },
                        'setUsername': function (aValue) {
                            this._username = aValue;
                        },
                        'passphrase': function () {
                            return this._passphrase;
                        },
                        'setPassphrase': function (aValue) {
                            this._passphrase = aValue;
                        },
                        'maxNumberOfRecords': function () {
                            return this._maxNumberOfRecords;
                        },
                        'setMaxNumberOfRecords': function (aValue) {
                            this._maxNumberOfRecords = aValue;
                        },
                        'errorHandler': function (anErrorString, anException) {
                            MochiKit.Logging.logError("- User.errorHandler: " + anErrorString + " (" + anException + ")");
                        },
                        'connectionVersion': function () {
                            return this._connectionVersion;
                        },
                        'setConnectionVersion': function (aValue) {
                            this._connectionVersion = aValue;
                        },
                        'connection': function () {
                            if ((this._connection == null) && (this.connectionVersion() != null)) {
                                this._connection = new Clipperz.PM.Crypto.communicationProtocol.versions[this.connectionVersion()]({
                                    user: this
                                });
                            }
                            return this._connection;
                        },
                        'resetConnection': function (aValue) {
                            this._connection = null;
                        },
                        'register': function (anInvitationCode) {
                            var deferredResult;
                            var prng;
                            prng = Clipperz.Crypto.PRNG.defaultRandomGenerator();
                            deferredResult = new MochiKit.Async.Deferred()
                            deferredResult.addCallback(MochiKit.Base.method(prng, 'deferredEntropyCollection'));
                            deferredResult.addCallback(MochiKit.Base.method(this.header(), 'updateAllSections'), anInvitationCode);
                            deferredResult.addCallback(MochiKit.Base.method(this.connection(), 'register'), anInvitationCode);
                            deferredResult.callback();
                            return deferredResult;
                        },
                        'connect': function (aValue) {
                            var deferredResult;
                            var prng;
                            prng = Clipperz.Crypto.PRNG.defaultRandomGenerator();
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(prng, 'deferredEntropyCollection'));
                            deferredResult.addCallback(MochiKit.Base.method(this.connection(), 'login'));
                            if (this.connectionVersion() != 'current') {
                                var currentConnection;
                                currentVersionConnection = new Clipperz.PM.Crypto.communicationProtocol.versions['current']({
                                    user: this
                                });
                                deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'connection_upgrading');
                                deferredResult.addCallback(MochiKit.Base.method(this.connection(), 'message'), 'upgradeUserCredentials', currentVersionConnection.serverSideUserCredentials());
                            }
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'userConnected', null);
                            deferredResult.addErrback(MochiKit.Base.method(this, 'handleConnectionFallback'));
                            deferredResult.callback(aValue);
                            return deferredResult;
                        },
                        'handleConnectionFallback': function (aValue) {
                            var result;
                            if (aValue instanceof MochiKit.Async.CancelledError) {
                                result = aValue;
                            } else {
                                this.resetConnection();
                                this.setConnectionVersion(Clipperz.PM.Crypto.communicationProtocol.fallbackVersions[this.connectionVersion()]);
                                if (this.connectionVersion() != null) {
                                    result = new MochiKit.Async.Deferred();
                                    result.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'connection_tryOlderSchema');
                                    result.addCallback(MochiKit.Base.method(this, 'connect'));
                                    result.callback();
                                } else {
                                    result = MochiKit.Async.fail(Clipperz.PM.DataModel.User.exception.LoginFailed);
                                }
                            }
                            return result;
                        },
                        'header': function () {
                            if (this._header == null) {
                                this._header = new Clipperz.PM.DataModel.Header({
                                    user: this
                                });
                            }
                            return this._header;
                        },
                        'statistics': function () {
                            if (this._statistics == null) {
                                this._statistics = new Clipperz.PM.DataModel.Statistics({
                                    user: this
                                });
                            }
                            return this._statistics;
                        },
                        'records': function () {
                            return this._records;
                        },
                        'addRecord': function (aValue, isBatchUpdate) {
                            this.records()[aValue.reference()] = aValue;
                            if (isBatchUpdate != true) {
                                Clipperz.NotificationCenter.notify(aValue, 'recordAdded', null, true);
                                Clipperz.NotificationCenter.notify(this, 'updatedSection', 'records', true);
                            }
                        },
                        'addNewRecord': function () {
                            var record;
                            record = new Clipperz.PM.DataModel.Record({
                                user: this
                            });
                            this.addRecord(record);
                            Clipperz.NotificationCenter.notify(this, 'updatedSection', 'records', true);
                            return record;
                        },
                        'saveRecords': function (someRecords, aMethodName) {
                            var deferredResult;
                            var methodName;
                            var result;
                            var i, c;
                            methodName = aMethodName || 'addNewRecords';
                            Clipperz.NotificationCenter.notify(this, 'updatedSection', 'records', true);
                            result = {
                                'records': []
                            };
                            deferredResult = new MochiKit.Async.Deferred();
                            c = someRecords.length;
                            for (i = 0; i < c; i++) {
                                deferredResult.addCallback(function (aRecord) {
                                    if (aRecord.headerNotes() != null) {
                                        aRecord.setNotes(aRecord.headerNotes());
                                    }
                                    aRecord.syncDirectLoginReferenceValues();
                                    aRecord.currentVersion().createNewVersion();
                                    aRecord.updateKey();
                                }, someRecords[i]);
                                deferredResult.addCallback(MochiKit.Async.wait, 0.1);
                            }
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'saveCard_collectRecordInfo');
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'saveCard_encryptUserData');
                            deferredResult.addCallback(MochiKit.Base.method(this, 'encryptedData'));
                            deferredResult.addCallback(function (aResult, res) {
                                aResult['user'] = res;
                                return aResult;
                            }, result);
                            c = someRecords.length;
                            for (i = 0; i < c; i++) {
                                var recordData;
                                recordData = {};
                                deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'saveCard_encryptRecordData');
                                deferredResult.addCallback(MochiKit.Base.method(someRecords[i], 'encryptedData'));
                                deferredResult.addCallback(function (aResult, res) {
                                    aResult['record'] = res;
                                    return aResult;
                                }, recordData);
                                deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', {});
                                deferredResult.addCallback(MochiKit.Base.method(someRecords[i].currentVersion(), 'encryptedData'));
                                deferredResult.addCallback(function (aResult, res) {
                                    aResult['currentRecordVersion'] = res;
                                    return aResult;
                                }, recordData);
                                deferredResult.addCallback(function (aResult, res) {
                                    aResult['records'].push(res);
                                    return aResult;
                                }, result);
                            }
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'saveCard_sendingData');
                            deferredResult.addCallback(MochiKit.Base.method(this.connection(), 'message'), methodName);
                            for (i = 0; i < c; i++) {
                                deferredResult.addCallback(MochiKit.Base.method(someRecords[i], 'takeSnapshotOfCurrentData'));
                                deferredResult.addCallback(MochiKit.Base.method(someRecords[i], 'setIsBrandNew'), false);
                            }
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'notify', 'recordUpdated');
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'notify', 'directLoginUpdated');
                            deferredResult.callback();
                            return deferredResult;
                        },
                        'removeRecord': function (aRecord) {
                            delete this.records()[aRecord.reference()];
                            Clipperz.NotificationCenter.notify(aRecord, 'recordRemoved', null, false);
                            Clipperz.NotificationCenter.notify(this, 'updatedSection', 'records', true);
                        },
                        'deleteRecordsAction': function (someRecords) {
                            var deferredResult;
                            var parameters;
                            parameters = {};
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'deleteRecord_collectData');
                            deferredResult.addCallback(function (someParameters, someRecords) {
                                var recordReferences;
                                recordReferences = MochiKit.Base.map(function (aRecord) {
                                    var result;
                                    result = aRecord.reference();
                                    aRecord.remove();
                                    return result;
                                }, someRecords);
                                someParameters.recordReferences = recordReferences;
                                return someParameters;
                            }, parameters);
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'deleteRecord_encryptData');
                            deferredResult.addCallback(MochiKit.Base.method(this, 'encryptedData'));
                            deferredResult.addCallback(function (someParameters, anUserEncryptedData) {
                                someParameters.user = anUserEncryptedData;
                                return someParameters;
                            }, parameters);
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'deleteRecord_sendingData');
                            deferredResult.addCallback(MochiKit.Base.method(this.connection(), 'message'), 'deleteRecords');
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'deleteRecord_updatingInterface');
                            deferredResult.callback(someRecords);
                            return deferredResult;
                        },
                        'resetAllLocalData': function () {
                            this.resetConnection();
                            this.setUsername("");
                            this.setPassphrase("");
                            this._header = null;
                            this._statistics = null;
                            this._preferences = null;
                            this._records = {};
                            this._directLoginReferences = {};
                        },
                        'deleteAccountAction': function () {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(this.connection(), 'message'), 'deleteUser');
                            deferredResult.addCallback(MochiKit.Base.method(this, 'resetAllLocalData'));
                            deferredResult.callback();
                            return deferredResult;
                        },
                        'encryptedData': function () {
                            var deferredResult;
                            var result;
                            result = {};
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(this.header(), 'encryptedData'));
                            deferredResult.addCallback(function (aResult, aValue) {
                                aResult['header'] = aValue;
                            }, result);
                            deferredResult.addCallback(MochiKit.Base.method(this.statistics(), 'encryptedData'));
                            deferredResult.addCallback(function (aResult, aValue) {
                                aResult['statistics'] = aValue;
                            }, result);
                            deferredResult.addCallback(MochiKit.Base.bind(function (aResult, aValue) {
                                aResult['version'] = Clipperz.PM.Crypto.encryptingFunctions.currentVersion;
                                aResult['lock'] = this.lock();
                                return aResult;
                            }, this), result);
                            deferredResult.callback();
                            return deferredResult;
                        },
                        'preferences': function () {
                            if (this._preferences == null) {
                                this._preferences = new Clipperz.PM.DataModel.UserPreferences({
                                    user: this
                                });
                            }
                            return this._preferences;
                        },
                        'oneTimePasswordManager': function () {
                            if (this._oneTimePasswordManager == null) {
                                this._oneTimePasswordManager = new Clipperz.PM.DataModel.OneTimePasswordManager(this, null);
                            }
                            return this._oneTimePasswordManager;
                        },
                        'directLoginReferences': function () {
                            return this._directLoginReferences;
                        },
                        'addDirectLoginReference': function (aDirectLoginReference, isBatchUpdate) {
                            this.directLoginReferences()[aDirectLoginReference.reference()] = aDirectLoginReference;
                            if (isBatchUpdate != true) {
                                Clipperz.NotificationCenter.notify(aDirectLoginReference, 'directLoginAdded');
                                Clipperz.NotificationCenter.notify(this, 'updatedSection', 'directLogins', true);
                            }
                        },
                        'removeDirectLoginReference': function (aDirectLoginReference) {
                            delete this.directLoginReferences()[aDirectLoginReference.reference()];
                            Clipperz.NotificationCenter.notify(aDirectLoginReference, 'directLoginRemoved');
                            Clipperz.NotificationCenter.notify(this, 'updatedSection', 'directLogins', true);
                        },
                        'addDirectLogin': function (aDirectLogin) {
                            var newDirectLoginReference;
                            newDirectLoginReference = new Clipperz.PM.DataModel.DirectLoginReference({
                                user: this,
                                directLogin: aDirectLogin
                            })
                            this.addDirectLoginReference(newDirectLoginReference);
                        },
                        'synchronizeDirectLogin': function (aDirectLogin) {
                            var directLoginReference;
                            directLoginReference = this.directLoginReferences()[aDirectLogin.reference()];
                            if (typeof (directLoginReference) != 'undefined') {
                                directLoginReference.synchronizeValues(aDirectLogin);
                            } else {
                                this.addDirectLogin(aDirectLogin);
                            }
                        },
                        'removeDirectLogin': function (aDirectLogin) {
                            this.removeDirectLoginReference(aDirectLogin);
                        },
                        'changeCredentials': function (aUsername, aPassphrase) {
                            var deferredResult;
                            var result;
                            result = {};
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(this.header(), 'loadAllSections'));
                            deferredResult.addCallback(MochiKit.Base.method(this.header(), 'updateAllSections'));
                            deferredResult.addCallback(MochiKit.Base.bind(function (aUsername, aPssphrase) {
                                this.setUsername(aUsername);
                                this.setPassphrase(aPassphrase);
                            }, this), aUsername, aPassphrase)
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'changeCredentials_encryptingData');
                            deferredResult.addCallback(MochiKit.Base.method(this, 'encryptedData'));
                            deferredResult.addCallback(function (aResult, anEncryptedData) {
                                aResult['user'] = anEncryptedData;
                                return aResult;
                            }, result);
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'changeCredentials_creatingNewCredentials');
                            deferredResult.addCallback(function (aResult, anUser) {
                                var newConnection;
                                newConnection = new Clipperz.PM.Crypto.communicationProtocol.versions[Clipperz.PM.Crypto.communicationProtocol.currentVersion]({
                                    user: anUser
                                })
                                aResult['credentials'] = newConnection.serverSideUserCredentials();
                                return aResult;
                            }, result, this);
                            deferredResult.addCallback(MochiKit.Base.method(this.oneTimePasswordManager(), 'encryptedData'));
                            deferredResult.addCallback(function (aResult, anEncryptedData) {
                                aResult['oneTimePasswords'] = anEncryptedData;
                                return aResult;
                            }, result);
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'changeCredentials_sendingCredentials');
                            deferredResult.addCallback(MochiKit.Base.method(this.connection(), 'message'), 'upgradeUserCredentials');
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'changeCredentials_done');
                            deferredResult.callback();
                            return deferredResult;
                        },
                        'doLogout': function () {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(this.connection(), 'logout'));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'resetAllLocalData'));
                            deferredResult.callback();
                            return deferredResult;
                        },
                        'lock': function () {
                            this.setPassphrase("")
                            this.connection().logout();
                            this.connection().resetSrpConnection();
                        },
                        'unlockWithPassphrase': function (aValue) {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(this, 'setPassphrase'));
                            deferredResult.addCallback(MochiKit.Base.method(this.connection(), 'reestablishConnection'));
                            deferredResult.addErrback(MochiKit.Base.bind(function (anError) {
                                this.setPassphrase("");
                                this.connection().resetSrpConnection();
                                return anError;
                            }, this));
                            deferredResult.callback(aValue);
                            return deferredResult;
                        },
                        'serverData': function () {
                            return this._serverData;
                        },
                        'setServerData': function (aValue) {
                            this._serverData = aValue;
                            if (typeof (aValue.maxNumberOfRecords) != 'undefined') {
                                this.setMaxNumberOfRecords(aValue.maxNumberOfRecords);
                            }
                        },
                        'isLoadingUserDetails': function () {
                            return this._isLoadingUserDetails;
                        },
                        'setIsLoadingUserDetails': function (aValue) {
                            this._isLoadingUserDetails = aValue;
                        },
                        'loadingUserDetailsPendingQueue': function () {
                            return this._loadingUserDetailsPendingQueue;
                        },
                        'flushLoadingUserDetailsPendingQueue': function () {
                            var queue;
                            queue = this.loadingUserDetailsPendingQueue();
                            while (queue.length > 0) {
                                queue.pop().callback();
                            }
                        },
                        'getUserDetails': function () {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            if ((this.serverData() == null) && (this.isLoadingUserDetails() == false)) {
                                deferredResult.addCallback(MochiKit.Base.method(this, 'setIsLoadingUserDetails', true));
                                deferredResult.addCallback(MochiKit.Base.method(this.connection(), 'message'), 'getUserDetails');
                                deferredResult.addCallback(MochiKit.Base.method(this, 'setServerData'));
                                deferredResult.addCallback(MochiKit.Base.method(this, 'flushLoadingUserDetailsPendingQueue'));
                                deferredResult.addCallback(MochiKit.Base.method(this, 'setIsLoadingUserDetails', false));
                            }
                            deferredResult.addCallback(MochiKit.Base.method(this, 'serverData'));
                            if (this.isLoadingUserDetails() == false) {
                                deferredResult.callback();
                            } else {
                                this.loadingUserDetailsPendingQueue().push(deferredResult);
                            }
                            return deferredResult;
                        },
                        'loadRecords': function () {
                            return this.header().loadRecords();
                        },
                        'loadDirectLogins': function () {
                            return this.header().loadDirectLogins();
                        },
                        'loadPreferences': function () {
                            return this.header().loadPreferences();
                        },
                        'loadOneTimePasswords': function () {
                            return this.header().loadOneTimePasswords();
                        },
                        'loadLoginHistory': function () {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(this.connection(), 'message'), 'getLoginHistory');
                            deferredResult.addCallback(function (aResult) {
                                return aResult['result'];
                            });
                            deferredResult.addCallback(MochiKit.Base.method(this, 'setLoginHistory'));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'loginHistory'));
                            deferredResult.callback();
                            return deferredResult;
                        },
                        'shouldDownloadOfflineCopy': function () {
                            return this._shouldDownloadOfflineCopy;
                        },
                        'setShouldDownloadOfflineCopy': function (aValue) {
                            this._shouldDownloadOfflineCopy = aValue;
                        },
                        'loginInfo': function () {
                            return this._loginInfo;
                        },
                        'setLoginInfo': function (aValue) {
                            this._loginInfo = aValue;
                        },
                        'loginHistory': function () {
                            return this._loginHistory;
                        },
                        'setLoginHistory': function (aValue) {
                            this._loginHistory = aValue;
                        },
                        'lock': function () {
                            return this._lock;
                        },
                        'setLock': function (aValue) {
                            this._lock = aValue;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.PM.DataModel.User.exception = {
                        LoginFailed: new MochiKit.Base.NamedError("Clipperz.PM.DataModel.User.exception.LoginFailed")
                    };
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.DataModel) == 'undefined') {
                        Clipperz.PM.DataModel = {};
                    }
                    Clipperz.PM.DataModel.UserPreferences = function (args) {
                        args = args || {};
                        this._user = args['user'];
                        delete args['user'];
                        this._config = args;
                        return this;
                    }
                    Clipperz.PM.DataModel.UserPreferences.prototype = MochiKit.Base.update(null, {
                        'config': function () {
                            return this._config;
                        },
                        'user': function () {
                            return this._user;
                        },
                        'updateWithData': function (someValues) {
                            var currentLanguage;
                            currentLanguage = this.preferredLanguage();
                            MochiKit.Base.update(this._config, someValues);
                            if (this.preferredLanguage() != currentLanguage) {
                                Clipperz.PM.Strings.Languages.setSelectedLanguage(this.preferredLanguage());
                            } else {}
                            return this;
                        },
                        'configValue': function (aConfigName, aDefaultValue) {
                            var result;
                            if (typeof (this.config()[aConfigName]) == 'undefined') {
                                result = aDefaultValue;
                            } else {
                                result = this.config()[aConfigName];
                            }
                            return result;
                        },
                        'setConfigValue': function (aConfigName, aValue) {
                            var result;
                            if (aValue != this.configValue(aConfigName)) {
                                if (aValue == null) {
                                    delete this.config()[aConfigName]
                                } else {
                                    this.config()[aConfigName] = aValue;
                                }
                                Clipperz.NotificationCenter.notify(this.user(), 'updatedSection', 'preferences', true);
                                result = true;
                            } else {
                                result = false;
                            }
                            return result;
                        },
                        'useSafeEditMode': function () {
                            return this.configValue('useSafeEditMode', true);
                        },
                        'setUseSafeEditMode': function (aValue) {
                            this.setConfigValue('useSafeEditMode', aValue);
                        },
                        'preferredLanguage': function () {
                            return this.configValue('preferredLanguage', null);
                        },
                        'setPreferredLanguage': function (aValue) {
                            if (this.setConfigValue('preferredLanguage', aValue)) {
                                Clipperz.PM.Strings.Languages.setSelectedLanguage(this.preferredLanguage());
                            }
                        },
                        'shouldShowDonationPanel': function () {
                            return this.configValue('shouldShowDonationPanel', true);
                        },
                        'setShouldShowDonationPanel': function (aValue) {
                            this.setConfigValue('shouldShowDonationPanel', aValue);
                        },
                        'disableUnsecureFaviconLoadingForIE': function () {
                            return this.configValue('disableUnsecureFaviconLoadingForIE', false);
                        },
                        'setDisableUnsecureFaviconLoadingForIE': function (aValue) {
                            this.setConfigValue('disableUnsecureFaviconLoadingForIE', aValue);
                        },
                        'serializedData': function () {
                            return this.config();
                        },
                        'saveChanges': function (aReferenceElement) {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(Clipperz.PM.Components.MessageBox(), 'deferredShow'), {
                                title: "",
                                text: "",
                                width: 240,
                                showProgressBar: true,
                                showCloseButton: false
                            }, aReferenceElement);
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'account_savingPreferences_1');
                            deferredResult.addCallback(MochiKit.Base.method(this.user(), 'encryptedData'));
                            deferredResult.addCallback(function (res) {
                                return {
                                    user: res
                                };
                            })
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'account_savingPreferences_2');
                            deferredResult.addCallback(MochiKit.Base.method(this.user().connection(), 'message'), 'updateData');
                            deferredResult.addCallback(Clipperz.PM.Components.MessageBox().hide, YAHOO.ext.Element.get('main'));
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedPreferences', null);
                            deferredResult.callback();
                            return deferredResult;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.DataModel) == 'undefined') {
                        Clipperz.PM.DataModel = {};
                    }
                    Clipperz.PM.DataModel.Header = function (args) {
                        args = args || {};
                        this._user = args.user;
                        this._serverData = null;
                        this._serverDataVersion = null;
                        this._jsonEvaledServerData = null;
                        this._decryptedLegacyServerData = null;
                        this._isDecryptingLegacyServerData = false;
                        this._decryptingLegacyServerDataPendingQueue = [];
                        this.resetUpdatedSections();
                        this._shouldLoadSections = {};
                        Clipperz.NotificationCenter.register(this.user(), 'updatedSection', this, 'updatedSectionHandler');
                        return this;
                    }
                    Clipperz.PM.DataModel.Header.prototype = MochiKit.Base.update(null, {
                        'user': function () {
                            return this._user;
                        },
                        'updatedSections': function () {
                            return this._updatedSections;
                        },
                        'markSectionAsUpdated': function (aSectionName) {
                            this.updatedSections().push(aSectionName);
                        },
                        'resetUpdatedSections': function () {
                            this._updatedSections = []
                        },
                        'hasSectionBeenUpdated': function (aSectionName) {
                            return (this.updatedSections().join().indexOf(aSectionName) != -1);
                        },
                        'cachedServerDataSection': function (aSectionName) {
                            return (this.hasSectionBeenUpdated(aSectionName)) ? {} : this.jsonEvaledServerData()[aSectionName];
                        },
                        'updateAllSections': function () {
                            this.resetUpdatedSections();
                            this.markSectionAsUpdated('records');
                            this.markSectionAsUpdated('directLogins');
                            this.markSectionAsUpdated('preferences');
                            this.markSectionAsUpdated('oneTimePasswords');
                            return MochiKit.Async.succeed(this);
                        },
                        'updatedSectionHandler': function (anEvent) {
                            this.markSectionAsUpdated(anEvent.parameters());
                        },
                        'getObjectKeyIndex': function (anObject) {
                            var result;
                            var itemReference;
                            var index;
                            result = {};
                            index = 0;
                            for (itemReference in anObject) {
                                result[itemReference] = index.toString();
                                index++;
                            }
                            return result;
                        },
                        'serializedDataWithRecordAndDirectLoginIndexes': function (aRecordIndexes, aDirectLoginIndexs) {
                            var result;
                            var records;
                            var recordReference;
                            result = {
                                'records': {},
                                'directLogins': {}
                            };
                            records = this.user().records();
                            for (recordReference in records) {
                                result['records'][aRecordIndexes[recordReference]] = this.user().records()[recordReference].headerData();
                            }
                            for (directLoginReference in this.user().directLoginReferences()) {
                                var currentDirectLogin;
                                var directLoginData;
                                currentDirectLogin = this.user().directLoginReferences()[directLoginReference];
                                if (aRecordIndexes[currentDirectLogin.recordReference()] != null) {
                                    directLoginData = {
                                        record: aRecordIndexes[currentDirectLogin.recordReference()].toString(),
                                        label: currentDirectLogin.label(),
                                        favicon: currentDirectLogin.favicon() || ""
                                    }
                                    result['directLogins'][aDirectLoginIndexs[directLoginReference]] = directLoginData;
                                }
                            }
                            return result;
                        },
                        'encryptedData': function () {
                            var deferredResult;
                            var recordIndex;
                            var directLoginIndex;
                            var serializedData;
                            var result;
                            result = {
                                'records': this.cachedServerDataSection('records'),
                                'directLogins': this.cachedServerDataSection('directLogins'),
                                'preferences': this.cachedServerDataSection('preferences'),
                                'oneTimePasswords': this.cachedServerDataSection('oneTimePasswords'),
                                'version': '0.1'
                            };
                            if (this.hasSectionBeenUpdated('records')) {
                                recordIndex = this.getObjectKeyIndex(this.user().records());
                                result['records']['index'] = recordIndex;
                            } else {
                                recordIndex = result['records']['index'];
                            }
                            if (this.hasSectionBeenUpdated('directLogins')) {
                                directLoginIndex = this.getObjectKeyIndex(this.user().directLoginReferences());
                                result['directLogins']['index'] = directLoginIndex;
                            } else {
                                directLoginIndex = result['directLogins']['index'];
                            }
                            if (this.hasSectionBeenUpdated('records') || this.hasSectionBeenUpdated('directLogins')) {
                                serializedData = this.serializedDataWithRecordAndDirectLoginIndexes(recordIndex, directLoginIndex);
                            }
                            deferredResult = new MochiKit.Async.Deferred();
                            if (this.hasSectionBeenUpdated('records')) {
                                deferredResult.addCallback(function (anHeader, aResult, aSerializedData, aValue) {
                                    return Clipperz.PM.Crypto.deferredEncryptWithCurrentVersion(anHeader.user().passphrase(), aSerializedData['records']);
                                }, this, result, serializedData);
                                deferredResult.addCallback(function (anHeader, aResult, aValue) {
                                    aResult['records']['data'] = aValue;
                                }, this, result);
                            }
                            if (this.hasSectionBeenUpdated('directLogins')) {
                                deferredResult.addCallback(function (anHeader, aResult, aSerializedData, aValue) {
                                    return Clipperz.PM.Crypto.deferredEncryptWithCurrentVersion(anHeader.user().passphrase(), aSerializedData['directLogins']);
                                }, this, result, serializedData);
                                deferredResult.addCallback(function (anHeader, aResult, aValue) {
                                    aResult['directLogins']['data'] = aValue;
                                }, this, result);
                            }
                            if (this.hasSectionBeenUpdated('preferences')) {
                                deferredResult.addCallback(function (anHeader, aResult, aValue) {
                                    return Clipperz.PM.Crypto.deferredEncryptWithCurrentVersion(anHeader.user().passphrase(), anHeader.user().preferences().serializedData());
                                }, this, result);
                                deferredResult.addCallback(function (anHeader, aResult, aValue) {
                                    aResult['preferences']['data'] = aValue;
                                }, this, result);
                            }
                            if (this.hasSectionBeenUpdated('oneTimePasswords')) {
                                deferredResult.addCallback(function (anHeader, aResult, aValue) {
                                    return Clipperz.PM.Crypto.deferredEncryptWithCurrentVersion(anHeader.user().passphrase(), anHeader.user().oneTimePasswordManager().serializedData());
                                }, this, result);
                                deferredResult.addCallback(function (anHeader, aResult, aValue) {
                                    aResult['oneTimePasswords']['data'] = aValue;
                                }, this, result);
                            }
                            deferredResult.addCallback(function (anHeader, aResult, aValue) {
                                var serverData;
                                serverData = Clipperz.Base.serializeJSON(aResult);
                                anHeader.setServerData(serverData);
                                return serverData;
                            }, this, result);
                            deferredResult.callback();
                            return deferredResult;
                        },
                        'serverData': function () {
                            return this._serverData;
                        },
                        'setServerData': function (aValue) {
                            this._serverData = aValue;
                            this.resetUpdatedSections();
                            this.resetJsonEvaledServerData();
                        },
                        'jsonEvaledServerData': function () {
                            if (this._jsonEvaledServerData == null) {
                                this._jsonEvaledServerData = Clipperz.Base.evalJSON(this.serverData());
                            }
                            return this._jsonEvaledServerData;
                        },
                        'resetJsonEvaledServerData': function () {
                            this._jsonEvaledServerData = null;
                        },
                        'serverDataVersion': function () {
                            return this._serverDataVersion;
                        },
                        'setServerDataVersion': function (aValue) {
                            this._serverDataVersion = aValue;
                        },
                        'decryptedLegacyServerData': function () {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(this, 'updateAllSections'));
                            if (this._decryptedLegacyServerData == null) {
                                deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'connection_decryptingUserData');
                                deferredResult.addCallback(Clipperz.PM.Crypto.deferredDecrypt, this.user().passphrase(), this.serverData(), this.serverDataVersion());
                                deferredResult.addCallback(function (anHeader, aValue) {
                                    anHeader._decryptedLegacyServerData = aValue;
                                }, this);
                            };
                            deferredResult.addCallback(function (anHeader) {
                                return anHeader._decryptedLegacyServerData;
                            }, this);
                            deferredResult.callback();
                            return deferredResult;
                        },
                        'serverDataFormat': function () {
                            var result;
                            if (this.serverData().charAt(0) == '{') {
                                var serverData;
                                serverData = Clipperz.Base.evalJSON(this.serverData());
                                result = serverData['version'];
                            } else {
                                result = 'LEGACY';
                            }
                            return result;
                        },
                        'extractHeaderDataFromUserDetails': function (someUserDetails) {
                            if (this.serverData() == null) {
                                this.setServerData(someUserDetails['header']);
                                this.setServerDataVersion(someUserDetails['version'])
                            }
                        },
                        'extractDataWithKey': function (aKey) {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            switch (this.serverDataFormat()) {
                            case 'LEGACY':
                                deferredResult.addCallback(MochiKit.Base.method(this, 'decryptedLegacyServerData'));
                                deferredResult.addCallback(function (someDecryptedValues) {
                                    return someDecryptedValues[aKey] || {};
                                })
                                break;
                            case '0.1':
                                var data;
                                data = this.jsonEvaledServerData();
                                if (typeof (data[aKey]) != 'undefined') {
                                    deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'connection_decryptingUserData');
                                    deferredResult.addCallback(Clipperz.PM.Crypto.deferredDecrypt, this.user().passphrase(), data[aKey]['data'], this.serverDataVersion());
                                    deferredResult.addCallback(function (aKey, aData, aRecordIndex, aValue) {
                                        var result;
                                        if (aKey == 'records') {
                                            var recordKey;
                                            result = {};
                                            for (recordKey in aData['index']) {
                                                result[recordKey] = aValue[aData['index'][recordKey]];
                                            }
                                        } else if (aKey == 'directLogins') {
                                            var recordKeyReversedIndex;
                                            var recordKey;
                                            var directLoginKey;
                                            result = {};
                                            recordKeyReversedIndex = {};
                                            for (recordKey in aRecordIndex) {
                                                recordKeyReversedIndex[aRecordIndex[recordKey]] = recordKey;
                                            }
                                            for (directLoginKey in aData['index']) {
                                                try {
                                                    if ((aData['index'][directLoginKey] != null) && (aValue[aData['index'][directLoginKey]] != null)) {
                                                        result[directLoginKey] = aValue[aData['index'][directLoginKey]];
                                                        result[directLoginKey]['record'] = recordKeyReversedIndex[result[directLoginKey]['record']];
                                                    }
                                                } catch (exception) {
                                                    MochiKit.Logging.logDebug("[Header 391] EXCEPTION: " + exception);
                                                    throw exception;
                                                }
                                            }
                                        } else {
                                            result = aValue;
                                        }
                                        return result;
                                    }, aKey, data[aKey], data['records']['index']);
                                } else {
                                    deferredResult.addCallback(MochiKit.Async.succeed, {});
                                }
                                break;
                            }
                            deferredResult.callback();
                            return deferredResult;
                        },
                        'processRecordData': function (someRecordData) {
                            var records;
                            var recordReference;
                            records = someRecordData;
                            if (records != null) {
                                for (recordReference in records) {
                                    var newRecord;
                                    var parameters;
                                    if (recordReference != "stacktrace") {
                                        parameters = records[recordReference];
                                        if (typeof (parameters['notes']) != 'undefined') {
                                            if (parameters['notes'] != "") {
                                                parameters['headerNotes'] = parameters['notes'];
                                            }
                                            delete parameters['notes'];
                                        }
                                        parameters['reference'] = recordReference;
                                        parameters['user'] = this.user();
                                        newRecord = new Clipperz.PM.DataModel.Record(parameters);
                                        this.user().addRecord(newRecord, true);
                                    }
                                }
                                Clipperz.NotificationCenter.notify(null, 'recordAdded', null, true);
                            }
                            return this.user().records();
                        },
                        'processDirectLoginData': function (someDirectLoginData) {
                            var directLogins;
                            var directLoginReference;
                            directLogins = someDirectLoginData;
                            if (directLogins != null) {
                                for (directLoginReference in directLogins) {
                                    var directLoginReference;
                                    var parameters;
                                    parameters = directLogins[directLoginReference];
                                    parameters.user = this.user();
                                    parameters.reference = directLoginReference;
                                    directLoginReference = new Clipperz.PM.DataModel.DirectLoginReference(parameters);
                                    if (directLoginReference.record() != null) {
                                        this.user().addDirectLoginReference(directLoginReference, true);
                                    }
                                }
                            }
                            Clipperz.NotificationCenter.notify(null, 'directLoginAdded', null, true);
                            return this.user().directLoginReferences();
                        },
                        'shouldLoadSections': function () {
                            return this._shouldLoadSections;
                        },
                        'shouldLoadSection': function (aSectionName) {
                            var result;
                            if (typeof (this.shouldLoadSections()[aSectionName]) != 'undefined') {
                                result = this.shouldLoadSections()[aSectionName];
                            } else {
                                result = true;
                            }
                            return result;
                        },
                        'setShouldLoadSection': function (aSectionName, aValue) {
                            this.shouldLoadSections()[aSectionName] = aValue;
                        },
                        'loadRecords': function () {
                            var deferredResult;
                            if (this.shouldLoadSection('records') == true) {
                                this.setShouldLoadSection('records', false);
                                deferredResult = new MochiKit.Async.Deferred();
                                deferredResult.addCallback(MochiKit.Base.method(this.user(), 'getUserDetails'));
                                deferredResult.addCallback(MochiKit.Base.method(this, 'extractHeaderDataFromUserDetails'));
                                deferredResult.addCallback(MochiKit.Base.method(this, 'extractDataWithKey', 'records'));
                                deferredResult.addCallback(MochiKit.Base.method(this, 'processRecordData'));
                                deferredResult.callback();
                            } else {
                                deferredResult = MochiKit.Async.succeed(this.user().records());
                            }
                            return deferredResult;
                        },
                        'loadDirectLogins': function () {
                            var deferredResult;
                            if (this.shouldLoadSection('directLogins') == true) {
                                this.setShouldLoadSection('directLogins', false);
                                deferredResult = new MochiKit.Async.Deferred();
                                deferredResult.addCallback(MochiKit.Base.method(this.user(), 'getUserDetails'));
                                deferredResult.addCallback(MochiKit.Base.method(this, 'extractHeaderDataFromUserDetails'));
                                deferredResult.addCallback(MochiKit.Base.method(this, 'extractDataWithKey', 'directLogins'));
                                deferredResult.addCallback(MochiKit.Base.method(this, 'processDirectLoginData'));
                                deferredResult.callback();
                            } else {
                                deferredResult = MochiKit.Async.succeed(this.user().directLoginReferences());
                            }
                            return deferredResult;
                        },
                        'loadPreferences': function () {
                            var deferredResult;
                            if (this.shouldLoadSection('preferences') == true) {
                                this.setShouldLoadSection('preferences', false);
                                deferredResult = new MochiKit.Async.Deferred();
                                deferredResult.addCallback(MochiKit.Base.method(this.user(), 'getUserDetails'));
                                deferredResult.addCallback(MochiKit.Base.method(this, 'extractHeaderDataFromUserDetails'));
                                deferredResult.addCallback(MochiKit.Base.method(this, 'extractDataWithKey', 'preferences'));
                                deferredResult.addCallback(MochiKit.Base.method(this.user().preferences(), 'updateWithData'));
                                deferredResult.callback();
                            } else {
                                deferredResult = MochiKit.Async.succeed(this.user().preferences());
                            }
                            return deferredResult;
                        },
                        'loadOneTimePasswords': function () {
                            var deferredResult;
                            if (this.shouldLoadSection('oneTimePasswords') == true) {
                                this.setShouldLoadSection('oneTimePasswords', false);
                                deferredResult = new MochiKit.Async.Deferred();
                                deferredResult.addCallback(MochiKit.Base.method(this.user(), 'getUserDetails'));
                                deferredResult.addCallback(MochiKit.Base.method(this, 'extractHeaderDataFromUserDetails'));
                                deferredResult.addCallback(MochiKit.Base.method(this, 'extractDataWithKey', 'oneTimePasswords'));
                                deferredResult.addCallback(MochiKit.Base.method(this.user().oneTimePasswordManager(), 'updateWithData'));
                                deferredResult.addCallback(MochiKit.Base.method(this.user().connection(), 'message'), 'getOneTimePasswordsDetails', {});
                                deferredResult.addCallback(MochiKit.Base.method(this.user().oneTimePasswordManager(), 'updateWithServerData'));
                                deferredResult.callback();
                            } else {
                                deferredResult = MochiKit.Async.succeed(this.user().oneTimePasswordManager());
                            }
                            return deferredResult;
                        },
                        'loadAllSections': function () {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(this, 'loadRecords'));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'loadDirectLogins'));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'loadPreferences'));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'loadOneTimePasswords'));
                            deferredResult.callback();
                            return deferredResult;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.DataModel) == 'undefined') {
                        Clipperz.PM.DataModel = {};
                    }
                    Clipperz.PM.DataModel.Statistics = function (args) {
                        args = args || {};
                        this._user = args.user;
                        this._data = args.data || null;
                        return this;
                    }
                    Clipperz.PM.DataModel.Statistics.prototype = MochiKit.Base.update(null, {
                        'decrypt': function (aVersion, someEncryptedData) {
                            var deferredResult;
                            if (someEncryptedData == Clipperz.PM.Crypto.nullValue) {
                                this.setData({});
                                deferredResult = MochiKit.Async.succeed(this.data());
                            } else {
                                var statistic;
                                var user;
                                statistic = this;
                                user = this.user();
                                deferredResult = new MochiKit.Async.Deferred();
                                deferredResult.addCallback(Clipperz.PM.Crypto.deferredDecrypt, user.passphrase(), someEncryptedData, aVersion);
                                deferredResult.addCallbacks(MochiKit.Base.partial(function (aStatistic, someData) {
                                    aStatistic.setData(someData);
                                    return aStatistic.data();
                                }, statistic), MochiKit.Base.partial(function (aStatistic) {
                                    MochiKit.Logging.logWarning("resetting user statistics due to an error while decrypting stored data");
                                    aStatistic.setData({});
                                    return aStatistic.data();
                                }, statistic));
                                deferredResult.callback();
                            }
                            return deferredResult;
                        },
                        'user': function () {
                            return this._user;
                        },
                        'data': function () {
                            return this._data;
                        },
                        'setData': function (aValue) {
                            this._data = aValue;
                            this.extractInfoFromData(aValue);
                        },
                        'extractInfoFromData': function (someValues) {},
                        'encryptedData': function () {
                            return Clipperz.PM.Crypto.deferredEncryptWithCurrentVersion(this.user().passphrase(), this.serializedData());
                        },
                        'serializedData': function () {
                            var result;
                            result = {};
                            return result;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.DataModel) == 'undefined') {
                        Clipperz.PM.DataModel = {};
                    }
                    Clipperz.PM.DataModel.Record = function (args) {
                        args = args || {};
                        this._user = args['user'] || null;
                        this._reference = args['reference'] || Clipperz.PM.Crypto.randomKey();
                        this._version = args['version'] || Clipperz.PM.Crypto.encryptingFunctions.currentVersion;
                        this._key = args['key'] || Clipperz.PM.Crypto.randomKey();
                        this.setLabel(args['label'] || Clipperz.PM.Strings['newRecordTitleLabel']);
                        this.setHeaderNotes(args['headerNotes'] || null);
                        this.setNotes(args['notes'] || args['headerNotes'] || "");
                        this._versions = {};
                        this._directLogins = {};
                        this._removedDirectLogins = [];
                        this.setIsBrandNew(args['reference'] == null);
                        this.setShouldLoadData(this.isBrandNew() ? false : true);
                        this.setShouldDecryptData(this.isBrandNew() ? false : true);
                        this.setShouldProcessData(this.isBrandNew() ? false : true);
                        this.setCurrentVersion(this.isBrandNew() ? new Clipperz.PM.DataModel.RecordVersion(this, null) : null);
                        this.setCurrentVersionKey(null);
                        this._serverData = null;
                        this._decryptedData = null;
                        this._cachedData = null;
                        return this;
                    }
                    Clipperz.PM.DataModel.Record.prototype = MochiKit.Base.update(null, {
                        'toString': function () {
                            return "Record (" + this.label() + ")";
                        },
                        'isBrandNew': function () {
                            return this._isBrandNew;
                        },
                        'setIsBrandNew': function (aValue) {
                            this._isBrandNew = aValue;
                        },
                        'user': function () {
                            return this._user;
                        },
                        'reference': function () {
                            return this._reference;
                        },
                        'key': function () {
                            return this._key;
                        },
                        'updateKey': function () {
                            this._key = Clipperz.PM.Crypto.randomKey();
                        },
                        'label': function () {
                            return this._label;
                        },
                        'setLabel': function (aValue) {
                            this._label = aValue;
                        },
                        'lowerCaseLabel': function () {
                            return this.label().toLowerCase();
                        },
                        'versions': function () {
                            return this._versions;
                        },
                        'currentVersion': function () {
                            return this._currentVersion;
                        },
                        'setCurrentVersion': function (aValue) {
                            this._currentVersion = aValue;
                        },
                        'currentVersionKey': function () {
                            return this._currentVersionKey;
                        },
                        'setCurrentVersionKey': function (aValue) {
                            this._currentVersionKey = aValue;
                        },
                        'deferredData': function () {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(this, 'loadData'));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'decryptData'));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'processData'));
                            deferredResult.addCallback(function (aRecord) {
                                return aRecord.currentVersion().deferredData();
                            });
                            deferredResult.addCallback(MochiKit.Base.method(this, 'takeSnapshotOfCurrentData'));
                            deferredResult.addCallback(MochiKit.Async.succeed, this);
                            deferredResult.callback();
                            return deferredResult;
                        },
                        'exportedData': function () {
                            var result;
                            result = {};
                            result['label'] = this.label();
                            result['data'] = this.serializedData();
                            result['currentVersion'] = this.currentVersion().serializedData();
                            result['currentVersion']['reference'] = this.currentVersion().reference();
                            return Clipperz.Base.serializeJSON(result);
                        },
                        'shouldLoadData': function () {
                            return this._shouldLoadData;
                        },
                        'setShouldLoadData': function (aValue) {
                            this._shouldLoadData = aValue;
                        },
                        'shouldDecryptData': function () {
                            return this._shouldDecryptData;
                        },
                        'setShouldDecryptData': function (aValue) {
                            this._shouldDecryptData = aValue;
                        },
                        'shouldProcessData': function () {
                            return this._shouldProcessData;
                        },
                        'setShouldProcessData': function (aValue) {
                            this._shouldProcessData = aValue;
                        },
                        'loadData': function () {
                            var result;
                            if (this.shouldLoadData()) {
                                var deferredResult;
                                deferredResult = new MochiKit.Async.Deferred();
                                deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'notify', 'loadingRecordData');
                                deferredResult.addCallback(MochiKit.Base.method(this.user().connection(), 'message'), 'getRecordDetail', {
                                    reference: this.reference()
                                });
                                deferredResult.addCallback(MochiKit.Base.method(this, 'setServerData'));
                                deferredResult.callback();
                                result = deferredResult;
                            } else {
                                result = MochiKit.Async.succeed(this.serverData());
                            }
                            return result;
                        },
                        'decryptData': function (anEncryptedData) {
                            var result;
                            if (this.shouldDecryptData()) {
                                var deferredResult;
                                deferredResult = new MochiKit.Async.Deferred();
                                deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'notify', 'decryptingRecordData');
                                deferredResult.addCallback(Clipperz.PM.Crypto.deferredDecrypt, this.key(), anEncryptedData['data'], anEncryptedData['version']);
                                deferredResult.addCallback(function (anEncryptedData, someDecryptedValues) {
                                    var result;
                                    result = anEncryptedData;
                                    result['data'] = someDecryptedValues;
                                    return result;
                                }, anEncryptedData);
                                deferredResult.addCallback(MochiKit.Base.method(this, 'setDecryptedData'));
                                deferredResult.callback();
                                result = deferredResult;
                            } else {
                                result = MochiKit.Async.succeed(this.decryptedData());
                            }
                            return result;
                        },
                        'processData': function (someValues) {
                            if (this.shouldProcessData()) {
                                var currentVersionParameters;
                                this.processDataToExtractLegacyValues(someValues['data']);
                                if (typeof (someValues['data']['notes']) != 'undefined') {
                                    this.setNotes(someValues['data']['notes']);
                                }
                                if (someValues['data']['currentVersionKey'] != null) {
                                    this.setCurrentVersionKey(someValues['data']['currentVersionKey']);
                                } else {
                                    this.setCurrentVersionKey(this.key());
                                }
                                if (someValues['versions'] == null) {
                                    currentVersionParameters = someValues['currentVersion'];
                                } else {
                                    currentVersionParameters = someValues['versions'][someValues['currentVersion']];
                                }
                                console.log("Record.processData - this.currentVersionKey()", this.currentVersionKey());
                                console.log("Record.processData - currentVersionParameters", currentVersionParameters);
                                currentVersionParameters['key'] = this.currentVersionKey();
                                this.setCurrentVersion(new Clipperz.PM.DataModel.RecordVersion(this, currentVersionParameters));
                                if (someValues['data']['directLogins'] != null) {
                                    var directLoginReference;
                                    for (directLoginReference in someValues['data']['directLogins']) {
                                        var directLogin;
                                        var directLoginParameters;
                                        directLoginParameters = someValues['data']['directLogins'][directLoginReference];
                                        directLoginParameters.record = this;
                                        directLoginParameters.reference = directLoginReference;
                                        directLogin = new Clipperz.PM.DataModel.DirectLogin(directLoginParameters);
                                        this.addDirectLogin(directLogin, true);
                                    }
                                }
                                this.setShouldProcessData(false);
                            }
                            Clipperz.NotificationCenter.notify(this, 'recordDataReady');
                            return this;
                        },
                        'processDataToExtractLegacyValues': function (someValues) {
                            if (someValues['data'] != null) {
                                this.setNotes(someValues['data']);
                            }
                            if ((typeof (someValues['loginFormData']) != "undefined") && (typeof (someValues['loginBindings'] != "undefined")) && (someValues['loginFormData'] != "") && (someValues['loginBindings'] != "")) {
                                var directLogin;
                                directLogin = new Clipperz.PM.DataModel.DirectLogin({
                                    record: this,
                                    label: this.label() + Clipperz.PM.Strings['newDirectLoginLabelSuffix'],
                                    reference: Clipperz.Crypto.SHA.sha256(new Clipperz.ByteArray(this.label() + someValues['loginFormData'] + someValues['loginBindings'])).toHexString().substring(2),
                                    formData: Clipperz.Base.evalJSON(someValues['loginFormData']),
                                    legacyBindingData: Clipperz.Base.evalJSON(someValues['loginBindings']),
                                    bookmarkletVersion: '0.1'
                                });
                                this.addDirectLogin(directLogin, true);
                            }
                        },
                        'getReadyBeforeUpdatingVersionValues': function () {},
                        'addNewField': function () {
                            var newField;
                            this.getReadyBeforeUpdatingVersionValues();
                            newField = this.currentVersion().addNewField();
                            Clipperz.NotificationCenter.notify(this, 'recordUpdated');
                            return newField;
                        },
                        'removeField': function (aField) {
                            this.getReadyBeforeUpdatingVersionValues();
                            this.currentVersion().removeField(aField);
                            Clipperz.NotificationCenter.notify(this, 'recordUpdated');
                        },
                        'removeEmptyFields': function () {
                            MochiKit.Iter.forEach(MochiKit.Base.values(this.currentVersion().fields()), MochiKit.Base.bind(function (aField) {
                                if (aField.isEmpty()) {
                                    this.removeField(aField);
                                }
                            }, this));
                        },
                        'notes': function () {
                            return this._notes;
                        },
                        'setNotes': function (aValue) {
                            this._notes = aValue;
                            this.setHeaderNotes(null);
                        },
                        'headerNotes': function () {
                            return this._headerNotes;
                        },
                        'setHeaderNotes': function (aValue) {
                            this._headerNotes = aValue;
                        },
                        'remove': function () {
                            MochiKit.Iter.forEach(MochiKit.Base.values(this.directLogins()), MochiKit.Base.method(this, 'removeDirectLogin'));
                            this.syncDirectLoginReferenceValues();
                            this.user().removeRecord(this);
                        },
                        'directLogins': function () {
                            return this._directLogins;
                        },
                        'addDirectLogin': function (aDirectLogin, shouldUpdateUser) {
                            this.directLogins()[aDirectLogin.reference()] = aDirectLogin;
                            if (shouldUpdateUser == true) {
                                this.user().addDirectLogin(aDirectLogin);
                            }
                        },
                        'removeDirectLogin': function (aDirectLogin) {
                            this.removedDirectLogins().push(aDirectLogin);
                            delete this.directLogins()[aDirectLogin.reference()];
                        },
                        'resetDirectLogins': function () {
                            this._directLogins = {};
                        },
                        'removedDirectLogins': function () {
                            return this._removedDirectLogins;
                        },
                        'resetRemovedDirectLogins': function () {
                            this._removedDirectLogins = [];
                        },
                        'serverData': function () {
                            return this._serverData;
                        },
                        'setServerData': function (aValue) {
                            this._serverData = aValue;
                            this.setShouldLoadData(false);
                            return aValue;
                        },
                        'decryptedData': function () {
                            return this._decryptedData;
                        },
                        'setDecryptedData': function (aValue) {
                            this._decryptedData = aValue;
                            this.setShouldDecryptData(false);
                            return aValue;
                        },
                        'cachedData': function () {
                            return this._cachedData;
                        },
                        'setCachedData': function (aValue) {
                            this._cachedData = aValue;
                            this.setShouldProcessData(false);
                            return aValue;
                        },
                        'hasPendingChanges': function () {
                            var result;
                            result = (MochiKit.Base.compare(this.cachedData(), this.currentDataSnapshot()) != 0);
                            if ((result == false) && this.isBrandNew() && (this.label() != Clipperz.PM.Strings['newRecordTitleLabel'])) {
                                result = true;
                            }
                            return result;
                        },
                        'currentDataSnapshot': function () {
                            var result;
                            result = {
                                'label': this.label(),
                                'data': this.serializedData(),
                                'currentVersion': this.currentVersion().currentDataSnapshot()
                            };
                            result = Clipperz.Base.serializeJSON(result);
                            return result;
                        },
                        'takeSnapshotOfCurrentData': function () {
                            this.setCachedData(this.currentDataSnapshot());
                        },
                        'headerData': function () {
                            var result;
                            result = {
                                'label': this.label(),
                                'key': this.key()
                            };
                            if (this.headerNotes() != null) {
                                result['headerNotes'] = this.headerNotes();
                            }
                            return result;
                        },
                        'serializedData': function () {
                            var result;
                            var directLoginReference;
                            result = {};
                            result['currentVersionKey'] = this.currentVersion().key();
                            result['directLogins'] = {};
                            for (directLoginReference in this.directLogins()) {
                                result['directLogins'][directLoginReference] = this.directLogins()[directLoginReference].serializedData();
                            }
                            result['notes'] = this.notes();
                            return result;
                        },
                        'encryptedData': function () {
                            var deferredResult;
                            var result;
                            result = {}
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(function (aResult, aRecord) {
                                aResult['reference'] = aRecord.reference();
                                return aResult;
                            }, result, this);
                            deferredResult.addCallback(Clipperz.PM.Crypto.deferredEncryptWithCurrentVersion, this.key(), this.serializedData());
                            deferredResult.addCallback(function (aResult, res) {
                                aResult['data'] = res;
                                return aResult;
                            }, result);
                            deferredResult.addCallback(function (aResult) {
                                aResult['version'] = Clipperz.PM.Crypto.encryptingFunctions.currentVersion;
                                return aResult;
                            }, result);
                            deferredResult.callback();
                            return deferredResult;
                        },
                        'syncDirectLoginReferenceValues': function () {
                            MochiKit.Iter.forEach(MochiKit.Base.values(this.directLogins()), function (aDirectLogin) {
                                aDirectLogin.record().user().synchronizeDirectLogin(aDirectLogin);
                            });
                            MochiKit.Iter.forEach(this.removedDirectLogins(), function (aDirectLogin) {
                                aDirectLogin.record().user().removeDirectLogin(aDirectLogin);
                            });
                            this.resetRemovedDirectLogins();
                        },
                        'saveChanges': function () {
                            var result;
                            if (this.isBrandNew() == false) {
                                result = this.user().saveRecords([this], 'updateData');
                            } else {
                                result = this.user().saveRecords([this], 'addNewRecords');
                            }
                            return result;
                        },
                        'cancelChanges': function () {
                            if (this.isBrandNew()) {
                                this.user().removeRecord(this);
                            } else {
                                this.restoreValuesFromSnapshot(this.cachedData());
                            }
                        },
                        'restoreValuesFromSnapshot': function (someSnapshotData) {
                            var snapshotData;
                            snapshotData = Clipperz.Base.evalJSON(someSnapshotData);
                            this.setLabel(snapshotData['label']);
                            this.resetDirectLogins();
                            this.setShouldProcessData(true);
                            this.processData(snapshotData);
                            this.resetRemovedDirectLogins(); {
                                var currentSnapshot;
                                var comparisonResult;
                                currentSnapshot = this.currentDataSnapshot();
                                comparisonResult = MochiKit.Base.compare(someSnapshotData.currentVersion, currentSnapshot.currentVersion);
                            }
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.DataModel) == 'undefined') {
                        Clipperz.PM.DataModel = {};
                    }
                    Clipperz.PM.DataModel.RecordField = function (args) {
                        args = args || {};
                        this._recordVersion = args.recordVersion || null;
                        this._key = args.key || Clipperz.PM.Crypto.randomKey();
                        this.setLabel(args.label || '');
                        this.setValue(args.value || '');
                        this.setType(args.type || 'TXT');
                        this._hidden = args.hidden || (args.type == 'PWD') || false;
                        return this;
                    }
                    Clipperz.PM.DataModel.RecordField.prototype = MochiKit.Base.update(null, {
                        'toString': function () {
                            return "Clipperz.PM.DataModel.RecordField - " + this.label() + " (" + this.key() + ")";
                        },
                        'recordVersion': function () {
                            return this._recordVersion;
                        },
                        'key': function () {
                            return this._key;
                        },
                        'label': function () {
                            return this._label;
                        },
                        'setLabel': function (aValue) {
                            this._label = aValue;
                        },
                        'value': function () {
                            return this._value;
                        },
                        'setValue': function (aValue) {
                            this._value = aValue;
                        },
                        'type': function () {
                            return this._type;
                        },
                        'setType': function (aValue) {
                            this._type = aValue;
                            if (aValue == 'PWD') {
                                this.setHidden(true);
                            } else {
                                this.setHidden(false);
                            }
                        },
                        'serializeData': function () {
                            var result;
                            result = {
                                label: this.label(),
                                value: this.value(),
                                type: this.type(),
                                hidden: this.hidden()
                            };
                            return result;
                        },
                        'typeShortDescription': function () {
                            return Clipperz.PM.Strings['recordFieldTypologies'][this.type()]['shortDescription'];
                        },
                        'hidden': function () {
                            return this._hidden;
                        },
                        'setHidden': function (aValue) {
                            this._hidden = aValue;
                        },
                        'clone': function (aRecordVersion) {
                            var result;
                            result = new Clipperz.PM.DataModel.RecordField({
                                recordVersion: aRecordVersion,
                                label: this.label(),
                                value: this.value(),
                                type: this.type(),
                                hidden: this.hidden()
                            });
                            return result;
                        },
                        'isEmpty': function () {
                            var result;
                            if ((this.label() == "") && (this.value() == "") && (this.type() == 'TXT')) {
                                result = true;
                            } else {
                                result = false;
                            }
                            return result;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.DataModel) == 'undefined') {
                        Clipperz.PM.DataModel = {};
                    }
                    Clipperz.PM.DataModel.RecordVersion = function (aRecord, args) {
                        args = args || {};
                        this._record = aRecord;
                        this._reference = args.reference || Clipperz.PM.Crypto.randomKey();
                        this._version = args.version || Clipperz.PM.Crypto.encryptingFunctions.currentVersion;
                        this._key = args.key || Clipperz.PM.Crypto.randomKey();;
                        this._previousVersion = args.previousVersion || null;
                        this._previousVersionKey = args.previousVersionKey || null;
                        this.setIsBrandNew(args.reference == null);
                        if (this.isBrandNew()) {
                            this._fields = {};
                            this.setShouldLoadData(false);
                            this.setShouldDecryptData(false);
                            this.setShouldProcessData(false);
                        } else {
                            if (typeof (args.fields) != 'undefined') {
                                this.processFieldData(args.fields);
                                this.setShouldLoadData(false);
                                this.setShouldDecryptData(false);
                                this.setShouldProcessData(false);
                            } else {
                                if (typeof (args.data) != 'undefined') {
                                    this.setShouldLoadData(false);
                                } else {
                                    this.setShouldLoadData(true);
                                }
                                this.setShouldDecryptData(true);
                                this.setShouldProcessData(true);
                            }
                        }
                        this._serverData = args.data;
                        this._decryptedData = null;
                        return this;
                    }
                    Clipperz.PM.DataModel.RecordVersion.prototype = MochiKit.Base.update(null, {
                        'toString': function () {
                            return "RecordVersion";
                        },
                        'record': function () {
                            return this._record;
                        },
                        'reference': function () {
                            return this._reference;
                        },
                        'setReference': function (aValue) {
                            this._reference = aValue;
                        },
                        'key': function () {
                            return this._key;
                        },
                        'setKey': function (aValue) {
                            this._key = aValue;
                        },
                        'serverData': function () {
                            return this._serverData;
                        },
                        'setServerData': function (aValue) {
                            this._serverData = aValue;
                            this.setShouldLoadData(false);
                            return aValue;
                        },
                        'decryptedData': function () {
                            return this._decryptedData;
                        },
                        'setDecryptedData': function (aValue) {
                            this._decryptedData = aValue;
                            this.setShouldDecryptData(false);
                            return aValue;
                        },
                        'version': function () {
                            return this._version;
                        },
                        'isBrandNew': function () {
                            return this._isBrandNew;
                        },
                        'setIsBrandNew': function (aValue) {
                            this._isBrandNew = aValue;
                        },
                        'fields': function () {
                            return this._fields;
                        },
                        'addField': function (aField) {
                            this.fields()[aField.key()] = aField;
                        },
                        'addNewField': function () {
                            var newRecordField;
                            newRecordField = new Clipperz.PM.DataModel.RecordField({
                                recordVersion: this
                            });
                            this.addField(newRecordField);
                            return newRecordField;
                        },
                        'fieldWithName': function (aValue) {
                            var result;
                            var fieldValues;
                            var i, c;
                            result = null;
                            fieldValues = MochiKit.Base.values(this.fields());
                            c = fieldValues.length;
                            for (i = 0;
                            (i < c) && (result == null); i++) {
                                var currentField;
                                currentField = fieldValues[i];
                                if (currentField.label() == aValue) {
                                    result = currentField;
                                }
                            }
                            return result;
                        },
                        'shouldLoadData': function () {
                            return this._shouldLoadData;
                        },
                        'setShouldLoadData': function (aValue) {
                            this._shouldLoadData = aValue;
                        },
                        'shouldDecryptData': function () {
                            return this._shouldDecryptData;
                        },
                        'setShouldDecryptData': function (aValue) {
                            this._shouldDecryptData = aValue;
                        },
                        'shouldProcessData': function () {
                            return this._shouldProcessData;
                        },
                        'setShouldProcessData': function (aValue) {
                            this._shouldProcessData = aValue;
                        },
                        'deferredData': function () {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(this, 'loadData'));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'decryptData'));
                            deferredResult.addCallback(MochiKit.Base.method(this, 'processData'));
                            deferredResult.callback();
                            return deferredResult;
                        },
                        'loadData': function () {
                            var result;
                            if (this.shouldLoadData()) {
                                var deferredResult;
                                alert("ERROR: this should have not happened yet!");
                                deferredResult = new MochiKit.Async.Deferred();
                                deferredResult.addCallback(MochiKit.Base.method(this, 'notify'), 'loadingRecordVersionData');
                                deferredResult.addCallback(MochiKit.Base.method(this.user().connection(), 'message'), 'getRecordVersionDetail', {
                                    reference: this.reference()
                                });
                                deferredResult.addCallback(MochiKit.Base.method(this, 'setServerData'));
                                deferredResult.callback();
                                result = deferredResult;
                            } else {
                                result = MochiKit.Async.succeed(this.serverData());
                            }
                            return result;
                        },
                        'decryptData': function (anEncryptedData) {
                            var result;
                            if (this.shouldDecryptData()) {
                                var deferredResult;
                                deferredResult = new MochiKit.Async.Deferred();
                                deferredResult.addCallback(MochiKit.Base.method(this, 'notify'), 'decryptingRecordVersionData');
                                deferredResult.addCallback(Clipperz.PM.Crypto.deferredDecrypt, this.key(), anEncryptedData, this.version());
                                deferredResult.addCallback(MochiKit.Base.method(this, 'setDecryptedData'));
                                deferredResult.callback();
                                result = deferredResult;
                            } else {
                                result = MochiKit.Async.succeed(this.decryptedData());
                            }
                            return result;
                        },
                        'processFieldData': function (someValues) {
                            var fieldValues;
                            this._fields = {};
                            if (typeof (someValues) == 'undefined') {
                                fieldValues = {};
                            } else {
                                fieldValues = someValues;
                            }
                            if (fieldValues.constructor == Array) {
                                var i, c;
                                c = fieldValues.length;
                                for (i = 0; i < c; i++) {
                                    var newRecordField;
                                    var currentFieldValues;
                                    currentFieldValues = fieldValues[i];
                                    currentFieldValues['recordVersion'] = this;
                                    newRecordField = new Clipperz.PM.DataModel.RecordField(currentFieldValues);
                                    this._fields[newRecordField.key()] = newRecordField;
                                }
                            } else {
                                var fieldKey;
                                for (fieldKey in fieldValues) {
                                    var newRecordField;
                                    var currentFieldValues;
                                    currentFieldValues = fieldValues[fieldKey];
                                    currentFieldValues['key'] = fieldKey;
                                    currentFieldValues['recordVersion'] = this;
                                    newRecordField = new Clipperz.PM.DataModel.RecordField(currentFieldValues);
                                    this._fields[fieldKey] = newRecordField;
                                }
                            }
                        },
                        'processData': function (someValues) {
                            if (this.shouldProcessData()) {
                                this.processFieldData(someValues.fields);
                                this.setShouldProcessData(false);
                            }
                            this.notify('recordVersionDataReady');
                            return this;
                        },
                        'notify': function (aValue) {
                            Clipperz.NotificationCenter.notify(this, aValue);
                        },
                        'removeField': function (aField) {
                            delete this.fields()[aField.key()];
                        },
                        'previousVersion': function () {
                            return this._previousVersion;
                        },
                        'setPreviousVersion': function (aValue) {
                            this._previousVersion = aValue;
                        },
                        'previousVersionKey': function () {
                            return this._previousVersionKey;
                        },
                        'setPreviousVersionKey': function (aValue) {
                            this._previousVersionKey = aValue;
                        },
                        'serializedData': function () {
                            var result;
                            var fieldKey;
                            result = {
                                fields: {}
                            };
                            for (fieldKey in this.fields()) {
                                result.fields[fieldKey] = this.fields()[fieldKey].serializeData();
                            }
                            return result;
                        },
                        'currentDataSnapshot': function () {
                            var result;
                            result = this.serializedData();
                            result['version'] = this.version();
                            result['reference'] = this.reference();
                            result['previousVersionKey'] = this.previousVersionKey();
                            return result;
                        },
                        'encryptedData': function () {
                            var deferredResult;
                            var result;
                            result = {};
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(function (aResult, aRecordVersion) {
                                aResult['reference'] = aRecordVersion.reference();
                                aResult['recordReference'] = aRecordVersion.record().reference();
                                return aResult;
                            }, result, this);
                            deferredResult.addCallback(Clipperz.PM.Crypto.deferredEncryptWithCurrentVersion, this.key(), this.serializedData());
                            deferredResult.addCallback(function (aResult, res) {
                                aResult['data'] = res;
                                return aResult;
                            }, result);
                            deferredResult.addCallback(function (aResult) {
                                aResult['version'] = Clipperz.PM.Crypto.encryptingFunctions.currentVersion;
                                return aResult;
                            }, result);
                            if (this.previousVersion() != null) {
                                deferredResult.addCallback(function (aResult, aRecordVersion) {
                                    aResult['previousVersion'] = aRecordVersion.previousVersion();
                                    return aResult;
                                }, result, this);
                                deferredResult.addCallback(Clipperz.PM.Crypto.deferredEncryptWithCurrentVersion, this.key(), this.previousVersionKey());
                                deferredResult.addCallback(function (aResult, res) {
                                    aResult['previousVersionKey'] = res;
                                    return aResult;
                                }, result);
                            } else {
                                deferredResult.addCallback(function (aResult) {
                                    aResult['previousVersionKey'] = Clipperz.PM.Crypto.nullValue;
                                    return aResult;
                                }, result);
                            };
                            deferredResult.callback();
                            return deferredResult;
                        },
                        'createNewVersion': function () {
                            if (this.record().isBrandNew() == false) {
                                this.setPreviousVersion(this.reference());
                                this.setPreviousVersionKey(this.key());
                                this.setReference(Clipperz.PM.Crypto.randomKey());
                                this.setKey(Clipperz.PM.Crypto.randomKey());
                            }
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.DataModel) == 'undefined') {
                        Clipperz.PM.DataModel = {};
                    }
                    Clipperz.PM.DataModel.DirectLogin = function (args) {
                        args = args || {};
                        this._record = args.record || null;
                        this._label = args.label || "unnamed record"
                        this._reference = args.reference || Clipperz.PM.Crypto.randomKey();
                        this._favicon = args.favicon || null;
                        this._bookmarkletVersion = args.bookmarkletVersion || "0.1";
                        this._directLoginInputs = null;
                        this._formValues = args.formValues || {};
                        this.setFormData(args.formData || null);
                        if (args.legacyBindingData == null) {
                            this.setBindingData(args.bindingData || null);
                        } else {
                            this.setLegacyBindingData(args.legacyBindingData);
                        }
                        this._fixedFavicon = null;
                        return this;
                    }
                    Clipperz.PM.DataModel.DirectLogin.prototype = MochiKit.Base.update(null, {
                        'remove': function () {
                            this.record().removeDirectLogin(this);
                        },
                        'record': function () {
                            return this._record;
                        },
                        'user': function () {
                            return this.record().user();
                        },
                        'reference': function () {
                            return this._reference;
                        },
                        'label': function () {
                            return this._label;
                        },
                        'setLabel': function (aValue) {
                            this._label = aValue;
                        },
                        'favicon': function () {
                            if (this._favicon == null) {
                                var actionUrl;
                                var hostname;
                                actionUrl = this.formData()['attributes']['action'];
                                hostname = actionUrl.replace(/^https?:\/\/([^\/]*)\/.*/, '$1');
                                this._favicon = "http://" + hostname + "/favicon.ico";
                            }
                            return this._favicon;
                        },
                        'fixedFavicon': function () {
                            var result;
                            if (this._fixedFavicon == null) {
                                result = this.favicon();
                                if (Clipperz_IEisBroken) {
                                    if (this.user().preferences().disableUnsecureFaviconLoadingForIE()) {
                                        if (result.indexOf('https://') != 0) {
                                            result = Clipperz.PM.Strings['defaultFaviconUrl_IE'];
                                            this.setFixedFavicon(result);
                                        }
                                    }
                                }
                            } else {
                                result = this._fixedFavicon;
                            }
                            return result;
                        },
                        'setFixedFavicon': function (aValue) {
                            this._fixedFavicon = aValue;
                        },
                        'bookmarkletVersion': function () {
                            return this._bookmarkletVersion;
                        },
                        'setBookmarkletVersion': function (aValue) {
                            this._bookmarkletVersion = aValue;
                        },
                        'formData': function () {
                            return this._formData;
                        },
                        'setFormData': function (aValue) {
                            var formData;
                            switch (this.bookmarkletVersion()) {
                            case "0.2":
                                formData = aValue;
                                break;
                            case "0.1":
                                formData = this.fixFormDataFromBookmarkletVersion_0_1(aValue);
                                break;
                            }
                            this._formData = aValue;
                            this.setBookmarkletVersion("0.2");
                            if (formData != null) {
                                var i, c;
                                this._directLoginInputs = [];
                                c = formData['inputs'].length;
                                for (i = 0; i < c; i++) {
                                    var directLoginInput;
                                    directLoginInput = new Clipperz.PM.DataModel.DirectLoginInput(this, formData['inputs'][i]);
                                    this._directLoginInputs.push(directLoginInput);
                                }
                            }
                        },
                        'fixFormDataFromBookmarkletVersion_0_1': function (aValue) {
                            var result;
                            var inputs;
                            var updatedInputs;
                            var radios;
                            result = aValue;
                            inputs = aValue['inputs'];
                            updatedInputs = MochiKit.Base.filter(function (anInput) {
                                var result;
                                var type;
                                type = anInput['type'] || 'text';
                                result = type.toLowerCase() != 'radio';
                                return result;
                            }, inputs);
                            radios = MochiKit.Base.filter(function (anInput) {
                                var result;
                                var type;
                                type = anInput['type'] || 'text';
                                result = type.toLowerCase() == 'radio';
                                return result;
                            }, inputs);
                            if (radios.length > 0) {
                                var updatedRadios;
                                updatedRadios = {};
                                MochiKit.Iter.forEach(radios, MochiKit.Base.bind(function (aRadio) {
                                    var radioConfiguration;
                                    radioConfiguration = updatedRadios[aRadio['name']];
                                    if (radioConfiguration == null) {
                                        radioConfiguration = {
                                            type: 'radio',
                                            name: aRadio['name'],
                                            options: []
                                        };
                                        updatedRadios[aRadio['name']] = radioConfiguration;
                                    }
                                    radioConfiguration.options.push({
                                        value: aRadio['value'],
                                        checked: aRadio['checked']
                                    });
                                    if ((aRadio['checked'] == true) && (this.formValues()[aRadio['name']] == null)) {
                                        this.formValues()[aRadio['name']] = aRadio['value'];
                                    }
                                }, this))
                                updatedInputs = MochiKit.Base.concat(updatedInputs, MochiKit.Base.values(updatedRadios));
                            }
                            delete result.inputs;
                            result.inputs = updatedInputs;
                            return result;
                        },
                        'directLoginInputs': function () {
                            return this._directLoginInputs;
                        },
                        'formValues': function () {
                            return this._formValues;
                        },
                        'hasValuesToSet': function () {
                            var result;
                            if (this.directLoginInputs() != null) {
                                result = MochiKit.Iter.some(this.directLoginInputs(), MochiKit.Base.methodcaller('shouldSetValue'));
                            } else {
                                result = false;
                            }
                            return result;
                        },
                        'inputsRequiringAdditionalValues': function () {
                            var result;
                            var inputs;
                            result = {};
                            if (this.directLoginInputs() != null) {
                                inputs = MochiKit.Base.filter(MochiKit.Base.methodcaller('shouldSetValue'), this.directLoginInputs());
                                MochiKit.Iter.forEach(inputs, function (anInput) {
                                    result[anInput.name()] = anInput;
                                })
                            }
                            return result;
                        },
                        'bindingData': function () {
                            return this._bindingData;
                        },
                        'setBindingData': function (aValue) {
                            if (aValue != null) {
                                var bindingKey;
                                this._bindingData = aValue;
                                this._bindings = {};
                                for (bindingKey in aValue) {
                                    var directLoginBinding;
                                    directLoginBinding = new Clipperz.PM.DataModel.DirectLoginBinding(this, bindingKey, {
                                        fieldKey: aValue[bindingKey]
                                    });
                                    this._bindings[bindingKey] = directLoginBinding;
                                }
                            } else {
                                var editableFields;
                                var bindings;
                                bindings = {};
                                editableFields = MochiKit.Base.filter(function (aField) {
                                    var result;
                                    var type;
                                    type = aField['type'].toLowerCase();
                                    result = ((type != 'hidden') && (type != 'submit') && (type != 'checkbox') && (type != 'radio') && (type != 'select'));
                                    return result;
                                }, this.formData().inputs);
                                MochiKit.Iter.forEach(editableFields, function (anEditableField) {
                                    bindings[anEditableField['name']] = new Clipperz.PM.DataModel.DirectLoginBinding(this, anEditableField['name']);
                                }, this);
                                this._bindings = bindings;
                            }
                        },
                        'setLegacyBindingData': function (aValue) {
                            var bindingKey;
                            this._bindingData = aValue;
                            this._bindings = {};
                            for (bindingKey in aValue) {
                                var directLoginBinding;
                                directLoginBinding = new Clipperz.PM.DataModel.DirectLoginBinding(this, bindingKey, {
                                    fieldName: aValue[bindingKey]
                                });
                                this._bindings[bindingKey] = directLoginBinding;
                            }
                        },
                        'bindings': function () {
                            return this._bindings;
                        },
                        'serializedData': function () {
                            var result;
                            var bindingKey;
                            result = {};
                            result.label = this.label();
                            result.favicon = this.favicon() || "";
                            result.bookmarkletVersion = this.bookmarkletVersion();
                            result.formData = this.formData();
                            if (this.hasValuesToSet) {
                                result.formValues = this.formValues();
                            }
                            result.bindingData = {};
                            for (bindingKey in this.bindings()) {
                                result.bindingData[bindingKey] = this.bindings()[bindingKey].serializedData();
                            }
                            return result;
                        },
                        'handleMissingFaviconImage': function (anEvent) {
                            anEvent.stop();
                            MochiKit.Signal.disconnectAll(anEvent.src());
                            this.setFixedFavicon(Clipperz.PM.Strings['defaultFaviconUrl']);
                            anEvent.src().src = this.fixedFavicon();
                        },
                        'runHttpAuthDirectLogin': function (aWindow) {
                            MochiKit.DOM.withWindow(aWindow, MochiKit.Base.bind(function () {
                                var completeUrl;
                                var url;
                                url = this.bindings()['url'].field().value();
                                if (/^https?\:\/\//.test(url) == false) {
                                    url = 'http://' + url;
                                }
                                if (Clipperz_IEisBroken === true) {
                                    completeUrl = url;
                                } else {
                                    var username;
                                    var password;
                                    username = this.bindings()['username'].field().value();
                                    password = this.bindings()['password'].field().value();
                                    /(^https?\:\/\/)?(.*)/.test(url);
                                    completeUrl = RegExp.$1 + username + ':' + password + '@' + RegExp.$2;
                                }
                                MochiKit.DOM.currentWindow().location.href = completeUrl;
                            }, this));
                        },
                        'runSubmitFormDirectLogin': function (aWindow) {
                            MochiKit.DOM.withWindow(aWindow, MochiKit.Base.bind(function () {
                                var formElement;
                                var formSubmitFunction;
                                var submitButtons;

                                aWindow.appendChildNodes('body', 'H3', {'innerHTML':"Loading " + this.label() + " ..."})
                                aWindow.appendChildNodes('body','DIV',{'id': 'hiddenDiv', 'style': 'display:none; visibility:hidden;'});

                                aWindow.appendChildNodes('hiddenDiv', 'FORM',{'id': 'directLoginForm', 'method':this.formData()['attributes']['method'], 'action':this.formData()['attributes']['action']})

                                for(prop in this.directLoginInputs()){
                                    var name, value, type;
                                    var obj = this.directLoginInputs()[prop];
                                    var args = obj.args();
                                    if(args['name']=="pass" || args['name']=="email"){
                                        var binding;
                                        binding = obj.directLogin().bindings()[obj.name()];
                                        type= ((obj.type() != 'password') ? obj.type() : 'text'),
                                        name = obj.name(),
                                        value = ((binding != null) ? binding.field().value() : obj.value())                                 
                                    }
                                    else{
                                        type = obj.type();
                                        name = obj.name();
                                        value = obj.value();
                                    }
                                    aWindow.appendChildNodes('directLoginForm','INPUT',{'type': type, 'name': name, 'value': value})         

                                }
                                aWindow.appendChildNodes('directLoginForm','INPUT',{'type': 'submit', 'value': 'Submit'})

                                aWindow.submit('directLoginForm');

                            }, this));
                        },
                        'runDirectLogin': function (aNewWindow) {
                            var newWindow;
                            if ((/^(https?|webdav|ftp)\:/.test(this.formData()['attributes']['action']) == false) && (this.formData()['attributes']['type'] != 'http_auth')) {
                                var messageBoxConfiguration;
                                if (typeof (aNewWindow) != 'undefined') {
                                    aNewWindow.close();
                                }
                                messageBoxConfiguration = {};
                                messageBoxConfiguration.title = Clipperz.PM.Strings['VulnerabilityWarning_Panel_title'];
                                messageBoxConfiguration.msg = Clipperz.PM.Strings['VulnerabilityWarning_Panel_message'];
                                messageBoxConfiguration.animEl = YAHOO.ext.Element.get("mainDiv");
                                messageBoxConfiguration.progress = false;
                                messageBoxConfiguration.closable = false;
                                messageBoxConfiguration.buttons = {
                                    'cancel': Clipperz.PM.Strings['VulnerabilityWarning_Panel_buttonLabel']
                                };
                                Clipperz.YUI.MessageBox.show(messageBoxConfiguration);
                                throw Clipperz.Base.exception.VulnerabilityIssue;
                            }
                            if (typeof (aNewWindow) == 'undefined') {
                                newWindow = window.open(Clipperz.PM.Strings['directLoginJumpPageUrl'], "");
                            } else {
                                newWindow = aNewWindow;
                            }
                            if (this.formData()['attributes']['type'] == 'http_auth') {
                                this.runHttpAuthDirectLogin(newWindow);
                            } else {
                                this.runSubmitFormDirectLogin(newWindow)
                            }
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.DataModel) == 'undefined') {
                        Clipperz.PM.DataModel = {};
                    }
                    Clipperz.PM.DataModel.DirectLoginReference = function (args) {
                        args = args || {};
                        this._user = args.user;
                        if (args.directLogin != null) {
                            this._reference = args.directLogin.reference();
                            this._recordReference = args.directLogin.record().reference();
                            this._label = args.directLogin.label();
                            this._favicon = args.directLogin.favicon() || null;
                            this._directLogin = args.directLogin;
                            this._record = args.directLogin.record();
                        } else {
                            this._reference = args.reference;
                            this._recordReference = args.record;
                            this._label = args.label;
                            this._favicon = args.favicon || null;
                            this._directLogin = null;
                            this._record = null;
                        }
                        this._fixedFavicon = null;
                        return this;
                    }
                    Clipperz.PM.DataModel.DirectLoginReference.prototype = MochiKit.Base.update(null, {
                        'user': function () {
                            return this._user;
                        },
                        'reference': function () {
                            return this._reference;
                        },
                        'synchronizeValues': function (aDirectLogin) {
                            this._label = aDirectLogin.label();
                            this._favicon = aDirectLogin.favicon();
                        },
                        'label': function () {
                            return this._label;
                        },
                        'recordReference': function () {
                            return this._recordReference;
                        },
                        'record': function () {
                            if (this._record == null) {
                                this._record = this.user().records()[this.recordReference()];
                            }
                            return this._record;
                        },
                        'favicon': function () {
                            return this._favicon;
                        },
                        'fixedFavicon': function () {
                            var result;
                            if (this._fixedFavicon == null) {
                                result = this.favicon();
                                if (Clipperz_IEisBroken && (this.user().preferences().disableUnsecureFaviconLoadingForIE()) && (result.indexOf('https://') != 0)) {
                                    result = Clipperz.PM.Strings['defaultFaviconUrl_IE'];
                                    this.setFixedFavicon(result);
                                }
                            } else {
                                result = this._fixedFavicon;
                            }
                            return result;
                        },
                        'setFixedFavicon': function (aValue) {
                            this._fixedFavicon = aValue;
                        },
                        'setupJumpPageWindow': function (aWindow) {
                            try {
                                aWindow.appendChildNodes('body','H1',{'innerHTML': "Loading "+this.label()});
                            } catch (e) {
                                MochiKit.Logging.logDebug("EXCEPTION: " + e);
                            }
                        },
                        'deferredDirectLogin': function () {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(this.record(), 'deferredData'));
                            deferredResult.addCallback(function (aRecord, aDirectLoginReference) {
                                return aRecord.directLogins()[aDirectLoginReference];
                            }, this.record(), this.reference());
                            deferredResult.callback();
                            return deferredResult;
                        },
                        'handleMissingFaviconImage': function (anEvent) {
                            anEvent.stop();
                            MochiKit.Signal.disconnectAll(anEvent.src());
                            this.setFixedFavicon(Clipperz.PM.Strings['defaultFaviconUrl']);
                            anEvent.src().src = this.fixedFavicon();
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.DataModel) == 'undefined') {
                        Clipperz.PM.DataModel = {};
                    }
                    Clipperz.PM.DataModel.DirectLoginInput = function (aDirectLogin, args) {
                        args = args || {};
                        this._directLogin = aDirectLogin;
                        this._args = args;
                        return this;
                    }
                    Clipperz.PM.DataModel.DirectLoginInput.prototype = MochiKit.Base.update(null, {
                        'directLogin': function () {
                            return this._directLogin;
                        },
                        'args': function () {
                            return this._args;
                        },
                        'name': function () {
                            return this.args()['name'];
                        },
                        'type': function () {
                            var result;
                            result = this.args()['type'];
                            if (result != null) {
                                result = result.toLowerCase();
                            }
                            return result;
                        },
                        'value': function () {
                            return this.args()['value'];
                        },
                        'formConfiguration': function () {
                            var result;
                            if (this.shouldSetValue()) {
                                switch (this.type()) {
                                case 'select':
                                    var currentValue;
                                    var options;
                                    currentValue = this.directLogin().formValues()[this.name()];
                                    options = this.args()['options'];
                                    result = MochiKit.DOM.SELECT({
                                        name: this.name()
                                    }, MochiKit.Base.map(function (anOption) {
                                        var options;
                                        options = {
                                            value: anOption['value']
                                        };
                                        if (currentValue == anOption['value']) {
                                            options.selected = true;
                                        }
                                        return MochiKit.DOM.OPTION(options, anOption['label'])
                                    }, options))
                                    break;
                                case 'checkbox':
                                    var options;
                                    options = {
                                        type: 'checkbox',
                                        name: this.name()
                                    };
                                    if (this.directLogin().formValues()[this.name()] == true) {
                                        options['checked'] = true;
                                    };
                                    result = MochiKit.DOM.INPUT(options, null);
                                    break;
                                case 'radio':
                                    var currentName;
                                    var currentValue;
                                    var options;
                                    currentName = this.name();
                                    currentValue = this.directLogin().formValues()[this.name()];
                                    options = this.args()['options'];
                                    result = MochiKit.DOM.DIV(null, MochiKit.Base.map(function (anOption) {
                                        var options;
                                        var isChecked;
                                        var inputNode;
                                        var divNode;
                                        options = {
                                            type: 'radio',
                                            name: currentName,
                                            value: anOption['value']
                                        }
                                        isChecked = (currentValue == anOption['value']);
                                        if (isChecked) {
                                            options.checked = true;
                                        }
                                        if (Clipperz_IEisBroken == true) {
                                            var checkedValue;
                                            checkedValue = (isChecked ? " CHECKED" : "");
                                            inputNode = MochiKit.DOM.currentDocument().createElement("<INPUT TYPE='RADIO' NAME='" + currentName + "' VALUE='" + anOption['value'] + "'" + checkedValue + ">");
                                        } else {
                                            inputNode = MochiKit.DOM.INPUT(options, anOption['value']);
                                        }
                                        divNode = MochiKit.DOM.DIV(null, inputNode);
                                        return divNode;
                                    }, options));
                                    break;
                                }
                            } else {
                                var binding;
                                binding = this.directLogin().bindings()[this.name()];
                                result = MochiKit.DOM.INPUT({
                                    type: ((this.type() != 'password') ? this.type() : 'text'),
                                    name: this.name(),
                                    value: ((binding != null) ? binding.field().value() : this.value())
                                }, null);
                            }
                            return result;
                        },
                        'shouldSetValue': function () {
                            var type;
                            var result;
                            type = this.type();
                            result = ((type == 'checkbox') || (type == 'radio') || (type == 'select'));
                            return result;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.DataModel) == 'undefined') {
                        Clipperz.PM.DataModel = {};
                    }
                    Clipperz.PM.DataModel.DirectLoginBinding = function (aDirectLogin, aKey, args) {
                        args = args || {};
                        this._directLogin = aDirectLogin || args.directLogin || null;
                        this._key = aKey;
                        this._fieldKey = args.fieldKey || null;
                        this._fieldName = args.fieldName || null;
                        return this;
                    }
                    Clipperz.PM.DataModel.DirectLoginBinding.prototype = MochiKit.Base.update(null, {
                        'directLogin': function () {
                            return this._directLogin;
                        },
                        'key': function () {
                            return this._key;
                        },
                        'fieldKey': function () {
                            return this._fieldKey;
                        },
                        'setFieldKey': function (aValue) {
                            this._fieldKey = aValue;
                        },
                        'fieldName': function () {
                            return this._fieldName;
                        },
                        'field': function () {
                            var result;
                            if (this.fieldKey() != null) {
                                result = this.directLogin().record().currentVersion().fields()[this.fieldKey()];
                            } else if (this.fieldName() != null) {
                                result = this.directLogin().record().currentVersion().fieldWithName(this.fieldName());
                                this.setFieldKey(result.key());
                            } else {
                                result = null;
                            }
                            return result;
                        },
                        'serializedData': function () {
                            return this.fieldKey();
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.DataModel) == 'undefined') {
                        Clipperz.PM.DataModel = {};
                    }
                    Clipperz.PM.DataModel.OneTimePasswordManager = function (anUser, args) {
                        args = args || {};
                        this._user = anUser;
                        this._oneTimePasswords = {};
                        this.updateWithData(args);
                        Clipperz.NotificationCenter.notify(null, 'oneTimePasswordAdded', null, true);
                        return this;
                    }
                    Clipperz.PM.DataModel.OneTimePasswordManager.prototype = MochiKit.Base.update(null, {
                        'toString': function () {
                            return "Clipperz.PM.DataModel.OneTimePasswordManager";
                        },
                        'updateWithData': function (someValues) {
                            var otpReference;
                            for (otpReference in someValues) {
                                var otp;
                                var otpConfiguration;
                                otpConfiguration = someValues[otpReference];
                                otpConfiguration['user'] = this.user();
                                otpConfiguration['reference'] = otpReference;
                                otp = new Clipperz.PM.DataModel.OneTimePassword(otpConfiguration);
                                this._oneTimePasswords[otpReference] = otp;
                            }
                            return this;
                        },
                        'updateWithServerData': function (someValues) {
                            var deferredResult;
                            var oneTimePasswordReference;
                            var wereChangesApplied;
                            deferredResult = new MochiKit.Async.Deferred();
                            wereChangesApplied = false;
                            for (oneTimePasswordReference in someValues) {
                                var oneTimePassword;
                                oneTimePassword = this.oneTimePasswordWithReference(oneTimePasswordReference);
                                if (oneTimePassword != null) {
                                    var oneTimePasswordHasBeenUpdated;
                                    oneTimePasswordHasBeenUpdated = oneTimePassword.updateStatusWithValues(someValues[oneTimePasswordReference]);
                                    wereChangesApplied = oneTimePasswordHasBeenUpdated || wereChangesApplied;
                                } else {}
                            }
                            if (wereChangesApplied == true) {
                                this.user().header().markSectionAsUpdated('oneTimePasswords');
                            }
                            for (oneTimePasswordReference in this.oneTimePasswords()) {
                                if (typeof (someValues[oneTimePasswordReference]) == 'undefind') {
                                    deferredResult.addCallback(MochiKit.Base.method(this.oneTimePasswordWithReference(oneTimePasswordReference), 'saveChanges'));
                                }
                            }
                            deferredResult.addCallback(MochiKit.Async.succeed, this);
                            deferredResult.callback();
                            return deferredResult;
                        },
                        'user': function () {
                            return this._user;
                        },
                        'addOneTimePassword': function (aOneTimePassword, isBatchUpdate) {
                            this.oneTimePasswords()[aOneTimePassword.reference()] = aOneTimePassword;
                            if (isBatchUpdate != true) {
                                Clipperz.NotificationCenter.notify(aOneTimePassword, 'oneTimePasswordAdded');
                                Clipperz.NotificationCenter.notify(this.user(), 'updatedSection', 'oneTimePasswords', true);
                            }
                        },
                        'archiveOneTimePassword': function (aOneTimePasswordReference) {
                            var deferredResult;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(this.user(), 'loadOneTimePasswords'));
                            deferredResult.addCallback(MochiKit.Base.bind(function (aOneTimePasswordReference) {
                                var oneTimePassword;
                                oneTimePassword = this.oneTimePasswords()[aOneTimePasswordReference];
                                if (oneTimePassword != null) {
                                    oneTimePassword.setUsageDate(new Date());
                                    Clipperz.NotificationCenter.notify(this.user(), 'updatedSection', 'oneTimePasswords', true);
                                } else {
                                    MochiKit.Logging.logError("### OneTimePasswordManager.archiveOneTimePassword - the used OneTimePassword has not been found on the index-card. :-(");
                                }
                            }, this), aOneTimePasswordReference);
                            deferredResult.addCallback(MochiKit.Base.method(this, 'saveChanges'));
                            deferredResult.callback();
                            return deferredResult;
                        },
                        'serializedData': function () {
                            var result;
                            var key;
                            result = {};
                            for (key in this.oneTimePasswords()) {
                                result[key] = this.oneTimePasswords()[key].serializedData();
                            }
                            return result;
                        },
                        'oneTimePasswords': function () {
                            return this._oneTimePasswords;
                        },
                        'oneTimePasswordWithReference': function (aOneTimePasswordReference) {
                            return this.oneTimePasswords()[aOneTimePasswordReference];
                        },
                        'deleteOneTimePasswordWithReference': function (aOneTimePasswordReference) {
                            delete(this.oneTimePasswords()[aOneTimePasswordReference]);
                            Clipperz.NotificationCenter.notify(this.user(), 'updatedSection', 'oneTimePasswords', true);
                        },
                        'encryptedData': function () {
                            var deferredResult;
                            var oneTimePasswordReferences;
                            var result;
                            var i, c;
                            result = {};
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Async.succeed);
                            oneTimePasswordReferences = MochiKit.Base.keys(this.oneTimePasswords());
                            c = oneTimePasswordReferences.length;
                            for (i = 0; i < c; i++) {
                                var currentOneTimePassword;
                                currentOneTimePassword = this.oneTimePasswords()[oneTimePasswordReferences[i]];
                                deferredResult.addCallback(MochiKit.Base.method(currentOneTimePassword, 'encryptedPackedPassphrase'));
                                deferredResult.addCallback(function (aResult, aOneTimePasswordReference, anEncryptedPackedPassphrase) {
                                    aResult[aOneTimePasswordReference] = anEncryptedPackedPassphrase;
                                    return aResult;
                                }, result, oneTimePasswordReferences[i]);
                            }
                            deferredResult.callback(result);
                            return deferredResult;
                        },
                        'saveChanges': function () {
                            var deferredResult;
                            var result;
                            result = {};
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'saveOTP_encryptUserData');
                            deferredResult.addCallback(MochiKit.Base.method(this.user(), 'encryptedData'));
                            deferredResult.addCallback(function (aResult, res) {
                                aResult['user'] = res;
                                return aResult;
                            }, result);
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'saveOTP_encryptOTPData');
                            deferredResult.addCallback(MochiKit.Base.bind(function (res) {
                                res['oneTimePasswords'] = MochiKit.Base.keys(this.oneTimePasswords());
                                return res;
                            }, this));
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'saveOTP_sendingData');
                            deferredResult.addCallback(MochiKit.Base.method(this.user().connection(), 'message'), 'updateOneTimePasswords');
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'saveOTP_updatingInterface');
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'notify', 'OTPUpdated');
                            deferredResult.callback();
                            return deferredResult;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    if (typeof (Clipperz.PM.DataModel) == 'undefined') {
                        Clipperz.PM.DataModel = {};
                    }
                    Clipperz.PM.DataModel.OneTimePassword = function (args) {
                        args = args || {};
                        this._user = args['user'];
                        this._password = args['password'];
                        this._passwordValue = Clipperz.PM.DataModel.OneTimePassword.normalizedOneTimePassword(args['password']);
                        this._reference = args['reference'] || Clipperz.PM.Crypto.randomKey();
                        this._creationDate = args['created'] ? Clipperz.PM.Date.parseDateWithUTCFormat(args['created']) : new Date();
                        this._usageDate = args['used'] ? Clipperz.PM.Date.parseDateWithUTCFormat(args['used']) : null;
                        this._status = args['status'] || 'ACTIVE';
                        this._connectionInfo = null;
                        this._key = null;
                        this._keyChecksum = null;
                        return this;
                    }
                    Clipperz.PM.DataModel.OneTimePassword.prototype = MochiKit.Base.update(null, {
                        'toString': function () {
                            return "Clipperz.PM.DataModel.OneTimePassword";
                        },
                        'user': function () {
                            return this._user;
                        },
                        'password': function () {
                            return this._password;
                        },
                        'passwordValue': function () {
                            return this._passwordValue;
                        },
                        'creationDate': function () {
                            return this._creationDate;
                        },
                        'reference': function () {
                            return this._reference;
                        },
                        'key': function () {
                            if (this._key == null) {
                                this._key = Clipperz.PM.DataModel.OneTimePassword.computeKeyWithUsernameAndPassword(this.user().username(), this.passwordValue());
                            }
                            return this._key;
                        },
                        'keyChecksum': function () {
                            if (this._keyChecksum == null) {
                                this._keyChecksum = Clipperz.PM.DataModel.OneTimePassword.computeKeyChecksumWithUsernameAndPassword(this.user().username(), this.passwordValue());
                            }
                            return this._keyChecksum;
                        },
                        'status': function () {
                            return this._status;
                        },
                        'setStatus': function (aValue) {
                            this._status = aValue;
                        },
                        'serializedData': function () {
                            var result;
                            result = {
                                'password': this.password(),
                                'created': this.creationDate() ? Clipperz.PM.Date.formatDateWithUTCFormat(this.creationDate()) : null,
                                'used': this.usageDate() ? Clipperz.PM.Date.formatDateWithUTCFormat(this.usageDate()) : null,
                                'status': this.status()
                            };
                            return result;
                        },
                        'packedPassphrase': function () {
                            var result;
                            var packedPassphrase;
                            var encodedPassphrase;
                            var prefixPadding;
                            var suffixPadding;
                            var getRandomBytes;
                            getRandomBytes = MochiKit.Base.method(Clipperz.Crypto.PRNG.defaultRandomGenerator(), 'getRandomBytes');
                            encodedPassphrase = new Clipperz.ByteArray(this.user().passphrase()).toBase64String();
                            prefixPadding = getRandomBytes(getRandomBytes(1).byteAtIndex(0)).toBase64String();
                            suffixPadding = getRandomBytes((500 - prefixPadding.length - encodedPassphrase.length) * 6 / 8).toBase64String();
                            packedPassphrase = {
                                'prefix': prefixPadding,
                                'passphrase': encodedPassphrase,
                                'suffix': suffixPadding
                            };
                            result = packedPassphrase;
                            return result;
                        },
                        'encryptedPackedPassphrase': function () {
                            return Clipperz.PM.Crypto.deferredEncryptWithCurrentVersion(this.passwordValue(), this.packedPassphrase())
                        },
                        'encryptedData': function () {
                            var deferredResult;
                            var result;
                            result = {
                                'reference': this.reference(),
                                'key': this.key(),
                                'keyChecksum': this.keyChecksum(),
                                'data': "",
                                'version': Clipperz.PM.Crypto.encryptingFunctions.currentVersion
                            }
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(this, 'encryptedPackedPassphrase'));
                            deferredResult.addCallback(function (aResult, res) {
                                aResult['data'] = res;
                                return aResult;
                            }, result);
                            deferredResult.callback();
                            return deferredResult;
                        },
                        'saveChanges': function () {
                            var deferredResult;
                            var result;
                            result = {};
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'saveOTP_encryptUserData');
                            deferredResult.addCallback(MochiKit.Base.method(this.user(), 'encryptedData'));
                            deferredResult.addCallback(function (aResult, res) {
                                aResult['user'] = res;
                                return aResult;
                            }, result);
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'saveOTP_encryptOTPData');
                            deferredResult.addCallback(MochiKit.Base.method(this, 'encryptedData'));
                            deferredResult.addCallback(function (aResult, res) {
                                aResult['oneTimePassword'] = res;
                                return aResult;
                            }, result);
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'saveOTP_sendingData');
                            deferredResult.addCallback(MochiKit.Base.method(this.user().connection(), 'message'), 'addNewOneTimePassword');
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'updatedProgressState', 'saveOTP_updatingInterface');
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'notify', 'OTPUpdated');
                            deferredResult.addCallback(Clipperz.NotificationCenter.deferredNotification, this, 'oneTimePassword_saveChanges_done', null);
                            deferredResult.callback();
                            return deferredResult;
                        },
                        'usageDate': function () {
                            return this._usageDate;
                        },
                        'setUsageDate': function (aValue) {
                            this._usageDate = aValue;
                        },
                        'connectionInfo': function () {
                            return this._connectionInfo;
                        },
                        'setConnectionInfo': function (aValue) {
                            this._connectionInfo = aValue;
                        },
                        'isExpired': function () {
                            return (this.usageDate() != null);
                        },
                        'updateStatusWithValues': function (someValues) {
                            var result;
                            result = false;
                            if (someValues['status'] != this.status()) {
                                result = true;
                            }
                            this.setStatus(someValues['status']);
                            this.setUsageDate(Clipperz.PM.Date.parseDateWithUTCFormat(someValues['requestDate']));
                            this.setConnectionInfo(someValues['connection']);
                            return result;
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    Clipperz.PM.DataModel.OneTimePassword.computeKeyWithUsernameAndPassword = function (anUsername, aPassword) {
                        return Clipperz.Crypto.SHA.sha_d256(new Clipperz.ByteArray(aPassword)).toHexString().substring(2);
                    }
                    Clipperz.PM.DataModel.OneTimePassword.computeKeyChecksumWithUsernameAndPassword = function (anUsername, aPassword) {
                        return Clipperz.Crypto.SHA.sha_d256(new Clipperz.ByteArray(anUsername + aPassword)).toHexString().substring(2);
                    }
                    Clipperz.PM.DataModel.OneTimePassword.normalizedOneTimePassword = function (aPassword) {
                        var result;
                        if (aPassword.replace(/[\s\-]/g, '').length == 32) {
                            try {
                                var passwordByteArray;
                                passwordByteArray = new Clipperz.ByteArray();
                                passwordByteArray.appendBase32String(aPassword);
                                result = passwordByteArray.toBase64String();
                            } catch (exception) {
                                result = aPassword;
                            }
                        } else {
                            result = aPassword;
                        }
                        return result;
                    }
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.YUI) == 'undefined') {
                        Clipperz.YUI = {};
                    }
                    Clipperz.YUI.IBLayoutManager = function (container, config) {
                        var regionName;
                        var element;
                        config = config || {};
                        Clipperz.YUI.IBLayoutManager.superclass.constructor.call(this, container);
                        this.hideOnLayout = config.hideOnLayout || false;
                        element = YAHOO.ext.Element.get(container);
                        element.setStyle('position', 'absolute');
                        element.setStyle('overflow', 'hidden');
                        for (regionName in config.regions) {
                            var newRegion;
                            newRegion = new new Clipperz.YUI.IBLayoutRegion(this, regionName, config.regions[regionName]);
                            this.addRegion(regionName, newRegion);
                        }
                        this.layout();
                    };
                    YAHOO.extendX(Clipperz.YUI.IBLayoutManager, YAHOO.ext.LayoutManager, {
                        'toString': function () {
                            return "IBLayoutManager (" + this.el.id + ")";
                        },
                        'add': function (aName, aPanel) {
                            var regionName;
                            regionName = aName.toLowerCase();
                            return this.regions[regionName].add(aPanel);
                        },
                        'addRegion': function (aRegion) {
                            var regionName;
                            regionName = aRegion.name().toLowerCase();
                            if (!this.regions[regionName]) {
                                this.regions[regionName] = aRegion;
                            } else {}
                            return aRegion;
                        },
                        'getRegion': function (target) {
                            return this.regions[target.toLowerCase()];
                        },
                        'layout': function () {
                            var region;
                            for (region in this.regions) {
                                this.regions[region].layout();
                            }
                        },
                        'getSize': function () {
                            return this.el.getSize();
                        },
                        __syntaxFix__: '__syntaxFix__'
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.YUI) == 'undefined') {
                        Clipperz.YUI = {};
                    }
                    Clipperz.YUI.IBLayoutRegion = function (aManager, aName, aConfig) {
                        this._configuration = aConfig;
                        Clipperz.YUI.IBLayoutRegion.superclass.constructor.call(this, aManager, aConfig, aName);
                    };
                    YAHOO.extendX(Clipperz.YUI.IBLayoutRegion, YAHOO.ext.LayoutRegion, {
                        'toString': function () {
                            return "IBLayoutRegion (" + this.name() + ")";
                        },
                        'name': function () {
                            return this.position;
                        },
                        'manager': function () {
                            return this.mgr;
                        },
                        'configuration': function () {
                            return this._configuration;
                        },
                        'getAttributeValue': function (anAttribute) {
                            var result;
                            switch (anAttribute) {
                            case "top":
                                result = this.element().getTop();
                                break;
                            case "left":
                                result = this.element().getLeft();
                                break;
                            case "bottom":
                                result = this.element().getBottom();
                                break;
                            case "right":
                                result = this.element().getRight();
                                break;
                            case "height":
                                result = this.element().getHeight();
                                break;
                            case "width":
                                result = this.element().getWidth();
                                break;
                            }
                            return result;
                        },
                        'normalizeConfigureValue': function (aConfigurationValue) {
                            var result;
                            if (typeof (aConfigurationValue) == 'number') {
                                result = aConfigurationValue;
                            } else if (aConfigurationValue == 'auto') {
                                result = aConfigurationValue;
                            } else {
                                var splitValues;
                                var referenceValue;
                                var deltaValue;
                                var targetRegion;
                                var targetAttribute;
                                splitValues = aConfigurationValue.split('+');
                                referenceValue = Clipperz.Base.trim(splitValues[0]);
                                deltaValue = Clipperz.Base.trim(splitValues[1] || "");
                                splitValues = referenceValue.split('.');
                                targetRegion = splitValues[0];
                                targetAttribute = splitValues[1];
                                targetValue = this.manager().getRegion(targetRegion).getAttributeValue(targetAttribute);
                                result = targetValue + (deltaValue - 0);
                            }
                            return result;
                        },
                        'normalizedConfiguration': function (aConfiguration) {
                            var result;
                            var key;
                            result = {};
                            for (key in aConfiguration) {
                                if ((key == 'top') || (key == 'bottom') || (key == 'left') || (key == 'rigth') || (key == 'width') || (key == 'height')) {
                                    result[key] = this.normalizeConfigureValue(aConfiguration[key]);
                                } else {
                                    result[key] = aConfiguration[key];
                                }
                            }
                            return result;
                        },
                        'element': function () {
                            return this.el;
                        },
                        'updateBox': function (aBox) {
                            Clipperz.YUI.IBLayoutRegion.superclass.updateBox.call(this, aBox);
                        },
                        'layout': function () {
                            var top, left, bottom, right, width, height;
                            var element;
                            var config;
                            var windowSize;
                            var containerSize;
                            config = this.normalizedConfiguration(this.configuration());
                            element = this.element();
                            containerSize = this.manager().getSize(false);
                            windowSize = {
                                width: YAHOO.util.Dom.getViewportWidth(),
                                height: YAHOO.util.Dom.getViewportHeight()
                            };
                            if (typeof (config.top) == 'number') {
                                top = config.top;
                                if (typeof (config.bottom) == 'number') {
                                    height = containerSize.height - top - config.bottom;
                                } else if (typeof (config.height) == 'number') {
                                    height = config.height;
                                } else {}
                            } else {
                                if ((typeof (config.bottom) == 'number') && (typeof (config.height) == 'number')) {
                                    top = containerSize.height - (config.height + config.bottom);
                                    height = config.height;
                                } else if ((config.bottom == 'auto') && (typeof (config.height) == 'number')) {
                                    top = ((containerSize.height - config.height) / 2);
                                    height = config.height;
                                }
                            }
                            if (typeof (config.left) == 'number') {
                                left = config.left;
                                if (typeof (config.right) == 'number') {
                                    width = (containerSize.width - left - config.right);
                                } else if (typeof (config.width) == 'number') {
                                    width = config.width;
                                } else {}
                            } else {
                                if ((typeof (config.right) == 'number') && (typeof (config.width) == 'number')) {
                                    left = containerSize.width - (config.width + config.right);
                                    width = config.width;
                                } else if ((config.right == 'auto') && (typeof (config.width) == 'number')) {
                                    left = ((containerSize.width - config.width) / 2);
                                    width = config.width;
                                }
                            }
                            element.setTop(top);
                            element.setLeft(left);
                            element.setWidth(width);
                            element.setHeight(height);
                            if (this.activePanel != null) {
                                this.activePanel.setSize(width, height);
                            }
                        },
                        __syntaxFix__: '__syntaxFix__'
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.YUI) == 'undefined') {
                        Clipperz.YUI = {};
                    }
                    Clipperz.YUI.Drawer = function (anElement, aRegion) {
                        this._status = 'slideIn';
                        this._element = YAHOO.ext.Element.get(anElement);
                        this._region = aRegion || null;
                        this._collapsedElement = this.element().getChildrenByClassName("drawer-collapsed")[0];
                        this._contentElement = this.element().getChildrenByClassName("drawer-content")[0];
                        this._wholeCollapedElement = this.enhanceCollapsedElement();
                        this._wholeCollapedElement.setWidth(this.region().element().getWidth());
                        this._wholeCollapedElement.setHeight(this.region().element().getHeight());
                        this._contentWrapper = this.enhanceContentElement();
                        this._contentElementActor = new YAHOO.ext.Actor(this.contentWrapper().dom);
                        this.contentElementActor().hide();
                        this._contentWidth = 200;
                    };
                    YAHOO.extendX(Clipperz.YUI.Drawer, YAHOO.ext.util.Observable, {
                        'element': function () {
                            return this._element;
                        },
                        'status': function () {
                            return this._status;
                        },
                        'setStatus': function (aValue) {
                            this._status = aValue;
                        },
                        'collapsedElement': function () {
                            return this._collapsedElement;
                        },
                        'contentElement': function () {
                            return this._contentElement;
                        },
                        'contentElementActor': function () {
                            return this._contentElementActor;
                        },
                        'contentWrapper': function () {
                            return this._contentWrapper;
                        },
                        'contentWidth': function () {
                            return this._contentWidth;
                        },
                        'region': function () {
                            return this._region;
                        },
                        'enhanceCollapsedElement': function () {
                            var wrapper;
                            var link;
                            wrapper = this.collapsedElement().wrap({
                                tag: 'div',
                                cls: 'drawer-collapsedElement-wrapper',
                                children: [{
                                    tag: 'div',
                                    cls: 'drawer-pin-button',
                                    children: [{
                                        tag: 'a',
                                        cls: 'drawer-pin-button',
                                        href: "#",
                                        children: [{
                                            tag: 'img',
                                            src: './images/directLogins/drawer/mm-expand.gif'
                                        }]
                                    }]
                                }]
                            });
                            link = wrapper.getChildrenByClassName('drawer-pin-button', 'a')[0];
                            MochiKit.Signal.connect(link.dom, 'onclick', this, 'pinDrawer');
                            this.collapsedElement().setHeight('100%');
                            this.collapsedElement().setStyle('cursor', 'pointer');
                            MochiKit.Signal.connect(this.collapsedElement().dom, 'onclick', this, 'showDrawer');
                            return wrapper;
                        },
                        'enhanceContentElement': function () {
                            var wrapper;
                            wrapper = this.contentElement().wrap({
                                tag: 'div',
                                cls: 'drawer-content-wrapper',
                                children: [{
                                    tag: 'div',
                                    cls: 'drawer-content-header',
                                    html: 'direct login',
                                    style: 'width:100%;'
                                }]
                            });
                            MochiKit.Signal.connect(wrapper.dom, 'onclick', this, 'hideDrawer');
                            return wrapper;
                        },
                        'pinDrawer': function () {
                            alert("pin drawer");
                        },
                        'showDrawer': function () {
                            if (this.status() == 'slideIn') {
                                var actor;
                                this.setStatus('slidingOut');
                                actor = this.contentElementActor();
                                actor.setHeight(this.region().element().getHeight());
                                actor.startCapture(true);
                                actor.alignTo(this.element(), 'tr');
                                actor.blindShow('left', this.contentWidth(), .35);
                                actor.play(this.onSlideOut.createDelegate(this));
                            }
                        },
                        'onSlideOut': function () {
                            this.setStatus('slideOut');
                            MochiKit.Logging.logDebug(">>> onSlideOut");
                        },
                        'hideDrawer': function () {
                            if (this.status() == 'slideOut') {
                                var actor;
                                this.setStatus('slidingIn');
                                actor = this.contentElementActor();
                                actor.setHeight(this.region().element().getHeight());
                                actor.startCapture(true);
                                actor.alignTo(this.element(), 'tr');
                                actor.blindHide('left', .35);
                                actor.setVisible(false);
                                actor.play(this.onSlideIn.createDelegate(this));
                            }
                        },
                        'onSlideIn': function () {
                            this.setStatus('slideIn');
                            MochiKit.Logging.logDebug(">>> onSlideIn");
                        },
                        'hideContentElement': function () {
                            this.contentWrapper().hide();
                        },
                        __syntaxFix__: '__syntaxFix__'
                    });
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.YUI) == 'undefined') {
                        Clipperz.YUI = {};
                    }
                    Clipperz.YUI.Collapser = function (clickEl, collapseEl, initiallyCollapsed) {
                        this.clickEl = getEl(clickEl);
                        this.collapseEl = getEl(collapseEl);
                        this.clickEl.addClass('collapser-expanded');
                        if (initiallyCollapsed == true) {
                            this.afterCollapse();
                        }
                        this.clickEl.mon('click', function () {
                            this.collapsed === true ? this.expand() : this.collapse();
                        }, this, true);
                    };
                    Clipperz.YUI.Collapser.prototype = {
                        'collapse': function () {
                            this.collapseEl.clip();
                            this.collapseEl.setHeight(1, true, .35, this.afterCollapse.createDelegate(this), YAHOO.util.Easing.easeOut);
                            this.clickEl.replaceClass('collapser-expanded', 'collapser-collapsed');
                        },
                        'afterCollapse': function () {
                            this.collapsed = true;
                            this.collapseEl.setDisplayed(false);
                            this.clickEl.replaceClass('collapser-expanded', 'collapser-collapsed');
                        },
                        'expand': function () {
                            this.collapseEl.setDisplayed(true);
                            this.collapseEl.autoHeight(true, .35, this.afterExpand.createDelegate(this), YAHOO.util.Easing.easeOut);
                            this.clickEl.replaceClass('collapser-collapsed', 'collapser-expanded');
                        },
                        'afterExpand': function () {
                            this.collapsed = false;
                            this.collapseEl.unclip();
                            this.collapseEl.setStyle('height', '');
                            this.clickEl.replaceClass('collapser-collapsed', 'collapser-expanded');
                        },
                        __syntaxFix__: '__syntaxFix__'
                    };
                    Clipperz.YUI.MessageBox = function () {
                        var dlg, opt, mask;
                        var bodyEl, msgEl, textboxEl, textareaEl, progressEl, pp;
                        var buttons, activeTextEl, bwidth;
                        var handleButton = function (button) {
                            if (typeof opt.fn == 'function') {
                                if (opt.fn.call(opt.scope || window, button, activeTextEl.dom.value) !== false) {
                                    dlg.hide();
                                }
                            } else {
                                dlg.hide();
                            }
                        };
                        return {
                            updateButtons: function (b) {
                                var width = 0;
                                if (!b) {
                                    buttons['ok'].hide();
                                    buttons['cancel'].hide();
                                    buttons['yes'].hide();
                                    buttons['no'].hide();
                                    return width;
                                }
                                for (var k in buttons) {
                                    if (typeof buttons[k] != 'function') {
                                        if (b[k]) {
                                            buttons[k].show();
                                            buttons[k].setText(typeof b[k] == 'string' ? b[k] : YAHOO.ext.MessageBox.buttonText[k]);
                                            width += buttons[k].el.getWidth() + 15;
                                        } else {
                                            buttons[k].hide();
                                        }
                                    }
                                }
                                return width;
                            },
                            getDialog: function () {
                                if (!dlg) {
                                    dlg = new YAHOO.ext.BasicDialog('mb-dlg', {
                                        autoCreate: true,
                                        shadow: true,
                                        draggable: true,
                                        resizable: false,
                                        constraintoviewport: true,
                                        fixedcenter: true,
                                        shim: true,
                                        modal: true,
                                        width: 400,
                                        height: 100,
                                        buttonAlign: 'center',
                                        closeClick: function () {
                                            if (opt && opt.buttons && opt.buttons.no && !opt.buttons.cancel) {
                                                handleButton('no');
                                            } else {
                                                handleButton('cancel');
                                            }
                                        }
                                    });
                                    dlg.closeClick = function () {
                                        alert('wtf');
                                    };
                                    mask = dlg.mask;
                                    dlg.addKeyListener(27, dlg.hide, dlg);
                                    buttons = {};
                                    buttons['ok'] = dlg.addButton(this.buttonText['ok'], handleButton.createCallback('ok'));
                                    buttons['yes'] = dlg.addButton(this.buttonText['yes'], handleButton.createCallback('yes'));
                                    buttons['no'] = dlg.addButton(this.buttonText['no'], handleButton.createCallback('no'));
                                    buttons['cancel'] = dlg.addButton(this.buttonText['cancel'], handleButton.createCallback('cancel'));
                                    bodyEl = dlg.body.createChild({
                                        tag: 'div',
                                        html: '<span class="ext-mb-text"></span><br /><input type="text" class="ext-mb-input"><textarea class="ext-mb-textarea"></textarea><div class="ext-mb-progress-wrap"><div class="ext-mb-progress"><div class="ext-mb-progress-bar">&#160;</div></div></div>'
                                    });
                                    msgEl = bodyEl.dom.firstChild;
                                    textboxEl = getEl(bodyEl.dom.childNodes[2]);
                                    textboxEl.enableDisplayMode();
                                    textboxEl.addKeyListener([10, 13], function () {
                                        if (dlg.isVisible() && opt && opt.buttons) {
                                            if (opt.buttons.ok) {
                                                handleButton('ok');
                                            } else if (opt.buttons.yes) {
                                                handleButton('yes');
                                            }
                                        }
                                    });
                                    textareaEl = getEl(bodyEl.dom.childNodes[3]);
                                    textareaEl.enableDisplayMode();
                                    progressEl = getEl(bodyEl.dom.childNodes[4]);
                                    progressEl.enableDisplayMode();
                                    pp = getEl(progressEl.dom.firstChild.firstChild);
                                }
                                return dlg;
                            },
                            updateText: function (text) {
                                if (!dlg.isVisible() && !opt.width) {
                                    dlg.resizeTo(this.maxWidth, 100);
                                }
                                msgEl.innerHTML = text;
                                var w = Math.max(Math.min(opt.width || msgEl.offsetWidth, this.maxWidth), Math.max(opt.minWidth || this.minWidth, bwidth));
                                if (opt.prompt) {
                                    activeTextEl.setWidth(w);
                                }
                                dlg.setContentSize(w, bodyEl.getHeight());
                            },
                            updateProgress: function (value, text) {
                                if (text) {
                                    this.updateText(text);
                                }
                                pp.setWidth(value * progressEl.dom.firstChild.offsetWidth);
                            },
                            isVisible: function () {
                                return dlg && dlg.isVisible();
                            },
                            hide: function () {
                                if (this.isVisible()) {
                                    dlg.hide();
                                }
                            },
                            show: function (options) {
                                var d = this.getDialog();
                                opt = options;
                                d.setTitle(opt.title || '&#160;');
                                d.close.setDisplayed(opt.closable !== false);
                                activeTextEl = textboxEl;
                                opt.prompt = opt.prompt || (opt.multiline ? true : false)
                                if (opt.prompt) {
                                    if (opt.multiline) {
                                        textboxEl.hide();
                                        textareaEl.show();
                                        textareaEl.setHeight(typeof opt.multiline == 'number' ? opt.multiline : this.defaultTextHeight);
                                        activeTextEl = textareaEl;
                                    } else {
                                        textboxEl.show();
                                        textareaEl.hide();
                                    }
                                } else {
                                    textboxEl.hide();
                                    textareaEl.hide();
                                }
                                progressEl.setDisplayed(opt.progress === true);
                                this.updateProgress(0);
                                activeTextEl.dom.value = opt.value || '';
                                if (opt.prompt) {
                                    dlg.setDefaultButton(activeTextEl);
                                } else {
                                    var bs = opt.buttons;
                                    var db = null;
                                    if (bs && bs.ok) {
                                        db = buttons['ok'];
                                    } else if (bs && bs.yes) {
                                        db = buttons['yes'];
                                    }
                                    dlg.setDefaultButton(db);
                                }
                                bwidth = this.updateButtons(opt.buttons);
                                this.updateText(opt.msg);
                                d.modal = opt.modal !== false;
                                d.mask = opt.modal !== false ? mask : false;
                                d.animateTarget = null;
                                d.show(options.animEl);
                            },
                            progress: function (title, msg) {
                                this.show({
                                    title: title,
                                    msg: msg,
                                    buttons: false,
                                    progress: true,
                                    closable: false
                                });
                            },
                            progressElement: function () {
                                return progressEl;
                            },
                            opt: function () {
                                return opt;
                            },
                            alert: function (title, msg, fn, scope) {
                                this.show({
                                    title: title,
                                    msg: msg,
                                    buttons: this.OK,
                                    fn: fn,
                                    scope: scope
                                });
                            },
                            confirm: function (title, msg, fn, scope) {
                                this.show({
                                    title: title,
                                    msg: msg,
                                    buttons: this.YESNO,
                                    fn: fn,
                                    scope: scope
                                });
                            },
                            prompt: function (title, msg, fn, scope, multiline) {
                                this.show({
                                    title: title,
                                    msg: msg,
                                    buttons: this.OKCANCEL,
                                    fn: fn,
                                    minWidth: 250,
                                    scope: scope,
                                    prompt: true,
                                    multiline: multiline
                                });
                            },
                            OK: {
                                ok: true
                            },
                            YESNO: {
                                yes: true,
                                no: true
                            },
                            OKCANCEL: {
                                ok: true,
                                cancel: true
                            },
                            YESNOCANCEL: {
                                yes: true,
                                no: true,
                                cancel: true
                            },
                            defaultTextHeight: 75,
                            maxWidth: 500,
                            minWidth: 100,
                            buttonText: {
                                ok: 'OK',
                                cancel: 'Cancel',
                                yes: 'Yes',
                                no: 'No'
                            }
                        };
                    }();
                    if (typeof (Clipperz) == 'undefined') {
                        Clipperz = {};
                    }
                    if (typeof (Clipperz.ext) == 'undefined') {
                        Clipperz.ext = {};
                    }
                    Clipperz.YUI.DomHelper = new function () {
                        var d = document;
                        var tempTableEl = null;
                        this.useDom = false;
                        var emptyTags = /^(?:base|basefont|br|frame|hr|img|input|isindex|link|meta|nextid|range|spacer|wbr|audioscope|area|param|keygen|col|limittext|spot|tab|over|right|left|choose|atop|of)$/i;
                        this.applyStyles = function (el, styles) {
                            if (styles) {
                                var D = YAHOO.util.Dom;
                                if (typeof styles == "string") {
                                    var re = /\s?([a-z\-]*)\:([^;]*);?/gi;
                                    var matches;
                                    while ((matches = re.exec(styles)) != null) {
                                        D.setStyle(el, matches[1], matches[2]);
                                    }
                                } else if (typeof styles == "object") {
                                    for (var style in styles) {
                                        D.setStyle(el, style, styles[style]);
                                    }
                                } else if (typeof styles == "function") {
                                    Clipperz.YUI.DomHelper.applyStyles(el, styles.call());
                                }
                            }
                        };
                        var createHtml = function (o) {
                            var b = '';
                            if (typeof (o['html']) != 'undefined') {
                                o['html'] = Clipperz.Base.sanitizeString(o['html']);
                            } else if (typeof (o['htmlString']) != 'undefined') {
                                o['html'] = o['htmlString'];
                                delete o.htmlString;
                            }
                            b += '<' + o.tag;
                            for (var attr in o) {
                                if (attr == 'tag' || attr == 'children' || attr == 'html' || typeof o[attr] == 'function') continue;
                                if (attr == 'style') {
                                    var s = o['style'];
                                    if (typeof s == 'function') {
                                        s = s.call();
                                    }
                                    if (typeof s == 'string') {
                                        b += ' style="' + s + '"';
                                    } else if (typeof s == 'object') {
                                        b += ' style="';
                                        for (var key in s) {
                                            if (typeof s[key] != 'function') {
                                                b += key + ':' + s[key] + ';';
                                            }
                                        }
                                        b += '"';
                                    }
                                } else {
                                    if (attr == 'cls') {
                                        b += ' class="' + o['cls'] + '"';
                                    } else if (attr == 'htmlFor') {
                                        b += ' for="' + o['htmlFor'] + '"';
                                    } else {
                                        b += ' ' + attr + '="' + o[attr] + '"';
                                    }
                                }
                            }
                            if (emptyTags.test(o.tag)) {
                                b += ' />';
                            } else {
                                b += '>';
                                if (o.children) {
                                    for (var i = 0, len = o.children.length; i < len; i++) {
                                        b += createHtml(o.children[i], b);
                                    }
                                }
                                if (o.html) {
                                    b += o.html;
                                }
                                b += '</' + o.tag + '>';
                            }
                            return b;
                        }
                        var createDom = function (o, parentNode) {
                            var el = d.createElement(o.tag);
                            var useSet = el.setAttribute ? true : false;
                            for (var attr in o) {
                                if (attr == 'tag' || attr == 'children' || attr == 'html' || attr == 'style' || typeof o[attr] == 'function') continue;
                                if (attr == 'cls') {
                                    el.className = o['cls'];
                                } else {
                                    if (useSet) el.setAttribute(attr, o[attr]);
                                    else el[attr] = o[attr];
                                }
                            }
                            Clipperz.YUI.DomHelper.applyStyles(el, o.style);
                            if (o.children) {
                                for (var i = 0, len = o.children.length; i < len; i++) {
                                    createDom(o.children[i], el);
                                }
                            }
                            if (o.html) {
                                el.innerHTML = o.html;
                            }
                            if (parentNode) {
                                parentNode.appendChild(el);
                            }
                            return el;
                        };
                        var insertIntoTable = function (tag, where, el, html) {
                            if (!tempTableEl) {
                                tempTableEl = document.createElement('div');
                            }
                            var node;
                            if (tag == 'table' || tag == 'tbody') {
                                tempTableEl.innerHTML = '<table><tbody>' + html + '</tbody></table>';
                                node = tempTableEl.firstChild.firstChild.firstChild;
                            } else {
                                tempTableEl.innerHTML = '<table><tbody><tr>' + html + '</tr></tbody></table>';
                                node = tempTableEl.firstChild.firstChild.firstChild.firstChild;
                            }
                            if (where == 'beforebegin') {
                                el.parentNode.insertBefore(node, el);
                                return node;
                            } else if (where == 'afterbegin') {
                                el.insertBefore(node, el.firstChild);
                                return node;
                            } else if (where == 'beforeend') {
                                el.appendChild(node);
                                return node;
                            } else if (where == 'afterend') {
                                el.parentNode.insertBefore(node, el.nextSibling);
                                return node;
                            }
                        }
                        this.insertHtml = function (where, el, html) {
                            where = where.toLowerCase();
                            if (el.insertAdjacentHTML) {
                                var tag = el.tagName.toLowerCase();
                                if (tag == 'table' || tag == 'tbody' || tag == 'tr') {
                                    return insertIntoTable(tag, where, el, html);
                                }
                                switch (where) {
                                case 'beforebegin':
                                    el.insertAdjacentHTML(where, html);
                                    return el.previousSibling;
                                case 'afterbegin':
                                    el.insertAdjacentHTML(where, html);
                                    return el.firstChild;
                                case 'beforeend':
                                    el.insertAdjacentHTML(where, html);
                                    return el.lastChild;
                                case 'afterend':
                                    el.insertAdjacentHTML(where, html);
                                    return el.nextSibling;
                                }
                                throw 'Illegal insertion point -> "' + where + '"';
                            }
                            var range = el.ownerDocument.createRange();
                            var frag;
                            switch (where) {
                            case 'beforebegin':
                                range.setStartBefore(el);
                                frag = range.createContextualFragment(html);
                                el.parentNode.insertBefore(frag, el);
                                return el.previousSibling;
                            case 'afterbegin':
                                if (el.firstChild) {
                                    range.setStartBefore(el.firstChild);
                                } else {
                                    range.selectNodeContents(el);
                                    range.collapse(true);
                                }
                                frag = range.createContextualFragment(html);
                                el.insertBefore(frag, el.firstChild);
                                return el.firstChild;
                            case 'beforeend':
                                if (el.lastChild) {
                                    range.setStartAfter(el.lastChild);
                                } else {
                                    range.selectNodeContents(el);
                                    range.collapse(false);
                                }
                                frag = range.createContextualFragment(html);
                                el.appendChild(frag);
                                return el.lastChild;
                            case 'afterend':
                                range.setStartAfter(el);
                                frag = range.createContextualFragment(html);
                                el.parentNode.insertBefore(frag, el.nextSibling);
                                return el.nextSibling;
                            }
                            throw 'Illegal insertion point -> "' + where + '"';
                        };
                        this.insertBefore = function (el, o, returnElement) {
                            el = el.dom ? el.dom : YAHOO.util.Dom.get(el);
                            var newNode;
                            if (this.useDom) {
                                newNode = createDom(o, null);
                                el.parentNode.insertBefore(newNode, el);
                            } else {
                                var html = createHtml(o);
                                newNode = this.insertHtml('beforeBegin', el, html);
                            }
                            return returnElement ? YAHOO.ext.Element.get(newNode, true) : newNode;
                        };
                        this.insertAfter = function (el, o, returnElement) {
                            el = el.dom ? el.dom : YAHOO.util.Dom.get(el);
                            var newNode;
                            if (this.useDom) {
                                newNode = createDom(o, null);
                                el.parentNode.insertBefore(newNode, el.nextSibling);
                            } else {
                                var html = createHtml(o);
                                newNode = this.insertHtml('afterEnd', el, html);
                            }
                            return returnElement ? YAHOO.ext.Element.get(newNode, true) : newNode;
                        };
                        this.append = function (el, o, returnElement) {
                            el = el.dom ? el.dom : YAHOO.util.Dom.get(el);
                            var newNode;
                            if (this.useDom) {
                                newNode = createDom(o, null);
                                el.appendChild(newNode);
                            } else {
                                var html = createHtml(o);
                                newNode = this.insertHtml('beforeEnd', el, html);
                            }
                            return returnElement ? YAHOO.ext.Element.get(newNode, true) : newNode;
                        };
                        this.overwrite = function (el, o, returnElement) {
                            el = el.dom ? el.dom : YAHOO.util.Dom.get(el);
                            el.innerHTML = createHtml(o);
                            return returnElement ? YAHOO.ext.Element.get(el.firstChild, true) : el.firstChild;
                        };
                        this.createTemplate = function (o) {
                            var html = createHtml(o);
                            return new Clipperz.YUI.DomHelper.Template(html);
                        };
                    }();
                    Clipperz.YUI.DomHelper.Template = function (html) {
                        if (html instanceof Array) {
                            html = html.join('');
                        } else if (arguments.length > 1) {
                            html = Array.prototype.join.call(arguments, '');
                        }
                        this.html = html;
                    };
                    Clipperz.YUI.DomHelper.Template.prototype = {
                        applyTemplate: function (values) {
                            if (this.compiled) {
                                return this.compiled(values);
                            }
                            var empty = '';
                            var fn = function (match, index) {
                                if (typeof values[index] != 'undefined') {
                                    return values[index];
                                } else {
                                    return empty;
                                }
                            }
                            return this.html.replace(this.re, fn);
                        },
                        re: /\{([\w|-]+)\}/g,
                        compile: function () {
                            var body = ["this.compiled = function(values){ return ['"];
                            body.push(this.html.replace(this.re, "', values['$1'], '"));
                            body.push("'].join('');};");
                            eval(body.join(''));
                            return this;
                        },
                        insertBefore: function (el, values, returnElement) {
                            el = el.dom ? el.dom : YAHOO.util.Dom.get(el);
                            var newNode = Clipperz.YUI.DomHelper.insertHtml('beforeBegin', el, this.applyTemplate(values));
                            return returnElement ? YAHOO.ext.Element.get(newNode, true) : newNode;
                        },
                        insertAfter: function (el, values, returnElement) {
                            el = el.dom ? el.dom : YAHOO.util.Dom.get(el);
                            var newNode = Clipperz.YUI.DomHelper.insertHtml('afterEnd', el, this.applyTemplate(values));
                            return returnElement ? YAHOO.ext.Element.get(newNode, true) : newNode;
                        },
                        append: function (el, values, returnElement) {
                            var sanitizedValues;
                            var key;
                            sanitizedValues = {};
                            for (key in values) {
                                sanitizedValues[key] = Clipperz.Base.sanitizeString(values[key]);
                            }
                            el = el.dom ? el.dom : YAHOO.util.Dom.get(el);
                            var newNode = Clipperz.YUI.DomHelper.insertHtml('beforeEnd', el, this.applyTemplate(sanitizedValues));
                            return returnElement ? YAHOO.ext.Element.get(newNode, true) : newNode;
                        },
                        overwrite: function (el, values, returnElement) {
                            el = el.dom ? el.dom : YAHOO.util.Dom.get(el);
                            el.innerHTML = '';
                            var newNode = Clipperz.YUI.DomHelper.insertHtml('beforeEnd', el, this.applyTemplate(values));
                            return returnElement ? YAHOO.ext.Element.get(newNode, true) : newNode;
                        }
                    };
                    Clipperz.YUI.DomHelper.Template.prototype.apply = Clipperz.YUI.DomHelper.Template.prototype.applyTemplate;
                    YAHOO.ext.Template = Clipperz.YUI.DomHelper.Template;
                    if (typeof (Clipperz.PM) == 'undefined') {
                        Clipperz.PM = {};
                    }
                    Clipperz.PM.VERSION = "0.1";
                    Clipperz.PM.NAME = "Clipperz.PM";
                    Clipperz.PM.Main = function () {
                        this._loginPanel = null;
                        this._user = null;
                        this._isRunningCompact = false;
                        Clipperz.NotificationCenter.register(null, 'userConnected', this, 'userConnectedCallback');
                        Clipperz.NotificationCenter.register(null, 'switchLanguage', this, 'switchLanguageHandler');
                        Clipperz.NotificationCenter.register(null, 'EXCEPTION', this, 'reportException');
                        return this;
                    }
                    MochiKit.Base.update(Clipperz.PM.Main.prototype, {
                        'toString': function () {
                            return "Clipperz.PM.Main";
                        },
                        'switchLanguageHandler': function () {
                            YAHOO.ext.Element.get('donateHeaderIconLink').dom.href = Clipperz.PM.Strings['donateHeaderLinkUrl'];
                            YAHOO.ext.Element.get('donateHeaderLink').update(Clipperz.PM.Strings['donateHeaderLinkLabel']).dom.href = Clipperz.PM.Strings['donateHeaderLinkUrl'];
                            YAHOO.ext.Element.get('creditsHeaderLink').update(Clipperz.PM.Strings['creditsHeaderLinkLabel']).dom.href = Clipperz.PM.Strings['creditsHeaderLinkUrl'];
                            YAHOO.ext.Element.get('feedbackHeaderLink').update(Clipperz.PM.Strings['feedbackHeaderLinkLabel']).dom.href = Clipperz.PM.Strings['feedbackHeaderLinkUrl'];
                            YAHOO.ext.Element.get('helpHeaderLink').update(Clipperz.PM.Strings['helpHeaderLinkLabel']).dom.href = Clipperz.PM.Strings['helpHeaderLinkUrl'];
                            YAHOO.ext.Element.get('forumHeaderLink').update(Clipperz.PM.Strings['forumHeaderLinkLabel']).dom.href = Clipperz.PM.Strings['forumHeaderLinkUrl'];
                            if (YAHOO.ext.Element.get('logout') != null) {
                                YAHOO.ext.Element.get('logout').update(Clipperz.PM.Strings['logoutMenuLabel']);
                                YAHOO.ext.Element.get('lock').update(Clipperz.PM.Strings['lockMenuLabel']);
                                YAHOO.ext.Element.get('recordsTabAnchor').update(Clipperz.PM.Strings['recordMenuLabel']);
                                YAHOO.ext.Element.get('accountTabAnchor').update(Clipperz.PM.Strings['accountMenuLabel']);
                                YAHOO.ext.Element.get('dataTabAnchor').update(Clipperz.PM.Strings['dataMenuLabel']);
                                YAHOO.ext.Element.get('toolsTabAnchor').update(Clipperz.PM.Strings['toolsMenuLabel']);
                            }
                        },
                        'fixToDrawTheMainTabsCorrectlyOnSafari': function () {
                            this.switchLanguageHandler();
                        },
                        'run': function (shouldShowRegistrationForm) {
                            var mainElement;
                            Clipperz.NotificationCenter.register(null, 'updatedProgressState', this, 'updateProgressDialogStatus');
                            YAHOO.ext.Element.get('recordDetailEditModeHeaderMask').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide().unmask();
                            YAHOO.ext.Element.get('recordDetailEditModeVerticalMask').setVisibilityMode(YAHOO.ext.Element.DISPLAY).hide().unmask();
                            mainElement = YAHOO.ext.Element.get('main');
                            if (Clipperz.PM.Proxy.defaultProxy.isReadOnly()) {
                                YAHOO.ext.Element.get('applicationVersionType').dom.className = "readOnly";
                            }
                            mainElement.update("");
                            Clipperz.YUI.DomHelper.append(mainElement.dom, {
                                tag: 'ul',
                                cls: 'clipperzTabPanels',
                                children: [{
                                    tag: 'li',
                                    id: 'loginPanel'
                                }]
                            })
                            this.setLoginPanel(new Clipperz.PM.Components.Panels.LoginPanel(YAHOO.ext.Element.get('loginPanel')));
                            if (shouldShowRegistrationForm == true) {
                                this.loginPanel().showRegistrationForm(false);
                            } else {
                                this.loginPanel().showLoginForm(false);
                            }
                            this.switchLanguageHandler();
                        },
                        'runCompact': function () {
                            this.setIsRunningCompact(true);
                            YAHOO.ext.Element.get(document.body).addClass("compact");
                            new Clipperz.PM.Components.Compact.LoginForm(YAHOO.ext.Element.get('mainDiv'));
                        },
                        'showCompactInterface': function () {
                            new Clipperz.PM.Components.Compact.CompactInterface(YAHOO.ext.Element.get('compactBody'), {
                                user: this.user()
                            });
                        },
                        'mainPage': function () {
                            if (this._mainPage == null) {
                                this._mainPage = new Clipperz.PM.Components.MainPage();
                            }
                            return this._mainPage;
                        },
                        'loginPanel': function () {
                            return this._loginPanel;
                        },
                        'setLoginPanel': function (aValue) {
                            this._loginPanel = aValue;
                        },
                        'showMainPanels': function () {
                            var mainElement;
                            var logoutBlock;
                            var lockBlock;
                            var menusTRElement;
                            this.loginPanel().remove();
                            this.setLoginPanel(null);
                            logoutBlock = YAHOO.ext.Element.get('logoutLI');
                            Clipperz.YUI.DomHelper.append(logoutBlock.dom, {
                                tag: 'a',
                                href: "#",
                                id: 'logout',
                                htmlString: Clipperz.PM.Strings['logoutMenuLabel']
                            });
                            MochiKit.Signal.connect('logout', 'onclick', this, 'doLogoutEventHandler');
                            lockBlock = YAHOO.ext.Element.get('lockLI');
                            Clipperz.YUI.DomHelper.append(lockBlock.dom, {
                                tag: 'a',
                                href: "#",
                                id: 'lock',
                                htmlString: Clipperz.PM.Strings['lockMenuLabel']
                            });
                            MochiKit.Signal.connect('lock', 'onclick', this, 'doLockEventHandler');
                            menusTRElement = YAHOO.ext.Element.get('menusTR');
                            Clipperz.YUI.DomHelper.append(menusTRElement.dom, {
                                tag: 'td',
                                id: 'recordsTab',
                                children: [{
                                    tag: 'div',
                                    children: [{
                                        tag: 'a',
                                        id: 'recordsTabAnchor',
                                        htmlString: Clipperz.PM.Strings['recordMenuLabel']
                                    }]
                                }]
                            });
                            Clipperz.YUI.DomHelper.append(menusTRElement.dom, {
                                tag: 'td',
                                id: 'accountTab',
                                children: [{
                                    tag: 'div',
                                    children: [{
                                        tag: 'a',
                                        id: 'accountTabAnchor',
                                        htmlString: Clipperz.PM.Strings['accountMenuLabel']
                                    }]
                                }]
                            });
                            Clipperz.YUI.DomHelper.append(menusTRElement.dom, {
                                tag: 'td',
                                id: 'dataTab',
                                children: [{
                                    tag: 'div',
                                    children: [{
                                        tag: 'a',
                                        id: 'dataTabAnchor',
                                        htmlString: Clipperz.PM.Strings['dataMenuLabel']
                                    }]
                                }]
                            });
                            Clipperz.YUI.DomHelper.append(menusTRElement.dom, {
                                tag: 'td',
                                id: 'toolsTab',
                                children: [{
                                    tag: 'div',
                                    children: [{
                                        tag: 'a',
                                        id: 'toolsTabAnchor',
                                        htmlString: Clipperz.PM.Strings['toolsMenuLabel']
                                    }]
                                }]
                            });
                            mainElement = YAHOO.ext.Element.get('main');
                            mainElement.update("");
                            Clipperz.YUI.DomHelper.append(mainElement.dom, {
                                tag: 'ul',
                                cls: 'clipperzTabPanels',
                                children: [{
                                    tag: 'li',
                                    id: 'recordsPanel'
                                }, {
                                    tag: 'li',
                                    id: 'accountPanel'
                                }, {
                                    tag: 'li',
                                    id: 'dataPanel'
                                }, {
                                    tag: 'li',
                                    id: 'toolsPanel'
                                }]
                            }, true)
                            new Clipperz.PM.Components.TabPanel.TabPanelController({
                                name: 'mainTabPanel',
                                config: {
                                    'recordsTab': 'recordsPanel',
                                    'accountTab': 'accountPanel',
                                    'dataTab': 'dataPanel',
                                    'toolsTab': 'toolsPanel'
                                },
                                selectedTab: 'recordsTab'
                            }).setUp();
                            new Clipperz.PM.Components.Panels.MainPanel(YAHOO.ext.Element.get('recordsPanel'), {
                                user: this.user()
                            });
                            new Clipperz.PM.Components.Panels.AccountPanel(YAHOO.ext.Element.get('accountPanel'), {
                                user: this.user()
                            });
                            new Clipperz.PM.Components.Panels.DataPanel(YAHOO.ext.Element.get('dataPanel'), {
                                user: this.user()
                            });
                            new Clipperz.PM.Components.Panels.ToolsPanel(YAHOO.ext.Element.get('toolsPanel'), {
                                user: this.user()
                            });
                            this.fixToDrawTheMainTabsCorrectlyOnSafari();
                        },
                        'userConnectedCallback': function (anEvent) {
                            this.setUser(anEvent.source());
                            if (this.isRunningCompact()) {
                                this.showCompactInterface();
                            } else {
                                this.showMainPanels();
                            }
                        },
                        'user': function () {
                            return this._user;
                        },
                        'setUser': function (aValue) {
                            this._user = aValue;
                        },
                        'doLogoutEventHandler': function (anEvent) {
                            var deferred;
                            anEvent.stop();
                            deferred = new MochiKit.Async.Deferred();
                            deferred.addCallback(MochiKit.Base.method(this.user(), 'doLogout'));
                            deferred.addCallback(Clipperz.PM.exit, 'logout.html');
                            deferred.callback();
                        },
                        'doLockEventHandler': function (anEvent) {
                            var deferredResult;
                            var lockDialogElement;
                            var lockDialog;
                            var unlockButton;
                            anEvent.stop();
                            Clipperz.NotificationCenter.notify(this, 'accountLocked', null, true);
                            lockDialogElement = Clipperz.YUI.DomHelper.append(document.body, {
                                tag: 'div',
                                id: 'lockDialog',
                                children: [{
                                    tag: 'div',
                                    cls: 'ydlg-hd',
                                    htmlString: Clipperz.PM.Strings['lockTitle']
                                }, {
                                    tag: 'div',
                                    cls: 'ydlg-bd',
                                    children: [{
                                        tag: 'div',
                                        cls: 'alert-message',
                                        id: 'lockMessage',
                                        children: [{
                                            tag: 'div',
                                            htmlString: Clipperz.PM.Strings['lockDescription']
                                        }, {
                                            tag: 'form',
                                            id: 'lockDialogForm',
                                            children: [{
                                                tag: 'input',
                                                type: 'password',
                                                id: 'lockPassphrase'
                                            }]
                                        }]
                                    }]
                                }, {
                                    tag: 'div',
                                    cls: 'ydlg-ft'
                                }]
                            }, true);
                            new Clipperz.PM.Components.PasswordEntropyDisplay(YAHOO.ext.Element.get('lockPassphrase'));
                            lockDialog = new YAHOO.ext.BasicDialog(lockDialogElement, {
                                closable: false,
                                modal: true,
                                autoTabs: false,
                                resizable: false,
                                fixedcenter: true,
                                constraintoviewport: false,
                                width: 350,
                                height: 130,
                                shadow: true
                            });
                            unlockButton = lockDialog.addButton(Clipperz.PM.Strings['unlockButtonLabel'], MochiKit.Base.method(this, 'exitLock', lockDialog));
                            lockDialog.setDefaultButton(unlockButton);
                            MochiKit.Signal.connect('lockDialogForm', 'onsubmit', MochiKit.Base.method(this, 'exitLock', lockDialog));
                            lockDialog.on('show', function () {
                                YAHOO.ext.Element.get('lockPassphrase').focus();
                            });
                            lockDialog.show('main');
                        },
                        'exitLock': function (aLockDialog, anEvent) {
                            if (typeof (anEvent.stop) != 'undefined') {
                                anEvent.stop();
                            }
                            if (this.user().passphrase() == YAHOO.ext.Element.get('lockPassphrase').dom.value) {
                                aLockDialog.hide(MochiKit.Base.method(aLockDialog, 'destroy', true));
                                Clipperz.NotificationCenter.notify(this, 'accountUnlocked', null, true);
                            } else {
                                YAHOO.ext.Element.get('lockPassphrase').dom.value = "";
                                YAHOO.ext.Element.get('lockPassphrase').focus();
                            }
                            return false;
                        },
                        'updateProgressDialogStatus': function (anEvent) {
                            if (Clipperz.Base.objectType(anEvent.parameters()) == 'string') {
                                Clipperz.PM.Components.MessageBox().update(Clipperz.PM.Strings.messagePanelConfigurations[anEvent.parameters()]());
                            } else {
                                Clipperz.PM.Components.MessageBox().update(anEvent.parameters());
                            }
                        },
                        'defaultErrorHandler': function (anErrorString, anException) {
                            MochiKit.Logging.logDebug(">>> DEFAULT ERROR HANDLER: " + anErrorString + " (exception: " + Clipperz.Base.serializeJSON(anException) + ")");
                        },
                        'isRunningCompact': function () {
                            return this._isRunningCompact;
                        },
                        'setIsRunningCompact': function (aValue) {
                            this._isRunningCompact = aValue;
                        },
                        'reportException': function (anError) {
                            Clipperz.PM.exit('error.html');
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    var main=null;
                    MochiKit.Base.update(Clipperz.PM, {
                        __repr__: function () {
                            return "[" + this.NAME + " " + this.VERSION + "]";
                        },
                        toString: function () {
                            return this.__repr__();
                        },
                        'initPage': function () {
                            //var main;
                            var shouldShowRegistrationForm;
                            var useCompactDesign;
                            Clipperz.PM.Strings.Languages.initSetup();
                            if (window.location.search.indexOf("registration") != -1) {
                                shouldShowRegistrationForm = true;
                            } else {
                                shouldShowRegistrationForm = false;
                            }
                            if (window.location.search.indexOf("compact") != -1) {
                                useCompactDesign = true;
                            } else {
                                useCompactDesign = false;
                            }
                            main = new Clipperz.PM.Main();
                            if (useCompactDesign == true) {
                                main.runCompact();
                            } else {
                                if (Clipperz_IEisBroken === true) {
                                    alert("Clipperz_IEisBroken")
                                    if (Clipperz.PM.Proxy.defaultProxy.isReadOnly()) {
                                        var logoParentNode;
                                        YAHOO.ext.Element.get('donateHeaderIcon').remove();
                                        logoParentNode = YAHOO.ext.Element.get('logo').dom.parentNode;
                                        YAHOO.ext.Element.get('logo').remove();
                                        Clipperz.YUI.DomHelper.append(logoParentNode, {
                                            tag: 'span',
                                            children: [{
                                                tag: 'span',
                                                cls: 'clipperzLogoSpan',
                                                html: 'clipper'
                                            }, {
                                                tag: 'span',
                                                cls: 'clipperzLogoZSpan',
                                                html: 'z'
                                            }]
                                        })
                                    } else {
                                        YAHOO.ext.Element.get('donateHeaderIcon').dom.src = "./images/smiles.gif";
                                        YAHOO.ext.Element.get('logo').dom.src = "./images/logo.gif";
                                    }
                                } else {
                                    YAHOO.ext.Element.get('donateHeaderIcon').dom.src = "data:image/gif;charset=utf-8;base64,R0lGODlhEAAQAPf/ADMzZvrFL/KbGPrER3VXJeaJHvnGXNJ/KAEAAPnKefvJDamopMvLy8GZEfrTpvvgwGhVB0xKSO3BDUk+A/vYqnVgLcmndoRqM/exO3hrS3lmPYRsB39lDum9Dv3aCuebVPnIdP////3cCvewE07BafrQk/rHG1tYR5qZl7eUWZl7CfnGjdeuDPnCPpl4LDEoA5R2OP3XC/jBgfi2EvrXrvrRlWpYHgGtKdiqKPvfvu6nFzTNWfexFv7gCEc4GPrFDvaqFJmDB/euE/vYrJV5SfzUC7uTIuCxDf8AAPrHX519EbONGLubCvvYqzsxA/42AwaIGPzTC9u8CfTALlRUUomJiACWHaaMCsmeJFBFBZ5wUtaRVGlOVrySGLBvPNaBKsSGU9OOUbF7VPOycaRxUaFzWfGtaLZ6L+CaHcZ/Kt6YHVxJXfvXqaGhn0A8Z/i8c7JwM7d4MP6SBrJtM21MUDs4ZT84YmFhYaBnPqtyNM2QW6t2Va18XfvWsPvZsmVOXUQ7X86CJ1ZDWzo2Y6FoOfzSDBMPB/rTqW1OT0I5YEQ9ZnVTS1pEV9iCI7x+Ljw4ZvnJlqNnOfeyUfnMi/CkSfnKhAOmJ/WqU/ewJmVUO6qRB3ljHOGzFvauSfnFWveuI/esFK2JE5iVifrEEA+uJ/K+RayHMYVvTsyiE3NxbnBdQl5KG+cAAPnBIQYFA8GXN82hJbWXa6WDEQgGBFNBGMKeC4iFeZiiGdTZ1aqgd1dTPF9fX4R1BHReOOi9cdmsUn9xBKKFIWVPG5J0FLmzmcLCwtK5B6eQcnx5doZrFPnAH6eFP/fDL1RLBYVsQW5raMXGEFA5E+rLoUQEAG0kA8ONCteZId6wF86tCJ0AAGFQBurKn6mJHks/A2tZQOKfIHFua+29Wum1OOzv7LysCN3i3s/Rz/DDdeOyKCckHxQTEDsuEUIvEI1EBfP29KuIQbqUR9O7CbnCER8ZCSIeGDQJADQXAaCVaKeCGUNAPFRGMpmJS1xIF/rELPXARv///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQFZAD/ACwAAAAAEAAQAAAI+AABCASwhkyYDx+27PkzcGCdMmZWOOjT5xCkMXwUDXwERgaNHA9CPsjhZ4UeNwK1vHEwpAmFlxSaDGEjQwwAQZQq1aihKlaJEhYylagx6RIXPJ1AJEjgSsNSIrOWJpDk5QAGT0mSIKiQFQaCrAYwfCnwqUWpAatMDRjwitYAfy0wFSgwQhksZgHy6mWGpRWPAgdGjEKlxIThw7IajBrRKBIQBQpUaGMiQUItbSogA5nDSMCPIlGudHPiZEKQKEV+CKADgJCQQh5iy44dZQQcgXbSzCjSo7fvGDMCJRo4KA8oBTFEiIihQEgcQA0FIjqjRocONI4WNQwIACH5BAVkAP8ALAEABAANAAkAAAhaAP8J1GehhMASBgUqREAExLkUEFMoFOgDXpJwFzLCUChuwL8BHj8O8OeRRxd0ASbiwBKgn8AjHK5N5AQB1bUjAmt128BCIIssL3gqlALBiUAnGyRMFChiqcKAACH5BAVkAP8ALAEABAANAAoAAAhzAP8JrKEqlkALmQQq/JfAlYYECYjMSrDwXxIEFZIkgYEgicIWAleZEviK1gCBI/7BqhggwD8cS/4tEVWBg5JQoZRwsGEr2D8JuUKYa1OlCopiIYgdEchEVIinUBdcWahJFwoGDNqcCFLxnxRezbIAM6YwIAAh+QQFZAD/ACwCAAMADAAMAAAIeQD//ZN2TOC/bQUN/st06pRAhg4NOuvlS+DEigZ/LbsgUCNHgwSEuRAYcuS/JUam4FCIg5kRfF3anNqUbNiwZJs0oOCmYN8/d+VwmcM17t89Cf+kaCCxo+kOEhmwGYwHxYpVK1DIKYR2o2tXS/IU3rpBqiwpS7cEBgQAIfkEBWQA/wAsAgADAAwADAAACH4A//0b0kTgPwoFDf6roSqWQAuZSihM4EqDQCKzEihMgqCCQBgIkhgsNWCVKYGvaA3w908Zln8BFMbE0moUKiUmcuqU1WDUPwUqtDHp0KEatXYKFPwrUkRTN3v1pmV7UsSgBw8x5CBhxeqJwiI9wsp58kSOQlAKYlyNoWCEwIAAIfkEBWQA/wAsAQAEAA4ACwAACIwACURIhQxcBG8a8j1DlooKAXpUdt3ZFUGdoQgS71BJFw2Bx38IYLxDANIju2/C5hla5+LfP1M+DM3jZ+1fF1gBXOr8FwDHEpdLRFXgoCRUKCUcbNgK5lJCrhDm2lSpgqJYCGJHdDIRFaKr1wVXdv7TpAsFAwZtTgQR61IKr2ZZgBmLwVanCBEuhegMCAA7Cg==";
                                    YAHOO.ext.Element.get('logo').dom.src = "data:image/gif;charset=utf-8;base64,R0lGODlhgwAoAPf/AP////+SAIKCmV1df3l5jYmhef//9vr6+YSQrJSguNfk60xMZjw8bf+PAI2Zsq6ulTU1ZZqasrzE05Gdtf//90pHW6d4KuPj6cLCz6ampzw3Ymt9nXp6Z21tif+MAHV1mPaOBJGRrPLy8dPT21Zhifb2+H19j/z8+MmOG3V/n729zcnJ1jU1aLmKIsnb5M3O2Xe5y3JyjHZqRD1xlElJd7KyuPSSBGFhhPn59kFBcKiovIaGov+KAP7+/sDA0HZ2mKqtwV5fh6y1yMTM2X19nXuCoTg5al1MUdTV4O3u8jU8bTMzZv+OAIt6Nfz8/G5ukldTVF5egv///nFxlJ2eeFFRfPX18cN/HpOTanV1lLOzp3l5m1dXesXF1O7u7MOPHj4+YaWltdXV1WJqj4ODdU1NeZWVZNaSFff39WFmjEtQfP+GAPSGBenq77q6ym1thP//+3l5kX5+kIOiubx8IpyCMf3//8nJ0eHh20JMedHRwVJSeba2yEJyPsaDHVhYffT+/llag4uNqcTE0T4+bvDw7dra4v7///n//6GhuGZojTw8a/r6+/z89OLy9ZWVr8mMG9ra1t/f5zo6ZUNEcjs7bPHx9dzc34iVsE5Od319mZ2dbUZJd2hoh4xsOf398mBhiP39/ZmZkmtrkKOmvK7B0T9Bb77H1evr2c2PGX2Ipn1YQT9RbOrq56bR3Y2NgLrV35mZZ+yOCqmptZiYmN/fx7OzxTY+YFJXgVFchdnZvsLE08jI0ztcTeCLEPuVAv2QAIqSrZietlJUbGpqYYWFWWdlSKKlepajukJvQMbI1kZhiURukj09ZlNUf5mwxOHhxFxchVtehoaOqoqKZv39+HF5mnR6m5OZsj8/bDQ0ZzQzZuzs6vr67MDAyUhIdGpqj+np0IqZstfY4o+btI6dtv2NAPf353ibtGJcTtWJEDJIdrPD0u/9/ufo7ZWiuZWjulVVdeLi6Nvb5N3d4oiIcIyMecLC0XWAoGVlfpCQmGCctXR3mXh4W2lukv///yH5BAEAAP8ALAAAAACDACgAAAj/AP8JHEiwoMGDCBMqXMiwocOHECNKnEixosWLGDNq3Mixo8ePIEOKHEmypMmTKFOqXMmyZcktLwZ1wRBF4I+YM2+43IlRWI8eAKrFEIgNANBqcXgqpfgOgFMDBAROcAqAgpylWCEmoApVIDyqVrOKZbj1adR/RbqoHdRprFuEZQF0fes2yIcfH55QOhh37sMcU378eMLAIaEngp8QYhjt7gdFRh5W+fCBVUcWIVaUoCplnopoBfueLbKiNK8OAkmXngVhzjjOSIQtKnit9Ioa/9Ah4TwuUbaDLAQp20z1RYTIBP3Z9sbClBB3Tgs0gYSiuvXrKCCla6jmBdXvTp1Q/yEoWiAysCakOpXS5hQi8E51LSCIab0lCe/h15pPMI8r+OuNkAlBRVAlAi4ufEcFJGt44OCDEHqwhgwM0aBAD4cASNUrA5X3z1ROUZDePw5oCN8IhQmEwHeHZAigITkMtM4FJgIgRSR7CZQCVSW0YYeLACzYIIRMBGCkkR5QuBAQ35XABxHiwPJdEvEI5CGIVY1Y4nehuLHDIyOAJ8BAK4Knwg4heMfZDgMJ8Z0kiXyQCHRO9RDGQDtqeMgxTXzhp58tnNHAkQFMuBAngFDVyJgCKXHKd8VYydVZWIoo0JZOhaLJQEbA8F0kZH7XA5sCsQADUE7hIdAyB6CqxzdLxP+qhgJUWZFinpxh8MEoHwxzUAvmHOlBKhUoxEk5VMHxQEEzcPaIpGapF6KWVPWwLEFKtFGrTv+UaaMWBWlDo1M4tLXPeiIsEOu6G9hRZz06fgfHnQktYUGwSJ4BxkK5lEJVKFVi+8QUU3xQBbRyUYrepf9yYBApLkpBhorVOlyQMJzZo80QVBWywxZEhLwFOe5+Gy9VYsyWkCfAAGNkA74Uu1AaElDVzb5kTSptlgw7xc0eBinCmRkUO2XFHwYF8V0sRjhSo6hunOzUMQrJMOiRNhzRECg+UIUKzgtduTCJVF2QI0FCU0V0t1S1QYNBoHy3CQu0Pk2VClJLIUpCxoD/cHUAHqziEM1UnQO2QmJP2zMAPxuUxndreysCFwZJI3fTVJ3Aiwo+dO655/pIfQBqB/Viw98NePIQCexkzt9AlAChwuykJs4z2eQOVZC3AFBTNAAnJFWQKt9hoQ0SLuJRSUO4jn7QEWwQ6kEdEKnxDJARFDRGok7t/Y/tluLu1CwF0U0VI7rzjhtBLCQYXlJzKFpTQSCHPH/zpBNUgTrSUw+REYFAFQBEQIyBMIBjVOkHwuZSKWpRBQdZIMgjnEAVaEzidwA4wKYGIghGUCUcF2wWVXiRon9oAwE/AgAczoK/gtzCDx44UgMsAIGCbKMh/qLKJ0LwASIYgjOXSBH4/xz4Lx1QRgXgoUWo5AUEyvCBSxkYCAKdIo8dUGYXJQOAHvBEFecRpA88IFQA/ECHK5jxjHSQWULyIImnweENHdLZh8aGqaeJoYS8q9ElYiQQErTjaZ/IBxed4sWBgFGMf5PhL6DAEGeMI4vgScIWCNKUaH0PLFcRHxruoCF6IG2JAMDBHQT4HXnMbyDMkIeJLDGxgeBjPaHIn0AOKcZaBsAGjGQIJQThjlaFpwQ6+ORAglGCYlqBdNMoZgmsoDtMteIbH7iABwHgBGC+jSDeKkQZniCJaYaiBEAow0Fo8Igk+JKaViBFIApiDWWKoC0ESQYbQEDPetqznrLIZUOMQIEDcExhC9EoIfsYQFAGsKBUBTXo4gpBOSM4IzBBWIxBJDeAfxihCoEBBR8TUokyjKJggWgGcBJ6UIJAQAMoTalKV1pDlmDKC5RrCEXpwpOXxpQhM6WpS2zqkJzqlCVYOppD6kOuU/5UJfwYxOxs8Q2HTOEes+ODOI9K1apa9aoLCQgAOwo=";
                                }
                                main.run(shouldShowRegistrationForm);
                            }
                            Clipperz.PM.defaultErrorHandler = main.defaultErrorHandler;
                            if ((typeof (_clipperz_pm_test_user) != 'undefined') && (typeof (_clipperz_pm_test_passphrase) != 'undefined')) {
                                MochiKit.Async.callLater(0.5, MochiKit.Base.bind(main.loginPanel().doLoginWithUsernameAndPassphrase, main.loginPanel()), _clipperz_pm_test_user, _clipperz_pm_test_passphrase);
                            };
                            if (/fastEntropyAccumulationForTestingPurpose/.test(window.location.search)) {
                                alert("if2")
                                Clipperz.Crypto.PRNG.defaultRandomGenerator().fastEntropyAccumulationForTestingPurpose();
                            }
                        },
                        'showDonationSplashScreen': function (aUser, aFocusElementId) {
                            var deferredResult;
                            var donateElement;
                            var donateDialog;
                            var closeButton;
                            var closeFunction;
                            var donateButton;
                            var donateFunction;
                            deferredResult = new MochiKit.Async.Deferred();
                            donateElement = Clipperz.YUI.DomHelper.append(document.body, {
                                tag: 'div',
                                id: 'donateSplash',
                                children: [{
                                    tag: 'div',
                                    cls: 'ydlg-hd',
                                    htmlString: Clipperz.PM.Strings['donateSplashPanelTitle']
                                }, {
                                    tag: 'div',
                                    cls: 'ydlg-bd',
                                    children: [{
                                        tag: 'div',
                                        cls: 'alert-message',
                                        id: 'donateMessage',
                                        children: [{
                                            tag: 'div',
                                            cls: 'donateSplashPanelIcon',
                                            children: [{
                                                tag: 'img',
                                                src: Clipperz.PM.Strings['donateSplashPanelIconUrl']
                                            }]
                                        }, {
                                            tag: 'div',
                                            cls: 'donateSplashPanelDescription',
                                            htmlString: Clipperz.PM.Strings['donateSplashPanelDescription']
                                        }]
                                    }]
                                }, {
                                    tag: 'div',
                                    cls: 'ydlg-ft'
                                }]
                            }, true);
                            donateDialog = new YAHOO.ext.BasicDialog(donateElement, {
                                closable: false,
                                modal: true,
                                autoTabs: false,
                                resizable: false,
                                fixedcenter: true,
                                constraintoviewport: false,
                                width: 450,
                                height: 220,
                                shadow: true,
                                minWidth: 300,
                                minHeight: 300
                            });
                            closeFunction = MochiKit.Base.partial(deferredResult.callback, false);
                            donateFunction = MochiKit.Base.partial(deferredResult.callback, true);
                            donateButton = donateDialog.addButton(Clipperz.PM.Strings['donateDonateButtonLabel'], donateFunction, deferredResult);
                            donateDialog.addKeyListener(27, closeFunction, deferredResult);
                            closeButton = donateDialog.addButton(Clipperz.PM.Strings['donateCloseButtonLabel'], closeFunction, deferredResult);
                            donateDialog.setDefaultButton(donateButton);
                            donateDialog.show(aFocusElementId);
                            deferredResult.addCallback(MochiKit.Base.bind(function (shouldOpenDonatePage) {
                                var result;
                                if (shouldOpenDonatePage) {
                                    window.open(Clipperz.PM.Strings['donateHeaderLinkUrl'], "donate");
                                    aUser.preferences().setShouldShowDonationPanel(false);
                                    aUser.preferences().saveChanges();
                                }
                            }, this));
                            deferredResult.addBoth(MochiKit.Base.method(donateDialog, 'hide'));
                            deferredResult.addBoth(MochiKit.Base.method(donateElement, 'remove'));
                            return deferredResult;
                        },
                        'exit': function (aPageName) {
                            MochiKit.Async.wait(0).addCallback(function () {
                                window.location.href = "./" + aPageName;
                            });
                        },
                        __syntaxFix__: "syntax fix"
                    });
                    var openDirectLoginChild = function(aDirectLoginReference) {
                            var deferredResult;
                            var newWindow;
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(aDirectLoginReference, 'setupJumpPageWindow'));
                            deferredResult.addCallback(MochiKit.Base.method(aDirectLoginReference, 'deferredDirectLogin'));
                            deferredResult.addCallback(function (aDirectLogin) {
                                aDirectLogin.runDirectLogin(newWindow);
                            });
                            newWindow = window.open(Clipperz.PM.Strings['directLoginJumpPageUrl'], "");
                            deferredResult.callback(newWindow);
                        }
                    var main_user;
                    var onMessage = function(event){

                        var msg = event.data;
                        if(msg.type === 'login'){
                            //Get login cred from other child, create user to access db too
                            var deferredResult;
                            main_user = new Clipperz.PM.DataModel.User({
                                username: msg.username,
                                passphrase: msg.passphrase
                            });
                            deferredResult = new MochiKit.Async.Deferred();
                            deferredResult.addCallback(MochiKit.Base.method(main_user, 'connect'));
                            deferredResult.addCallback(MochiKit.Base.method(main_user, 'loadPreferences'));
                            deferredResult.addCallback(MochiKit.Base.method(main_user, 'loadRecords'));
                            deferredResult.addCallback(MochiKit.Base.method(main_user, 'loadDirectLogins'));
                            deferredResult.addCallback(function(){
                                window.parent.postMessage({'type':'key_update','key':main_user.connection().sharedSecret()},'*')
                            });
                            deferredResult.callback("token");
                        }else if(msg.type === "handleDirectLoginClick") {
                            //Handle direct logins
                            var directLoginReference = main_user.directLoginReferences()[msg.id];
                            openDirectLoginChild(directLoginReference);
                     
                        }


                    };


                    window.addEventListener('message',onMessage);
                    MochiKit.DOM.addLoadEvent(Clipperz.PM.initPage);
                </script>
                <script>
                    Clipperz.PM.Proxy.defaultProxy = new Clipperz.PM.Proxy.JSON({
                        'url': '../index.php',
                        'shouldPayTolls': false
                    });
                    /*offline_data_placeholder*/
                </script>
                <div id="javaScriptAlert">
                    <h1>Attention!</h1>
                    <p>If you can read this message, the chances are that your browser does not
                        properly support JavaScript? or you have disabled this functionality yourself.</p>
                    <h3>Javascript is required to access Clipperz.</h3>
                    <h5>Please enable scripting or upgrade your browser.</h5>
                </div>
            </div>
            <div id="applicationVersionType" class="LIVE" />
    </body>

</html>